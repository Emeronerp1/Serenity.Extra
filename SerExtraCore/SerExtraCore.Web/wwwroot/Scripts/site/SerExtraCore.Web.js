var isPageRefreshRequired;
//const nameof = <T>(name: keyof T) => name;
//const nameofFactory = <T>() => (name: keyof T) => name;
//usage const nameof = nameofFactory<Edoc.RevenueReportModel>();
var q;
(function (q) {
    q.queryString = {};
    q.jsPDFHeaderImageData = null;
    q.jsPDFHeaderTitle = 'Report Title';
    q.useSerenityInlineEditors = true;
    q.DefaultMainGridOptions = {
        AutoColumnSize: true,
        FadeInEffectWhenInit: true,
        ShowAnyInEqualityFilterWithTextValue: true,
        ShowInlineActionsColumn: true,
        ShowDeleteInlineButtun: false,
        ShowEditInlineButtun: true,
        ShowPrintInlineButtun: false,
        ShowRowNumberColumn: true,
        ShowRowSelectionCheckboxColumn: false,
        EnableQuickSearch: true,
        RowsPerPage: 20
    };
    q.DefaultEditorGridOptions = {
        AutoColumnSize: true,
        FadeInEffectWhenInit: true,
        ShowAnyInEqualityFilterWithTextValue: true,
        ShowInlineActionsColumn: true,
        ShowDeleteInlineButtun: true,
        ShowEditInlineButtun: true,
        ShowPrintInlineButtun: false,
        ShowRowSelectionCheckboxColumn: false,
        ShowRowNumberColumn: true,
        EnableQuickSearch: false
    };
    q.DefaultEntityDialogOptions = {
        AutoFitContentArea: true,
        HideCategoyLinksBar: true,
        PendingChangesConfirmation: true,
        ShowSaveAndNewButtonInToolbar: false,
        ShowCloseButtonInToolbar: false,
        ShowRefreshButtonInToolbar: false,
        ShowChangeLogButtonInToolbar: true,
        ShowReplaceRowButtonInToolbar: false
    };
    q.DefaultEditorDialogOptions = {
        AutoFitContentArea: false,
        HideCategoyLinksBar: true,
        PendingChangesConfirmation: true,
        ShowSaveAndNewButtonInToolbar: false,
        ShowCloseButtonInToolbar: false,
        ShowRefreshButtonInToolbar: false,
        ShowChangeLogButtonInToolbar: false,
        ShowReplaceRowButtonInToolbar: false
    };
    //date time
    q.fiscalYearMonths = [6, 7, 8, 9, 10, 11, 0, 1, 2, 3, 4, 5];
})(q || (q = {}));
/// <reference path="../_q/_q.d.ts" />
var _Ext;
(function (_Ext) {
    var GridBase = /** @class */ (function (_super) {
        __extends(GridBase, _super);
        function GridBase(container, options) {
            var _this = _super.call(this, container, options) || this;
            _this.isAutosized = false;
            _this.isChildGrid = false;
            _this.nextRowNumber = 1;
            _this.rowSelection = new Serenity.GridRowSelectionMixin(_this);
            _this.slickContainer.fadeTo(0, 0);
            var grouping = _this.getGrouping();
            if (grouping.length > 0)
                _this.setGrouping(grouping);
            return _this;
        }
        GridBase.prototype.getRowType = function () { return {}; };
        GridBase.prototype.getIdProperty = function () { return this.getRowType().idProperty; };
        GridBase.prototype.getLocalTextPrefix = function () { return this.getRowType().localTextPrefix; };
        GridBase.prototype.getNameProperty = function () { return this.getRowType().nameProperty; };
        GridBase.prototype.getInsertPermission = function () { return this.getRowType().insertPermission; };
        GridBase.prototype.getUpdatePermission = function () { return this.getRowType().updatePermission; };
        GridBase.prototype.getDeletePermission = function () { return this.getRowType().deletePermission; };
        GridBase.prototype.get_ExtGridOptions = function () { return Q.deepClone(q.DefaultMainGridOptions); };
        GridBase.prototype.isPickerMode = function () { return this.element.hasClass('RowSelectionCheckGrid'); };
        GridBase.prototype.getGrouping = function () { return []; };
        GridBase.prototype.markupReady = function () {
            var _this = this;
            _super.prototype.markupReady.call(this);
            setTimeout(function () {
                if (_this.isAutosized == false) {
                    if (_this.get_ExtGridOptions().AutoColumnSize == true) {
                        _this.resizeAllCulumn();
                    }
                    _this.slickContainer.fadeTo(100, 1);
                }
            }, 100);
        };
        GridBase.prototype.getButtons = function () {
            var _this = this;
            var buttons = _super.prototype.getButtons.call(this);
            var reportRequest = this.getReportRequest();
            if (reportRequest.ListExcelServiceMethodName) {
                buttons.push(_Ext.ExcelExportHelper.createToolButton({
                    grid: this,
                    service: this.getService() + '/' + reportRequest.ListExcelServiceMethodName,
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    separator: true
                }));
            }
            if (reportRequest.ReportKey) {
                buttons.push({
                    title: 'Export to PDF',
                    icon: 'fa fa-file-pdf-o',
                    onClick: function () {
                        _Ext.ReportHelper.execute({ reportKey: reportRequest.ReportKey, params: { request: _this.getReportRequest() } });
                    }
                });
                buttons.push({
                    title: 'View as Report',
                    icon: 'fa fa-html5',
                    onClick: function () {
                        var request = _this.getReportRequest();
                        if (request)
                            _Ext.ReportHelper.execute({ reportKey: reportRequest.ReportKey, params: { request: request }, extension: 'html' });
                    }
                });
            }
            else if (reportRequest.ReportServiceMethodName) {
                buttons.push({
                    title: 'View as Report',
                    icon: 'fa fa-eye',
                    onClick: function () {
                        Q.postToService({ service: Q.resolveUrl(_this.getService() + '/' + reportRequest.ReportServiceMethodName), request: _this.getReportRequest(), target: '_blank' });
                    }
                });
            }
            else {
                //buttons.push(PdfExportHelper.createToolButton({
                //    grid: this,
                //    tableOptions: { theme: 'grid' },
                //    onViewSubmit: () => this.onViewSubmit()
                //}));
            }
            return buttons;
        };
        GridBase.prototype.getReportRequest = function () {
            var view = this.getView();
            var request = Q.deepClone(view ? view.params : {}); //as _Ext.ReportRequest;
            request.ReportServiceMethodName = null; // if some value found in this property then "view as report" button will appear
            request.ReportKey = null; // if some value found in this property then "export to pdf" button will appear
            request.ListExcelServiceMethodName = null; // if some value found in this property then "export to xls" button will appear
            request.EqualityFilterWithTextValue = {};
            request.CustomParameters = {};
            if (view) {
                var quickFilters = this.getQuickFilters();
                for (var _i = 0, quickFilters_1 = quickFilters; _i < quickFilters_1.length; _i++) {
                    var quickFilter = quickFilters_1[_i];
                    var filterValue = request.EqualityFilter[quickFilter.field];
                    if (filterValue && filterValue.length > 0) {
                        if (quickFilter.options.lookupKey) {
                            var lookup = Q.getLookup(quickFilter.options.lookupKey);
                            request.EqualityFilterWithTextValue[quickFilter.title] = lookup.itemById[filterValue][lookup.textField];
                        }
                        else if (quickFilter.options.enumKey) {
                            var enumKey = quickFilter.options.enumKey;
                            var enumValue = Q.toId(filterValue);
                            request.EqualityFilterWithTextValue[quickFilter.title] = Serenity.EnumFormatter.format(Serenity.EnumTypeRegistry.get(enumKey), enumValue);
                        }
                        else if (quickFilter.type == _Ext.GridItemPickerEditor) {
                            var customFilter = this.findQuickFilter(_Ext.GridItemPickerEditor, quickFilter.field);
                            request.EqualityFilterWithTextValue[quickFilter.title] = customFilter.text;
                        }
                        else {
                            request.EqualityFilterWithTextValue[quickFilter.title] = filterValue;
                        }
                    }
                    else if (quickFilter.type == Serenity.DateEditor) {
                        var qf = this.findQuickFilter(Serenity.DateEditor, quickFilter.field);
                        var dateFrom = qf.element.val();
                        var dateTo = qf.element.siblings('input').val();
                        var filterText = '';
                        if (!Q.isEmptyOrNull(dateFrom))
                            filterText = Q.format(q.text('Controls.FromDate', 'From {0}'), dateFrom) + ' ';
                        if (!Q.isEmptyOrNull(dateTo))
                            filterText = filterText + Q.format(q.text('Controls.ToDate', 'To {0}'), dateTo);
                        if (!Q.isEmptyOrNull(filterText)) {
                            request.EqualityFilterWithTextValue[quickFilter.title] = filterText;
                        }
                        else if (this.get_ExtGridOptions().ShowAnyInEqualityFilterWithTextValue == true) {
                            request.EqualityFilterWithTextValue[quickFilter.title] = q.text('Controls.All', 'all');
                        }
                    }
                    else if (this.get_ExtGridOptions().ShowAnyInEqualityFilterWithTextValue == true) {
                        request.EqualityFilterWithTextValue[quickFilter.title] = q.text('Controls.All', 'all');
                    }
                }
            }
            return request;
        };
        GridBase.prototype.getColumns = function () {
            var _this = this;
            var columns = _super.prototype.getColumns.call(this);
            var isEditable = this.getSlickOptions().editable;
            var extOptions = this.get_ExtGridOptions();
            if (isEditable == true) {
                usingSlickGridEditors();
            }
            columns.forEach(function (column) {
                if (extOptions.AutoColumnSize == true) {
                    column.width = column.minWidth || column.width || 50;
                    column.cssClass = column.cssClass || '';
                }
                if (column.sourceItem) {
                    var formatterType = column.sourceItem.formatterType;
                    //width and cssClass
                    if (column.sourceItem.filteringType == "Lookup") {
                        column.cssClass += ' align-left';
                        column.width = column.minWidth > 100 ? column.minWidth : 100;
                    }
                    else if (formatterType == "Enum") {
                        column.width = column.minWidth > 100 ? column.minWidth : 100;
                    }
                    else if (formatterType == "Date") {
                        column.cssClass += ' align-center';
                        column.width = column.minWidth > 99 ? column.minWidth : 99;
                    }
                    else if (formatterType == "DateTime") {
                        column.cssClass += ' align-center';
                        column.width = column.minWidth > 140 ? column.minWidth : 140;
                    }
                    else if (formatterType == "Number") {
                        column.cssClass += ' align-right';
                    }
                    else if (formatterType == "Checkbox") {
                        column.cssClass += ' align-center';
                    }
                    else {
                        column.cssClass += ' align-left';
                        column.width = column.minWidth > 99 ? column.minWidth : 99;
                    }
                    //formatter
                    if (column.sourceItem.editorType == "Lookup") {
                        if (!column.sourceItem.editorParams.autoComplete) {
                            column.lookup = Q.getLookup(column.sourceItem.editorParams.lookupKey);
                            column.formatter = function (row, cell, value, columnDef, dataContext) {
                                if (columnDef.sourceItem.editorParams.multiple == true) {
                                    if (value) {
                                        var items = value.map(function (m) { return columnDef.lookup.itemById[m]; });
                                        var texts = items.map(function (m) { return m[columnDef.lookup.textField]; });
                                        return texts.length > 0 ? texts.join(', ') : '-';
                                        ;
                                    }
                                }
                                else {
                                    var item = columnDef.lookup.itemById[value];
                                    if (item)
                                        return item[columnDef.lookup.textField];
                                    else
                                        return '-';
                                }
                            };
                        }
                    }
                    else if (column.sourceItem.editorType == "ServiceLookup") {
                        if (!column.sourceItem.editorParams.autoComplete) {
                            column.textFieldInThisRow = column.sourceItem.editorParams.textFieldInThisRow || column.sourceItem.editorParams.textField;
                            column.formatter = function (row, cell, value, columnDef, dataContext) {
                                if (dataContext)
                                    return dataContext[columnDef.textFieldInThisRow];
                                else
                                    return '-';
                            };
                        }
                    }
                    else if (formatterType == "Enum") {
                        column.formatter = function (row, cell, value, columnDef, dataContext) {
                            var enumKey = columnDef.sourceItem.editorParams.enumKey;
                            var text = Serenity.EnumFormatter.format(Serenity.EnumTypeRegistry.get(enumKey), Q.toId(value));
                            if (text)
                                return text;
                            else
                                return '-';
                        };
                    }
                    else if (column.sourceItem.editorType == "Decimal") {
                        var formatSrt_1 = '#,##0.00';
                        if (column.sourceItem.editorParams) {
                            var decimals = column.sourceItem.editorParams['decimals'];
                            if (decimals) {
                                formatSrt_1 = '#,##0.';
                                for (var i = 0; i < decimals; i++) {
                                    formatSrt_1 += '0';
                                }
                            }
                            else if (column.sourceItem.editorParams['minValue']) {
                                var splitedMinValue = column.sourceItem.editorParams['minValue'].split('.');
                                if (splitedMinValue.length > 1) {
                                    formatSrt_1 = '#,##0.' + splitedMinValue[1];
                                }
                                else {
                                    formatSrt_1 = '#,##0';
                                }
                            }
                        }
                        column.format = function (ctx) { return Serenity.NumberFormatter.format(ctx.value, formatSrt_1); };
                    }
                    //editor
                    if (isEditable == true && column.sourceItem.readOnly != true) {
                        if (q.useSerenityInlineEditors) {
                            column.editor = SerenityInlineEditor;
                        }
                        else {
                            var editorType = column.sourceItem.editorType;
                            if (editorType == "Lookup" || editorType == "Enum") {
                                column.editor = Slick['Editors']['Select2'];
                                column.width = column.minWidth > 160 ? column.minWidth : 160;
                            }
                            else if (editorType == "Date") {
                                column.editor = Slick['Editors']['Date'];
                            }
                            else if (editorType == "Boolean") {
                                column.editor = Slick['Editors']['Checkbox'];
                            }
                            else if (editorType == "Integer") {
                                column.editor = Slick['Editors']['Integer'];
                            }
                            else if (editorType == "Decimal") {
                                column.editor = Slick['Editors']['Float'];
                            }
                            else if (editorType == "YesNoSelect") {
                                column.editor = Slick['Editors']['YesNoSelect'];
                            }
                            else if (editorType == "PercentComplete") {
                                column.editor = Slick['Editors']['PercentComplete'];
                            }
                            else if (editorType == "LongText") {
                                column.editor = Slick['Editors']['LongText'];
                            }
                            else {
                                column.editor = Slick['Editors']['Text'];
                            }
                        }
                    }
                }
            });
            columns.unshift({
                field: 'RowNum',
                name: '#',
                cssClass: 'rownum-column',
                headerCssClass: 'align-center',
                width: 40,
                minWidth: 40,
                maxWidth: 40,
                visible: extOptions.ShowRowNumberColumn,
                format: function (ctx) {
                    if (!ctx.item.RowNum) {
                        ctx.item.RowNum = _this.nextRowNumber++;
                    }
                    return String(ctx.item.RowNum);
                }
            });
            if (extOptions.ShowInlineActionsColumn == true) {
                var inlineActionsColumnWidth = 0;
                var inlineActionsColumnContent_1 = '';
                if (extOptions.ShowEditInlineButtun == true) {
                    inlineActionsColumnWidth += 32;
                    var title = this.isReadOnly ? q.text('Controls.View', 'View Details') : q.text('Controls.Edit', 'Edit');
                    inlineActionsColumnContent_1 += "<a class=\"inline-actions view-details\" title=\"" + title + "\" style=\"padding: 0 5px;\"><i class=\"view-details fa fa-pencil-square-o\"></i></a>";
                }
                if (extOptions.ShowDeleteInlineButtun == true) {
                    inlineActionsColumnWidth += 22;
                    inlineActionsColumnContent_1 += "<a class=\"inline-actions delete-row\" title=\"" + q.text('Controls.Delete', 'Delete') + "\" style=\"padding-left: 5px;\"><i class=\"delete-row fa fa-trash-o text-red\"></i></a>";
                }
                if (extOptions.ShowPrintInlineButtun == true) {
                    inlineActionsColumnWidth += 25;
                    inlineActionsColumnContent_1 += "<a class=\"inline-actions print-row\" title=\"" + q.text('Controls.Print', 'Print') + "\" style=\"padding-left: 5px;\"><i class=\"print-row fa fa-print\"></i></a>";
                }
                columns.unshift({
                    field: 'inline-actions',
                    name: '',
                    cssClass: 'inline-actions-column',
                    width: inlineActionsColumnWidth,
                    minWidth: inlineActionsColumnWidth,
                    maxWidth: inlineActionsColumnWidth,
                    format: function (ctx) { return inlineActionsColumnContent_1; }
                });
            }
            if (extOptions.ShowRowSelectionCheckboxColumn == true) {
                var rowSelectionCol = Serenity.GridRowSelectionMixin.createSelectColumn(function () { return _this.rowSelection; });
                rowSelectionCol.width = rowSelectionCol.minWidth = rowSelectionCol.maxWidth = 27;
                columns.unshift(rowSelectionCol);
            }
            if (this.isPickerMode()) { //show checkbox column in picker mode
                var options = this.options;
                if (!options.multiple && !options.gridType) {
                    Q.notifyWarning("Could not determine multiple/single. Probably there is no 'options' parameter in grid's constructor.");
                }
                //remove edit link in picker mode
                columns.forEach(function (column) {
                    if (column.sourceItem && column.sourceItem.editLink)
                        column.format = undefined;
                });
                if (options.multiple == true) {
                    var rowSelectionCol = Serenity.GridRowSelectionMixin.createSelectColumn(function () { return _this.rowSelection; });
                    rowSelectionCol.width = rowSelectionCol.minWidth = rowSelectionCol.maxWidth = 27;
                    columns.unshift(rowSelectionCol);
                }
                else {
                    columns.unshift({
                        field: 'row-selection',
                        name: '',
                        cssClass: 'inline-actions-column',
                        width: 66,
                        minWidth: 66,
                        maxWidth: 66,
                        format: function (ctx) { return '<a class="inline-actions select-row"><i class="select-row fa fa-check"></i> Select</a>'; }
                    });
                }
            }
            return columns;
        };
        GridBase.prototype.createSlickGrid = function () {
            var grid = _super.prototype.createSlickGrid.call(this);
            usingSlickAutoColumnSize();
            if (Slick.AutoColumnSize) {
                this.autoColumnSizePlugin = new Slick.AutoColumnSize();
                grid.registerPlugin(this.autoColumnSizePlugin);
            }
            grid.registerPlugin(new Slick.Data.GroupItemMetadataProvider());
            return grid;
        };
        GridBase.prototype.resetColumns = function (columns) {
            var _this = this;
            this.slickContainer.fadeTo(0, 0);
            this.slickGrid.setColumns(columns);
            setTimeout(function () {
                if (_this.get_ExtGridOptions().AutoColumnSize == true) {
                    _this.resizeAllCulumn();
                }
                _this.slickContainer.fadeTo(100, 1);
            }, 100);
        };
        GridBase.prototype.resizeAllCulumn = function () {
            this.isAutosized = true;
            var gridContainerWidth = this.slickContainer.width();
            if (gridContainerWidth > 0) { }
            else {
                gridContainerWidth = this.element.closest('.s-Dialog').width() - 55;
            }
            if (gridContainerWidth > 0) { }
            else {
                gridContainerWidth = this.element.closest('.s-Panel').width() - 55;
            }
            if (gridContainerWidth > 0) { }
            else {
                gridContainerWidth = $('section.content').width() - 75;
            }
            this.slickGrid.setOptions({ forceFitColumns: false });
            var allVisibleColumns = this.autoColumnSizePlugin.resizeAllColumns().filter(function (f) { return f.visible != false; }); // this.allColumns;
            var allVisibleColumnWidth = 0;
            allVisibleColumns.map(function (m) { return m.width; }).forEach(function (e) { return allVisibleColumnWidth += e; });
            if (allVisibleColumnWidth > gridContainerWidth) {
                this.autoColumnSizePlugin.resizeAllColumns();
            }
            else if (allVisibleColumnWidth < gridContainerWidth) {
                this.autoColumnSizePlugin.resizeAllColumns();
                var fixedSizeColumns_1 = [];
                var resizableColumns_1 = [];
                allVisibleColumns.forEach(function (c) {
                    if (c.minWidth == c.maxWidth) {
                        fixedSizeColumns_1.push(c);
                        c.width = c.maxWidth;
                    }
                    else if (c.sourceItem) {
                        if (c.sourceItem.formatterType == String("Number")) {
                            fixedSizeColumns_1.push(c);
                        }
                        else if (c.sourceItem.filteringType == String("Enum")) {
                            fixedSizeColumns_1.push(c);
                            if (c.width < 80)
                                c.width = 80;
                        }
                        else if (c.sourceItem.formatterType == String("Date")) {
                            fixedSizeColumns_1.push(c);
                            if (c.width < 80)
                                c.width = 80;
                        }
                        else if (c.sourceItem.formatterType == String("DateTime")) {
                            fixedSizeColumns_1.push(c);
                            if (c.width < 140)
                                c.width = 140;
                        }
                        else if (c.sourceItem.formatterType == String("Checkbox")) {
                            fixedSizeColumns_1.push(c);
                        }
                        else {
                            resizableColumns_1.push(c);
                        }
                    }
                    else {
                        resizableColumns_1.push(c);
                    }
                });
                if (resizableColumns_1.length == 0) {
                    fixedSizeColumns_1 = [];
                    resizableColumns_1 = [];
                    allVisibleColumns.forEach(function (c) {
                        if (c.minWidth == c.maxWidth) {
                            fixedSizeColumns_1.push(c);
                            c.width = c.maxWidth;
                        }
                        else {
                            resizableColumns_1.push(c);
                        }
                    });
                }
                var fixedSizeColumnsWidth_1 = 0;
                fixedSizeColumns_1.map(function (m) { return m.width; }).forEach(function (e) { return fixedSizeColumnsWidth_1 += e; });
                var stretchableGridAreaWidth_1 = gridContainerWidth - fixedSizeColumnsWidth_1 - (this.isChildGrid ? 48 : 18);
                var resizableColumnsWidth_1 = 0;
                resizableColumns_1
                    .map(function (m) { return m.width; })
                    .forEach(function (e) { return resizableColumnsWidth_1 += e; });
                resizableColumns_1.forEach(function (c) {
                    var widthMultiplyingFactor = stretchableGridAreaWidth_1 / resizableColumnsWidth_1;
                    var newWidth = c.width * widthMultiplyingFactor;
                    var increment = newWidth - c.width;
                    //if (increment <= 200) // maximum streching is 200
                    c.width = newWidth;
                    //else c.width = c.width + 200;
                });
                this.slickGrid.setColumns(allVisibleColumns);
                this.slickGrid.onColumnsResized.notify();
            }
            this.setItems(this.getItems());
        };
        GridBase.prototype.getSlickOptions = function () {
            var opt = _super.prototype.getSlickOptions.call(this);
            if (this.get_ExtGridOptions().AutoColumnSize == true) {
                opt.forceFitColumns = true;
            }
            opt.enableTextSelectionOnCells = true;
            opt.enableCellNavigation = true;
            opt.asyncEditorLoading = false;
            opt.autoEdit = true;
            return opt;
        };
        GridBase.prototype.getViewOptions = function () {
            var opt = _super.prototype.getViewOptions.call(this);
            opt.rowsPerPage = q.DefaultMainGridOptions.RowsPerPage;
            return opt;
        };
        GridBase.prototype.getPrintRowServiceMethod = function () { return 'Print'; };
        GridBase.prototype.onClick = function (e, row, cell) {
            _super.prototype.onClick.call(this, e, row, cell);
            if (e.isDefaultPrevented())
                return;
            var item = this.itemAt(row);
            var recordId = item[this.getIdProperty()];
            var target = $(e.target);
            // if user clicks "i" element, e.g. icon
            if (target.parent().hasClass('inline-action') || target.parent().hasClass('inline-actions') || target.parent().hasClass('inline-btn'))
                target = target.parent();
            if (target.hasClass('inline-action') || target.hasClass('inline-actions') || target.hasClass('inline-btn')) {
                //e.preventDefault();
                this.onInlineActionClick(target, recordId, item);
            }
        };
        GridBase.prototype.onInlineActionClick = function (target, recordId, item) {
            var _this = this;
            if (target.hasClass('delete-row')) {
                if (this.isReadOnly == true) {
                    Q.notifyWarning('Read only records could not be deleted!');
                }
                else {
                    Q.confirm('Delete record?', function () {
                        var o = _this;
                        if (o.deleteEntity) { //for in-memory grid
                            o.deleteEntity(recordId);
                        }
                        else {
                            Q.serviceRequest(_this.getService() + '/Delete', { EntityId: recordId }, function (response) {
                                _this.refresh();
                            });
                        }
                    });
                }
            }
            else if (target.hasClass('view-details')) {
                this.slickGrid.getEditController().commitCurrentEdit();
                this.editItem(recordId);
            }
            else if (target.hasClass('print-row')) {
                var request = { EntityId: recordId };
                Q.postToService({ service: Q.resolveUrl(this.getService() + '/' + this.getPrintRowServiceMethod()), request: request, target: '_blank' });
            }
            else if (target.hasClass('select-row')) {
                this.rowSelection.setSelectedKeys([recordId]);
                this.pickerDialog.onSuccess(this.selectedItems);
                this.pickerDialog.dialogClose();
            }
        };
        GridBase.prototype.resetRowNumber = function () {
            this.nextRowNumber = 1;
            var items = this.getItems();
            var grouping_fields = this.view.getGrouping();
            if (grouping_fields.length == 0) {
                for (var i = 0; i < items.length; i++) {
                    items[i].RowNum = i + 1;
                }
            }
            else if (grouping_fields.length > 0) {
                var generateRowNumber_1 = function (groups) {
                    for (var gi = 0; gi < groups.length; gi++) {
                        var subGroups = groups[gi].groups;
                        if (subGroups) {
                            generateRowNumber_1(subGroups);
                        }
                        else {
                            var rows = groups[gi].rows;
                            for (var i = 0; i < rows.length; i++) {
                                rows[i].RowNum = i + 1;
                            }
                        }
                    }
                };
                var groups = this.view.getGroups();
                generateRowNumber_1(groups);
            }
            this.setItems(items);
        };
        //override getGrouping instead of calling setGrouping
        GridBase.prototype.setGrouping = function (groupInfo) {
            this.view.setGrouping(groupInfo);
            this.resetRowNumber();
        };
        GridBase.prototype.getIncludeColumns = function (include) {
            _super.prototype.getIncludeColumns.call(this, include);
            var grouping = this.getGrouping();
            if (grouping.length > 0)
                grouping.forEach(function (f) { return include[f.getter] = true; });
        };
        GridBase.prototype.getDefaultSortBy = function () {
            var sortBy = _super.prototype.getDefaultSortBy.call(this);
            var grouping = this.getGrouping();
            if (grouping.length > 0)
                grouping.forEach(function (f) { return sortBy.unshift(f.getter); });
            return sortBy;
        };
        GridBase.prototype.onViewProcessData = function (response) {
            var _this = this;
            var r = _super.prototype.onViewProcessData.call(this, response);
            if (this.get_ExtGridOptions().ShowRowNumberColumn == true) {
                setTimeout(function () { _this.resetRowNumber(); });
            }
            return r;
        };
        GridBase.prototype.initDialog = function (dialog) {
            _super.prototype.initDialog.call(this, dialog);
            dialog.parentGrid = this;
        };
        Object.defineProperty(GridBase.prototype, "selectedItems", {
            get: function () {
                var _this = this;
                return this.rowSelection.getSelectedKeys().map(function (m) {
                    var item = _this.view.getItemById(m);
                    if (!item) {
                        item = {};
                        item[_this.getIdProperty()] = m;
                    }
                    return item;
                });
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GridBase.prototype, "selectedKeys", {
            set: function (value) {
                var options = this.options;
                if (options.multiple == true) {
                    this.rowSelection.setSelectedKeys(value);
                }
                else {
                }
            },
            enumerable: true,
            configurable: true
        });
        GridBase.prototype.onViewSubmit = function () {
            if (!_super.prototype.onViewSubmit.call(this)) {
                return false;
            }
            var request = this.view.params;
            var options = this.options;
            if (options.filteringCriteria) {
                request.Criteria = Serenity.Criteria.and(request.Criteria, options.filteringCriteria);
            }
            if (options.filterField && Q.isValue(options.filterValue))
                request.Criteria = Serenity.Criteria.and(request.Criteria, [[options.filterField], '=', options.filterValue]);
            var cascadeField = options.cascadeField || options.cascadeFrom;
            if (cascadeField && Q.isValue(options.cascadeValue))
                request.Criteria = Serenity.Criteria.and(request.Criteria, [[cascadeField], '=', options.cascadeValue]);
            return true;
        };
        GridBase = __decorate([
            Serenity.Decorators.filterable()
        ], GridBase);
        return GridBase;
    }(Serenity.EntityGrid));
    _Ext.GridBase = GridBase;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ReportGridBase = /** @class */ (function (_super) {
        __extends(ReportGridBase, _super);
        function ReportGridBase() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        ReportGridBase.prototype.getButtons = function () {
            var buttons = _super.prototype.getButtons.call(this);
            buttons.splice(0, 1);
            return buttons;
        };
        ReportGridBase.prototype.getColumns = function () {
            var columns = _super.prototype.getColumns.call(this);
            columns.splice(0, 1);
            return columns;
        };
        ReportGridBase = __decorate([
            Serenity.Decorators.filterable()
        ], ReportGridBase);
        return ReportGridBase;
    }(_Ext.GridBase));
    _Ext.ReportGridBase = ReportGridBase;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ReportPanelBase = /** @class */ (function (_super) {
        __extends(ReportPanelBase, _super);
        function ReportPanelBase(container, opt) {
            var _this = _super.call(this, container, opt) || this;
            _this.byId('PanelTitle').text(_this.getReportTitle());
            _this.element.addClass('s-DataGrid');
            _this.byId('SubmitButton').click(function (e) {
                e.preventDefault();
                if (!_this.validateForm()) {
                    return;
                }
                _Ext.ReportHelper.execute({ reportKey: _this.getReportKey(), params: { Request: _this.getReportRequest() }, extension: 'html' });
            });
            _this.byId('DownloadPdfButton').click(function (e) {
                e.preventDefault();
                if (!_this.validateForm()) {
                    return;
                }
                _Ext.ReportHelper.execute({ reportKey: _this.getReportKey(), params: { Request: _this.getReportRequest() }, extension: 'pdf' });
            });
            return _this;
        }
        //protected getTemplateName() { return 'ReportPanel'; }
        ReportPanelBase.prototype.getReportTitle = function () { return 'Report Title'; };
        ReportPanelBase.prototype.getReportKey = function () { return 'Report.Key'; };
        ReportPanelBase.prototype.getReportRequest = function () { return this.getSaveEntity(); };
        ReportPanelBase.prototype.getTemplate = function () {
            return "\n    <div class=\"page-title grid-title\" id=\"~_PanelTitle\">Report Title</div>\n\n    <div class=\"s-Form flex-layout\">\n        <form id=\"~_Form\" action=\"\">\n            <div class=\"fieldset ui-widget ui-widget-content ui-corner-all\">\n                <div id=\"~_PropertyGrid\"></div>\n                <div class=\"clear\"></div>\n            </div>\n        </form>\n        <br />\n        <div class=\"buttons align-center\">\n            <button id=\"~_SubmitButton\" class=\"btn btn-primary\"><i class=\"fa fa-search margin-r-5\"></i> Show</button>\n            <button id=\"~_DownloadPdfButton\" class=\"btn btn-default\"><i class=\"fa fa-file-pdf-o margin-r-5\"></i> Download PDF</button>\n        </div>\n    </div>\n";
        };
        return ReportPanelBase;
    }(Serenity.PropertyPanel));
    _Ext.ReportPanelBase = ReportPanelBase;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var DialogBase = /** @class */ (function (_super) {
        __extends(DialogBase, _super);
        function DialogBase(opt) {
            var _this = _super.call(this, opt) || this;
            _this.isReadOnly = false;
            //this.element.fadeTo(0, 0);
            if (_this.get_ExtDialogOptions().PendingChangesConfirmation == true) {
                _Ext.DialogUtils.pendingChangesConfirmation(_this.element, function () { return _this.getSaveState() != _this.loadedState; });
            }
            return _this;
        }
        DialogBase.prototype.getRowType = function () { return {}; };
        DialogBase.prototype.getIdProperty = function () { return this.getRowType().idProperty; };
        DialogBase.prototype.getLocalTextPrefix = function () { return this.getRowType().localTextPrefix; };
        DialogBase.prototype.getNameProperty = function () { return this.getRowType().nameProperty; };
        DialogBase.prototype.getInsertPermission = function () { return this.getRowType().insertPermission; };
        DialogBase.prototype.getUpdatePermission = function () { return this.getRowType().updatePermission; };
        DialogBase.prototype.getDeletePermission = function () { return this.getRowType().deletePermission; };
        DialogBase.prototype.get_ExtDialogOptions = function () { return Q.deepClone(q.DefaultEntityDialogOptions); };
        DialogBase.prototype.updateInterface = function () {
            _super.prototype.updateInterface.call(this);
            this.setReadOnly(this.isReadOnly);
            if (this.get_ExtDialogOptions().HideCategoyLinksBar == true) {
                this.element.find('.category-links').hide();
                var $FirstCategory = this.element.find('.first-category > .category-title');
                if (Q.isEmptyOrNull($FirstCategory.find('.category-anchor').text()))
                    $FirstCategory.hide();
            }
            //this.element.fadeTo(100, 1);
        };
        DialogBase.prototype.onDialogOpen = function () {
            var _this = this;
            _super.prototype.onDialogOpen.call(this);
            if (this.get_ExtDialogOptions().AutoFitContentArea == true) {
                this.fullContentArea();
            }
            //temporary fix for set grid editor height
            setTimeout(function () { _this.onAfterSetDialogSize(); }, 200);
        };
        DialogBase.prototype.onDialogClose = function () {
            _super.prototype.onDialogClose.call(this);
            this.onAfterDialogClose(this.getSaveEntity());
        };
        DialogBase.prototype.setReadOnly = function (value) {
            this.readOnly = value;
            this.isReadOnly = value;
            if (this.isReadOnly == true) {
                this.saveAndCloseButton.toggleClass('disabled', this.isReadOnly);
                this.applyChangesButton.toggleClass('disabled', this.isReadOnly);
                this.deleteButton.toggleClass('disabled', this.isReadOnly);
                this.cloneButton.toggleClass('disabled', this.isReadOnly);
                this.undeleteButton.toggleClass('disabled', this.isReadOnly);
                this.toolbar.findButton('btn-save-and-close').addClass('disabled');
                this.toolbar.findButton('btn-save-and-new').addClass('disabled');
                this.toolbar.findButton('btn-replace-row').addClass('disabled');
                this.toolbar.findButton('btn-history').addClass('disabled');
                this.toolbar.findButton('btn-custom').addClass('disabled');
                // remove required asterisk (*)
                this.element.find('sup').toggle(this.isReadOnly);
                for (var editor in this.form) {
                    if (this.form[editor].widgetName) {
                        try {
                            Serenity.EditorUtils.setReadOnly(this.form[editor], this.isReadOnly);
                        }
                        catch (_a) { }
                    }
                }
            }
        };
        DialogBase.prototype.getToolbarButtons = function () {
            var _this = this;
            var buttons = _super.prototype.getToolbarButtons.call(this);
            var extOptions = this.get_ExtDialogOptions();
            if (extOptions.ShowSaveAndNewButtonInToolbar == true)
                buttons.push({
                    title: q.text('Controls.EntityDialog.SaveAndNew', 'Save & New'),
                    icon: 'fa fa-save',
                    cssClass: 'btn-save-and-new',
                    onClick: function () {
                        _this.onSaveAndNewButtonClick();
                    }
                });
            if (extOptions.ShowCloseButtonInToolbar == true)
                buttons.push({
                    title: q.text('Controls.EntityDialog.Close', 'Close'),
                    icon: 'fa fa-close',
                    cssClass: 'btn-close',
                    onClick: function () {
                        _this.dialogClose();
                    }
                });
            if (extOptions.ShowRefreshButtonInToolbar == true)
                buttons.push({
                    title: q.text('Controls.EntityDialog.Refresh', 'Refresh'),
                    icon: 'fa fa-refresh',
                    onClick: function () {
                        _this.onRefreshClick();
                    }
                });
            try {
                if (extOptions.ShowReplaceRowButtonInToolbar == true && Q.Authorization.hasPermission('Administration:ReplaceRow')) {
                    if (Q.isEmptyOrNull(this.getService()) == false) {
                        buttons.push({
                            title: 'Replace',
                            icon: 'fa fa-trash-o',
                            cssClass: 'btn-replace-row',
                            onClick: function () {
                                var idProperty = _this.getIdProperty();
                                var nameProperty = _this.getNameProperty();
                                var entityId = _this.entity[idProperty];
                                var entityName = _this.entity[nameProperty];
                                if (entityId) {
                                    Q.serviceRequest(_this.getService() + '/List', {}, function (response) {
                                        var entityList = response.Entities;
                                        var dlg = new _Ext.ReplaceRowDialog({
                                            FormKey: _this.getFormKey(),
                                            IdProperty: idProperty,
                                            NameProperty: nameProperty,
                                            EntityTypeTitle: _this.getEntitySingular(),
                                            DeletedEntityName: entityName,
                                            DeletedEntityId: entityId,
                                        }, entityList);
                                        dlg.dialogOpen();
                                        _this.dialogClose();
                                    });
                                }
                            }
                        });
                    }
                }
                if (extOptions.ShowChangeLogButtonInToolbar == true && Q.Authorization.hasPermission('Administration:AuditLog')) {
                    buttons.push({
                        cssClass: 'btn-history',
                        icon: 'fa fa-history',
                        onClick: function () {
                            var entityId = _this.entity[_this.getIdProperty()];
                            if (entityId) {
                                var dlg = new _Ext.AuditLogViewerDialog({ FormKey: _this.getFormKey(), EntityId: entityId });
                                dlg.dialogOpen();
                            }
                            else {
                                Q.alert('No change log found for this entity.');
                            }
                        }
                    });
                }
                //clone button click event customization
                var cloneButton = Q.tryFirst(buttons, function (x) { return x.cssClass == 'clone-button'; });
                cloneButton.onClick = function () {
                    if (!_this.isEditMode()) {
                        return;
                    }
                    var cloneEntity = _this.getCloningEntity();
                    Serenity.Widget.create({
                        type: Q.getInstanceType(_this),
                        init: function (dlg) {
                            _this.parentGrid.initDialog(dlg);
                            dlg.loadEntityAndOpenDialog(cloneEntity, null);
                        }
                    });
                    _this.dialogClose();
                };
            }
            catch (e) { }
            return buttons;
        };
        DialogBase.prototype.onRefreshClick = function () {
            this.reloadById();
        };
        DialogBase.prototype.onSaveAndNewButtonClick = function () {
            var _this = this;
            this.save(function (response) {
                _this.loadEntity({});
            });
        };
        DialogBase.prototype.getSaveState = function () {
            try {
                return $.toJSON(this.getSaveEntity());
            }
            catch (e) {
                return null;
            }
        };
        DialogBase.prototype.onSaveSuccess = function (response) {
            _super.prototype.onSaveSuccess.call(this, response);
            isPageRefreshRequired = true;
            //Q.reloadLookup(this.getLookupKey());
        };
        DialogBase.prototype.loadResponse = function (data) {
            _super.prototype.loadResponse.call(this, data);
            if (this.get_ExtDialogOptions().PendingChangesConfirmation == true) {
                this.loadedState = this.getSaveState();
            }
        };
        DialogBase.prototype.maximize = function () {
            var _this = this;
            this.element.closest(".ui-dialog").find(".ui-dialog-titlebar-maximize").click();
            setTimeout(function () {
                var dialogElement = _this.element ? _this.element.closest(".ui-dialog") : $(".ui-dialog");
                var dialogHeight = dialogElement.height();
                var titleBarHeight = dialogElement.find('.ui-dialog-title').height() || 20;
                var $categories = _this.element.find('.categories');
                var categoriesTop = $categories.position().top;
                $categories.height(dialogHeight - titleBarHeight - categoriesTop - 20);
            }, 100);
        };
        DialogBase.prototype.fullContentArea = function () {
            this.setDialogSize();
        };
        // set the dialog size relative to content area (to shrink use negative value)
        DialogBase.prototype.setDialogSize = function (width, height, top, left, $content) {
            var _this = this;
            if (!$content) {
                $content = $('section.content');
            }
            if ($content.length == 0) {
                $content = $('.content-wrapper');
            }
            var dialogElement = this.element ? this.element.closest(".ui-dialog") : $(".ui-dialog");
            if ($content.length > 0 && dialogElement.length > 0) {
                var dialogWidth = $content.width() + 30 + (width || 0);
                var dialogHeight = $content.height() + (height || 30);
                this.element.dialog("option", "width", dialogWidth);
                this.element.dialog("option", "height", dialogHeight);
                var titleBarHeight = dialogElement.find('.ui-dialog-title').height() || 20;
                var $categories = this.element.find('.categories');
                var categoriesTop = $categories.position().top;
                $categories.height(dialogHeight - titleBarHeight - categoriesTop - 20);
                dialogElement.css({
                    left: $content.position().left + (left || 0),
                    top: (top || 50),
                });
            }
            setTimeout(function () {
                _this.onAfterSetDialogSize();
            }, 200);
        };
        DialogBase.prototype.onAfterSetDialogSize = function () { };
        DialogBase.prototype.onAfterDialogClose = function (entity) { };
        DialogBase = __decorate([
            Serenity.Decorators.responsive(),
            Serenity.Decorators.maximizable()
        ], DialogBase);
        return DialogBase;
    }(Serenity.EntityDialog));
    _Ext.DialogBase = DialogBase;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var GridItemPickerDialog = /** @class */ (function (_super) {
        __extends(GridItemPickerDialog, _super);
        function GridItemPickerDialog(options) {
            var _this = _super.call(this, options) || this;
            _this.onSuccess = function (selectedItems) { };
            var gridType = options.gridType;
            if (!gridType.prototype)
                gridType = Q.getType(options.gridType);
            try {
                _this.checkGrid = new gridType(_this.byId("RowSelectionCheckGrid"), options);
                if (options.preSelectedKeys)
                    _this.checkGrid.selectedKeys = options.preSelectedKeys;
                _this.dialogTitle = q.text('Controls.Select', "Select") + " - " + _this.checkGrid.getTitle();
                _this.checkGrid.setTitle(null);
                _this.checkGrid.element.height(500);
                _this.checkGrid.pickerDialog = _this;
            }
            catch (ex) {
                console.warn('Could not intialize ' + options.gridType);
            }
            return _this;
        }
        GridItemPickerDialog.prototype.getTemplate = function () {
            return "<div id=\"~_RowSelectionCheckGrid\" \n                class=\"RowSelectionCheckGrid " + (this.options.multiple == true ? 'multi-select' : 'single-select') + "\" \n                style = \"margin: 15px 15px 0 15px;\" >\n            </div>";
        };
        Object.defineProperty(GridItemPickerDialog.prototype, "selectedItems", {
            get: function () { return this.checkGrid.selectedItems; },
            enumerable: true,
            configurable: true
        });
        GridItemPickerDialog.prototype.getDialogOptions = function () {
            var _this = this;
            var opt = _super.prototype.getDialogOptions.call(this);
            opt.buttons = [{
                    text: Q.text("Dialogs.OkButton"),
                    click: function () {
                        var selectedItems = _this.checkGrid.selectedItems;
                        if (!selectedItems.length) {
                            Q.notifyWarning("Please select some items!");
                            return;
                        }
                        _this.onSuccess(selectedItems);
                        _this.dialogClose();
                    }
                }, {
                    text: Q.text("Dialogs.CancelButton"),
                    click: function () {
                        _this.dialogClose();
                    }
                }];
            opt.height = 500;
            return opt;
        };
        GridItemPickerDialog = __decorate([
            Serenity.Decorators.registerClass()
        ], GridItemPickerDialog);
        return GridItemPickerDialog;
    }(Serenity.TemplatedDialog));
    _Ext.GridItemPickerDialog = GridItemPickerDialog;
})(_Ext || (_Ext = {}));
/// <reference path="../Bases/DialogBase.ts" />
var _Ext;
(function (_Ext) {
    var EditorDialogBase = /** @class */ (function (_super) {
        __extends(EditorDialogBase, _super);
        function EditorDialogBase() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        EditorDialogBase.prototype.get_ExtDialogOptions = function () { return q.DefaultEditorDialogOptions; };
        EditorDialogBase.prototype.getIdProperty = function () { return "__id"; };
        EditorDialogBase.prototype.destroy = function () {
            this.onSave = null;
            this.onDelete = null;
            _super.prototype.destroy.call(this);
        };
        EditorDialogBase.prototype.updateInterface = function () {
            _super.prototype.updateInterface.call(this);
            this.saveAndCloseButton.find('.button-inner').text(this.isNew() ? (Q.tryGetText('Controls.AddButton') || 'Add') : (Q.tryGetText('Controls.ApplyButton') || 'Apply'));
            // apply changes button doesn't work properly with in-memory grids yet
            if (this.applyChangesButton) {
                this.applyChangesButton.hide();
            }
            if (this.parentEditor && this.parentEditor.isReadOnly == true) {
                this.saveAndCloseButton.addClass('disabled');
                this.deleteButton.addClass('disabled');
                Serenity.EditorUtils.setReadonly(this.element.find('.editor'), true);
                // remove required asterisk (*)
                this.element.find('sup').hide();
            }
        };
        EditorDialogBase.prototype.saveHandler = function (options, callback) {
            this.onSave && this.onSave(options, callback);
        };
        EditorDialogBase.prototype.deleteHandler = function (options, callback) {
            this.onDelete && this.onDelete(options, callback);
        };
        EditorDialogBase = __decorate([
            Serenity.Decorators.registerClass()
        ], EditorDialogBase);
        return EditorDialogBase;
    }(_Ext.DialogBase));
    _Ext.EditorDialogBase = EditorDialogBase;
})(_Ext || (_Ext = {}));
/// <reference path="../Bases/GridBase.ts" />
var _Ext;
(function (_Ext) {
    var GridEditorBase = /** @class */ (function (_super) {
        __extends(GridEditorBase, _super);
        function GridEditorBase(container) {
            var _this = _super.call(this, container) || this;
            _this.isChildGrid = true;
            _this.nextId = 1;
            _this.slickGrid.onSort.subscribe(function (e, args) {
                _this.sortGridFunction(args.grid, args.sortCols[0], args.sortCols[0].sortCol.field);
                //(args.grid as Slick.Grid).init();
                args.grid.invalidateAllRows();
                args.grid.invalidate();
                args.grid.render();
                args.grid.resizeCanvas();
            });
            return _this;
        }
        GridEditorBase.prototype.get_ExtGridOptions = function () { return Q.deepClone(q.DefaultEditorGridOptions); };
        GridEditorBase.prototype.getIdProperty = function () { return "__id"; };
        GridEditorBase.prototype.sortGridFunction = function (grid, column, field) {
            grid.getData().sort(function (a, b) {
                var result = a[field] > b[field] ? 1 :
                    a[field] < b[field] ? -1 :
                        0;
                return column.sortAsc ? result : -result;
            });
        };
        GridEditorBase.prototype.getQuickFilters = function () {
            return [];
        };
        GridEditorBase.prototype.id = function (entity) {
            return entity[this.getIdProperty()];
        };
        GridEditorBase.prototype.save = function (opt, callback) {
            var _this = this;
            var request = opt.request;
            var row = Q.deepClone(request.Entity);
            var id = this.id(row);
            if (id == null) {
                row[this.getIdProperty()] = "`" + this.nextId++;
            }
            if (!this.validateEntity(row, id)) {
                return;
            }
            var items = this.view.getItems().slice();
            if (id == null) {
                items.push(row);
            }
            else {
                var index = Q.indexOf(items, function (x) { return _this.id(x) === id; });
                items[index] = Q.deepClone({}, items[index], row);
            }
            this.value = items;
            callback({});
        };
        GridEditorBase.prototype.deleteEntity = function (id) {
            var _this = this;
            this.view.deleteItem(id);
            setTimeout(function () {
                _this.onItemsChanged();
                _this.element.trigger('change');
                _this.resetRowNumber();
            });
            return true;
        };
        GridEditorBase.prototype.validateEntity = function (row, id) {
            return true;
        };
        GridEditorBase.prototype.getNewEntity = function () {
            return {};
        };
        GridEditorBase.prototype.getButtons = function () {
            var _this = this;
            return [{
                    title: this.getItemName(),
                    cssClass: 'add-button',
                    onClick: function () { _this.addButtonClick(); }
                }];
        };
        GridEditorBase.prototype.addButtonClick = function () {
            var _this = this;
            this.createEntityDialog(this.getItemType(), function (dlg) {
                var dialog = dlg;
                dialog.parentEditor = _this;
                dialog.onSave = function (opt, callback) { return _this.save(opt, callback); };
                dialog.loadEntityAndOpenDialog(_this.getNewEntity());
            });
        };
        GridEditorBase.prototype.editItem = function (entityOrId) {
            var _this = this;
            var id = entityOrId;
            var item = this.view.getItemById(id);
            this.createEntityDialog(this.getItemType(), function (dlg) {
                var dialog = dlg;
                dialog.onDelete = function (opt, callback) {
                    if (!_this.deleteEntity(id)) {
                        return;
                    }
                    callback({});
                };
                dialog.parentEditor = _this;
                dialog.onSave = function (opt, callback) { return _this.save(opt, callback); };
                dialog.loadEntityAndOpenDialog(item);
            });
            ;
        };
        GridEditorBase.prototype.getEditValue = function (property, target) {
            target[property.name] = this.value;
        };
        GridEditorBase.prototype.setEditValue = function (source, property) {
            this.value = source[property.name];
        };
        Object.defineProperty(GridEditorBase.prototype, "value", {
            get: function () {
                var p = this.getIdProperty();
                this.slickGrid.getEditController().commitCurrentEdit();
                var items = this.view.getItems();
                this.onBeforeGetValue(items);
                return items.map(function (x) {
                    var y = Q.deepClone(x);
                    var id = y[p];
                    if (id && id.toString().charAt(0) == '`')
                        delete y[p];
                    if (y['RowNum'])
                        delete y['RowNum'];
                    return y;
                });
            },
            set: function (value) {
                var _this = this;
                var id = this.getIdProperty();
                var val = value || [];
                var items = val.map(function (x) {
                    var y = Q.deepClone(x);
                    if (y[id] == null) {
                        y[id] = "`" + _this.nextId++;
                    }
                    return y;
                });
                var r = this.onViewProcessData({ Entities: items });
                this.view.setItems(r.Entities, true);
                setTimeout(function () {
                    _this.onItemsChanged();
                    _this.element.trigger('change');
                });
                this.resetRowNumber(); // to generate serial no.
            },
            enumerable: true,
            configurable: true
        });
        GridEditorBase.prototype.getGridCanLoad = function () {
            return false;
        };
        GridEditorBase.prototype.usePager = function () {
            return false;
        };
        GridEditorBase.prototype.getInitialTitle = function () {
            return null;
        };
        GridEditorBase.prototype.createToolbarExtensions = function () {
            var _this = this;
            //super.createToolbarExtensions();
            if (this.get_ExtGridOptions().EnableQuickSearch) {
                Serenity.GridUtils.addQuickSearchInputCustom(this.toolbar.element, function (field, text) {
                    _this.searchText = Select2.util.stripDiacritics(Q.trimToNull(text) || '').toLowerCase();
                    _this.view.setItems(_this.view.getItems(), true);
                });
            }
        };
        GridEditorBase.prototype.onViewFilter = function (row) {
            if (!_super.prototype.onViewFilter.call(this, row)) {
                return false;
            }
            if (this.searchText) {
                return this.matchContains(row);
            }
            return true;
        };
        GridEditorBase.prototype.matchContains = function (item) {
            var result = false;
            for (var prop in item) {
                result = Select2.util.stripDiacritics(String(item[prop] || '')).toLowerCase().indexOf(this.searchText) >= 0;
                if (result == true) {
                    return result;
                }
            }
            return result;
        };
        GridEditorBase.prototype.enableFiltering = function () { return false; };
        GridEditorBase.prototype.onViewSubmit = function () { return false; };
        GridEditorBase.prototype.get_readOnly = function () {
            return this.isReadOnly;
        };
        GridEditorBase.prototype.set_readOnly = function (value) {
            this.isReadOnly = value;
            if (value == true) {
                this.element.find('.add-button').addClass('disabled');
                var opt = this.slickGrid.getOptions();
                opt.editable = false;
                this.slickGrid.setOptions(opt);
            }
            else {
                this.element.find('.add-button').removeClass('disabled');
            }
        };
        GridEditorBase.prototype.getSlickOptions = function () {
            var opt = _super.prototype.getSlickOptions.call(this);
            opt.forceFitColumns = false;
            //opt.autoHeight = true; // If you need to show footer, you have to do opt.autoHeight = false
            return opt;
        };
        //custom events
        GridEditorBase.prototype.onItemsChanged = function () {
        };
        GridEditorBase.prototype.onBeforeGetValue = function (items) {
        };
        GridEditorBase = __decorate([
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue, Serenity.IReadOnly]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element("<div/>")
        ], GridEditorBase);
        return GridEditorBase;
    }(_Ext.GridBase));
    _Ext.GridEditorBase = GridEditorBase;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var JsonGridEditorBase = /** @class */ (function (_super) {
        __extends(JsonGridEditorBase, _super);
        function JsonGridEditorBase() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        JsonGridEditorBase.prototype.getEditValue = function (property, target) {
            target[property.name] = JSON.stringify(this.value || []);
        };
        JsonGridEditorBase.prototype.setEditValue = function (source, property) {
            this.value = JSON.parse(source[property.name] || '[]');
        };
        return JsonGridEditorBase;
    }(_Ext.GridEditorBase));
    _Ext.JsonGridEditorBase = JsonGridEditorBase;
})(_Ext || (_Ext = {}));
/// <reference path="../typings/serenity/Serenity.CoreLib.d.ts" />
/// <reference path="../typings/jspdf/jspdf.autotable.d.ts" />
/// <reference path="../Modules/_Ext/_q/_q.var.ts" />
/// <reference path="../Modules/_Ext/Bases/GridBase.ts" />
/// <reference path="../Modules/_Ext/Bases/ReportGridBase.ts" />
/// <reference path="../Modules/_Ext/Bases/ReportPanelBase.ts" />
/// <reference path="../Modules/_Ext/Bases/DialogBase.ts" />
/// <reference path="../Modules/_Ext/Editors/GridItemPicker/GridItemPickerDialog.ts" />
/// <reference path="../Modules/_Ext/Editors/EditorDialogBase.ts" />
/// <reference path="../Modules/_Ext/Editors/GridEditorBase.ts" />
/// <reference path="../Modules/_Ext/Editors/JsonGridEditorBase.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var LanguageForm = /** @class */ (function (_super) {
            __extends(LanguageForm, _super);
            function LanguageForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!LanguageForm.init) {
                    LanguageForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    Q.initFormType(LanguageForm, [
                        'LanguageId', w0,
                        'LanguageName', w0
                    ]);
                }
                return _this;
            }
            LanguageForm.formKey = 'Administration.Language';
            return LanguageForm;
        }(Serenity.PrefixedContext));
        Administration.LanguageForm = LanguageForm;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var LanguageRow;
        (function (LanguageRow) {
            LanguageRow.idProperty = 'Id';
            LanguageRow.nameProperty = 'LanguageName';
            LanguageRow.localTextPrefix = 'Administration.Language';
            LanguageRow.lookupKey = 'Administration.Language';
            function getLookup() {
                return Q.getLookup('Administration.Language');
            }
            LanguageRow.getLookup = getLookup;
            LanguageRow.deletePermission = 'Administration:Translation';
            LanguageRow.insertPermission = 'Administration:Translation';
            LanguageRow.readPermission = 'Administration:Translation';
            LanguageRow.updatePermission = 'Administration:Translation';
        })(LanguageRow = Administration.LanguageRow || (Administration.LanguageRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var LanguageService;
        (function (LanguageService) {
            LanguageService.baseUrl = 'Administration/Language';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                LanguageService[x] = function (r, s, o) {
                    return Q.serviceRequest(LanguageService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(LanguageService = Administration.LanguageService || (Administration.LanguageService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleForm = /** @class */ (function (_super) {
            __extends(RoleForm, _super);
            function RoleForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!RoleForm.init) {
                    RoleForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    Q.initFormType(RoleForm, [
                        'RoleName', w0
                    ]);
                }
                return _this;
            }
            RoleForm.formKey = 'Administration.Role';
            return RoleForm;
        }(Serenity.PrefixedContext));
        Administration.RoleForm = RoleForm;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RolePermissionRow;
        (function (RolePermissionRow) {
            RolePermissionRow.idProperty = 'RolePermissionId';
            RolePermissionRow.nameProperty = 'PermissionKey';
            RolePermissionRow.localTextPrefix = 'Administration.RolePermission';
            RolePermissionRow.deletePermission = 'Administration:Security';
            RolePermissionRow.insertPermission = 'Administration:Security';
            RolePermissionRow.readPermission = 'Administration:Security';
            RolePermissionRow.updatePermission = 'Administration:Security';
        })(RolePermissionRow = Administration.RolePermissionRow || (Administration.RolePermissionRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RolePermissionService;
        (function (RolePermissionService) {
            RolePermissionService.baseUrl = 'Administration/RolePermission';
            [
                'Update',
                'List'
            ].forEach(function (x) {
                RolePermissionService[x] = function (r, s, o) {
                    return Q.serviceRequest(RolePermissionService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(RolePermissionService = Administration.RolePermissionService || (Administration.RolePermissionService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleRow;
        (function (RoleRow) {
            RoleRow.idProperty = 'RoleId';
            RoleRow.nameProperty = 'RoleName';
            RoleRow.localTextPrefix = 'Administration.Role';
            RoleRow.lookupKey = 'Administration.Role';
            function getLookup() {
                return Q.getLookup('Administration.Role');
            }
            RoleRow.getLookup = getLookup;
            RoleRow.deletePermission = 'Administration:Security';
            RoleRow.insertPermission = 'Administration:Security';
            RoleRow.readPermission = 'Administration:Security';
            RoleRow.updatePermission = 'Administration:Security';
        })(RoleRow = Administration.RoleRow || (Administration.RoleRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleService;
        (function (RoleService) {
            RoleService.baseUrl = 'Administration/Role';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                RoleService[x] = function (r, s, o) {
                    return Q.serviceRequest(RoleService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(RoleService = Administration.RoleService || (Administration.RoleService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var SergenService;
        (function (SergenService) {
            SergenService.baseUrl = 'Administration/Sergen';
            [
                'ListConnections',
                'ListTables',
                'Generate'
            ].forEach(function (x) {
                SergenService[x] = function (r, s, o) {
                    return Q.serviceRequest(SergenService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(SergenService = Administration.SergenService || (Administration.SergenService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var TranslationService;
        (function (TranslationService) {
            TranslationService.baseUrl = 'Administration/Translation';
            [
                'List',
                'Update'
            ].forEach(function (x) {
                TranslationService[x] = function (r, s, o) {
                    return Q.serviceRequest(TranslationService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(TranslationService = Administration.TranslationService || (Administration.TranslationService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserForm = /** @class */ (function (_super) {
            __extends(UserForm, _super);
            function UserForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!UserForm.init) {
                    UserForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.EmailEditor;
                    var w2 = s.ImageUploadEditor;
                    var w3 = s.PasswordEditor;
                    Q.initFormType(UserForm, [
                        'Username', w0,
                        'DisplayName', w0,
                        'Email', w1,
                        'UserImage', w2,
                        'Password', w3,
                        'PasswordConfirm', w3,
                        'Source', w0
                    ]);
                }
                return _this;
            }
            UserForm.formKey = 'Administration.User';
            return UserForm;
        }(Serenity.PrefixedContext));
        Administration.UserForm = UserForm;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserPermissionRow;
        (function (UserPermissionRow) {
            UserPermissionRow.idProperty = 'UserPermissionId';
            UserPermissionRow.nameProperty = 'PermissionKey';
            UserPermissionRow.localTextPrefix = 'Administration.UserPermission';
            UserPermissionRow.deletePermission = 'Administration:Security';
            UserPermissionRow.insertPermission = 'Administration:Security';
            UserPermissionRow.readPermission = 'Administration:Security';
            UserPermissionRow.updatePermission = 'Administration:Security';
        })(UserPermissionRow = Administration.UserPermissionRow || (Administration.UserPermissionRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserPermissionService;
        (function (UserPermissionService) {
            UserPermissionService.baseUrl = 'Administration/UserPermission';
            [
                'Update',
                'List',
                'ListRolePermissions',
                'ListPermissionKeys'
            ].forEach(function (x) {
                UserPermissionService[x] = function (r, s, o) {
                    return Q.serviceRequest(UserPermissionService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(UserPermissionService = Administration.UserPermissionService || (Administration.UserPermissionService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserRoleRow;
        (function (UserRoleRow) {
            UserRoleRow.idProperty = 'UserRoleId';
            UserRoleRow.localTextPrefix = 'Administration.UserRole';
            UserRoleRow.deletePermission = 'Administration:Security';
            UserRoleRow.insertPermission = 'Administration:Security';
            UserRoleRow.readPermission = 'Administration:Security';
            UserRoleRow.updatePermission = 'Administration:Security';
        })(UserRoleRow = Administration.UserRoleRow || (Administration.UserRoleRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserRoleService;
        (function (UserRoleService) {
            UserRoleService.baseUrl = 'Administration/UserRole';
            [
                'Update',
                'List'
            ].forEach(function (x) {
                UserRoleService[x] = function (r, s, o) {
                    return Q.serviceRequest(UserRoleService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(UserRoleService = Administration.UserRoleService || (Administration.UserRoleService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserRow;
        (function (UserRow) {
            UserRow.idProperty = 'UserId';
            UserRow.isActiveProperty = 'IsActive';
            UserRow.nameProperty = 'Username';
            UserRow.localTextPrefix = 'Administration.User';
            UserRow.lookupKey = 'Administration.User';
            function getLookup() {
                return Q.getLookup('Administration.User');
            }
            UserRow.getLookup = getLookup;
            UserRow.deletePermission = 'Administration:Security';
            UserRow.insertPermission = 'Administration:Security';
            UserRow.readPermission = 'Administration:Security';
            UserRow.updatePermission = 'Administration:Security';
        })(UserRow = Administration.UserRow || (Administration.UserRow = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserService;
        (function (UserService) {
            UserService.baseUrl = 'Administration/User';
            [
                'Create',
                'Update',
                'Delete',
                'Undelete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                UserService[x] = function (r, s, o) {
                    return Q.serviceRequest(UserService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(UserService = Administration.UserService || (Administration.UserService = {}));
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var BasicSamplesService;
        (function (BasicSamplesService) {
            BasicSamplesService.baseUrl = 'BasicSamples/BasicSamples';
            [
                'OrdersByShipper',
                'OrderBulkAction'
            ].forEach(function (x) {
                BasicSamplesService[x] = function (r, s, o) {
                    return Q.serviceRequest(BasicSamplesService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(BasicSamplesService = BasicSamples.BasicSamplesService || (BasicSamples.BasicSamplesService = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ChangingLookupTextForm = /** @class */ (function (_super) {
            __extends(ChangingLookupTextForm, _super);
            function ChangingLookupTextForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ChangingLookupTextForm.init) {
                    ChangingLookupTextForm.init = true;
                    var s = Serenity;
                    var w0 = BasicSamples.ChangingLookupTextEditor;
                    var w1 = s.DecimalEditor;
                    var w2 = s.IntegerEditor;
                    Q.initFormType(ChangingLookupTextForm, [
                        'ProductID', w0,
                        'UnitPrice', w1,
                        'Quantity', w2,
                        'Discount', w1
                    ]);
                }
                return _this;
            }
            ChangingLookupTextForm.formKey = 'BasicSamples.ChangingLookupText';
            return ChangingLookupTextForm;
        }(Serenity.PrefixedContext));
        BasicSamples.ChangingLookupTextForm = ChangingLookupTextForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var CustomerGrossSalesService;
        (function (CustomerGrossSalesService) {
            CustomerGrossSalesService.baseUrl = 'BasicSamples/CustomerGrossSales';
            [
                'List'
            ].forEach(function (x) {
                CustomerGrossSalesService[x] = function (r, s, o) {
                    return Q.serviceRequest(CustomerGrossSalesService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(CustomerGrossSalesService = BasicSamples.CustomerGrossSalesService || (BasicSamples.CustomerGrossSalesService = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DragDropSampleForm = /** @class */ (function (_super) {
            __extends(DragDropSampleForm, _super);
            function DragDropSampleForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!DragDropSampleForm.init) {
                    DragDropSampleForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    Q.initFormType(DragDropSampleForm, [
                        'Title', w0
                    ]);
                }
                return _this;
            }
            DragDropSampleForm.formKey = 'BasicSamples.DragDropSample';
            return DragDropSampleForm;
        }(Serenity.PrefixedContext));
        BasicSamples.DragDropSampleForm = DragDropSampleForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DragDropSampleRow;
        (function (DragDropSampleRow) {
            DragDropSampleRow.idProperty = 'Id';
            DragDropSampleRow.nameProperty = 'Title';
            DragDropSampleRow.localTextPrefix = 'Northwind.DragDropSample';
            DragDropSampleRow.deletePermission = 'Northwind:General';
            DragDropSampleRow.insertPermission = 'Northwind:General';
            DragDropSampleRow.readPermission = 'Northwind:General';
            DragDropSampleRow.updatePermission = 'Northwind:General';
        })(DragDropSampleRow = BasicSamples.DragDropSampleRow || (BasicSamples.DragDropSampleRow = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DragDropSampleService;
        (function (DragDropSampleService) {
            DragDropSampleService.baseUrl = 'BasicSamples/DragDropSample';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                DragDropSampleService[x] = function (r, s, o) {
                    return Q.serviceRequest(DragDropSampleService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(DragDropSampleService = BasicSamples.DragDropSampleService || (BasicSamples.DragDropSampleService = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var FilteredLookupInDetailForm = /** @class */ (function (_super) {
            __extends(FilteredLookupInDetailForm, _super);
            function FilteredLookupInDetailForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!FilteredLookupInDetailForm.init) {
                    FilteredLookupInDetailForm.init = true;
                    var s = Serenity;
                    var w0 = SerExtraCore.Northwind.CustomerEditor;
                    var w1 = s.DateEditor;
                    var w2 = s.LookupEditor;
                    var w3 = BasicSamples.FilteredLookupDetailEditor;
                    Q.initFormType(FilteredLookupInDetailForm, [
                        'CustomerID', w0,
                        'OrderDate', w1,
                        'CategoryID', w2,
                        'DetailList', w3
                    ]);
                }
                return _this;
            }
            FilteredLookupInDetailForm.formKey = 'BasicSamples.FilteredLookupInDetail';
            return FilteredLookupInDetailForm;
        }(Serenity.PrefixedContext));
        BasicSamples.FilteredLookupInDetailForm = FilteredLookupInDetailForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var HardcodedValuesForm = /** @class */ (function (_super) {
            __extends(HardcodedValuesForm, _super);
            function HardcodedValuesForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!HardcodedValuesForm.init) {
                    HardcodedValuesForm.init = true;
                    var s = Serenity;
                    var w0 = BasicSamples.HardcodedValuesEditor;
                    Q.initFormType(HardcodedValuesForm, [
                        'SomeValue', w0
                    ]);
                }
                return _this;
            }
            HardcodedValuesForm.formKey = 'BasicSamples.HarcodedValues';
            return HardcodedValuesForm;
        }(Serenity.PrefixedContext));
        BasicSamples.HardcodedValuesForm = HardcodedValuesForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var LookupFilterByMultipleForm = /** @class */ (function (_super) {
            __extends(LookupFilterByMultipleForm, _super);
            function LookupFilterByMultipleForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!LookupFilterByMultipleForm.init) {
                    LookupFilterByMultipleForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.ImageUploadEditor;
                    var w2 = s.BooleanEditor;
                    var w3 = s.LookupEditor;
                    var w4 = BasicSamples.ProduceSeafoodCategoryEditor;
                    var w5 = s.DecimalEditor;
                    var w6 = s.IntegerEditor;
                    Q.initFormType(LookupFilterByMultipleForm, [
                        'ProductName', w0,
                        'ProductImage', w1,
                        'Discontinued', w2,
                        'SupplierID', w3,
                        'CategoryID', w4,
                        'QuantityPerUnit', w0,
                        'UnitPrice', w5,
                        'UnitsInStock', w6,
                        'UnitsOnOrder', w6,
                        'ReorderLevel', w6
                    ]);
                }
                return _this;
            }
            LookupFilterByMultipleForm.formKey = 'BasicSamples.LookupFilterByMultiple';
            return LookupFilterByMultipleForm;
        }(Serenity.PrefixedContext));
        BasicSamples.LookupFilterByMultipleForm = LookupFilterByMultipleForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var PopulateLinkedDataForm = /** @class */ (function (_super) {
            __extends(PopulateLinkedDataForm, _super);
            function PopulateLinkedDataForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!PopulateLinkedDataForm.init) {
                    PopulateLinkedDataForm.init = true;
                    var s = Serenity;
                    var w0 = SerExtraCore.Northwind.CustomerEditor;
                    var w1 = s.StringEditor;
                    var w2 = s.DateEditor;
                    var w3 = s.LookupEditor;
                    var w4 = SerExtraCore.Northwind.OrderDetailsEditor;
                    Q.initFormType(PopulateLinkedDataForm, [
                        'CustomerID', w0,
                        'CustomerContactName', w1,
                        'CustomerContactTitle', w1,
                        'CustomerCity', w1,
                        'CustomerRegion', w1,
                        'CustomerCountry', w1,
                        'CustomerPhone', w1,
                        'CustomerFax', w1,
                        'OrderDate', w2,
                        'RequiredDate', w2,
                        'EmployeeID', w3,
                        'DetailList', w4
                    ]);
                }
                return _this;
            }
            PopulateLinkedDataForm.formKey = 'BasicSamples.PopulateLinkedData';
            return PopulateLinkedDataForm;
        }(Serenity.PrefixedContext));
        BasicSamples.PopulateLinkedDataForm = PopulateLinkedDataForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ProductExcelImportForm = /** @class */ (function (_super) {
            __extends(ProductExcelImportForm, _super);
            function ProductExcelImportForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ProductExcelImportForm.init) {
                    ProductExcelImportForm.init = true;
                    var s = Serenity;
                    var w0 = s.ImageUploadEditor;
                    Q.initFormType(ProductExcelImportForm, [
                        'FileName', w0
                    ]);
                }
                return _this;
            }
            ProductExcelImportForm.formKey = 'BasicSamples.ProductExcelImport';
            return ProductExcelImportForm;
        }(Serenity.PrefixedContext));
        BasicSamples.ProductExcelImportForm = ProductExcelImportForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ProductExcelImportService;
        (function (ProductExcelImportService) {
            ProductExcelImportService.baseUrl = 'BasicSamples/ProductExcelImport';
            [
                'ExcelImport'
            ].forEach(function (x) {
                ProductExcelImportService[x] = function (r, s, o) {
                    return Q.serviceRequest(ProductExcelImportService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(ProductExcelImportService = BasicSamples.ProductExcelImportService || (BasicSamples.ProductExcelImportService = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var StaticTextBlockForm = /** @class */ (function (_super) {
            __extends(StaticTextBlockForm, _super);
            function StaticTextBlockForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!StaticTextBlockForm.init) {
                    StaticTextBlockForm.init = true;
                    var s = Serenity;
                    var w0 = SerExtraCore.StaticTextBlock;
                    var w1 = s.StringEditor;
                    Q.initFormType(StaticTextBlockForm, [
                        'StaticText', w0,
                        'SomeInput', w1,
                        'HtmlList', w0,
                        'FromLocalText', w0,
                        'DisplayFieldValue', w0
                    ]);
                }
                return _this;
            }
            StaticTextBlockForm.formKey = 'BasicSamples.StaticTextBlock';
            return StaticTextBlockForm;
        }(Serenity.PrefixedContext));
        BasicSamples.StaticTextBlockForm = StaticTextBlockForm;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var UserPreferenceRow;
        (function (UserPreferenceRow) {
            UserPreferenceRow.idProperty = 'UserPreferenceId';
            UserPreferenceRow.nameProperty = 'Name';
            UserPreferenceRow.localTextPrefix = 'Common.UserPreference';
            UserPreferenceRow.deletePermission = '';
            UserPreferenceRow.insertPermission = '';
            UserPreferenceRow.readPermission = '';
            UserPreferenceRow.updatePermission = '';
        })(UserPreferenceRow = Common.UserPreferenceRow || (Common.UserPreferenceRow = {}));
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var UserPreferenceService;
        (function (UserPreferenceService) {
            UserPreferenceService.baseUrl = 'Common/UserPreference';
            [
                'Update',
                'Retrieve'
            ].forEach(function (x) {
                UserPreferenceService[x] = function (r, s, o) {
                    return Q.serviceRequest(UserPreferenceService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(UserPreferenceService = Common.UserPreferenceService || (Common.UserPreferenceService = {}));
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var OrdersByCustomerReportRequestForm = /** @class */ (function (_super) {
            __extends(OrdersByCustomerReportRequestForm, _super);
            function OrdersByCustomerReportRequestForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!OrdersByCustomerReportRequestForm.init) {
                    OrdersByCustomerReportRequestForm.init = true;
                    var s = Serenity;
                    var w0 = s.LookupEditor;
                    Q.initFormType(OrdersByCustomerReportRequestForm, [
                        'CustomerId', w0
                    ]);
                }
                return _this;
            }
            OrdersByCustomerReportRequestForm.formKey = 'ExtraSamples.OrdersByCustomerReportRequestForm';
            return OrdersByCustomerReportRequestForm;
        }(Serenity.PrefixedContext));
        ExtraSamples.OrdersByCustomerReportRequestForm = OrdersByCustomerReportRequestForm;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ChangePasswordForm = /** @class */ (function (_super) {
            __extends(ChangePasswordForm, _super);
            function ChangePasswordForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ChangePasswordForm.init) {
                    ChangePasswordForm.init = true;
                    var s = Serenity;
                    var w0 = s.PasswordEditor;
                    Q.initFormType(ChangePasswordForm, [
                        'OldPassword', w0,
                        'NewPassword', w0,
                        'ConfirmPassword', w0
                    ]);
                }
                return _this;
            }
            ChangePasswordForm.formKey = 'Membership.ChangePassword';
            return ChangePasswordForm;
        }(Serenity.PrefixedContext));
        Membership.ChangePasswordForm = ChangePasswordForm;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ForgotPasswordForm = /** @class */ (function (_super) {
            __extends(ForgotPasswordForm, _super);
            function ForgotPasswordForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ForgotPasswordForm.init) {
                    ForgotPasswordForm.init = true;
                    var s = Serenity;
                    var w0 = s.EmailEditor;
                    Q.initFormType(ForgotPasswordForm, [
                        'Email', w0
                    ]);
                }
                return _this;
            }
            ForgotPasswordForm.formKey = 'Membership.ForgotPassword';
            return ForgotPasswordForm;
        }(Serenity.PrefixedContext));
        Membership.ForgotPasswordForm = ForgotPasswordForm;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var LoginForm = /** @class */ (function (_super) {
            __extends(LoginForm, _super);
            function LoginForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!LoginForm.init) {
                    LoginForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.PasswordEditor;
                    Q.initFormType(LoginForm, [
                        'Username', w0,
                        'Password', w1
                    ]);
                }
                return _this;
            }
            LoginForm.formKey = 'Membership.Login';
            return LoginForm;
        }(Serenity.PrefixedContext));
        Membership.LoginForm = LoginForm;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ResetPasswordForm = /** @class */ (function (_super) {
            __extends(ResetPasswordForm, _super);
            function ResetPasswordForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ResetPasswordForm.init) {
                    ResetPasswordForm.init = true;
                    var s = Serenity;
                    var w0 = s.PasswordEditor;
                    Q.initFormType(ResetPasswordForm, [
                        'NewPassword', w0,
                        'ConfirmPassword', w0
                    ]);
                }
                return _this;
            }
            ResetPasswordForm.formKey = 'Membership.ResetPassword';
            return ResetPasswordForm;
        }(Serenity.PrefixedContext));
        Membership.ResetPasswordForm = ResetPasswordForm;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var SignUpForm = /** @class */ (function (_super) {
            __extends(SignUpForm, _super);
            function SignUpForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!SignUpForm.init) {
                    SignUpForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.EmailEditor;
                    var w2 = s.PasswordEditor;
                    Q.initFormType(SignUpForm, [
                        'DisplayName', w0,
                        'Email', w1,
                        'ConfirmEmail', w1,
                        'Password', w2,
                        'ConfirmPassword', w2
                    ]);
                }
                return _this;
            }
            SignUpForm.formKey = 'Membership.SignUp';
            return SignUpForm;
        }(Serenity.PrefixedContext));
        Membership.SignUpForm = SignUpForm;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryForm = /** @class */ (function (_super) {
            __extends(CategoryForm, _super);
            function CategoryForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!CategoryForm.init) {
                    CategoryForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    Q.initFormType(CategoryForm, [
                        'CategoryName', w0,
                        'Description', w0
                    ]);
                }
                return _this;
            }
            CategoryForm.formKey = 'Northwind.Category';
            return CategoryForm;
        }(Serenity.PrefixedContext));
        Northwind.CategoryForm = CategoryForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryLangRow;
        (function (CategoryLangRow) {
            CategoryLangRow.idProperty = 'Id';
            CategoryLangRow.nameProperty = 'CategoryName';
            CategoryLangRow.localTextPrefix = 'Northwind.CategoryLang';
            CategoryLangRow.deletePermission = 'Northwind:General';
            CategoryLangRow.insertPermission = 'Northwind:General';
            CategoryLangRow.readPermission = 'Northwind:General';
            CategoryLangRow.updatePermission = 'Northwind:General';
        })(CategoryLangRow = Northwind.CategoryLangRow || (Northwind.CategoryLangRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryLangService;
        (function (CategoryLangService) {
            CategoryLangService.baseUrl = 'Northwind/CategoryLang';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                CategoryLangService[x] = function (r, s, o) {
                    return Q.serviceRequest(CategoryLangService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(CategoryLangService = Northwind.CategoryLangService || (Northwind.CategoryLangService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryRow;
        (function (CategoryRow) {
            CategoryRow.idProperty = 'CategoryID';
            CategoryRow.nameProperty = 'CategoryName';
            CategoryRow.localTextPrefix = 'Northwind.Category';
            CategoryRow.lookupKey = 'Northwind.Category';
            function getLookup() {
                return Q.getLookup('Northwind.Category');
            }
            CategoryRow.getLookup = getLookup;
            CategoryRow.deletePermission = 'Northwind:General';
            CategoryRow.insertPermission = 'Northwind:General';
            CategoryRow.readPermission = 'Northwind:General';
            CategoryRow.updatePermission = 'Northwind:General';
        })(CategoryRow = Northwind.CategoryRow || (Northwind.CategoryRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryService;
        (function (CategoryService) {
            CategoryService.baseUrl = 'Northwind/Category';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                CategoryService[x] = function (r, s, o) {
                    return Q.serviceRequest(CategoryService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(CategoryService = Northwind.CategoryService || (Northwind.CategoryService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerCustomerDemoRow;
        (function (CustomerCustomerDemoRow) {
            CustomerCustomerDemoRow.idProperty = 'ID';
            CustomerCustomerDemoRow.nameProperty = 'CustomerID';
            CustomerCustomerDemoRow.localTextPrefix = 'Northwind.CustomerCustomerDemo';
            CustomerCustomerDemoRow.deletePermission = 'Northwind:General';
            CustomerCustomerDemoRow.insertPermission = 'Northwind:General';
            CustomerCustomerDemoRow.readPermission = 'Northwind:General';
            CustomerCustomerDemoRow.updatePermission = 'Northwind:General';
        })(CustomerCustomerDemoRow = Northwind.CustomerCustomerDemoRow || (Northwind.CustomerCustomerDemoRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerDemographicRow;
        (function (CustomerDemographicRow) {
            CustomerDemographicRow.idProperty = 'ID';
            CustomerDemographicRow.nameProperty = 'CustomerTypeID';
            CustomerDemographicRow.localTextPrefix = 'Northwind.CustomerDemographic';
            CustomerDemographicRow.deletePermission = 'Northwind:General';
            CustomerDemographicRow.insertPermission = 'Northwind:General';
            CustomerDemographicRow.readPermission = 'Northwind:General';
            CustomerDemographicRow.updatePermission = 'Northwind:General';
        })(CustomerDemographicRow = Northwind.CustomerDemographicRow || (Northwind.CustomerDemographicRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerDetailsRow;
        (function (CustomerDetailsRow) {
            CustomerDetailsRow.idProperty = 'Id';
            CustomerDetailsRow.nameProperty = 'Email';
            CustomerDetailsRow.localTextPrefix = 'Northwind.CustomerDetails';
            CustomerDetailsRow.deletePermission = 'Northwind:General';
            CustomerDetailsRow.insertPermission = 'Northwind:General';
            CustomerDetailsRow.readPermission = 'Northwind:General';
            CustomerDetailsRow.updatePermission = 'Northwind:General';
        })(CustomerDetailsRow = Northwind.CustomerDetailsRow || (Northwind.CustomerDetailsRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerForm = /** @class */ (function (_super) {
            __extends(CustomerForm, _super);
            function CustomerForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!CustomerForm.init) {
                    CustomerForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.LookupEditor;
                    var w2 = Northwind.NotesEditor;
                    var w3 = s.DateEditor;
                    var w4 = s.EmailEditor;
                    var w5 = s.BooleanEditor;
                    Q.initFormType(CustomerForm, [
                        'CustomerID', w0,
                        'CompanyName', w0,
                        'ContactName', w0,
                        'ContactTitle', w0,
                        'Representatives', w1,
                        'Address', w0,
                        'Country', w1,
                        'City', w1,
                        'Region', w0,
                        'PostalCode', w0,
                        'Phone', w0,
                        'Fax', w0,
                        'NoteList', w2,
                        'LastContactDate', w3,
                        'LastContactedBy', w1,
                        'Email', w4,
                        'SendBulletin', w5
                    ]);
                }
                return _this;
            }
            CustomerForm.formKey = 'Northwind.Customer';
            return CustomerForm;
        }(Serenity.PrefixedContext));
        Northwind.CustomerForm = CustomerForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerGrossSalesRow;
        (function (CustomerGrossSalesRow) {
            CustomerGrossSalesRow.nameProperty = 'ContactName';
            CustomerGrossSalesRow.localTextPrefix = 'Northwind.CustomerGrossSales';
            CustomerGrossSalesRow.deletePermission = 'Northwind:General';
            CustomerGrossSalesRow.insertPermission = 'Northwind:General';
            CustomerGrossSalesRow.readPermission = 'Northwind:General';
            CustomerGrossSalesRow.updatePermission = 'Northwind:General';
        })(CustomerGrossSalesRow = Northwind.CustomerGrossSalesRow || (Northwind.CustomerGrossSalesRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerRepresentativesRow;
        (function (CustomerRepresentativesRow) {
            CustomerRepresentativesRow.idProperty = 'RepresentativeId';
            CustomerRepresentativesRow.localTextPrefix = 'Northwind.CustomerRepresentatives';
            CustomerRepresentativesRow.deletePermission = 'Northwind:Customer:View';
            CustomerRepresentativesRow.insertPermission = 'Northwind:Customer:View';
            CustomerRepresentativesRow.readPermission = 'Northwind:Customer:View';
            CustomerRepresentativesRow.updatePermission = 'Northwind:Customer:View';
        })(CustomerRepresentativesRow = Northwind.CustomerRepresentativesRow || (Northwind.CustomerRepresentativesRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerRow;
        (function (CustomerRow) {
            CustomerRow.idProperty = 'ID';
            CustomerRow.nameProperty = 'CompanyName';
            CustomerRow.localTextPrefix = 'Northwind.Customer';
            CustomerRow.lookupKey = 'Northwind.Customer';
            function getLookup() {
                return Q.getLookup('Northwind.Customer');
            }
            CustomerRow.getLookup = getLookup;
            CustomerRow.deletePermission = 'Northwind:Customer:Delete';
            CustomerRow.insertPermission = 'Northwind:Customer:Modify';
            CustomerRow.readPermission = 'Northwind:Customer:View';
            CustomerRow.updatePermission = 'Northwind:Customer:Modify';
        })(CustomerRow = Northwind.CustomerRow || (Northwind.CustomerRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerService;
        (function (CustomerService) {
            CustomerService.baseUrl = 'Northwind/Customer';
            [
                'Create',
                'Update',
                'Delete',
                'GetNextNumber',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                CustomerService[x] = function (r, s, o) {
                    return Q.serviceRequest(CustomerService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(CustomerService = Northwind.CustomerService || (Northwind.CustomerService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var EmployeeRow;
        (function (EmployeeRow) {
            EmployeeRow.idProperty = 'EmployeeID';
            EmployeeRow.nameProperty = 'FullName';
            EmployeeRow.localTextPrefix = 'Northwind.Employee';
            EmployeeRow.lookupKey = 'Northwind.Employee';
            function getLookup() {
                return Q.getLookup('Northwind.Employee');
            }
            EmployeeRow.getLookup = getLookup;
            EmployeeRow.deletePermission = 'Northwind:General';
            EmployeeRow.insertPermission = 'Northwind:General';
            EmployeeRow.readPermission = 'Northwind:General';
            EmployeeRow.updatePermission = 'Northwind:General';
        })(EmployeeRow = Northwind.EmployeeRow || (Northwind.EmployeeRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var EmployeeTerritoryRow;
        (function (EmployeeTerritoryRow) {
            EmployeeTerritoryRow.idProperty = 'EmployeeID';
            EmployeeTerritoryRow.nameProperty = 'TerritoryID';
            EmployeeTerritoryRow.localTextPrefix = 'Northwind.EmployeeTerritory';
            EmployeeTerritoryRow.deletePermission = 'Northwind:General';
            EmployeeTerritoryRow.insertPermission = 'Northwind:General';
            EmployeeTerritoryRow.readPermission = 'Northwind:General';
            EmployeeTerritoryRow.updatePermission = 'Northwind:General';
        })(EmployeeTerritoryRow = Northwind.EmployeeTerritoryRow || (Northwind.EmployeeTerritoryRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var Gender;
        (function (Gender) {
            Gender[Gender["Male"] = 1] = "Male";
            Gender[Gender["Female"] = 2] = "Female";
        })(Gender = Northwind.Gender || (Northwind.Gender = {}));
        Serenity.Decorators.registerEnumType(Gender, 'SerExtraCore.Northwind.Gender', 'SerExtraCore.Northwind.Entities.Gender');
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var NoteRow;
        (function (NoteRow) {
            NoteRow.idProperty = 'NoteId';
            NoteRow.nameProperty = 'EntityType';
            NoteRow.localTextPrefix = 'Northwind.Note';
            NoteRow.deletePermission = 'Northwind:General';
            NoteRow.insertPermission = 'Northwind:General';
            NoteRow.readPermission = 'Northwind:General';
            NoteRow.updatePermission = 'Northwind:General';
        })(NoteRow = Northwind.NoteRow || (Northwind.NoteRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDetailForm = /** @class */ (function (_super) {
            __extends(OrderDetailForm, _super);
            function OrderDetailForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!OrderDetailForm.init) {
                    OrderDetailForm.init = true;
                    var s = Serenity;
                    var w0 = s.LookupEditor;
                    var w1 = s.DecimalEditor;
                    var w2 = s.IntegerEditor;
                    Q.initFormType(OrderDetailForm, [
                        'ProductID', w0,
                        'UnitPrice', w1,
                        'Quantity', w2,
                        'Discount', w1
                    ]);
                }
                return _this;
            }
            OrderDetailForm.formKey = 'Northwind.OrderDetail';
            return OrderDetailForm;
        }(Serenity.PrefixedContext));
        Northwind.OrderDetailForm = OrderDetailForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDetailRow;
        (function (OrderDetailRow) {
            OrderDetailRow.idProperty = 'DetailID';
            OrderDetailRow.localTextPrefix = 'Northwind.OrderDetail';
            OrderDetailRow.deletePermission = 'Northwind:General';
            OrderDetailRow.insertPermission = 'Northwind:General';
            OrderDetailRow.readPermission = 'Northwind:General';
            OrderDetailRow.updatePermission = 'Northwind:General';
        })(OrderDetailRow = Northwind.OrderDetailRow || (Northwind.OrderDetailRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDetailService;
        (function (OrderDetailService) {
            OrderDetailService.baseUrl = 'Northwind/OrderDetail';
            [
                'Retrieve',
                'List'
            ].forEach(function (x) {
                OrderDetailService[x] = function (r, s, o) {
                    return Q.serviceRequest(OrderDetailService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(OrderDetailService = Northwind.OrderDetailService || (Northwind.OrderDetailService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderForm = /** @class */ (function (_super) {
            __extends(OrderForm, _super);
            function OrderForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!OrderForm.init) {
                    OrderForm.init = true;
                    var s = Serenity;
                    var w0 = Northwind.CustomerEditor;
                    var w1 = s.DateEditor;
                    var w2 = s.LookupEditor;
                    var w3 = Northwind.OrderDetailsEditor;
                    var w4 = s.DecimalEditor;
                    var w5 = s.StringEditor;
                    Q.initFormType(OrderForm, [
                        'CustomerID', w0,
                        'OrderDate', w1,
                        'RequiredDate', w1,
                        'EmployeeID', w2,
                        'DetailList', w3,
                        'ShippedDate', w1,
                        'ShipVia', w2,
                        'Freight', w4,
                        'ShipName', w5,
                        'ShipAddress', w5,
                        'ShipCity', w5,
                        'ShipRegion', w5,
                        'ShipPostalCode', w5,
                        'ShipCountry', w5
                    ]);
                }
                return _this;
            }
            OrderForm.formKey = 'Northwind.Order';
            return OrderForm;
        }(Serenity.PrefixedContext));
        Northwind.OrderForm = OrderForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderRow;
        (function (OrderRow) {
            OrderRow.idProperty = 'OrderID';
            OrderRow.nameProperty = 'CustomerID';
            OrderRow.localTextPrefix = 'Northwind.Order';
            OrderRow.deletePermission = 'Northwind:General';
            OrderRow.insertPermission = 'Northwind:General';
            OrderRow.readPermission = 'Northwind:General';
            OrderRow.updatePermission = 'Northwind:General';
        })(OrderRow = Northwind.OrderRow || (Northwind.OrderRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderService;
        (function (OrderService) {
            OrderService.baseUrl = 'Northwind/Order';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                OrderService[x] = function (r, s, o) {
                    return Q.serviceRequest(OrderService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(OrderService = Northwind.OrderService || (Northwind.OrderService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderShippingState;
        (function (OrderShippingState) {
            OrderShippingState[OrderShippingState["NotShipped"] = 0] = "NotShipped";
            OrderShippingState[OrderShippingState["Shipped"] = 1] = "Shipped";
        })(OrderShippingState = Northwind.OrderShippingState || (Northwind.OrderShippingState = {}));
        Serenity.Decorators.registerEnumType(OrderShippingState, 'SerExtraCore.Northwind.OrderShippingState', 'Northwind.OrderShippingState');
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductForm = /** @class */ (function (_super) {
            __extends(ProductForm, _super);
            function ProductForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ProductForm.init) {
                    ProductForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.ImageUploadEditor;
                    var w2 = s.BooleanEditor;
                    var w3 = s.LookupEditor;
                    var w4 = s.DecimalEditor;
                    var w5 = s.IntegerEditor;
                    Q.initFormType(ProductForm, [
                        'ProductName', w0,
                        'ProductImage', w1,
                        'Discontinued', w2,
                        'SupplierID', w3,
                        'CategoryID', w3,
                        'QuantityPerUnit', w0,
                        'UnitPrice', w4,
                        'UnitsInStock', w5,
                        'UnitsOnOrder', w5,
                        'ReorderLevel', w5
                    ]);
                }
                return _this;
            }
            ProductForm.formKey = 'Northwind.Product';
            return ProductForm;
        }(Serenity.PrefixedContext));
        Northwind.ProductForm = ProductForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductLangRow;
        (function (ProductLangRow) {
            ProductLangRow.idProperty = 'Id';
            ProductLangRow.nameProperty = 'ProductName';
            ProductLangRow.localTextPrefix = 'Northwind.ProductLang';
            ProductLangRow.deletePermission = 'Northwind:General';
            ProductLangRow.insertPermission = 'Northwind:General';
            ProductLangRow.readPermission = 'Northwind:General';
            ProductLangRow.updatePermission = 'Northwind:General';
        })(ProductLangRow = Northwind.ProductLangRow || (Northwind.ProductLangRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductLangService;
        (function (ProductLangService) {
            ProductLangService.baseUrl = 'Northwind/ProductLang';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                ProductLangService[x] = function (r, s, o) {
                    return Q.serviceRequest(ProductLangService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(ProductLangService = Northwind.ProductLangService || (Northwind.ProductLangService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductLogRow;
        (function (ProductLogRow) {
            ProductLogRow.idProperty = 'ProductLogID';
            ProductLogRow.localTextPrefix = 'Northwind.ProductLog';
            ProductLogRow.deletePermission = null;
            ProductLogRow.insertPermission = null;
            ProductLogRow.readPermission = '';
            ProductLogRow.updatePermission = null;
        })(ProductLogRow = Northwind.ProductLogRow || (Northwind.ProductLogRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductRow;
        (function (ProductRow) {
            ProductRow.idProperty = 'ProductID';
            ProductRow.nameProperty = 'ProductName';
            ProductRow.localTextPrefix = 'Northwind.Product';
            ProductRow.lookupKey = 'Northwind.Product';
            function getLookup() {
                return Q.getLookup('Northwind.Product');
            }
            ProductRow.getLookup = getLookup;
            ProductRow.deletePermission = 'Northwind:General';
            ProductRow.insertPermission = 'Northwind:General';
            ProductRow.readPermission = 'Northwind:General';
            ProductRow.updatePermission = 'Northwind:General';
        })(ProductRow = Northwind.ProductRow || (Northwind.ProductRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductService;
        (function (ProductService) {
            ProductService.baseUrl = 'Northwind/Product';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                ProductService[x] = function (r, s, o) {
                    return Q.serviceRequest(ProductService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(ProductService = Northwind.ProductService || (Northwind.ProductService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var RegionForm = /** @class */ (function (_super) {
            __extends(RegionForm, _super);
            function RegionForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!RegionForm.init) {
                    RegionForm.init = true;
                    var s = Serenity;
                    var w0 = s.IntegerEditor;
                    var w1 = s.StringEditor;
                    Q.initFormType(RegionForm, [
                        'RegionID', w0,
                        'RegionDescription', w1
                    ]);
                }
                return _this;
            }
            RegionForm.formKey = 'Northwind.Region';
            return RegionForm;
        }(Serenity.PrefixedContext));
        Northwind.RegionForm = RegionForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var RegionRow;
        (function (RegionRow) {
            RegionRow.idProperty = 'RegionID';
            RegionRow.nameProperty = 'RegionDescription';
            RegionRow.localTextPrefix = 'Northwind.Region';
            RegionRow.lookupKey = 'Northwind.Region';
            function getLookup() {
                return Q.getLookup('Northwind.Region');
            }
            RegionRow.getLookup = getLookup;
            RegionRow.deletePermission = 'Northwind:General';
            RegionRow.insertPermission = 'Northwind:General';
            RegionRow.readPermission = 'Northwind:General';
            RegionRow.updatePermission = 'Northwind:General';
        })(RegionRow = Northwind.RegionRow || (Northwind.RegionRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var RegionService;
        (function (RegionService) {
            RegionService.baseUrl = 'Northwind/Region';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                RegionService[x] = function (r, s, o) {
                    return Q.serviceRequest(RegionService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(RegionService = Northwind.RegionService || (Northwind.RegionService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SalesByCategoryRow;
        (function (SalesByCategoryRow) {
            SalesByCategoryRow.nameProperty = 'CategoryName';
            SalesByCategoryRow.localTextPrefix = 'Northwind.SalesByCategory';
            SalesByCategoryRow.deletePermission = 'Northwind:General';
            SalesByCategoryRow.insertPermission = 'Northwind:General';
            SalesByCategoryRow.readPermission = 'Northwind:General';
            SalesByCategoryRow.updatePermission = 'Northwind:General';
        })(SalesByCategoryRow = Northwind.SalesByCategoryRow || (Northwind.SalesByCategoryRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SalesByCategoryService;
        (function (SalesByCategoryService) {
            SalesByCategoryService.baseUrl = 'Northwind/SalesByCategory';
            [
                'List'
            ].forEach(function (x) {
                SalesByCategoryService[x] = function (r, s, o) {
                    return Q.serviceRequest(SalesByCategoryService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(SalesByCategoryService = Northwind.SalesByCategoryService || (Northwind.SalesByCategoryService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperForm = /** @class */ (function (_super) {
            __extends(ShipperForm, _super);
            function ShipperForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!ShipperForm.init) {
                    ShipperForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = Northwind.PhoneEditor;
                    Q.initFormType(ShipperForm, [
                        'CompanyName', w0,
                        'Phone', w1
                    ]);
                }
                return _this;
            }
            ShipperForm.formKey = 'Northwind.Shipper';
            return ShipperForm;
        }(Serenity.PrefixedContext));
        Northwind.ShipperForm = ShipperForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperRow;
        (function (ShipperRow) {
            ShipperRow.idProperty = 'ShipperID';
            ShipperRow.nameProperty = 'CompanyName';
            ShipperRow.localTextPrefix = 'Northwind.Shipper';
            ShipperRow.lookupKey = 'Northwind.Shipper';
            function getLookup() {
                return Q.getLookup('Northwind.Shipper');
            }
            ShipperRow.getLookup = getLookup;
            ShipperRow.deletePermission = 'Northwind:General';
            ShipperRow.insertPermission = 'Northwind:General';
            ShipperRow.readPermission = 'Northwind:General';
            ShipperRow.updatePermission = 'Northwind:General';
        })(ShipperRow = Northwind.ShipperRow || (Northwind.ShipperRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperService;
        (function (ShipperService) {
            ShipperService.baseUrl = 'Northwind/Shipper';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                ShipperService[x] = function (r, s, o) {
                    return Q.serviceRequest(ShipperService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(ShipperService = Northwind.ShipperService || (Northwind.ShipperService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SupplierForm = /** @class */ (function (_super) {
            __extends(SupplierForm, _super);
            function SupplierForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!SupplierForm.init) {
                    SupplierForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    Q.initFormType(SupplierForm, [
                        'CompanyName', w0,
                        'ContactName', w0,
                        'ContactTitle', w0,
                        'Address', w0,
                        'Region', w0,
                        'PostalCode', w0,
                        'Country', w0,
                        'City', w0,
                        'Phone', w0,
                        'Fax', w0,
                        'HomePage', w0
                    ]);
                }
                return _this;
            }
            SupplierForm.formKey = 'Northwind.Supplier';
            return SupplierForm;
        }(Serenity.PrefixedContext));
        Northwind.SupplierForm = SupplierForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SupplierRow;
        (function (SupplierRow) {
            SupplierRow.idProperty = 'SupplierID';
            SupplierRow.nameProperty = 'CompanyName';
            SupplierRow.localTextPrefix = 'Northwind.Supplier';
            SupplierRow.lookupKey = 'Northwind.Supplier';
            function getLookup() {
                return Q.getLookup('Northwind.Supplier');
            }
            SupplierRow.getLookup = getLookup;
            SupplierRow.deletePermission = 'Northwind:General';
            SupplierRow.insertPermission = 'Northwind:General';
            SupplierRow.readPermission = 'Northwind:General';
            SupplierRow.updatePermission = 'Northwind:General';
        })(SupplierRow = Northwind.SupplierRow || (Northwind.SupplierRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SupplierService;
        (function (SupplierService) {
            SupplierService.baseUrl = 'Northwind/Supplier';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                SupplierService[x] = function (r, s, o) {
                    return Q.serviceRequest(SupplierService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(SupplierService = Northwind.SupplierService || (Northwind.SupplierService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var TerritoryForm = /** @class */ (function (_super) {
            __extends(TerritoryForm, _super);
            function TerritoryForm(prefix) {
                var _this = _super.call(this, prefix) || this;
                if (!TerritoryForm.init) {
                    TerritoryForm.init = true;
                    var s = Serenity;
                    var w0 = s.StringEditor;
                    var w1 = s.LookupEditor;
                    Q.initFormType(TerritoryForm, [
                        'TerritoryID', w0,
                        'TerritoryDescription', w0,
                        'RegionID', w1
                    ]);
                }
                return _this;
            }
            TerritoryForm.formKey = 'Northwind.Territory';
            return TerritoryForm;
        }(Serenity.PrefixedContext));
        Northwind.TerritoryForm = TerritoryForm;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var TerritoryRow;
        (function (TerritoryRow) {
            TerritoryRow.idProperty = 'ID';
            TerritoryRow.nameProperty = 'TerritoryID';
            TerritoryRow.localTextPrefix = 'Northwind.Territory';
            TerritoryRow.lookupKey = 'Northwind.Territory';
            function getLookup() {
                return Q.getLookup('Northwind.Territory');
            }
            TerritoryRow.getLookup = getLookup;
            TerritoryRow.deletePermission = 'Northwind:General';
            TerritoryRow.insertPermission = 'Northwind:General';
            TerritoryRow.readPermission = 'Northwind:General';
            TerritoryRow.updatePermission = 'Northwind:General';
        })(TerritoryRow = Northwind.TerritoryRow || (Northwind.TerritoryRow = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var TerritoryService;
        (function (TerritoryService) {
            TerritoryService.baseUrl = 'Northwind/Territory';
            [
                'Create',
                'Update',
                'Delete',
                'Retrieve',
                'List'
            ].forEach(function (x) {
                TerritoryService[x] = function (r, s, o) {
                    return Q.serviceRequest(TerritoryService.baseUrl + '/' + x, r, s, o);
                };
            });
        })(TerritoryService = Northwind.TerritoryService || (Northwind.TerritoryService = {}));
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Texts;
    (function (Texts) {
        SerExtraCore['Texts'] = Q.proxyTexts(Texts, '', { Db: { Administration: { Language: { Id: 1, LanguageId: 1, LanguageName: 1 }, Role: { RoleId: 1, RoleName: 1 }, RolePermission: { PermissionKey: 1, RoleId: 1, RolePermissionId: 1, RoleRoleName: 1 }, Translation: { CustomText: 1, EntityPlural: 1, Key: 1, OverrideConfirmation: 1, SaveChangesButton: 1, SourceLanguage: 1, SourceText: 1, TargetLanguage: 1, TargetText: 1 }, User: { DisplayName: 1, Email: 1, InsertDate: 1, InsertUserId: 1, IsActive: 1, LastDirectoryUpdate: 1, Password: 1, PasswordConfirm: 1, PasswordHash: 1, PasswordSalt: 1, Source: 1, UpdateDate: 1, UpdateUserId: 1, UserId: 1, UserImage: 1, Username: 1 }, UserPermission: { Granted: 1, PermissionKey: 1, User: 1, UserId: 1, UserPermissionId: 1, Username: 1 }, UserRole: { RoleId: 1, User: 1, UserId: 1, UserRoleId: 1, Username: 1 } }, Common: { UserPreference: { Name: 1, PreferenceType: 1, UserId: 1, UserPreferenceId: 1, Value: 1 } }, Northwind: { Category: { CategoryID: 1, CategoryName: 1, Description: 1, Picture: 1 }, CategoryLang: { CategoryId: 1, CategoryName: 1, Description: 1, Id: 1, LanguageId: 1 }, Customer: { Address: 1, City: 1, CompanyName: 1, ContactName: 1, ContactTitle: 1, Country: 1, CustomerID: 1, Email: 1, Fax: 1, ID: 1, LastContactDate: 1, LastContactedBy: 1, NoteList: 1, Phone: 1, PostalCode: 1, Region: 1, Representatives: 1, SendBulletin: 1 }, CustomerCustomerDemo: { CustomerAddress: 1, CustomerCity: 1, CustomerCompanyName: 1, CustomerContactName: 1, CustomerContactTitle: 1, CustomerCountry: 1, CustomerFax: 1, CustomerID: 1, CustomerPhone: 1, CustomerPostalCode: 1, CustomerRegion: 1, CustomerTypeCustomerDesc: 1, CustomerTypeID: 1, ID: 1 }, CustomerDemographic: { CustomerDesc: 1, CustomerTypeID: 1, ID: 1 }, CustomerDetails: { Email: 1, Id: 1, LastContactDate: 1, LastContactedBy: 1, LastContactedByAddress: 1, LastContactedByBirthDate: 1, LastContactedByCity: 1, LastContactedByCountry: 1, LastContactedByExtension: 1, LastContactedByFirstName: 1, LastContactedByHireDate: 1, LastContactedByHomePhone: 1, LastContactedByLastName: 1, LastContactedByNotes: 1, LastContactedByPhoto: 1, LastContactedByPhotoPath: 1, LastContactedByPostalCode: 1, LastContactedByRegion: 1, LastContactedByReportsTo: 1, LastContactedByTitle: 1, LastContactedByTitleOfCourtesy: 1, SendBulletin: 1 }, CustomerGrossSales: { ContactName: 1, CustomerId: 1, GrossAmount: 1, ProductId: 1, ProductName: 1 }, CustomerRepresentatives: { CustomerId: 1, EmployeeId: 1, RepresentativeId: 1 }, DragDropSample: { Id: 1, ParentId: 1, Title: 1 }, Employee: { Address: 1, BirthDate: 1, City: 1, Country: 1, EmployeeID: 1, Extension: 1, FirstName: 1, FullName: 1, Gender: 1, HireDate: 1, HomePhone: 1, LastName: 1, Notes: 1, Photo: 1, PhotoPath: 1, PostalCode: 1, Region: 1, ReportsTo: 1, ReportsToAddress: 1, ReportsToBirthDate: 1, ReportsToCity: 1, ReportsToCountry: 1, ReportsToExtension: 1, ReportsToFirstName: 1, ReportsToFullName: 1, ReportsToHireDate: 1, ReportsToHomePhone: 1, ReportsToLastName: 1, ReportsToNotes: 1, ReportsToPhoto: 1, ReportsToPhotoPath: 1, ReportsToPostalCode: 1, ReportsToRegion: 1, ReportsToReportsTo: 1, ReportsToTitle: 1, ReportsToTitleOfCourtesy: 1, Title: 1, TitleOfCourtesy: 1 }, EmployeeTerritory: { EmployeeAddress: 1, EmployeeBirthDate: 1, EmployeeCity: 1, EmployeeCountry: 1, EmployeeExtension: 1, EmployeeFirstName: 1, EmployeeHireDate: 1, EmployeeHomePhone: 1, EmployeeID: 1, EmployeeLastName: 1, EmployeeNotes: 1, EmployeePhoto: 1, EmployeePhotoPath: 1, EmployeePostalCode: 1, EmployeeRegion: 1, EmployeeReportsTo: 1, EmployeeTitle: 1, EmployeeTitleOfCourtesy: 1, TerritoryID: 1, TerritoryRegionID: 1, TerritoryTerritoryDescription: 1 }, Note: { EntityId: 1, EntityType: 1, InsertDate: 1, InsertUserDisplayName: 1, InsertUserId: 1, NoteId: 1, Text: 1 }, Order: { CustomerCity: 1, CustomerCompanyName: 1, CustomerContactName: 1, CustomerContactTitle: 1, CustomerCountry: 1, CustomerFax: 1, CustomerID: 1, CustomerPhone: 1, CustomerRegion: 1, DetailList: 1, EmployeeFullName: 1, EmployeeGender: 1, EmployeeID: 1, EmployeeReportsToFullName: 1, Freight: 1, OrderDate: 1, OrderID: 1, RequiredDate: 1, ShipAddress: 1, ShipCity: 1, ShipCountry: 1, ShipName: 1, ShipPostalCode: 1, ShipRegion: 1, ShipVia: 1, ShipViaCompanyName: 1, ShipViaPhone: 1, ShippedDate: 1, ShippingState: 1 }, OrderDetail: { DetailID: 1, Discount: 1, LineTotal: 1, OrderCustomerID: 1, OrderDate: 1, OrderEmployeeID: 1, OrderID: 1, OrderShipCity: 1, OrderShipCountry: 1, OrderShipVia: 1, OrderShippedDate: 1, ProductDiscontinued: 1, ProductID: 1, ProductName: 1, ProductQuantityPerUnit: 1, ProductSupplierID: 1, ProductUnitPrice: 1, Quantity: 1, UnitPrice: 1 }, Product: { CategoryDescription: 1, CategoryID: 1, CategoryName: 1, CategoryPicture: 1, Discontinued: 1, ProductID: 1, ProductImage: 1, ProductName: 1, QuantityPerUnit: 1, ReorderLevel: 1, SupplierAddress: 1, SupplierCity: 1, SupplierCompanyName: 1, SupplierContactName: 1, SupplierContactTitle: 1, SupplierCountry: 1, SupplierFax: 1, SupplierHomePage: 1, SupplierID: 1, SupplierPhone: 1, SupplierPostalCode: 1, SupplierRegion: 1, UnitPrice: 1, UnitsInStock: 1, UnitsOnOrder: 1 }, ProductLang: { Id: 1, LanguageId: 1, ProductId: 1, ProductName: 1 }, ProductLog: { CategoryID: 1, ChangingUserId: 1, Discontinued: 1, OperationType: 1, ProductID: 1, ProductImage: 1, ProductLogID: 1, ProductName: 1, QuantityPerUnit: 1, ReorderLevel: 1, SupplierID: 1, UnitPrice: 1, UnitsInStock: 1, UnitsOnOrder: 1, ValidFrom: 1, ValidUntil: 1 }, Region: { RegionDescription: 1, RegionID: 1 }, SalesByCategory: { CategoryId: 1, CategoryName: 1, ProductName: 1, ProductSales: 1 }, Shipper: { CompanyName: 1, Phone: 1, ShipperID: 1 }, Supplier: { Address: 1, City: 1, CompanyName: 1, ContactName: 1, ContactTitle: 1, Country: 1, Fax: 1, HomePage: 1, Phone: 1, PostalCode: 1, Region: 1, SupplierID: 1 }, Territory: { ID: 1, RegionDescription: 1, RegionID: 1, TerritoryDescription: 1, TerritoryID: 1 } }, _Ext: { AuditLog: { ActionDate: 1, ActionType: 1, EntityId: 1, EntityTableName: 1, Id: 1, IpAddress: 1, NewEntity: 1, OldEntity: 1, SessionId: 1, UserId: 1, VersionNo: 1 } } }, Forms: { Membership: { ChangePassword: { FormTitle: 1, SubmitButton: 1, Success: 1 }, ForgotPassword: { BackToLogin: 1, FormInfo: 1, FormTitle: 1, SubmitButton: 1, Success: 1 }, Login: { FacebookButton: 1, ForgotPassword: 1, FormTitle: 1, GoogleButton: 1, OR: 1, RememberMe: 1, SignInButton: 1, SignUpButton: 1 }, ResetPassword: { BackToLogin: 1, EmailSubject: 1, FormTitle: 1, SubmitButton: 1, Success: 1 }, SignUp: { AcceptTerms: 1, ActivateEmailSubject: 1, ActivationCompleteMessage: 1, BackToLogin: 1, ConfirmEmail: 1, ConfirmPassword: 1, DisplayName: 1, Email: 1, FormInfo: 1, FormTitle: 1, Password: 1, SubmitButton: 1, Success: 1 } } }, Site: { AccessDenied: { ClickToChangeUser: 1, ClickToLogin: 1, LackPermissions: 1, NotLoggedIn: 1, PageTitle: 1 }, BasicProgressDialog: { CancelTitle: 1, PleaseWait: 1 }, BulkServiceAction: { AllHadErrorsFormat: 1, AllSuccessFormat: 1, ConfirmationFormat: 1, ErrorCount: 1, NothingToProcess: 1, SomeHadErrorsFormat: 1, SuccessCount: 1 }, Dashboard: { ContentDescription: 1 }, Layout: { FooterCopyright: 1, FooterInfo: 1, FooterRights: 1, GeneralSettings: 1, Language: 1, Theme: 1, ThemeBlack: 1, ThemeBlackLight: 1, ThemeBlue: 1, ThemeBlueLight: 1, ThemeGreen: 1, ThemeGreenLight: 1, ThemePurple: 1, ThemePurpleLight: 1, ThemeRed: 1, ThemeRedLight: 1, ThemeYellow: 1, ThemeYellowLight: 1 }, RolePermissionDialog: { DialogTitle: 1, EditButton: 1, SaveSuccess: 1 }, UserDialog: { EditPermissionsButton: 1, EditRolesButton: 1 }, UserPermissionDialog: { DialogTitle: 1, Grant: 1, Permission: 1, Revoke: 1, SaveSuccess: 1 }, UserRoleDialog: { DialogTitle: 1, SaveSuccess: 1 }, ValidationError: { Title: 1 } }, Validation: { AuthenticationError: 1, CantFindUserWithEmail: 1, CurrentPasswordMismatch: 1, DeleteForeignKeyError: 1, EmailConfirm: 1, EmailInUse: 1, InvalidActivateToken: 1, InvalidResetToken: 1, MinRequiredPasswordLength: 1, NorthwindPhone: 1, NorthwindPhoneMultiple: 1, SavePrimaryKeyError: 1 } });
    })(Texts = SerExtraCore.Texts || (SerExtraCore.Texts = {}));
})(SerExtraCore || (SerExtraCore = {}));
var _Ext;
(function (_Ext) {
    var AuditActionType;
    (function (AuditActionType) {
        AuditActionType[AuditActionType["Insert"] = 1] = "Insert";
        AuditActionType[AuditActionType["Update"] = 2] = "Update";
        AuditActionType[AuditActionType["Delete"] = 3] = "Delete";
    })(AuditActionType = _Ext.AuditActionType || (_Ext.AuditActionType = {}));
    Serenity.Decorators.registerEnumType(AuditActionType, '_Ext.AuditActionType', 'Enum.Audit.AuditActionType');
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogForm = /** @class */ (function (_super) {
        __extends(AuditLogForm, _super);
        function AuditLogForm(prefix) {
            var _this = _super.call(this, prefix) || this;
            if (!AuditLogForm.init) {
                AuditLogForm.init = true;
                var s = Serenity;
                var w0 = s.StringEditor;
                var w1 = s.IntegerEditor;
                var w2 = s.LookupEditor;
                var w3 = s.EnumEditor;
                var w4 = s.DateTimeEditor;
                var w5 = _Ext.StaticTextBlock;
                Q.initFormType(AuditLogForm, [
                    'EntityTableName', w0,
                    'VersionNo', w1,
                    'UserId', w2,
                    'ActionType', w3,
                    'ActionDate', w4,
                    'EntityId', w1,
                    'OldEntity', w0,
                    'NewEntity', w0,
                    'Differences', w5,
                    'IpAddress', w0,
                    'SessionId', w0
                ]);
            }
            return _this;
        }
        AuditLogForm.formKey = '_Ext.AuditLog';
        return AuditLogForm;
    }(Serenity.PrefixedContext));
    _Ext.AuditLogForm = AuditLogForm;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogRow;
    (function (AuditLogRow) {
        AuditLogRow.idProperty = 'Id';
        AuditLogRow.nameProperty = 'EntityTableName';
        AuditLogRow.localTextPrefix = '_Ext.AuditLog';
        AuditLogRow.deletePermission = 'Administration:AuditLog';
        AuditLogRow.insertPermission = 'Administration:AuditLog';
        AuditLogRow.readPermission = 'Administration:AuditLog';
        AuditLogRow.updatePermission = 'Administration:AuditLog';
    })(AuditLogRow = _Ext.AuditLogRow || (_Ext.AuditLogRow = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogService;
    (function (AuditLogService) {
        AuditLogService.baseUrl = '_Ext/AuditLog';
        [
            'Create',
            'Update',
            'Delete',
            'Retrieve',
            'List'
        ].forEach(function (x) {
            AuditLogService[x] = function (r, s, o) {
                return Q.serviceRequest(AuditLogService.baseUrl + '/' + x, r, s, o);
            };
        });
    })(AuditLogService = _Ext.AuditLogService || (_Ext.AuditLogService = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogViewerService;
    (function (AuditLogViewerService) {
        AuditLogViewerService.baseUrl = 'AuditLogViewer';
        [
            'List'
        ].forEach(function (x) {
            AuditLogViewerService[x] = function (r, s, o) {
                return Q.serviceRequest(AuditLogViewerService.baseUrl + '/' + x, r, s, o);
            };
        });
    })(AuditLogViewerService = _Ext.AuditLogViewerService || (_Ext.AuditLogViewerService = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var Months;
    (function (Months) {
        Months[Months["January"] = 0] = "January";
        Months[Months["February"] = 1] = "February";
        Months[Months["March"] = 2] = "March";
        Months[Months["April"] = 3] = "April";
        Months[Months["May"] = 4] = "May";
        Months[Months["June"] = 5] = "June";
        Months[Months["July"] = 6] = "July";
        Months[Months["August"] = 7] = "August";
        Months[Months["September"] = 8] = "September";
        Months[Months["October"] = 9] = "October";
        Months[Months["November"] = 10] = "November";
        Months[Months["December"] = 11] = "December";
    })(Months = _Ext.Months || (_Ext.Months = {}));
    Serenity.Decorators.registerEnumType(Months, '_Ext.Months', 'Months');
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ReplaceRowForm = /** @class */ (function (_super) {
        __extends(ReplaceRowForm, _super);
        function ReplaceRowForm(prefix) {
            var _this = _super.call(this, prefix) || this;
            if (!ReplaceRowForm.init) {
                ReplaceRowForm.init = true;
                var s = Serenity;
                var w0 = s.StringEditor;
                var w1 = _Ext.EmptyLookupEditor;
                Q.initFormType(ReplaceRowForm, [
                    'DeletedEntityName', w0,
                    'ReplaceWithEntityId', w1
                ]);
            }
            return _this;
        }
        ReplaceRowForm.formKey = '_Ext.ReplaceRow';
        return ReplaceRowForm;
    }(Serenity.PrefixedContext));
    _Ext.ReplaceRowForm = ReplaceRowForm;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ReplaceRowService;
    (function (ReplaceRowService) {
        ReplaceRowService.baseUrl = 'ReplaceRow';
        [
            'Replace'
        ].forEach(function (x) {
            ReplaceRowService[x] = function (r, s, o) {
                return Q.serviceRequest(ReplaceRowService.baseUrl + '/' + x, r, s, o);
            };
        });
    })(ReplaceRowService = _Ext.ReplaceRowService || (_Ext.ReplaceRowService = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var TimeUoM;
    (function (TimeUoM) {
        TimeUoM[TimeUoM["Hour"] = 1] = "Hour";
        TimeUoM[TimeUoM["Day"] = 2] = "Day";
        TimeUoM[TimeUoM["Week"] = 3] = "Week";
        TimeUoM[TimeUoM["Month"] = 4] = "Month";
        TimeUoM[TimeUoM["CalenderMonth"] = 5] = "CalenderMonth";
        TimeUoM[TimeUoM["Year"] = 6] = "Year";
    })(TimeUoM = _Ext.TimeUoM || (_Ext.TimeUoM = {}));
    Serenity.Decorators.registerEnumType(TimeUoM, '_Ext.TimeUoM', 'TimeUoM');
})(_Ext || (_Ext = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var LanguageDialog = /** @class */ (function (_super) {
            __extends(LanguageDialog, _super);
            function LanguageDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Administration.LanguageForm(_this.idPrefix);
                return _this;
            }
            LanguageDialog.prototype.getFormKey = function () { return Administration.LanguageForm.formKey; };
            LanguageDialog.prototype.getIdProperty = function () { return Administration.LanguageRow.idProperty; };
            LanguageDialog.prototype.getLocalTextPrefix = function () { return Administration.LanguageRow.localTextPrefix; };
            LanguageDialog.prototype.getNameProperty = function () { return Administration.LanguageRow.nameProperty; };
            LanguageDialog.prototype.getService = function () { return Administration.LanguageService.baseUrl; };
            LanguageDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], LanguageDialog);
            return LanguageDialog;
        }(Serenity.EntityDialog));
        Administration.LanguageDialog = LanguageDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var LanguageGrid = /** @class */ (function (_super) {
            __extends(LanguageGrid, _super);
            function LanguageGrid(container) {
                return _super.call(this, container) || this;
            }
            LanguageGrid.prototype.getColumnsKey = function () { return "Administration.Language"; };
            LanguageGrid.prototype.getDialogType = function () { return Administration.LanguageDialog; };
            LanguageGrid.prototype.getIdProperty = function () { return Administration.LanguageRow.idProperty; };
            LanguageGrid.prototype.getLocalTextPrefix = function () { return Administration.LanguageRow.localTextPrefix; };
            LanguageGrid.prototype.getService = function () { return Administration.LanguageService.baseUrl; };
            LanguageGrid.prototype.getDefaultSortBy = function () {
                return ["LanguageName" /* LanguageName */];
            };
            LanguageGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], LanguageGrid);
            return LanguageGrid;
        }(Serenity.EntityGrid));
        Administration.LanguageGrid = LanguageGrid;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleDialog = /** @class */ (function (_super) {
            __extends(RoleDialog, _super);
            function RoleDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Administration.RoleForm(_this.idPrefix);
                return _this;
            }
            RoleDialog.prototype.getFormKey = function () { return Administration.RoleForm.formKey; };
            RoleDialog.prototype.getIdProperty = function () { return Administration.RoleRow.idProperty; };
            RoleDialog.prototype.getLocalTextPrefix = function () { return Administration.RoleRow.localTextPrefix; };
            RoleDialog.prototype.getNameProperty = function () { return Administration.RoleRow.nameProperty; };
            RoleDialog.prototype.getService = function () { return Administration.RoleService.baseUrl; };
            RoleDialog.prototype.getToolbarButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getToolbarButtons.call(this);
                buttons.push({
                    title: Q.text('Site.RolePermissionDialog.EditButton'),
                    cssClass: 'edit-permissions-button',
                    icon: 'fa-lock text-green',
                    onClick: function () {
                        new Administration.RolePermissionDialog({
                            roleID: _this.entity.RoleId,
                            title: _this.entity.RoleName
                        }).dialogOpen();
                    }
                });
                return buttons;
            };
            RoleDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                this.toolbar.findButton("edit-permissions-button").toggleClass("disabled", this.isNewOrDeleted());
            };
            RoleDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], RoleDialog);
            return RoleDialog;
        }(Serenity.EntityDialog));
        Administration.RoleDialog = RoleDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleGrid = /** @class */ (function (_super) {
            __extends(RoleGrid, _super);
            function RoleGrid(container) {
                return _super.call(this, container) || this;
            }
            RoleGrid.prototype.getColumnsKey = function () { return "Administration.Role"; };
            RoleGrid.prototype.getDialogType = function () { return Administration.RoleDialog; };
            RoleGrid.prototype.getIdProperty = function () { return Administration.RoleRow.idProperty; };
            RoleGrid.prototype.getLocalTextPrefix = function () { return Administration.RoleRow.localTextPrefix; };
            RoleGrid.prototype.getService = function () { return Administration.RoleService.baseUrl; };
            RoleGrid.prototype.getDefaultSortBy = function () {
                return ["RoleName" /* RoleName */];
            };
            RoleGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], RoleGrid);
            return RoleGrid;
        }(Serenity.EntityGrid));
        Administration.RoleGrid = RoleGrid;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RolePermissionDialog = /** @class */ (function (_super) {
            __extends(RolePermissionDialog, _super);
            function RolePermissionDialog(opt) {
                var _this = _super.call(this, opt) || this;
                _this.permissions = new Administration.PermissionCheckEditor(_this.byId('Permissions'), {
                    showRevoke: false
                });
                Administration.RolePermissionService.List({
                    RoleID: _this.options.roleID,
                    Module: null,
                    Submodule: null
                }, function (response) {
                    _this.permissions.value = response.Entities.map(function (x) { return ({ PermissionKey: x }); });
                });
                _this.permissions.implicitPermissions = Q.getRemoteData('Administration.ImplicitPermissions');
                return _this;
            }
            RolePermissionDialog.prototype.getDialogOptions = function () {
                var _this = this;
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.buttons = [
                    {
                        text: Q.text('Dialogs.OkButton'),
                        click: function (e) {
                            Administration.RolePermissionService.Update({
                                RoleID: _this.options.roleID,
                                Permissions: _this.permissions.value.map(function (x) { return x.PermissionKey; }),
                                Module: null,
                                Submodule: null
                            }, function (response) {
                                _this.dialogClose();
                                window.setTimeout(function () { return Q.notifySuccess(Q.text('Site.RolePermissionDialog.SaveSuccess')); }, 0);
                            });
                        }
                    }, {
                        text: Q.text('Dialogs.CancelButton'),
                        click: function () { return _this.dialogClose(); }
                    }
                ];
                opt.title = Q.format(Q.text('Site.RolePermissionDialog.DialogTitle'), this.options.title);
                return opt;
            };
            RolePermissionDialog.prototype.getTemplate = function () {
                return '<div id="~_Permissions"></div>';
            };
            RolePermissionDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], RolePermissionDialog);
            return RolePermissionDialog;
        }(Serenity.TemplatedDialog));
        Administration.RolePermissionDialog = RolePermissionDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var SergenPanel = /** @class */ (function (_super) {
            __extends(SergenPanel, _super);
            function SergenPanel(container) {
                var _this = _super.call(this, container) || this;
                var vm = new Vue({
                    el: $('<div/>').appendTo(_this.element)[0],
                    data: {
                        connection: "",
                        connections: [],
                        tables: [],
                        generate: {
                            Row: true,
                            Service: true,
                            UI: true
                        }
                    },
                    methods: {
                        generateCode: function (table) {
                            if (!table.Identifier) {
                                Q.notifyError("Identifier cannot be empty!");
                                return;
                            }
                            if (!table.Module) {
                                Q.notifyError("Module cannot be empty!");
                                return;
                            }
                            Administration.SergenService.Generate({
                                ConnectionKey: this.connection,
                                Table: table,
                                GenerateOptions: this.generate
                            }, function (r) {
                                Q.notifySuccess("Code for selected table is generated. You'll need to rebuild your project.");
                            });
                        }
                    },
                    watch: {
                        connection: function (val) {
                            if (!val || !val.length)
                                vm.tables = [];
                            else
                                Administration.SergenService.ListTables({
                                    ConnectionKey: val
                                }, function (response) { return vm.tables = response.Entities; });
                        }
                    },
                    template: Q.getTemplate('Administration.SergenPanel')
                });
                Administration.SergenService.ListConnections({}, function (response) { return vm.connections = response.Entities; });
                return _this;
            }
            return SergenPanel;
        }(Serenity.Widget));
        Administration.SergenPanel = SergenPanel;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var TranslationGrid = /** @class */ (function (_super) {
            __extends(TranslationGrid, _super);
            function TranslationGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.element.on('keyup.' + _this.uniqueName + ' change.' + _this.uniqueName, 'input.custom-text', function (e) {
                    var value = Q.trimToNull($(e.target).val());
                    if (value === '') {
                        value = null;
                    }
                    _this.view.getItemById($(e.target).data('key')).CustomText = value;
                    _this.hasChanges = true;
                });
                return _this;
            }
            TranslationGrid.prototype.getIdProperty = function () { return "Key"; };
            TranslationGrid.prototype.getLocalTextPrefix = function () { return "Administration.Translation"; };
            TranslationGrid.prototype.getService = function () { return Administration.TranslationService.baseUrl; };
            TranslationGrid.prototype.onClick = function (e, row, cell) {
                var _this = this;
                _super.prototype.onClick.call(this, e, row, cell);
                if (e.isDefaultPrevented()) {
                    return;
                }
                var item = this.itemAt(row);
                var done;
                if ($(e.target).hasClass('source-text')) {
                    e.preventDefault();
                    done = function () {
                        item.CustomText = item.SourceText;
                        _this.view.updateItem(item.Key, item);
                        _this.hasChanges = true;
                    };
                    if (Q.isTrimmedEmpty(item.CustomText) ||
                        (Q.trimToEmpty(item.CustomText) === Q.trimToEmpty(item.SourceText))) {
                        done();
                        return;
                    }
                    Q.confirm(Q.text('Db.Administration.Translation.OverrideConfirmation'), done);
                    return;
                }
                if ($(e.target).hasClass('target-text')) {
                    e.preventDefault();
                    done = function () {
                        item.CustomText = item.TargetText;
                        _this.view.updateItem(item.Key, item);
                        _this.hasChanges = true;
                    };
                    if (Q.isTrimmedEmpty(item.CustomText) ||
                        (Q.trimToEmpty(item.CustomText) === Q.trimToEmpty(item.TargetText))) {
                        done();
                        return;
                    }
                    Q.confirm(Q.text('Db.Administration.Translation.OverrideConfirmation'), done);
                    return;
                }
            };
            TranslationGrid.prototype.getColumns = function () {
                var columns = [];
                columns.push({ field: 'Key', width: 300, sortable: false });
                columns.push({
                    field: 'SourceText',
                    width: 300,
                    sortable: false,
                    format: function (ctx) {
                        return Q.outerHtml($('<a/>')
                            .addClass('source-text')
                            .text(ctx.value || ''));
                    }
                });
                columns.push({
                    field: 'CustomText',
                    width: 300,
                    sortable: false,
                    format: function (ctx) { return Q.outerHtml($('<input/>')
                        .addClass('custom-text')
                        .attr('value', ctx.value)
                        .attr('type', 'text')
                        .attr('data-key', ctx.item.Key)); }
                });
                columns.push({
                    field: 'TargetText',
                    width: 300,
                    sortable: false,
                    format: function (ctx) { return Q.outerHtml($('<a/>')
                        .addClass('target-text')
                        .text(ctx.value || '')); }
                });
                return columns;
            };
            TranslationGrid.prototype.createToolbarExtensions = function () {
                var _this = this;
                _super.prototype.createToolbarExtensions.call(this);
                var opt = {
                    lookupKey: 'Administration.Language'
                };
                this.sourceLanguage = Serenity.Widget.create({
                    type: Serenity.LookupEditor,
                    element: function (el) { return el.appendTo(_this.toolbar.element).attr('placeholder', '--- ' +
                        Q.text('Db.Administration.Translation.SourceLanguage') + ' ---'); },
                    options: opt
                });
                this.sourceLanguage.changeSelect2(function (e) {
                    if (_this.hasChanges) {
                        _this.saveChanges(_this.targetLanguageKey).then(function () { return _this.refresh(); });
                    }
                    else {
                        _this.refresh();
                    }
                });
                this.targetLanguage = Serenity.Widget.create({
                    type: Serenity.LookupEditor,
                    element: function (el) { return el.appendTo(_this.toolbar.element).attr('placeholder', '--- ' +
                        Q.text('Db.Administration.Translation.TargetLanguage') + ' ---'); },
                    options: opt
                });
                this.targetLanguage.changeSelect2(function (e) {
                    if (_this.hasChanges) {
                        _this.saveChanges(_this.targetLanguageKey).then(function () { return _this.refresh(); });
                    }
                    else {
                        _this.refresh();
                    }
                });
            };
            TranslationGrid.prototype.saveChanges = function (language) {
                var _this = this;
                var translations = {};
                for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
                    var item = _a[_i];
                    translations[item.Key] = item.CustomText;
                }
                return Promise.resolve(Administration.TranslationService.Update({
                    TargetLanguageID: language,
                    Translations: translations
                })).then(function () {
                    _this.hasChanges = false;
                    language = Q.trimToNull(language) || 'invariant';
                    Q.notifySuccess('User translations in "' + language +
                        '" language are saved to "user.texts.' +
                        language + '.json" ' + 'file under "~/App_Data/texts/"', '');
                });
            };
            TranslationGrid.prototype.onViewSubmit = function () {
                var request = this.view.params;
                request.SourceLanguageID = this.sourceLanguage.value;
                this.targetLanguageKey = this.targetLanguage.value || '';
                request.TargetLanguageID = this.targetLanguageKey;
                this.hasChanges = false;
                return _super.prototype.onViewSubmit.call(this);
            };
            TranslationGrid.prototype.getButtons = function () {
                var _this = this;
                return [{
                        title: Q.text('Db.Administration.Translation.SaveChangesButton'),
                        onClick: function (e) { return _this.saveChanges(_this.targetLanguageKey).then(function () { return _this.refresh(); }); },
                        cssClass: 'apply-changes-button'
                    }];
            };
            TranslationGrid.prototype.createQuickSearchInput = function () {
                var _this = this;
                Serenity.GridUtils.addQuickSearchInputCustom(this.toolbar.element, function (field, searchText) {
                    _this.searchText = searchText;
                    _this.view.setItems(_this.view.getItems(), true);
                });
            };
            TranslationGrid.prototype.onViewFilter = function (item) {
                if (!_super.prototype.onViewFilter.call(this, item)) {
                    return false;
                }
                if (!this.searchText) {
                    return true;
                }
                var sd = Select2.util.stripDiacritics;
                var searching = sd(this.searchText).toLowerCase();
                function match(str) {
                    if (!str)
                        return false;
                    return str.toLowerCase().indexOf(searching) >= 0;
                }
                return Q.isEmptyOrNull(searching) || match(item.Key) || match(item.SourceText) ||
                    match(item.TargetText) || match(item.CustomText);
            };
            TranslationGrid.prototype.usePager = function () {
                return false;
            };
            TranslationGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], TranslationGrid);
            return TranslationGrid;
        }(Serenity.EntityGrid));
        Administration.TranslationGrid = TranslationGrid;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserDialog = /** @class */ (function (_super) {
            __extends(UserDialog, _super);
            function UserDialog() {
                var _this = _super.call(this) || this;
                _this.form = new Administration.UserForm(_this.idPrefix);
                _this.form.Password.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.Password.value.length < 7)
                        return "Password must be at least 7 characters!";
                });
                _this.form.PasswordConfirm.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.Password.value != _this.form.PasswordConfirm.value)
                        return "The passwords entered doesn't match!";
                });
                return _this;
            }
            UserDialog.prototype.getFormKey = function () { return Administration.UserForm.formKey; };
            UserDialog.prototype.getIdProperty = function () { return Administration.UserRow.idProperty; };
            UserDialog.prototype.getIsActiveProperty = function () { return Administration.UserRow.isActiveProperty; };
            UserDialog.prototype.getLocalTextPrefix = function () { return Administration.UserRow.localTextPrefix; };
            UserDialog.prototype.getNameProperty = function () { return Administration.UserRow.nameProperty; };
            UserDialog.prototype.getService = function () { return Administration.UserService.baseUrl; };
            UserDialog.prototype.getToolbarButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getToolbarButtons.call(this);
                buttons.push({
                    title: Q.text('Site.UserDialog.EditRolesButton'),
                    cssClass: 'edit-roles-button',
                    icon: 'fa-users text-blue',
                    onClick: function () {
                        new Administration.UserRoleDialog({
                            userID: _this.entity.UserId,
                            username: _this.entity.Username
                        }).dialogOpen();
                    }
                });
                buttons.push({
                    title: Q.text('Site.UserDialog.EditPermissionsButton'),
                    cssClass: 'edit-permissions-button',
                    icon: 'fa-lock text-green',
                    onClick: function () {
                        new Administration.UserPermissionDialog({
                            userID: _this.entity.UserId,
                            username: _this.entity.Username
                        }).dialogOpen();
                    }
                });
                return buttons;
            };
            UserDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                this.toolbar.findButton('edit-roles-button').toggleClass('disabled', this.isNewOrDeleted());
                this.toolbar.findButton("edit-permissions-button").toggleClass("disabled", this.isNewOrDeleted());
            };
            UserDialog.prototype.afterLoadEntity = function () {
                _super.prototype.afterLoadEntity.call(this);
                // these fields are only required in new record mode
                this.form.Password.element.toggleClass('required', this.isNew())
                    .closest('.field').find('sup').toggle(this.isNew());
                this.form.PasswordConfirm.element.toggleClass('required', this.isNew())
                    .closest('.field').find('sup').toggle(this.isNew());
            };
            UserDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], UserDialog);
            return UserDialog;
        }(Serenity.EntityDialog));
        Administration.UserDialog = UserDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserGrid = /** @class */ (function (_super) {
            __extends(UserGrid, _super);
            function UserGrid(container) {
                return _super.call(this, container) || this;
            }
            UserGrid.prototype.getColumnsKey = function () { return "Administration.User"; };
            UserGrid.prototype.getDialogType = function () { return Administration.UserDialog; };
            UserGrid.prototype.getIdProperty = function () { return Administration.UserRow.idProperty; };
            UserGrid.prototype.getIsActiveProperty = function () { return Administration.UserRow.isActiveProperty; };
            UserGrid.prototype.getLocalTextPrefix = function () { return Administration.UserRow.localTextPrefix; };
            UserGrid.prototype.getService = function () { return Administration.UserService.baseUrl; };
            UserGrid.prototype.getDefaultSortBy = function () {
                return ["Username" /* Username */];
            };
            UserGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], UserGrid);
            return UserGrid;
        }(Serenity.EntityGrid));
        Administration.UserGrid = UserGrid;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Authorization;
    (function (Authorization) {
        Object.defineProperty(Authorization, 'userDefinition', {
            get: function () {
                return Q.getRemoteData('UserData');
            }
        });
        function hasPermission(permissionKey) {
            var ud = Authorization.userDefinition;
            return ud.Username === 'admin' || !!ud.Permissions[permissionKey];
        }
        Authorization.hasPermission = hasPermission;
    })(Authorization = SerExtraCore.Authorization || (SerExtraCore.Authorization = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var PermissionCheckEditor = /** @class */ (function (_super) {
            __extends(PermissionCheckEditor, _super);
            function PermissionCheckEditor(container, opt) {
                var _this = _super.call(this, container, opt) || this;
                _this._rolePermissions = {};
                _this._implicitPermissions = {};
                var titleByKey = {};
                var permissionKeys = _this.getSortedGroupAndPermissionKeys(titleByKey);
                var items = permissionKeys.map(function (key) { return ({
                    Key: key,
                    ParentKey: _this.getParentKey(key),
                    Title: titleByKey[key],
                    GrantRevoke: null,
                    IsGroup: key.charAt(key.length - 1) === ':'
                }); });
                _this.byParentKey = Q.toGrouping(items, function (x) { return x.ParentKey; });
                _this.setItems(items);
                return _this;
            }
            PermissionCheckEditor.prototype.getIdProperty = function () { return "Key"; };
            PermissionCheckEditor.prototype.getItemGrantRevokeClass = function (item, grant) {
                if (!item.IsGroup) {
                    return ((item.GrantRevoke === grant) ? ' checked' : '');
                }
                var desc = this.getDescendants(item, true);
                var granted = desc.filter(function (x) { return x.GrantRevoke === grant; });
                if (!granted.length) {
                    return '';
                }
                if (desc.length === granted.length) {
                    return 'checked';
                }
                return 'checked partial';
            };
            PermissionCheckEditor.prototype.roleOrImplicit = function (key) {
                if (this._rolePermissions[key])
                    return true;
                for (var _i = 0, _a = Object.keys(this._rolePermissions); _i < _a.length; _i++) {
                    var k = _a[_i];
                    var d = this._implicitPermissions[k];
                    if (d && d[key])
                        return true;
                }
                for (var _b = 0, _c = Object.keys(this._implicitPermissions); _b < _c.length; _b++) {
                    var i = _c[_b];
                    var item = this.view.getItemById(i);
                    if (item && item.GrantRevoke == true) {
                        var d = this._implicitPermissions[i];
                        if (d && d[key])
                            return true;
                    }
                }
            };
            PermissionCheckEditor.prototype.getItemEffectiveClass = function (item) {
                var _this = this;
                if (item.IsGroup) {
                    var desc = this.getDescendants(item, true);
                    var grantCount = Q.count(desc, function (x) { return x.GrantRevoke === true ||
                        (x.GrantRevoke == null && _this.roleOrImplicit(x.Key)); });
                    if (grantCount === desc.length || desc.length === 0) {
                        return 'allow';
                    }
                    if (grantCount === 0) {
                        return 'deny';
                    }
                    return 'partial';
                }
                var granted = item.GrantRevoke === true ||
                    (item.GrantRevoke == null && this.roleOrImplicit(item.Key));
                return (granted ? ' allow' : ' deny');
            };
            PermissionCheckEditor.prototype.getColumns = function () {
                var _this = this;
                var columns = [{
                        name: Q.text('Site.UserPermissionDialog.Permission'),
                        field: 'Title',
                        format: Serenity.SlickFormatting.treeToggle(function () { return _this.view; }, function (x) { return x.Key; }, function (ctx) {
                            var item = ctx.item;
                            var klass = _this.getItemEffectiveClass(item);
                            return '<span class="effective-permission ' + klass + '">' + Q.htmlEncode(ctx.value) + '</span>';
                        }),
                        width: 495,
                        sortable: false
                    }, {
                        name: Q.text('Site.UserPermissionDialog.Grant'), field: 'Grant',
                        format: function (ctx) {
                            var item1 = ctx.item;
                            var klass1 = _this.getItemGrantRevokeClass(item1, true);
                            return "<span class='check-box grant no-float " + klass1 + "'></span>";
                        },
                        width: 65,
                        sortable: false,
                        headerCssClass: 'align-center',
                        cssClass: 'align-center'
                    }];
                if (this.options.showRevoke) {
                    columns.push({
                        name: Q.text('Site.UserPermissionDialog.Revoke'), field: 'Revoke',
                        format: function (ctx) {
                            var item2 = ctx.item;
                            var klass2 = _this.getItemGrantRevokeClass(item2, false);
                            return '<span class="check-box revoke no-float ' + klass2 + '"></span>';
                        },
                        width: 65,
                        sortable: false,
                        headerCssClass: 'align-center',
                        cssClass: 'align-center'
                    });
                }
                return columns;
            };
            PermissionCheckEditor.prototype.setItems = function (items) {
                Serenity.SlickTreeHelper.setIndents(items, function (x) { return x.Key; }, function (x) { return x.ParentKey; }, false);
                this.view.setItems(items, true);
            };
            PermissionCheckEditor.prototype.onViewSubmit = function () {
                return false;
            };
            PermissionCheckEditor.prototype.onViewFilter = function (item) {
                var _this = this;
                if (!_super.prototype.onViewFilter.call(this, item)) {
                    return false;
                }
                if (!Serenity.SlickTreeHelper.filterById(item, this.view, function (x) { return x.ParentKey; }))
                    return false;
                if (this.searchText) {
                    return this.matchContains(item) || item.IsGroup && Q.any(this.getDescendants(item, false), function (x) { return _this.matchContains(x); });
                }
                return true;
            };
            PermissionCheckEditor.prototype.matchContains = function (item) {
                return Select2.util.stripDiacritics(item.Title || '').toLowerCase().indexOf(this.searchText) >= 0;
            };
            PermissionCheckEditor.prototype.getDescendants = function (item, excludeGroups) {
                var result = [];
                var stack = [item];
                while (stack.length > 0) {
                    var i = stack.pop();
                    var children = this.byParentKey[i.Key];
                    if (!children)
                        continue;
                    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {
                        var child = children_1[_i];
                        if (!excludeGroups || !child.IsGroup) {
                            result.push(child);
                        }
                        stack.push(child);
                    }
                }
                return result;
            };
            PermissionCheckEditor.prototype.onClick = function (e, row, cell) {
                _super.prototype.onClick.call(this, e, row, cell);
                if (!e.isDefaultPrevented()) {
                    Serenity.SlickTreeHelper.toggleClick(e, row, cell, this.view, function (x) { return x.Key; });
                }
                if (e.isDefaultPrevented()) {
                    return;
                }
                var target = $(e.target);
                var grant = target.hasClass('grant');
                if (grant || target.hasClass('revoke')) {
                    e.preventDefault();
                    var item = this.itemAt(row);
                    var checkedOrPartial = target.hasClass('checked') || target.hasClass('partial');
                    if (checkedOrPartial) {
                        grant = null;
                    }
                    else {
                        grant = grant !== checkedOrPartial;
                    }
                    if (item.IsGroup) {
                        for (var _i = 0, _a = this.getDescendants(item, true); _i < _a.length; _i++) {
                            var d = _a[_i];
                            d.GrantRevoke = grant;
                        }
                    }
                    else
                        item.GrantRevoke = grant;
                    this.slickGrid.invalidate();
                }
            };
            PermissionCheckEditor.prototype.getParentKey = function (key) {
                if (key.charAt(key.length - 1) === ':') {
                    key = key.substr(0, key.length - 1);
                }
                var idx = key.lastIndexOf(':');
                if (idx >= 0) {
                    return key.substr(0, idx + 1);
                }
                return null;
            };
            PermissionCheckEditor.prototype.getButtons = function () {
                return [];
            };
            PermissionCheckEditor.prototype.createToolbarExtensions = function () {
                var _this = this;
                _super.prototype.createToolbarExtensions.call(this);
                Serenity.GridUtils.addQuickSearchInputCustom(this.toolbar.element, function (field, text) {
                    _this.searchText = Select2.util.stripDiacritics(Q.trimToNull(text) || '').toLowerCase();
                    _this.view.setItems(_this.view.getItems(), true);
                });
            };
            PermissionCheckEditor.prototype.getSortedGroupAndPermissionKeys = function (titleByKey) {
                var keys = Q.getRemoteData('Administration.PermissionKeys').Entities;
                var titleWithGroup = {};
                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    var k = keys_1[_i];
                    var s = k;
                    if (!s) {
                        continue;
                    }
                    if (s.charAt(s.length - 1) == ':') {
                        s = s.substr(0, s.length - 1);
                        if (s.length === 0) {
                            continue;
                        }
                    }
                    if (titleByKey[s]) {
                        continue;
                    }
                    titleByKey[s] = Q.coalesce(Q.tryGetText('Permission.' + s), s);
                    var parts = s.split(':');
                    var group = '';
                    var groupTitle = '';
                    for (var i = 0; i < parts.length - 1; i++) {
                        group = group + parts[i] + ':';
                        var txt = Q.tryGetText('Permission.' + group);
                        if (txt == null) {
                            txt = parts[i];
                        }
                        titleByKey[group] = txt;
                        groupTitle = groupTitle + titleByKey[group] + ':';
                        titleWithGroup[group] = groupTitle;
                    }
                    titleWithGroup[s] = groupTitle + titleByKey[s];
                }
                keys = Object.keys(titleByKey);
                keys = keys.sort(function (x, y) { return Q.turkishLocaleCompare(titleWithGroup[x], titleWithGroup[y]); });
                return keys;
            };
            Object.defineProperty(PermissionCheckEditor.prototype, "value", {
                get: function () {
                    var result = [];
                    for (var _i = 0, _a = this.view.getItems(); _i < _a.length; _i++) {
                        var item = _a[_i];
                        if (item.GrantRevoke != null && item.Key.charAt(item.Key.length - 1) != ':') {
                            result.push({ PermissionKey: item.Key, Granted: item.GrantRevoke });
                        }
                    }
                    return result;
                },
                set: function (value) {
                    for (var _i = 0, _a = this.view.getItems(); _i < _a.length; _i++) {
                        var item = _a[_i];
                        item.GrantRevoke = null;
                    }
                    if (value != null) {
                        for (var _b = 0, value_1 = value; _b < value_1.length; _b++) {
                            var row = value_1[_b];
                            var r = this.view.getItemById(row.PermissionKey);
                            if (r) {
                                r.GrantRevoke = Q.coalesce(row.Granted, true);
                            }
                        }
                    }
                    this.setItems(this.getItems());
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(PermissionCheckEditor.prototype, "rolePermissions", {
                get: function () {
                    return Object.keys(this._rolePermissions);
                },
                set: function (value) {
                    this._rolePermissions = {};
                    if (value) {
                        for (var _i = 0, value_2 = value; _i < value_2.length; _i++) {
                            var k = value_2[_i];
                            this._rolePermissions[k] = true;
                        }
                    }
                    this.setItems(this.getItems());
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(PermissionCheckEditor.prototype, "implicitPermissions", {
                set: function (value) {
                    this._implicitPermissions = {};
                    if (value) {
                        for (var _i = 0, _a = Object.keys(value); _i < _a.length; _i++) {
                            var k = _a[_i];
                            this._implicitPermissions[k] = this._implicitPermissions[k] || {};
                            var l = value[k];
                            if (l) {
                                for (var _b = 0, l_1 = l; _b < l_1.length; _b++) {
                                    var s = l_1[_b];
                                    this._implicitPermissions[k][s] = true;
                                }
                            }
                        }
                    }
                },
                enumerable: true,
                configurable: true
            });
            PermissionCheckEditor = __decorate([
                Serenity.Decorators.registerEditor([Serenity.IGetEditValue, Serenity.ISetEditValue])
            ], PermissionCheckEditor);
            return PermissionCheckEditor;
        }(Serenity.DataGrid));
        Administration.PermissionCheckEditor = PermissionCheckEditor;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserPermissionDialog = /** @class */ (function (_super) {
            __extends(UserPermissionDialog, _super);
            function UserPermissionDialog(opt) {
                var _this = _super.call(this, opt) || this;
                _this.permissions = new Administration.PermissionCheckEditor(_this.byId('Permissions'), {
                    showRevoke: true
                });
                Administration.UserPermissionService.List({
                    UserID: _this.options.userID,
                    Module: null,
                    Submodule: null
                }, function (response) {
                    _this.permissions.value = response.Entities;
                });
                Administration.UserPermissionService.ListRolePermissions({
                    UserID: _this.options.userID,
                    Module: null,
                    Submodule: null,
                }, function (response) {
                    _this.permissions.rolePermissions = response.Entities;
                });
                _this.permissions.implicitPermissions = Q.getRemoteData('Administration.ImplicitPermissions');
                return _this;
            }
            UserPermissionDialog.prototype.getDialogOptions = function () {
                var _this = this;
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.buttons = [
                    {
                        text: Q.text('Dialogs.OkButton'),
                        click: function (e) {
                            Administration.UserPermissionService.Update({
                                UserID: _this.options.userID,
                                Permissions: _this.permissions.value,
                                Module: null,
                                Submodule: null
                            }, function (response) {
                                _this.dialogClose();
                                window.setTimeout(function () { return Q.notifySuccess(Q.text('Site.UserPermissionDialog.SaveSuccess')); }, 0);
                            });
                        }
                    }, {
                        text: Q.text('Dialogs.CancelButton'),
                        click: function () { return _this.dialogClose(); }
                    }
                ];
                opt.title = Q.format(Q.text('Site.UserPermissionDialog.DialogTitle'), this.options.username);
                return opt;
            };
            UserPermissionDialog.prototype.getTemplate = function () {
                return '<div id="~_Permissions"></div>';
            };
            UserPermissionDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], UserPermissionDialog);
            return UserPermissionDialog;
        }(Serenity.TemplatedDialog));
        Administration.UserPermissionDialog = UserPermissionDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var RoleCheckEditor = /** @class */ (function (_super) {
            __extends(RoleCheckEditor, _super);
            function RoleCheckEditor(div) {
                return _super.call(this, div) || this;
            }
            RoleCheckEditor.prototype.createToolbarExtensions = function () {
                var _this = this;
                _super.prototype.createToolbarExtensions.call(this);
                Serenity.GridUtils.addQuickSearchInputCustom(this.toolbar.element, function (field, text) {
                    _this.searchText = Select2.util.stripDiacritics(text || '').toUpperCase();
                    _this.view.setItems(_this.view.getItems(), true);
                });
            };
            RoleCheckEditor.prototype.getButtons = function () {
                return [];
            };
            RoleCheckEditor.prototype.getTreeItems = function () {
                return Administration.RoleRow.getLookup().items.map(function (role) { return ({
                    id: role.RoleId.toString(),
                    text: role.RoleName
                }); });
            };
            RoleCheckEditor.prototype.onViewFilter = function (item) {
                return _super.prototype.onViewFilter.call(this, item) &&
                    (Q.isEmptyOrNull(this.searchText) ||
                        Select2.util.stripDiacritics(item.text || '')
                            .toUpperCase().indexOf(this.searchText) >= 0);
            };
            RoleCheckEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], RoleCheckEditor);
            return RoleCheckEditor;
        }(Serenity.CheckTreeEditor));
        Administration.RoleCheckEditor = RoleCheckEditor;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Administration;
    (function (Administration) {
        var UserRoleDialog = /** @class */ (function (_super) {
            __extends(UserRoleDialog, _super);
            function UserRoleDialog(opt) {
                var _this = _super.call(this, opt) || this;
                _this.permissions = new Administration.RoleCheckEditor(_this.byId('Roles'));
                Administration.UserRoleService.List({
                    UserID: _this.options.userID
                }, function (response) {
                    _this.permissions.value = response.Entities.map(function (x) { return x.toString(); });
                });
                return _this;
            }
            UserRoleDialog.prototype.getDialogOptions = function () {
                var _this = this;
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.buttons = [{
                        text: Q.text('Dialogs.OkButton'),
                        click: function () {
                            Q.serviceRequest('Administration/UserRole/Update', {
                                UserID: _this.options.userID,
                                Roles: _this.permissions.value.map(function (x) { return parseInt(x, 10); })
                            }, function (response) {
                                _this.dialogClose();
                                Q.notifySuccess(Q.text('Site.UserRoleDialog.SaveSuccess'));
                            });
                        }
                    }, {
                        text: Q.text('Dialogs.CancelButton'),
                        click: function () { return _this.dialogClose(); }
                    }];
                opt.title = Q.format(Q.text('Site.UserRoleDialog.DialogTitle'), this.options.username);
                return opt;
            };
            UserRoleDialog.prototype.getTemplate = function () {
                return "<div id='~_Roles'></div>";
            };
            UserRoleDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], UserRoleDialog);
            return UserRoleDialog;
        }(Serenity.TemplatedDialog));
        Administration.UserRoleDialog = UserRoleDialog;
    })(Administration = SerExtraCore.Administration || (SerExtraCore.Administration = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ChartInDialog = /** @class */ (function (_super) {
            __extends(ChartInDialog, _super);
            function ChartInDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            ChartInDialog_1 = ChartInDialog;
            ChartInDialog.initializePage = function () {
                $(function () {
                    $('#LaunchDialogButton').click(function (e) {
                        (new ChartInDialog_1()).dialogOpen();
                    });
                });
            };
            ChartInDialog.prototype.onDialogOpen = function () {
                var _this = this;
                _super.prototype.onDialogOpen.call(this);
                BasicSamples.BasicSamplesService.OrdersByShipper({}, function (response) {
                    _this.areaChart = new Morris.Area({
                        element: _this.idPrefix + 'Chart',
                        resize: true, parseTime: false,
                        data: response.Values,
                        xkey: 'Month',
                        ykeys: response.ShipperKeys, labels: response.ShipperLabels, hideHover: 'auto'
                    });
                });
            };
            ChartInDialog.prototype.arrange = function () {
                _super.prototype.arrange.call(this);
                this.areaChart && this.areaChart.redraw();
            };
            ChartInDialog.prototype.getTemplate = function () {
                // you could also put this in a ChartInDialog.Template.html file. it's here for simplicity.
                return "<div id='~_Chart'></div>";
            };
            ChartInDialog.prototype.getDialogOptions = function () {
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.title = 'Orders by Shipper';
                return opt;
            };
            var ChartInDialog_1;
            ChartInDialog = ChartInDialog_1 = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.resizable(),
                Serenity.Decorators.maximizable()
            ], ChartInDialog);
            return ChartInDialog;
        }(Serenity.TemplatedDialog));
        BasicSamples.ChartInDialog = ChartInDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductDialog = /** @class */ (function (_super) {
            __extends(ProductDialog, _super);
            function ProductDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.ProductForm(_this.idPrefix);
                return _this;
            }
            ProductDialog.prototype.getFormKey = function () { return Northwind.ProductForm.formKey; };
            ProductDialog.prototype.getIdProperty = function () { return Northwind.ProductRow.idProperty; };
            ProductDialog.prototype.getLocalTextPrefix = function () { return Northwind.ProductRow.localTextPrefix; };
            ProductDialog.prototype.getNameProperty = function () { return Northwind.ProductRow.nameProperty; };
            ProductDialog.prototype.getService = function () { return Northwind.ProductService.baseUrl; };
            ProductDialog = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.maximizable()
            ], ProductDialog);
            return ProductDialog;
        }(Serenity.EntityDialog));
        Northwind.ProductDialog = ProductDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var CloneableEntityDialog = /** @class */ (function (_super) {
            __extends(CloneableEntityDialog, _super);
            function CloneableEntityDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            CloneableEntityDialog.prototype.updateInterface = function () {
                // by default cloneButton is hidden in base UpdateInterface method
                _super.prototype.updateInterface.call(this);
                // here we show it if it is edit mode (not new)
                this.cloneButton.toggle(this.isEditMode());
            };
            /**
             * Overriding this method is optional to customize cloned entity
             */
            CloneableEntityDialog.prototype.getCloningEntity = function () {
                var clone = _super.prototype.getCloningEntity.call(this);
                // add (Clone) suffix if it's not already added
                var suffix = ' (Clone)';
                if (!Q.endsWith(clone.ProductName || '', suffix)) {
                    clone.ProductName = (clone.ProductName || '') + suffix;
                }
                // it's better to clear image for this sample
                // otherwise we would have to create a temporary copy of it
                // and upload
                clone.ProductImage = null;
                // let's clear fields not logical to be cloned
                clone.UnitsInStock = 0;
                clone.UnitsOnOrder = 0;
                return clone;
            };
            CloneableEntityDialog = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.maximizable()
            ], CloneableEntityDialog);
            return CloneableEntityDialog;
        }(SerExtraCore.Northwind.ProductDialog));
        BasicSamples.CloneableEntityDialog = CloneableEntityDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ProductGrid = /** @class */ (function (_super) {
            __extends(ProductGrid, _super);
            function ProductGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.pendingChanges = {};
                _this.slickContainer.on('change', '.edit:input', function (e) { return _this.inputsChange(e); });
                return _this;
            }
            ProductGrid.prototype.getColumnsKey = function () { return "Northwind.Product"; };
            ProductGrid.prototype.getDialogType = function () { return Northwind.ProductDialog; };
            ProductGrid.prototype.getIdProperty = function () { return Northwind.ProductRow.idProperty; };
            ProductGrid.prototype.getLocalTextPrefix = function () { return Northwind.ProductRow.localTextPrefix; };
            ProductGrid.prototype.getService = function () { return Northwind.ProductService.baseUrl; };
            ProductGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push(SerExtraCore.Common.ExcelExportHelper.createToolButton({
                    grid: this,
                    service: Northwind.ProductService.baseUrl + '/ListExcel',
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    separator: true
                }));
                buttons.push(SerExtraCore.Common.PdfExportHelper.createToolButton({
                    grid: this,
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    reportTitle: 'Product List',
                    columnTitles: {
                        'Discontinued': 'Dis.',
                    },
                    tableOptions: {
                        columnStyles: {
                            ProductID: {
                                columnWidth: 25,
                                halign: 'right'
                            },
                            Discountinued: {
                                columnWidth: 25
                            }
                        }
                    }
                }));
                buttons.push({
                    title: 'Save Changes',
                    cssClass: 'apply-changes-button disabled',
                    onClick: function (e) { return _this.saveClick(); },
                    separator: true
                });
                return buttons;
            };
            ProductGrid.prototype.onViewProcessData = function (response) {
                this.pendingChanges = {};
                this.setSaveButtonState();
                return _super.prototype.onViewProcessData.call(this, response);
            };
            // PLEASE NOTE! Inline editing in grids is not something Serenity supports nor recommends.
            // SlickGrid has some set of limitations, UI is very hard to use on some devices like mobile, 
            // custom widgets and validations are not possible, and as a bonus the code can become a mess.
            // 
            // This was just a sample how-to after much requests, and is not supported. 
            // This is all we can offer, please don't ask us to Guide you...
            /**
             * It would be nice if we could use autonumeric, Serenity editors etc. here, to control input validation,
             * but it's not supported by SlickGrid as we are only allowed to return a string, and should attach
             * no event handlers to rendered cell contents
             */
            ProductGrid.prototype.numericInputFormatter = function (ctx) {
                var klass = 'edit numeric';
                var item = ctx.item;
                var pending = this.pendingChanges[item.ProductID];
                if (pending && pending[ctx.column.field] !== undefined) {
                    klass += ' dirty';
                }
                var value = this.getEffectiveValue(item, ctx.column.field);
                return "<input type='text' class='" + klass +
                    "' data-field='" + ctx.column.field +
                    "' value='" + Q.formatNumber(value, '0.##') + "'/>";
            };
            ProductGrid.prototype.stringInputFormatter = function (ctx) {
                var klass = 'edit string';
                var item = ctx.item;
                var pending = this.pendingChanges[item.ProductID];
                var column = ctx.column;
                if (pending && pending[column.field] !== undefined) {
                    klass += ' dirty';
                }
                var value = this.getEffectiveValue(item, column.field);
                return "<input type='text' class='" + klass +
                    "' data-field='" + column.field +
                    "' value='" + Q.attrEncode(value) +
                    "' maxlength='" + column.sourceItem.maxLength + "'/>";
            };
            /**
             * Sorry but you cannot use LookupEditor, e.g. Select2 here, only possible is a SELECT element
             */
            ProductGrid.prototype.selectFormatter = function (ctx, idField, lookup) {
                var klass = 'edit';
                var item = ctx.item;
                var pending = this.pendingChanges[item.ProductID];
                var column = ctx.column;
                if (pending && pending[idField] !== undefined) {
                    klass += ' dirty';
                }
                var value = this.getEffectiveValue(item, idField);
                var markup = "<select class='" + klass +
                    "' data-field='" + idField +
                    "' style='width: 100%; max-width: 100%'>";
                for (var _i = 0, _a = lookup.items; _i < _a.length; _i++) {
                    var c = _a[_i];
                    var id = c[lookup.idField];
                    markup += "<option value='" + Q.attrEncode(id) + "'";
                    if (id == value) {
                        markup += " selected";
                    }
                    markup += ">" + Q.htmlEncode(c[lookup.textField]) + "</option>";
                }
                return markup + "</select>";
            };
            ProductGrid.prototype.getEffectiveValue = function (item, field) {
                var pending = this.pendingChanges[item.ProductID];
                if (pending && pending[field] !== undefined) {
                    return pending[field];
                }
                return item[field];
            };
            ProductGrid.prototype.getColumns = function () {
                var _this = this;
                var columns = _super.prototype.getColumns.call(this);
                var num = function (ctx) { return _this.numericInputFormatter(ctx); };
                var str = function (ctx) { return _this.stringInputFormatter(ctx); };
                Q.first(columns, function (x) { return x.field === 'QuantityPerUnit'; }).format = str;
                var category = Q.first(columns, function (x) { return x.field === "CategoryName" /* CategoryName */; });
                category.referencedFields = ["CategoryID" /* CategoryID */];
                category.format = function (ctx) { return _this.selectFormatter(ctx, "CategoryID" /* CategoryID */, Northwind.CategoryRow.getLookup()); };
                var supplier = Q.first(columns, function (x) { return x.field === "SupplierCompanyName" /* SupplierCompanyName */; });
                supplier.referencedFields = ["SupplierID" /* SupplierID */];
                supplier.format = function (ctx) { return _this.selectFormatter(ctx, "SupplierID" /* SupplierID */, Northwind.SupplierRow.getLookup()); };
                Q.first(columns, function (x) { return x.field === "UnitPrice" /* UnitPrice */; }).format = num;
                Q.first(columns, function (x) { return x.field === "UnitsInStock" /* UnitsInStock */; }).format = num;
                Q.first(columns, function (x) { return x.field === "UnitsOnOrder" /* UnitsOnOrder */; }).format = num;
                Q.first(columns, function (x) { return x.field === "ReorderLevel" /* ReorderLevel */; }).format = num;
                return columns;
            };
            ProductGrid.prototype.inputsChange = function (e) {
                var cell = this.slickGrid.getCellFromEvent(e);
                var item = this.itemAt(cell.row);
                var input = $(e.target);
                var field = input.data('field');
                var text = Q.coalesce(Q.trimToNull(input.val()), '0');
                var pending = this.pendingChanges[item.ProductID];
                var effective = this.getEffectiveValue(item, field);
                var oldText;
                if (input.hasClass("numeric"))
                    oldText = Q.formatNumber(effective, '0.##');
                else
                    oldText = effective;
                var value;
                if (field === 'UnitPrice') {
                    value = Q.parseDecimal(text);
                    if (value == null || isNaN(value)) {
                        Q.notifyError(Q.text('Validation.Decimal'), '', null);
                        input.val(oldText);
                        input.focus();
                        return;
                    }
                }
                else if (input.hasClass("numeric")) {
                    var i = Q.parseInteger(text);
                    if (isNaN(i) || i > 32767 || i < 0) {
                        Q.notifyError(Q.text('Validation.Integer'), '', null);
                        input.val(oldText);
                        input.focus();
                        return;
                    }
                    value = i;
                }
                else
                    value = text;
                if (!pending) {
                    this.pendingChanges[item.ProductID] = pending = {};
                }
                pending[field] = value;
                item[field] = value;
                this.view.refresh();
                if (input.hasClass("numeric"))
                    value = Q.formatNumber(value, '0.##');
                input.val(value).addClass('dirty');
                this.setSaveButtonState();
            };
            ProductGrid.prototype.setSaveButtonState = function () {
                this.toolbar.findButton('apply-changes-button').toggleClass('disabled', Object.keys(this.pendingChanges).length === 0);
            };
            ProductGrid.prototype.saveClick = function () {
                if (Object.keys(this.pendingChanges).length === 0) {
                    return;
                }
                // this calls save service for all modified rows, one by one
                // you could write a batch update service
                var keys = Object.keys(this.pendingChanges);
                var current = -1;
                var self = this;
                (function saveNext() {
                    if (++current >= keys.length) {
                        self.refresh();
                        return;
                    }
                    var key = keys[current];
                    var entity = Q.deepClone(self.pendingChanges[key]);
                    entity.ProductID = key;
                    Q.serviceRequest('Northwind/Product/Update', {
                        EntityId: key,
                        Entity: entity
                    }, function (response) {
                        delete self.pendingChanges[key];
                        saveNext();
                    });
                })();
            };
            ProductGrid.prototype.getQuickFilters = function () {
                var flt = _super.prototype.getQuickFilters.call(this);
                var q = Q.parseQueryString();
                if (q["cat"]) {
                    var category = Q.tryFirst(flt, function (x) { return x.field == "CategoryID"; });
                    category.init = function (e) {
                        e.element.getWidget(Serenity.LookupEditor).value = q["cat"];
                    };
                }
                return flt;
            };
            ProductGrid = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.filterable()
            ], ProductGrid);
            return ProductGrid;
        }(Serenity.EntityGrid));
        Northwind.ProductGrid = ProductGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of ProductGrid to override dialog type to CloneableEntityDialog
         */
        var CloneableEntityGrid = /** @class */ (function (_super) {
            __extends(CloneableEntityGrid, _super);
            function CloneableEntityGrid(container) {
                return _super.call(this, container) || this;
            }
            CloneableEntityGrid.prototype.getDialogType = function () { return BasicSamples.CloneableEntityDialog; };
            CloneableEntityGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CloneableEntityGrid);
            return CloneableEntityGrid;
        }(SerExtraCore.Northwind.ProductGrid));
        BasicSamples.CloneableEntityGrid = CloneableEntityGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderGrid = /** @class */ (function (_super) {
            __extends(OrderGrid, _super);
            function OrderGrid(container) {
                return _super.call(this, container) || this;
            }
            OrderGrid.prototype.getColumnsKey = function () { return "Northwind.Order"; };
            OrderGrid.prototype.getDialogType = function () { return Northwind.OrderDialog; };
            OrderGrid.prototype.getIdProperty = function () { return Northwind.OrderRow.idProperty; };
            OrderGrid.prototype.getLocalTextPrefix = function () { return Northwind.OrderRow.localTextPrefix; };
            OrderGrid.prototype.getService = function () { return Northwind.OrderService.baseUrl; };
            OrderGrid.prototype.getQuickFilters = function () {
                var _this = this;
                var filters = _super.prototype.getQuickFilters.call(this);
                filters.push({
                    type: Serenity.LookupEditor,
                    options: {
                        lookupKey: Northwind.ProductRow.lookupKey
                    },
                    field: 'ProductID',
                    title: 'Contains Product in Details',
                    handler: function (w) {
                        _this.view.params.ProductID = Q.toId(w.value);
                    },
                    cssClass: 'hidden-xs'
                });
                return filters;
            };
            OrderGrid.prototype.createQuickFilters = function () {
                _super.prototype.createQuickFilters.call(this);
                this.shippingStateFilter = this.findQuickFilter(Serenity.EnumEditor, "ShippingState" /* ShippingState */);
            };
            OrderGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push(SerExtraCore.Common.ExcelExportHelper.createToolButton({
                    grid: this,
                    service: Northwind.OrderService.baseUrl + '/ListExcel',
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    separator: true
                }));
                buttons.push(SerExtraCore.Common.PdfExportHelper.createToolButton({
                    grid: this,
                    onViewSubmit: function () { return _this.onViewSubmit(); }
                }));
                return buttons;
            };
            OrderGrid.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                columns.splice(1, 0, {
                    field: 'Print Invoice',
                    name: '',
                    format: function (ctx) { return '<a class="inline-action print-invoice" title="invoice">' +
                        '<i class="fa fa-file-pdf-o text-red"></i></a>'; },
                    width: 24,
                    minWidth: 24,
                    maxWidth: 24
                });
                return columns;
            };
            OrderGrid.prototype.onClick = function (e, row, cell) {
                _super.prototype.onClick.call(this, e, row, cell);
                if (e.isDefaultPrevented())
                    return;
                var item = this.itemAt(row);
                var target = $(e.target);
                // if user clicks "i" element, e.g. icon
                if (target.parent().hasClass('inline-action'))
                    target = target.parent();
                if (target.hasClass('inline-action')) {
                    e.preventDefault();
                    if (target.hasClass('print-invoice')) {
                        SerExtraCore.Common.ReportHelper.execute({
                            reportKey: 'Northwind.OrderDetail',
                            params: {
                                OrderID: item.OrderID
                            }
                        });
                    }
                }
            };
            OrderGrid.prototype.set_shippingState = function (value) {
                this.shippingStateFilter.value = value == null ? '' : value.toString();
            };
            OrderGrid.prototype.addButtonClick = function () {
                var eq = this.view.params.EqualityFilter;
                this.editItem({
                    CustomerID: eq ? eq.CustomerID : null
                });
            };
            OrderGrid = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.filterable()
            ], OrderGrid);
            return OrderGrid;
        }(Serenity.EntityGrid));
        Northwind.OrderGrid = OrderGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DefaultValuesInNewGrid = /** @class */ (function (_super) {
            __extends(DefaultValuesInNewGrid, _super);
            function DefaultValuesInNewGrid(container) {
                return _super.call(this, container) || this;
            }
            /**
             * This method is called when New Item button is clicked.
             * By default, it calls EditItem with an empty entity.
             * This is a good place to fill in default values for New Item button.
             */
            DefaultValuesInNewGrid.prototype.addButtonClick = function () {
                this.editItem({
                    CustomerID: 'ANTON',
                    RequiredDate: Q.formatDate(new Date(), 'yyyy-MM-dd'),
                    EmployeeID: SerExtraCore.Northwind.EmployeeRow.getLookup().items
                        .filter(function (x) { return x.FullName === 'Robert King'; })[0].EmployeeID,
                    ShipVia: SerExtraCore.Northwind.ShipperRow.getLookup().items
                        .filter(function (x) { return x.CompanyName === 'Speedy Express'; })[0].ShipperID
                });
            };
            DefaultValuesInNewGrid.prototype.getButtons = function () {
                var _this = this;
                // preserving default New Item button
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push({
                    title: 'Add Order from the Queen',
                    cssClass: 'add-button',
                    onClick: function () {
                        // using EditItem method as a shortcut to create a new Order dialog,
                        // bind to its events, load our order row, and open dialog
                        _this.editItem({
                            CustomerID: 'QUEEN',
                            EmployeeID: SerExtraCore.Northwind.EmployeeRow.getLookup().items
                                .filter(function (x) { return x.FullName === 'Nancy Davolio'; })[0].EmployeeID,
                            ShipVia: SerExtraCore.Northwind.ShipperRow.getLookup().items
                                .filter(function (x) { return x.CompanyName === 'United Package'; })[0].ShipperID
                        });
                    }
                });
                buttons.push({
                    title: 'Add Order with 5 Chai by Laura', cssClass: 'add-note-button',
                    onClick: function () {
                        // we could use EditItem here too, but for demonstration
                        // purposes we are manually creating dialog this time
                        var dlg = new SerExtraCore.Northwind.OrderDialog();
                        // let grid watch for changes to manually created dialog, 
                        // so when a new item is saved, grid can refresh itself
                        _this.initDialog(dlg);
                        // get a reference to product Chai
                        var chai = SerExtraCore.Northwind.ProductRow.getLookup().items
                            .filter(function (x) { return x.ProductName === 'Chai'; })[0];
                        // LoadEntityAndOpenDialog, loads an OrderRow 
                        // to dialog and opens it
                        var lauraCallahanID = SerExtraCore.Northwind.EmployeeRow.getLookup().items
                            .filter(function (x) { return x.FullName === 'Laura Callahan'; })[0].EmployeeID;
                        dlg.loadEntityAndOpenDialog({
                            CustomerID: 'GOURL',
                            EmployeeID: lauraCallahanID,
                            DetailList: [{
                                    ProductID: chai.ProductID,
                                    ProductName: chai.ProductName,
                                    UnitPrice: chai.UnitPrice,
                                    Quantity: 5,
                                    LineTotal: chai.UnitPrice * 5
                                }]
                        });
                    }
                });
                return buttons;
            };
            DefaultValuesInNewGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], DefaultValuesInNewGrid);
            return DefaultValuesInNewGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.DefaultValuesInNewGrid = DefaultValuesInNewGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DialogBoxes;
        (function (DialogBoxes) {
            function initializePage() {
                confirmDialogButtons();
                confirmWithCustomTitle();
                information();
                warning();
                alert();
                alertWithHtmlContent();
            }
            DialogBoxes.initializePage = initializePage;
            function confirmDialogButtons() {
                // here we demonstrate how you can detect which button user has clicked
                // second parameter is Yes handler and it is called only when user clicks Yes.
                // third parameter has some additional options, that you should only use when needed
                $('#ConfirmDialogButtons').click(function () {
                    Q.confirm("Click one of buttons, or close dialog with [x] on top right, i'll tell you what you did!", function () {
                        Q.notifySuccess("You clicked YES. Great!");
                    }, {
                        onNo: function () {
                            Q.notifyInfo("You clicked NO. Why?");
                        },
                        onCancel: function () {
                            Q.notifyError("You clicked X. Operation is cancelled. Will try again?");
                        }
                    });
                });
            }
            function confirmWithCustomTitle() {
                $('#ConfirmWithCustomTitle').click(function () {
                    Q.confirm("This confirmation has a custom title", function () {
                        Q.notifySuccess("Allright!");
                    }, {
                        title: 'Some Custom Confirmation Title'
                    });
                });
            }
            function information() {
                $('#Information').click(function () {
                    Q.information("What a nice day", function () {
                        Q.notifySuccess("No problem!");
                    });
                });
            }
            function warning() {
                $('#Warning').click(function () {
                    Q.warning("Hey, be careful!");
                });
            }
            function alert() {
                $('#Alert').click(function () {
                    Q.alert("Houston, we got a problem!");
                });
            }
            function alertWithHtmlContent() {
                $('#AlertWithHtmlContent').click(function () {
                    Q.alert("<h4>Here is some HTML content!</h4>" +
                        "<ul><li>Item 1</li><li>Item 2</li >" +
                        "<li>Visit <a href='http://serenity.is/' target='_blank' style='color: #ddf'>http://serenity.is/</a>!</li></ul>", {
                        htmlEncode: false
                    });
                });
            }
        })(DialogBoxes = BasicSamples.DialogBoxes || (BasicSamples.DialogBoxes = {}));
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDialog = /** @class */ (function (_super) {
            __extends(OrderDialog, _super);
            function OrderDialog() {
                var _this = _super.call(this) || this;
                _this.form = new Northwind.OrderForm(_this.idPrefix);
                return _this;
            }
            OrderDialog.prototype.getFormKey = function () { return Northwind.OrderForm.formKey; };
            OrderDialog.prototype.getIdProperty = function () { return Northwind.OrderRow.idProperty; };
            OrderDialog.prototype.getLocalTextPrefix = function () { return Northwind.OrderRow.localTextPrefix; };
            OrderDialog.prototype.getNameProperty = function () { return Northwind.OrderRow.nameProperty; };
            OrderDialog.prototype.getService = function () { return Northwind.OrderService.baseUrl; };
            OrderDialog.prototype.getToolbarButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getToolbarButtons.call(this);
                buttons.push(SerExtraCore.Common.ReportHelper.createToolButton({
                    title: 'Invoice',
                    cssClass: 'export-pdf-button',
                    reportKey: 'Northwind.OrderDetail',
                    getParams: function () { return ({
                        OrderID: _this.get_entityId()
                    }); }
                }));
                return buttons;
            };
            OrderDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                this.toolbar.findButton('export-pdf-button').toggle(this.isEditMode());
            };
            OrderDialog = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.panel()
            ], OrderDialog);
            return OrderDialog;
        }(Serenity.EntityDialog));
        Northwind.OrderDialog = OrderDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * A version of order dialog converted to a panel by adding Serenity.Decorators.panel decorator.
         */
        var EntityDialogAsPanel = /** @class */ (function (_super) {
            __extends(EntityDialogAsPanel, _super);
            function EntityDialogAsPanel() {
                return _super.call(this) || this;
            }
            EntityDialogAsPanel.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                this.deleteButton.hide();
                this.applyChangesButton.hide();
            };
            EntityDialogAsPanel.prototype.onSaveSuccess = function (response) {
                this.showSaveSuccessMessage(response);
            };
            EntityDialogAsPanel = __decorate([
                Serenity.Decorators.panel()
            ], EntityDialogAsPanel);
            return EntityDialogAsPanel;
        }(SerExtraCore.Northwind.OrderDialog));
        BasicSamples.EntityDialogAsPanel = EntityDialogAsPanel;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryDialog = /** @class */ (function (_super) {
            __extends(CategoryDialog, _super);
            function CategoryDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.CategoryForm(_this.idPrefix);
                return _this;
            }
            CategoryDialog.prototype.getFormKey = function () { return Northwind.CategoryForm.formKey; };
            CategoryDialog.prototype.getIdProperty = function () { return Northwind.CategoryRow.idProperty; };
            CategoryDialog.prototype.getLocalTextPrefix = function () { return Northwind.CategoryRow.localTextPrefix; };
            CategoryDialog.prototype.getNameProperty = function () { return Northwind.CategoryRow.nameProperty; };
            CategoryDialog.prototype.getService = function () { return Northwind.CategoryService.baseUrl; };
            CategoryDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], CategoryDialog);
            return CategoryDialog;
        }(Serenity.EntityDialog));
        Northwind.CategoryDialog = CategoryDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Category/CategoryDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var GetInsertedRecordIdDialog = /** @class */ (function (_super) {
            __extends(GetInsertedRecordIdDialog, _super);
            function GetInsertedRecordIdDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            /**
             * This method is called after the save request to service
             * is completed succesfully. This can be an insert or update.
             *
             * @param response Response that is returned from server
             */
            GetInsertedRecordIdDialog.prototype.onSaveSuccess = function (response) {
                // check that this is an insert
                if (this.isNew()) {
                    Q.notifySuccess("Just inserted a category with ID: " + response.EntityId);
                    // you could also open a new dialog
                    // new Northwind.CategoryDialog().loadByIdAndOpenDialog(response.EntityId);
                    // but let's better load inserted record using Retrieve service
                    SerExtraCore.Northwind.CategoryService.Retrieve({
                        EntityId: response.EntityId
                    }, function (resp) {
                        Q.notifyInfo("Looks like the category you added has name: " + resp.Entity.CategoryName);
                    });
                }
            };
            GetInsertedRecordIdDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], GetInsertedRecordIdDialog);
            return GetInsertedRecordIdDialog;
        }(SerExtraCore.Northwind.CategoryDialog));
        BasicSamples.GetInsertedRecordIdDialog = GetInsertedRecordIdDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CategoryGrid = /** @class */ (function (_super) {
            __extends(CategoryGrid, _super);
            function CategoryGrid(container) {
                return _super.call(this, container) || this;
            }
            CategoryGrid.prototype.getColumnsKey = function () { return "Northwind.Category"; };
            CategoryGrid.prototype.getDialogType = function () { return Northwind.CategoryDialog; };
            CategoryGrid.prototype.getIdProperty = function () { return Northwind.CategoryRow.idProperty; };
            CategoryGrid.prototype.getLocalTextPrefix = function () { return Northwind.CategoryRow.localTextPrefix; };
            CategoryGrid.prototype.getService = function () { return Northwind.CategoryService.baseUrl; };
            CategoryGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CategoryGrid);
            return CategoryGrid;
        }(Serenity.EntityGrid));
        Northwind.CategoryGrid = CategoryGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Category/CategoryGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of CategoryGrid to override dialog type to GetInsertedRecordIdDialog
         */
        var GetInsertedRecordIdGrid = /** @class */ (function (_super) {
            __extends(GetInsertedRecordIdGrid, _super);
            function GetInsertedRecordIdGrid(container) {
                return _super.call(this, container) || this;
            }
            GetInsertedRecordIdGrid.prototype.getDialogType = function () { return BasicSamples.GetInsertedRecordIdDialog; };
            GetInsertedRecordIdGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], GetInsertedRecordIdGrid);
            return GetInsertedRecordIdGrid;
        }(SerExtraCore.Northwind.CategoryGrid));
        BasicSamples.GetInsertedRecordIdGrid = GetInsertedRecordIdGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Styling for columns is done with CSS in site.basicsamples.less file.
         * When comparing this to MultiColumnDialog sample, you may notice that
         * this version requires much less JS and CSS code.
         */
        var MultiColumnResponsiveDialog = /** @class */ (function (_super) {
            __extends(MultiColumnResponsiveDialog, _super);
            function MultiColumnResponsiveDialog() {
                return _super.call(this) || this;
            }
            MultiColumnResponsiveDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], MultiColumnResponsiveDialog);
            return MultiColumnResponsiveDialog;
        }(SerExtraCore.Northwind.OrderDialog));
        BasicSamples.MultiColumnResponsiveDialog = MultiColumnResponsiveDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of OrderGrid to override dialog type to MultiColumnResponsiveDialog
         */
        var MultiColumnResponsiveGrid = /** @class */ (function (_super) {
            __extends(MultiColumnResponsiveGrid, _super);
            function MultiColumnResponsiveGrid(container) {
                return _super.call(this, container) || this;
            }
            MultiColumnResponsiveGrid.prototype.getDialogType = function () { return BasicSamples.MultiColumnResponsiveDialog; };
            MultiColumnResponsiveGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], MultiColumnResponsiveGrid);
            return MultiColumnResponsiveGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.MultiColumnResponsiveGrid = MultiColumnResponsiveGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our custom order dialog subclass that will have a tab to display and edit selected customer details.
         */
        var OtherFormInTabDialog = /** @class */ (function (_super) {
            __extends(OtherFormInTabDialog, _super);
            function OtherFormInTabDialog() {
                var _this = _super.call(this) || this;
                // entity dialogs by default creates a property grid on element with ID "PropertyGrid".
                // here we explicitly create another, the customer property grid (vertical form) on element with ID "CustomerPropertyGrid".
                _this.customerPropertyGrid = new Serenity.PropertyGrid(_this.byId("CustomerPropertyGrid"), {
                    idPrefix: _this.idPrefix + "_Customer_",
                    items: Q.getForm(SerExtraCore.Northwind.CustomerForm.formKey).filter(function (x) { return x.name != 'CustomerID'; }),
                    useCategories: true
                });
                // this is just a helper to access editors if needed
                _this.customerForm = new SerExtraCore.Northwind.CustomerForm(_this.customerPropertyGrid.idPrefix);
                // initialize validator for customer form
                _this.customerValidator = _this.byId("CustomerForm").validate(Q.validateOptions({}));
                var selfChange = 0;
                // creating another toolbar for customer tab that will only save Customer
                new Serenity.Toolbar(_this.byId("CustomerToolbar"), {
                    buttons: [{
                            cssClass: "apply-changes-button",
                            title: Q.text("Controls.EntityDialog.SaveButton"),
                            onClick: function () {
                                var id = _this.getCustomerID();
                                if (!id)
                                    return;
                                if (!_this.customerValidator.form())
                                    return;
                                // prepare an empty entity to serialize customer details into
                                var c = {};
                                _this.customerPropertyGrid.save(c);
                                SerExtraCore.Northwind.CustomerService.Update({
                                    EntityId: id,
                                    Entity: c
                                }, function (response) {
                                    // reload customer list just in case
                                    Q.reloadLookup(SerExtraCore.Northwind.CustomerRow.lookupKey);
                                    // set flag that we are triggering customer select change event
                                    // otherwise active tab will change to first one
                                    selfChange++;
                                    try {
                                        // trigger change so that customer select updates its text
                                        // in case if Company Name is changed
                                        _this.form.CustomerID.element.change();
                                    }
                                    finally {
                                        selfChange--;
                                    }
                                    Q.notifySuccess("Saved customer details");
                                });
                            }
                        }]
                });
                _this.form.CustomerID.change(function (e) {
                    if (selfChange)
                        return;
                    var customerID = _this.getCustomerID();
                    Serenity.TabsExtensions.setDisabled(_this.tabs, 'Customer', !customerID);
                    if (!customerID) {
                        // no customer is selected, just load an empty entity
                        _this.customerPropertyGrid.load({});
                        return;
                    }
                    // load selected customer into customer form by calling CustomerService
                    SerExtraCore.Northwind.CustomerService.Retrieve({
                        EntityId: customerID
                    }, function (response) {
                        _this.customerPropertyGrid.load(response.Entity);
                    });
                });
                return _this;
            }
            OtherFormInTabDialog.prototype.getCustomerID = function () {
                var customerID = this.form.CustomerID.value;
                if (Q.isEmptyOrNull(customerID))
                    return null;
                // unfortunately, CustomerID (a string) used in this form and 
                // the ID (auto increment ID) are different, so we need to 
                // find numeric ID from customer lookups. 
                // you'll probably won't need this step.
                return Q.first(SerExtraCore.Northwind.CustomerRow.getLookup().items, function (x) { return x.CustomerID == customerID; }).ID;
            };
            OtherFormInTabDialog.prototype.loadEntity = function (entity) {
                _super.prototype.loadEntity.call(this, entity);
                Serenity.TabsExtensions.setDisabled(this.tabs, 'Customer', !this.getCustomerID());
            };
            OtherFormInTabDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], OtherFormInTabDialog);
            return OtherFormInTabDialog;
        }(SerExtraCore.Northwind.OrderDialog));
        BasicSamples.OtherFormInTabDialog = OtherFormInTabDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of OrderGrid to override dialog type to OtherFormInTabDialog
         */
        var OtherFormInTabGrid = /** @class */ (function (_super) {
            __extends(OtherFormInTabGrid, _super);
            function OtherFormInTabGrid(container) {
                return _super.call(this, container) || this;
            }
            OtherFormInTabGrid.prototype.getDialogType = function () { return BasicSamples.OtherFormInTabDialog; };
            OtherFormInTabGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], OtherFormInTabGrid);
            return OtherFormInTabGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.OtherFormInTabGrid = OtherFormInTabGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our custom order dialog subclass that will have a tab to display and edit selected customer details.
         * With single toolbar for all forms
         */
        var OtherFormOneBarDialog = /** @class */ (function (_super) {
            __extends(OtherFormOneBarDialog, _super);
            function OtherFormOneBarDialog() {
                var _this = _super.call(this) || this;
                _this.selfChange = 0;
                // entity dialogs by default creates a property grid on element with ID "PropertyGrid".
                // here we explicitly create another, the customer property grid (vertical form) on element with ID "CustomerPropertyGrid".
                _this.customerPropertyGrid = new Serenity.PropertyGrid(_this.byId("CustomerPropertyGrid"), {
                    items: Q.getForm(SerExtraCore.Northwind.CustomerForm.formKey).filter(function (x) { return x.name != 'CustomerID'; }),
                    idPrefix: _this.idPrefix + "_Customer_",
                    useCategories: true
                });
                // this is just a helper to access editors if needed
                _this.customerForm = new SerExtraCore.Northwind.CustomerForm(_this.customerPropertyGrid.idPrefix);
                // initialize validator for customer form
                _this.customerValidator = _this.byId("CustomerForm").validate(Q.validateOptions({}));
                _this.form.CustomerID.change(function (e) {
                    if (_this.selfChange)
                        return;
                    var customerID = _this.getCustomerID();
                    Serenity.TabsExtensions.setDisabled(_this.tabs, 'Customer', !customerID);
                    if (!customerID) {
                        // no customer is selected, just load an empty entity
                        _this.customerPropertyGrid.load({});
                        return;
                    }
                    // load selected customer into customer form by calling CustomerService
                    SerExtraCore.Northwind.CustomerService.Retrieve({
                        EntityId: customerID
                    }, function (response) {
                        _this.customerPropertyGrid.load(response.Entity);
                    });
                });
                return _this;
            }
            OtherFormOneBarDialog.prototype.getCustomerID = function () {
                var customerID = this.form.CustomerID.value;
                if (Q.isEmptyOrNull(customerID))
                    return null;
                // unfortunately, CustomerID (a string) used in this form and 
                // the ID (auto increment ID) are different, so we need to 
                // find numeric ID from customer lookups. 
                // you'll probably won't need this step.
                return Q.first(SerExtraCore.Northwind.CustomerRow.getLookup().items, function (x) { return x.CustomerID == customerID; }).ID;
            };
            OtherFormOneBarDialog.prototype.loadEntity = function (entity) {
                _super.prototype.loadEntity.call(this, entity);
                Serenity.TabsExtensions.setDisabled(this.tabs, 'Customer', !this.getCustomerID());
            };
            // Save the customer and the order 
            OtherFormOneBarDialog.prototype.saveCustomer = function (callback, onSuccess) {
                var _this = this;
                var id = this.getCustomerID();
                if (!id) {
                    // If id of Customer isn't present, we save only Order entity
                    onSuccess(null);
                }
                else {
                    // Get current tab
                    var currTab = Serenity.TabsExtensions.activeTabKey(this.tabs);
                    // Select the correct tab and validate to see the error message in tab
                    Serenity.TabsExtensions.selectTab(this.tabs, "Customer");
                    if (!this.customerValidator.form()) {
                        return false;
                    }
                    // Re-select initial tab
                    Serenity.TabsExtensions.selectTab(this.tabs, currTab);
                    // prepare an empty entity to serialize customer details into
                    var c = {};
                    this.customerPropertyGrid.save(c);
                    SerExtraCore.Northwind.CustomerService.Update({
                        EntityId: id,
                        Entity: c
                    }, function (response) {
                        // reload customer list just in case
                        Q.reloadLookup(SerExtraCore.Northwind.CustomerRow.lookupKey);
                        // set flag that we are triggering customer select change event
                        // otherwise active tab will change to first one
                        _this.selfChange++;
                        try {
                            // trigger change so that customer select updates its text
                            // in case if Company Name is changed
                            _this.form.CustomerID.element.change();
                        }
                        finally {
                            _this.selfChange--;
                        }
                        onSuccess(response);
                    });
                }
                return true;
            };
            // Call super.save to save Order entity
            OtherFormOneBarDialog.prototype.saveOrder = function (callback) {
                _super.prototype.save.call(this, callback);
            };
            OtherFormOneBarDialog.prototype.saveAll = function (callback) {
                var _this = this;
                this.saveCustomer(callback, 
                // If customer successa, save Order entity
                function (resp) { return _this.saveOrder(callback); });
            };
            // This is called when save/update button is pressed
            OtherFormOneBarDialog.prototype.save = function (callback) {
                this.saveAll(callback);
            };
            OtherFormOneBarDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], OtherFormOneBarDialog);
            return OtherFormOneBarDialog;
        }(SerExtraCore.Northwind.OrderDialog));
        BasicSamples.OtherFormOneBarDialog = OtherFormOneBarDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of OrderGrid to override dialog type to OtherFormInTabOneBarDialog
         */
        var OtherFormInTabOneBarGrid = /** @class */ (function (_super) {
            __extends(OtherFormInTabOneBarGrid, _super);
            function OtherFormInTabOneBarGrid(container) {
                return _super.call(this, container) || this;
            }
            OtherFormInTabOneBarGrid.prototype.getDialogType = function () { return BasicSamples.OtherFormOneBarDialog; };
            OtherFormInTabOneBarGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], OtherFormInTabOneBarGrid);
            return OtherFormInTabOneBarGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.OtherFormInTabOneBarGrid = OtherFormInTabOneBarGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var PopulateLinkedDataDialog = /** @class */ (function (_super) {
            __extends(PopulateLinkedDataDialog, _super);
            function PopulateLinkedDataDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.PopulateLinkedDataForm(_this.idPrefix);
                // "changeSelect2" is only fired when user changes the selection
                // but "change" is fired when dialog sets customer on load too
                // so we prefer "changeSelect2", as initial customer details 
                // will get populated by initial load, we don't want extra call
                _this.form.CustomerID.changeSelect2(function (e) {
                    var customerID = _this.form.CustomerID.value;
                    if (Q.isEmptyOrNull(customerID)) {
                        _this.setCustomerDetails({});
                        return;
                    }
                    // in northwind CustomerID is a string like "ALFKI", 
                    // while its actual integer ID value is 1.
                    // so we need to convert customer ID to ID.
                    // you won't have to do this conversion with your tables
                    var id = Q.first(SerExtraCore.Northwind.CustomerRow.getLookup().items, function (x) { return x.CustomerID == customerID; }).ID;
                    SerExtraCore.Northwind.CustomerService.Retrieve({
                        EntityId: id
                    }, function (response) {
                        _this.setCustomerDetails(response.Entity);
                    });
                });
                return _this;
            }
            PopulateLinkedDataDialog.prototype.getFormKey = function () { return BasicSamples.PopulateLinkedDataForm.formKey; };
            PopulateLinkedDataDialog.prototype.getIdProperty = function () { return SerExtraCore.Northwind.OrderRow.idProperty; };
            PopulateLinkedDataDialog.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.OrderRow.localTextPrefix; };
            PopulateLinkedDataDialog.prototype.getNameProperty = function () { return SerExtraCore.Northwind.OrderRow.nameProperty; };
            PopulateLinkedDataDialog.prototype.getService = function () { return SerExtraCore.Northwind.OrderService.baseUrl; };
            PopulateLinkedDataDialog.prototype.setCustomerDetails = function (details) {
                this.form.CustomerCity.value = details.City;
                this.form.CustomerContactName.value = details.ContactName;
                this.form.CustomerContactTitle.value = details.ContactTitle;
                this.form.CustomerCountry.value = details.Country;
                this.form.CustomerFax.value = details.Fax;
                this.form.CustomerPhone.value = details.Phone;
                this.form.CustomerRegion.value = details.Region;
            };
            /**
             * This dialog will have CSS class "s-PopulateLinkedDataDialog"
             * We are changing it here to "s-OrderDialog", to make it use default OrderDialog styles
             * This has no effect other than looks on populate linked data demonstration
             */
            PopulateLinkedDataDialog.prototype.getCssClass = function () {
                return _super.prototype.getCssClass.call(this) + " s-OrderDialog s-Northwind-OrderDialog";
            };
            PopulateLinkedDataDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], PopulateLinkedDataDialog);
            return PopulateLinkedDataDialog;
        }(Serenity.EntityDialog));
        BasicSamples.PopulateLinkedDataDialog = PopulateLinkedDataDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * A subclass of OrderGrid that launches PopulateLinkedDataDialog
         */
        var PopulateLinkedDataGrid = /** @class */ (function (_super) {
            __extends(PopulateLinkedDataGrid, _super);
            function PopulateLinkedDataGrid(container) {
                return _super.call(this, container) || this;
            }
            PopulateLinkedDataGrid.prototype.getDialogType = function () { return BasicSamples.PopulateLinkedDataDialog; };
            PopulateLinkedDataGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], PopulateLinkedDataGrid);
            return PopulateLinkedDataGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.PopulateLinkedDataGrid = PopulateLinkedDataGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SupplierDialog = /** @class */ (function (_super) {
            __extends(SupplierDialog, _super);
            function SupplierDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.SupplierForm(_this.idPrefix);
                return _this;
            }
            SupplierDialog.prototype.getFormKey = function () { return Northwind.SupplierForm.formKey; };
            SupplierDialog.prototype.getIdProperty = function () { return Northwind.SupplierRow.idProperty; };
            SupplierDialog.prototype.getLocalTextPrefix = function () { return Northwind.SupplierRow.localTextPrefix; };
            SupplierDialog.prototype.getNameProperty = function () { return Northwind.SupplierRow.nameProperty; };
            SupplierDialog.prototype.getService = function () { return Northwind.SupplierService.baseUrl; };
            SupplierDialog.prototype.getLanguages = function () {
                return SerExtraCore.LanguageList.getValue();
            };
            SupplierDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], SupplierDialog);
            return SupplierDialog;
        }(Serenity.EntityDialog));
        Northwind.SupplierDialog = SupplierDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Supplier/SupplierDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ReadOnlyDialog = /** @class */ (function (_super) {
            __extends(ReadOnlyDialog, _super);
            function ReadOnlyDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            /**
             * This is the method that gets list of tool
             * buttons to be created in a dialog.
             *
             * Here we'll remove save and close button, and
             * apply changes buttons.
             */
            ReadOnlyDialog.prototype.getToolbarButtons = function () {
                var buttons = _super.prototype.getToolbarButtons.call(this);
                buttons.splice(Q.indexOf(buttons, function (x) { return x.cssClass == "save-and-close-button"; }), 1);
                buttons.splice(Q.indexOf(buttons, function (x) { return x.cssClass == "apply-changes-button"; }), 1);
                // We could also remove delete button here, but for demonstration 
                // purposes we'll hide it in another method (updateInterface)
                // buttons.splice(Q.indexOf(buttons, x => x.cssClass == "delete-button"), 1);
                return buttons;
            };
            /**
             * This method is a good place to update states of
             * interface elements. It is called after dialog
             * is initialized and an entity is loaded into dialog.
             * This is also called in new item mode.
             */
            ReadOnlyDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                // finding all editor elements and setting their readonly attribute
                // note that this helper method only works with basic inputs, 
                // some editors require widget based set readonly overload (setReadOnly)
                Serenity.EditorUtils.setReadonly(this.element.find('.editor'), true);
                // remove required asterisk (*)
                this.element.find('sup').hide();
                // here is a way to locate a button by its css class
                // note that this method is not available in 
                // getToolbarButtons() because buttons are not 
                // created there yet!
                // 
                // this.toolbar.findButton('delete-button').hide();
                // entity dialog also has reference variables to
                // its default buttons, lets use them to hide delete button
                this.deleteButton.hide();
                // we could also hide save buttons just like delete button,
                // but they are null now as we removed them in getToolbarButtons()
                // if we didn't we could write like this:
                // 
                // this.applyChangesButton.hide();
                // this.saveAndCloseButton.hide();
                // instead of hiding, we could disable a button
                // 
                // this.deleteButton.toggleClass('disabled', true);
            };
            /**
             * This method is called when dialog title needs to be updated.
             * Base class returns something like 'Edit xyz' for edit mode,
             * and 'New xyz' for new record mode.
             *
             * But our dialog is readonly, so we should change it to 'View xyz'
             */
            ReadOnlyDialog.prototype.getEntityTitle = function () {
                if (!this.isEditMode()) {
                    // we shouldn't hit here, but anyway for demo...
                    return "How did you manage to open this dialog in new record mode?";
                }
                else {
                    // entitySingular is type of record this dialog edits. something like 'Supplier'.
                    // you could hardcode it, but this is for demonstration
                    var entityType = _super.prototype.getEntitySingular.call(this);
                    // get name field value of record this dialog edits
                    var name_1 = this.getEntityNameFieldValue() || "";
                    // you could use Q.format with a local text, but again demo...
                    return 'View ' + entityType + " (" + name_1 + ")";
                }
            };
            /**
             * This method is actually the one that calls getEntityTitle()
             * and updates the dialog title. We could do it here too...
             */
            ReadOnlyDialog.prototype.updateTitle = function () {
                _super.prototype.updateTitle.call(this);
                // remove super.updateTitle() call above and uncomment 
                // below line if you'd like to use this version
                // 
                // this.dialogTitle = 'View Supplier (' + this.getEntityNameFieldValue() + ')';
            };
            ReadOnlyDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], ReadOnlyDialog);
            return ReadOnlyDialog;
        }(SerExtraCore.Northwind.SupplierDialog));
        BasicSamples.ReadOnlyDialog = ReadOnlyDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var SupplierGrid = /** @class */ (function (_super) {
            __extends(SupplierGrid, _super);
            function SupplierGrid(container) {
                return _super.call(this, container) || this;
            }
            SupplierGrid.prototype.getColumnsKey = function () { return "Northwind.Supplier"; };
            SupplierGrid.prototype.getDialogType = function () { return Northwind.SupplierDialog; };
            SupplierGrid.prototype.getIdProperty = function () { return Northwind.SupplierRow.idProperty; };
            SupplierGrid.prototype.getLocalTextPrefix = function () { return Northwind.SupplierRow.localTextPrefix; };
            SupplierGrid.prototype.getService = function () { return Northwind.SupplierService.baseUrl; };
            SupplierGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], SupplierGrid);
            return SupplierGrid;
        }(Serenity.EntityGrid));
        Northwind.SupplierGrid = SupplierGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Supplier/SupplierGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * A readonly grid that launches ReadOnlyDialog
         */
        var ReadOnlyGrid = /** @class */ (function (_super) {
            __extends(ReadOnlyGrid, _super);
            function ReadOnlyGrid(container) {
                return _super.call(this, container) || this;
            }
            ReadOnlyGrid.prototype.getDialogType = function () { return BasicSamples.ReadOnlyDialog; };
            /**
             * Removing add button from grid using its css class
             */
            ReadOnlyGrid.prototype.getButtons = function () {
                var buttons = _super.prototype.getButtons.call(this);
                buttons.splice(Q.indexOf(buttons, function (x) { return x.cssClass == "add-button"; }), 1);
                return buttons;
            };
            ReadOnlyGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ReadOnlyGrid);
            return ReadOnlyGrid;
        }(SerExtraCore.Northwind.SupplierGrid));
        BasicSamples.ReadOnlyGrid = ReadOnlyGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Adding Responsive attribute makes this dialog use full screen in mobile devices.
         */
        var ResponsiveDialog = /** @class */ (function (_super) {
            __extends(ResponsiveDialog, _super);
            function ResponsiveDialog() {
                return _super.call(this) || this;
            }
            ResponsiveDialog.prototype.getFormKey = function () { return SerExtraCore.Northwind.OrderForm.formKey; };
            ResponsiveDialog.prototype.getIdProperty = function () { return SerExtraCore.Northwind.OrderRow.idProperty; };
            ResponsiveDialog.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.OrderRow.localTextPrefix; };
            ResponsiveDialog.prototype.getNameProperty = function () { return SerExtraCore.Northwind.OrderRow.nameProperty; };
            ResponsiveDialog.prototype.getService = function () { return SerExtraCore.Northwind.OrderService.baseUrl; };
            ResponsiveDialog = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.responsive(),
                Serenity.Decorators.maximizable()
            ], ResponsiveDialog);
            return ResponsiveDialog;
        }(Serenity.EntityDialog));
        BasicSamples.ResponsiveDialog = ResponsiveDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of OrderGrid to override dialog type to ResponsiveDialog
         */
        var ResponsiveGrid = /** @class */ (function (_super) {
            __extends(ResponsiveGrid, _super);
            function ResponsiveGrid(container) {
                return _super.call(this, container) || this;
            }
            ResponsiveGrid.prototype.getDialogType = function () { return BasicSamples.ResponsiveDialog; };
            ResponsiveGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ResponsiveGrid);
            return ResponsiveGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.ResponsiveGrid = ResponsiveGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerDialog = /** @class */ (function (_super) {
            __extends(CustomerDialog, _super);
            function CustomerDialog() {
                var _this = _super.call(this) || this;
                _this.form = new Northwind.CustomerForm(_this.idPrefix);
                _this.ordersGrid = new Northwind.CustomerOrdersGrid(_this.byId('OrdersGrid'));
                // force order dialog to open in Dialog mode instead of Panel mode
                // which is set as default on OrderDialog with @panelAttribute
                _this.ordersGrid.openDialogsAsPanel = false;
                _this.byId('NoteList').closest('.field').hide().end().appendTo(_this.byId('TabNotes'));
                SerExtraCore.DialogUtils.pendingChangesConfirmation(_this.element, function () { return _this.getSaveState() != _this.loadedState; });
                return _this;
            }
            CustomerDialog.prototype.getFormKey = function () { return Northwind.CustomerForm.formKey; };
            CustomerDialog.prototype.getIdProperty = function () { return Northwind.CustomerRow.idProperty; };
            CustomerDialog.prototype.getLocalTextPrefix = function () { return Northwind.CustomerRow.localTextPrefix; };
            CustomerDialog.prototype.getNameProperty = function () { return Northwind.CustomerRow.nameProperty; };
            CustomerDialog.prototype.getService = function () { return Northwind.CustomerService.baseUrl; };
            CustomerDialog.prototype.getSaveState = function () {
                try {
                    return $.toJSON(this.getSaveEntity());
                }
                catch (e) {
                    return null;
                }
            };
            CustomerDialog.prototype.loadResponse = function (data) {
                _super.prototype.loadResponse.call(this, data);
                this.loadedState = this.getSaveState();
            };
            CustomerDialog.prototype.loadEntity = function (entity) {
                _super.prototype.loadEntity.call(this, entity);
                Serenity.TabsExtensions.setDisabled(this.tabs, 'Orders', this.isNewOrDeleted());
                this.ordersGrid.customerID = entity.CustomerID;
            };
            CustomerDialog.prototype.onSaveSuccess = function (response) {
                _super.prototype.onSaveSuccess.call(this, response);
                Q.reloadLookup('Northwind.Customer');
            };
            CustomerDialog = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.panel()
            ], CustomerDialog);
            return CustomerDialog;
        }(Serenity.EntityDialog));
        Northwind.CustomerDialog = CustomerDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Customer/CustomerDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var SerialAutoNumberDialog = /** @class */ (function (_super) {
            __extends(SerialAutoNumberDialog, _super);
            function SerialAutoNumberDialog() {
                var _this = _super.call(this) || this;
                _this.form.CustomerID.element.on('keyup', function (e) {
                    // only auto number when a key between 'A' and 'Z' is pressed
                    if (e.which >= 65 && e.which <= 90)
                        _this.getNextNumber();
                });
                return _this;
            }
            SerialAutoNumberDialog.prototype.afterLoadEntity = function () {
                _super.prototype.afterLoadEntity.call(this);
                // fill next number in new record mode
                if (this.isNew())
                    this.getNextNumber();
            };
            SerialAutoNumberDialog.prototype.getNextNumber = function () {
                var _this = this;
                var val = Q.trimToNull(this.form.CustomerID.value);
                // we will only get next number when customer ID is empty or 1 character in length
                if (!val || val.length <= 1) {
                    // if no customer ID yet (new record mode probably) use 'C' as a prefix
                    var prefix = (val || 'C').toUpperCase();
                    // call our service, see CustomerEndpoint.cs and CustomerRepository.cs
                    SerExtraCore.Northwind.CustomerService.GetNextNumber({
                        Prefix: prefix,
                        Length: 5 // we want service to search for and return serials of 5 in length
                    }, function (response) {
                        _this.form.CustomerID.value = response.Serial;
                        // this is to mark numerical part after prefix
                        _this.form.CustomerID.element[0].setSelectionRange(prefix.length, response.Serial.length);
                    });
                }
            };
            SerialAutoNumberDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], SerialAutoNumberDialog);
            return SerialAutoNumberDialog;
        }(SerExtraCore.Northwind.CustomerDialog));
        BasicSamples.SerialAutoNumberDialog = SerialAutoNumberDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerGrid = /** @class */ (function (_super) {
            __extends(CustomerGrid, _super);
            function CustomerGrid(container) {
                return _super.call(this, container) || this;
            }
            CustomerGrid.prototype.getColumnsKey = function () { return "Northwind.Customer"; };
            CustomerGrid.prototype.getDialogType = function () { return Northwind.CustomerDialog; };
            CustomerGrid.prototype.getIdProperty = function () { return Northwind.CustomerRow.idProperty; };
            CustomerGrid.prototype.getLocalTextPrefix = function () { return Northwind.CustomerRow.localTextPrefix; };
            CustomerGrid.prototype.getService = function () { return Northwind.CustomerService.baseUrl; };
            CustomerGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push(SerExtraCore.Common.ExcelExportHelper.createToolButton({
                    grid: this,
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    service: 'Northwind/Customer/ListExcel',
                    separator: true
                }));
                buttons.push(SerExtraCore.Common.PdfExportHelper.createToolButton({
                    grid: this,
                    onViewSubmit: function () { return _this.onViewSubmit(); }
                }));
                return buttons;
            };
            CustomerGrid = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.filterable()
            ], CustomerGrid);
            return CustomerGrid;
        }(Serenity.EntityGrid));
        Northwind.CustomerGrid = CustomerGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Customer/CustomerGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of CustomerGrid to override dialog type to SerialAutoNumberDialog
         */
        var SerialAutoNumberGrid = /** @class */ (function (_super) {
            __extends(SerialAutoNumberGrid, _super);
            function SerialAutoNumberGrid(container) {
                return _super.call(this, container) || this;
            }
            SerialAutoNumberGrid.prototype.getDialogType = function () { return BasicSamples.SerialAutoNumberDialog; };
            SerialAutoNumberGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], SerialAutoNumberGrid);
            return SerialAutoNumberGrid;
        }(SerExtraCore.Northwind.CustomerGrid));
        BasicSamples.SerialAutoNumberGrid = SerialAutoNumberGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var GridEditorDialog = /** @class */ (function (_super) {
            __extends(GridEditorDialog, _super);
            function GridEditorDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            GridEditorDialog.prototype.getIdProperty = function () { return "__id"; };
            GridEditorDialog.prototype.destroy = function () {
                this.onSave = null;
                this.onDelete = null;
                _super.prototype.destroy.call(this);
            };
            GridEditorDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                // apply changes button doesn't work properly with in-memory grids yet
                if (this.applyChangesButton) {
                    this.applyChangesButton.hide();
                }
            };
            GridEditorDialog.prototype.saveHandler = function (options, callback) {
                this.onSave && this.onSave(options, callback);
            };
            GridEditorDialog.prototype.deleteHandler = function (options, callback) {
                this.onDelete && this.onDelete(options, callback);
            };
            GridEditorDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], GridEditorDialog);
            return GridEditorDialog;
        }(Serenity.EntityDialog));
        Common.GridEditorDialog = GridEditorDialog;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Common/Helpers/GridEditorDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ChangingLookupTextDialog = /** @class */ (function (_super) {
            __extends(ChangingLookupTextDialog, _super);
            function ChangingLookupTextDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.ChangingLookupTextForm(_this.idPrefix);
                _this.form.ProductID.changeSelect2(function (e) {
                    var productID = Q.toId(_this.form.ProductID.value);
                    if (productID != null) {
                        _this.form.UnitPrice.value = SerExtraCore.Northwind.ProductRow.getLookup().itemById[productID].UnitPrice;
                    }
                });
                _this.form.Discount.addValidationRule(_this.uniqueName, function (e) {
                    var price = _this.form.UnitPrice.value;
                    var quantity = _this.form.Quantity.value;
                    var discount = _this.form.Discount.value;
                    if (price != null && quantity != null && discount != null &&
                        discount > 0 && discount >= price * quantity) {
                        return "Discount can't be higher than total price!";
                    }
                });
                return _this;
            }
            ChangingLookupTextDialog.prototype.getFormKey = function () { return BasicSamples.ChangingLookupTextForm.formKey; };
            ChangingLookupTextDialog.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.OrderDetailRow.localTextPrefix; };
            ChangingLookupTextDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                this.toolbar.findButton('apply-changes-button').hide();
                this.toolbar.findButton('save-and-close-button').hide();
            };
            ChangingLookupTextDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], ChangingLookupTextDialog);
            return ChangingLookupTextDialog;
        }(SerExtraCore.Common.GridEditorDialog));
        BasicSamples.ChangingLookupTextDialog = ChangingLookupTextDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our custom product editor type
         */
        var ChangingLookupTextEditor = /** @class */ (function (_super) {
            __extends(ChangingLookupTextEditor, _super);
            function ChangingLookupTextEditor(container, options) {
                return _super.call(this, container, options) || this;
            }
            ChangingLookupTextEditor.prototype.getLookupKey = function () {
                return SerExtraCore.Northwind.ProductRow.lookupKey;
            };
            ChangingLookupTextEditor.prototype.getItemText = function (item, lookup) {
                return _super.prototype.getItemText.call(this, item, lookup) +
                    ' (' +
                    '$' + Q.formatNumber(item.UnitPrice, '#,##0.00') +
                    ', ' + (item.UnitsInStock > 0 ? (item.UnitsInStock + ' in stock') : 'out of stock') +
                    ', ' + (item.SupplierCompanyName || 'Unknown') +
                    ')';
            };
            ChangingLookupTextEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], ChangingLookupTextEditor);
            return ChangingLookupTextEditor;
        }(Serenity.LookupEditorBase));
        BasicSamples.ChangingLookupTextEditor = ChangingLookupTextEditor;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../Common/Helpers/GridEditorDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDetailDialog = /** @class */ (function (_super) {
            __extends(OrderDetailDialog, _super);
            function OrderDetailDialog() {
                var _this = _super.call(this) || this;
                _this.form = new Northwind.OrderDetailForm(_this.idPrefix);
                _this.form.ProductID.changeSelect2(function (e) {
                    var productID = Q.toId(_this.form.ProductID.value);
                    if (productID != null) {
                        _this.form.UnitPrice.value = Northwind.ProductRow.getLookup().itemById[productID].UnitPrice;
                    }
                });
                _this.form.Discount.addValidationRule(_this.uniqueName, function (e) {
                    var price = _this.form.UnitPrice.value;
                    var quantity = _this.form.Quantity.value;
                    var discount = _this.form.Discount.value;
                    if (price != null && quantity != null && discount != null &&
                        discount > 0 && discount >= price * quantity) {
                        return "Discount can't be higher than total price!";
                    }
                });
                return _this;
            }
            OrderDetailDialog.prototype.getFormKey = function () { return Northwind.OrderDetailForm.formKey; };
            OrderDetailDialog.prototype.getLocalTextPrefix = function () { return Northwind.OrderDetailRow.localTextPrefix; };
            OrderDetailDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], OrderDetailDialog);
            return OrderDetailDialog;
        }(SerExtraCore.Common.GridEditorDialog));
        Northwind.OrderDetailDialog = OrderDetailDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/OrderDetail/OrderDetailDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our subclass of order detail dialog with a CategoryID property
         * that will be used to set CascadeValue of product editor
         */
        var FilteredLookupOrderDetailDialog = /** @class */ (function (_super) {
            __extends(FilteredLookupOrderDetailDialog, _super);
            function FilteredLookupOrderDetailDialog() {
                var _this = _super.call(this) || this;
                _this.form = new SerExtraCore.Northwind.OrderDetailForm(_this.idPrefix);
                // we can set cascade field in constructor
                // we could also use FilterField but in this case, when CategoryID is null
                // lookup editor would show all products in any category
                _this.form.ProductID.cascadeField = "CategoryID" /* CategoryID */;
                return _this;
                // but CategoryID value is not yet available here as detail editor will set it 
                // after calling constructor (creating a detail dialog) so we'll use BeforeLoadEntity
            }
            /**
             * This method is called just before an entity is loaded to dialog
             * This is also called for new record mode with an empty entity
             */
            FilteredLookupOrderDetailDialog.prototype.beforeLoadEntity = function (entity) {
                _super.prototype.beforeLoadEntity.call(this, entity);
                // setting cascade value here
                // make sure you have [LookupInclude] on CategoryID property of ProductRow
                // otherwise this field won't be available in lookup script (will always be null),
                // so can't be filtered and you'll end up with an empty product list.
                this.form.ProductID.cascadeValue = this.categoryID;
            };
            FilteredLookupOrderDetailDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], FilteredLookupOrderDetailDialog);
            return FilteredLookupOrderDetailDialog;
        }(SerExtraCore.Northwind.OrderDetailDialog));
        BasicSamples.FilteredLookupOrderDetailDialog = FilteredLookupOrderDetailDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var GridEditorBase = /** @class */ (function (_super) {
            __extends(GridEditorBase, _super);
            function GridEditorBase(container) {
                var _this = _super.call(this, container) || this;
                _this.nextId = 1;
                return _this;
            }
            GridEditorBase.prototype.getIdProperty = function () { return "__id"; };
            GridEditorBase.prototype.id = function (entity) {
                return entity[this.getIdProperty()];
            };
            GridEditorBase.prototype.getNextId = function () {
                return "`" + this.nextId++;
            };
            GridEditorBase.prototype.setNewId = function (entity) {
                entity[this.getIdProperty()] = this.getNextId();
            };
            GridEditorBase.prototype.save = function (opt, callback) {
                var _this = this;
                var request = opt.request;
                var row = Q.deepClone(request.Entity);
                var id = this.id(row);
                if (id == null) {
                    row[this.getIdProperty()] = this.getNextId();
                }
                if (!this.validateEntity(row, id)) {
                    return;
                }
                var items = this.view.getItems().slice();
                if (id == null) {
                    items.push(row);
                }
                else {
                    var index = Q.indexOf(items, function (x) { return _this.id(x) === id; });
                    items[index] = Q.deepClone({}, items[index], row);
                }
                this.setEntities(items);
                callback({});
            };
            GridEditorBase.prototype.deleteEntity = function (id) {
                this.view.deleteItem(id);
                return true;
            };
            GridEditorBase.prototype.validateEntity = function (row, id) {
                return true;
            };
            GridEditorBase.prototype.setEntities = function (items) {
                this.view.setItems(items, true);
            };
            GridEditorBase.prototype.getNewEntity = function () {
                return {};
            };
            GridEditorBase.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                var addButton = Q.tryFirst(buttons, function (x) { return x.cssClass == 'add-button'; });
                if (addButton != null) {
                    addButton.onClick = function () {
                        _this.createEntityDialog(_this.getItemType(), function (dlg) {
                            var dialog = dlg;
                            dialog.onSave = function (opt, callback) { return _this.save(opt, callback); };
                            _this.transferDialogReadOnly(dialog);
                            dialog.loadEntityAndOpenDialog(_this.getNewEntity());
                        });
                    };
                }
                return buttons.filter(function (x) { return x.cssClass != "refresh-button"; });
            };
            GridEditorBase.prototype.editItem = function (entityOrId) {
                var _this = this;
                var id = entityOrId;
                var item = this.view.getItemById(id);
                this.createEntityDialog(this.getItemType(), function (dlg) {
                    var dialog = dlg;
                    dialog.onDelete = function (opt, callback) {
                        if (!_this.deleteEntity(id)) {
                            return;
                        }
                        callback({});
                    };
                    _this.transferDialogReadOnly(dialog);
                    dialog.onSave = function (opt, callback) { return _this.save(opt, callback); };
                    dialog.loadEntityAndOpenDialog(item);
                });
                ;
            };
            GridEditorBase.prototype.getEditValue = function (property, target) {
                target[property.name] = this.value;
            };
            GridEditorBase.prototype.setEditValue = function (source, property) {
                this.value = source[property.name];
            };
            Object.defineProperty(GridEditorBase.prototype, "value", {
                get: function () {
                    var p = this.getIdProperty();
                    return this.view.getItems().map(function (x) {
                        var y = Q.deepClone(x);
                        var id = y[p];
                        if (id && id.toString().charAt(0) == '`')
                            delete y[p];
                        return y;
                    });
                },
                set: function (value) {
                    var _this = this;
                    var p = this.getIdProperty();
                    this.view.setItems((value || []).map(function (x) {
                        var y = Q.deepClone(x);
                        if (y[p] == null)
                            y[p] = "`" + _this.getNextId();
                        return y;
                    }), true);
                },
                enumerable: true,
                configurable: true
            });
            GridEditorBase.prototype.getGridCanLoad = function () {
                return false;
            };
            GridEditorBase.prototype.usePager = function () {
                return false;
            };
            GridEditorBase.prototype.getInitialTitle = function () {
                return null;
            };
            GridEditorBase.prototype.createQuickSearchInput = function () {
            };
            GridEditorBase.prototype.enableDeleteColumn = function () {
                return false;
            };
            GridEditorBase.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                if (this.enableDeleteColumn()) {
                    columns.unshift({
                        field: 'Delete Row',
                        name: '',
                        format: function (ctx) { return '<a class="inline-action delete-row" title="delete">' +
                            '<i class="fa fa-trash-o text-red"></i></a>'; },
                        width: 24,
                        minWidth: 24,
                        maxWidth: 24
                    });
                }
                return columns;
            };
            GridEditorBase.prototype.onClick = function (e, row, cell) {
                var _this = this;
                _super.prototype.onClick.call(this, e, row, cell);
                if (e.isDefaultPrevented())
                    return;
                var item = this.itemAt(row);
                var target = $(e.target);
                // if user clicks "i" element, e.g. icon
                if (target.parent().hasClass('inline-action'))
                    target = target.parent();
                if (target.hasClass('inline-action')) {
                    e.preventDefault();
                    if (this.enableDeleteColumn()) {
                        if (target.hasClass('delete-row')) {
                            Q.confirm(Q.text('Controls.EntityDialog.DeleteConfirmation'), function () {
                                _this.deleteEntity(item[_this.getIdProperty()]);
                            });
                        }
                    }
                }
            };
            GridEditorBase = __decorate([
                Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue]),
                Serenity.Decorators.editor(),
                Serenity.Decorators.element("<div/>")
            ], GridEditorBase);
            return GridEditorBase;
        }(Serenity.EntityGrid));
        Common.GridEditorBase = GridEditorBase;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../Common/Helpers/GridEditorBase.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var OrderDetailsEditor = /** @class */ (function (_super) {
            __extends(OrderDetailsEditor, _super);
            function OrderDetailsEditor(container) {
                return _super.call(this, container) || this;
            }
            OrderDetailsEditor.prototype.getColumnsKey = function () { return "Northwind.OrderDetail"; };
            OrderDetailsEditor.prototype.getDialogType = function () { return Northwind.OrderDetailDialog; };
            OrderDetailsEditor.prototype.getLocalTextPrefix = function () { return Northwind.OrderDetailRow.localTextPrefix; };
            OrderDetailsEditor.prototype.validateEntity = function (row, id) {
                row.ProductID = Q.toId(row.ProductID);
                var sameProduct = Q.tryFirst(this.view.getItems(), function (x) { return x.ProductID === row.ProductID; });
                if (sameProduct && this.id(sameProduct) !== id) {
                    Q.alert('This product is already in order details!');
                    return false;
                }
                row.ProductName = Northwind.ProductRow.getLookup().itemById[row.ProductID].ProductName;
                row.LineTotal = (row.Quantity || 0) * (row.UnitPrice || 0) - (row.Discount || 0);
                return true;
            };
            OrderDetailsEditor = __decorate([
                Serenity.Decorators.registerClass()
            ], OrderDetailsEditor);
            return OrderDetailsEditor;
        }(SerExtraCore.Common.GridEditorBase));
        Northwind.OrderDetailsEditor = OrderDetailsEditor;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/OrderDetail/OrderDetailsEditor.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our subclass of Order Details editor with a CategoryID property
         */
        var FilteredLookupDetailEditor = /** @class */ (function (_super) {
            __extends(FilteredLookupDetailEditor, _super);
            function FilteredLookupDetailEditor(container) {
                return _super.call(this, container) || this;
            }
            FilteredLookupDetailEditor.prototype.getDialogType = function () { return BasicSamples.FilteredLookupOrderDetailDialog; };
            /**
             * This method is called to initialize an edit dialog created by
             * grid editor when Add button or an edit link is clicked
             * We have an opportunity here to pass CategoryID to edit dialog
             */
            FilteredLookupDetailEditor.prototype.initEntityDialog = function (itemType, dialog) {
                _super.prototype.initEntityDialog.call(this, itemType, dialog);
                // passing category ID from grid editor to detail dialog
                dialog.categoryID = this.categoryID;
            };
            FilteredLookupDetailEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], FilteredLookupDetailEditor);
            return FilteredLookupDetailEditor;
        }(SerExtraCore.Northwind.OrderDetailsEditor));
        BasicSamples.FilteredLookupDetailEditor = FilteredLookupDetailEditor;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Basic order dialog with a category selection
         */
        var FilteredLookupInDetailDialog = /** @class */ (function (_super) {
            __extends(FilteredLookupInDetailDialog, _super);
            function FilteredLookupInDetailDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.FilteredLookupInDetailForm(_this.idPrefix);
                _this.form.CategoryID.change(function (e) {
                    _this.form.DetailList.categoryID = Q.toId(_this.form.CategoryID.value);
                });
                return _this;
            }
            FilteredLookupInDetailDialog.prototype.getFormKey = function () { return BasicSamples.FilteredLookupInDetailForm.formKey; };
            FilteredLookupInDetailDialog.prototype.getIdProperty = function () { return SerExtraCore.Northwind.OrderRow.idProperty; };
            FilteredLookupInDetailDialog.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.OrderRow.localTextPrefix; };
            FilteredLookupInDetailDialog.prototype.getNameProperty = function () { return SerExtraCore.Northwind.OrderRow.nameProperty; };
            FilteredLookupInDetailDialog.prototype.getService = function () { return SerExtraCore.Northwind.OrderService.baseUrl; };
            FilteredLookupInDetailDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], FilteredLookupInDetailDialog);
            return FilteredLookupInDetailDialog;
        }(Serenity.EntityDialog));
        BasicSamples.FilteredLookupInDetailDialog = FilteredLookupInDetailDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of OrderGrid to override dialog type to FilteredLookupInDetailDialog
         */
        var FilteredLookupInDetailGrid = /** @class */ (function (_super) {
            __extends(FilteredLookupInDetailGrid, _super);
            function FilteredLookupInDetailGrid(container) {
                return _super.call(this, container) || this;
            }
            FilteredLookupInDetailGrid.prototype.getDialogType = function () { return BasicSamples.FilteredLookupInDetailDialog; };
            FilteredLookupInDetailGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], FilteredLookupInDetailGrid);
            return FilteredLookupInDetailGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.FilteredLookupInDetailGrid = FilteredLookupInDetailGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * This is our custom product dialog that uses a different product form
         * (LookupFilterByMultipleForm) with our special category editor.
         */
        var LookupFilterByMultipleDialog = /** @class */ (function (_super) {
            __extends(LookupFilterByMultipleDialog, _super);
            function LookupFilterByMultipleDialog() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            LookupFilterByMultipleDialog.prototype.getFormKey = function () { return BasicSamples.LookupFilterByMultipleForm.formKey; };
            LookupFilterByMultipleDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], LookupFilterByMultipleDialog);
            return LookupFilterByMultipleDialog;
        }(SerExtraCore.Northwind.ProductDialog));
        BasicSamples.LookupFilterByMultipleDialog = LookupFilterByMultipleDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Subclass of ProductGrid to override dialog type to CloneableEntityDialog
         */
        var LookupFilterByMultipleGrid = /** @class */ (function (_super) {
            __extends(LookupFilterByMultipleGrid, _super);
            function LookupFilterByMultipleGrid(container) {
                return _super.call(this, container) || this;
            }
            LookupFilterByMultipleGrid.prototype.getDialogType = function () { return BasicSamples.LookupFilterByMultipleDialog; };
            /**
             * This method is called just before List request is sent to service.
             * You have an opportunity here to cancel request or modify it.
             * Here we'll add a custom criteria to list request.
             */
            LookupFilterByMultipleGrid.prototype.onViewSubmit = function () {
                if (!_super.prototype.onViewSubmit.call(this)) {
                    return false;
                }
                // this has no relation to our lookup editor but as we'll allow picking only 
                // categories of Produce and Seafood in product dialog, it's better to show
                // only products from these categories in grid too
                var request = this.view.params;
                request.Criteria = Serenity.Criteria.and(request.Criteria, [['CategoryName'], 'in', [['Produce', 'Seafood']]]);
                // brackets used are important above, NOT ['CategoryName', 'in', ['Produce', 'Seafood']]
                return true;
            };
            LookupFilterByMultipleGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], LookupFilterByMultipleGrid);
            return LookupFilterByMultipleGrid;
        }(SerExtraCore.Northwind.ProductGrid));
        BasicSamples.LookupFilterByMultipleGrid = LookupFilterByMultipleGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * This is our category editor that will show only categories of Produce and
         * Seafood. We are subclassing LookupEditorBase which also LookupEditor
         * derives from.
         *
         * After compiling and transforming templates, this editor type will be
         * available in server side to use in our LookupFilterByMultipleForm,
         * which is a version of ProductForm that uses our custom editor.
         */
        var ProduceSeafoodCategoryEditor = /** @class */ (function (_super) {
            __extends(ProduceSeafoodCategoryEditor, _super);
            function ProduceSeafoodCategoryEditor(container, opt) {
                return _super.call(this, container, opt) || this;
            }
            /**
             * Normally LookupEditor requires a lookup key to determine which set of
             * lookup data to show in editor. As our editor will only show category
             * data, we lock it to category lookup key.
             */
            ProduceSeafoodCategoryEditor.prototype.getLookupKey = function () {
                return SerExtraCore.Northwind.CategoryRow.lookupKey;
            };
            /**
             * Here we are filtering by category name but you could filter by any field.
             * Just make sure the fields you filter on has [LookupInclude] attribute on them,
             * otherwise their value will be null in client side as they are not sent back
             * from server in lookup script.
             */
            ProduceSeafoodCategoryEditor.prototype.getItems = function (lookup) {
                return _super.prototype.getItems.call(this, lookup).filter(function (x) {
                    return x.CategoryName === 'Produce' || x.CategoryName === 'Seafood';
                });
            };
            ProduceSeafoodCategoryEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], ProduceSeafoodCategoryEditor);
            return ProduceSeafoodCategoryEditor;
        }(Serenity.LookupEditorBase));
        BasicSamples.ProduceSeafoodCategoryEditor = ProduceSeafoodCategoryEditor;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var HardcodedValuesDialog = /** @class */ (function (_super) {
            __extends(HardcodedValuesDialog, _super);
            function HardcodedValuesDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.HardcodedValuesForm(_this.idPrefix);
                _this.dialogTitle = "Please select some value";
                _this.form.SomeValue.changeSelect2(function (e) {
                    Q.notifySuccess("You selected item with key: " + _this.form.SomeValue.value);
                });
                return _this;
            }
            HardcodedValuesDialog.prototype.getFormKey = function () { return BasicSamples.HardcodedValuesForm.formKey; };
            HardcodedValuesDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], HardcodedValuesDialog);
            return HardcodedValuesDialog;
        }(Serenity.PropertyDialog));
        BasicSamples.HardcodedValuesDialog = HardcodedValuesDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        /**
         * Our select editor with hardcoded values.
         *
         * When you define a new editor type, make sure you build
         * and transform templates for it to be available
         * in server side forms, e.g. [HardCodedValuesEditor]
         */
        var HardcodedValuesEditor = /** @class */ (function (_super) {
            __extends(HardcodedValuesEditor, _super);
            function HardcodedValuesEditor(container) {
                var _this = _super.call(this, container, null) || this;
                // add option accepts a key (id) value and display text value
                _this.addOption("key1", "Text 1");
                _this.addOption("key2", "Text 2");
                // you may also use addItem which accepts a Select2Item parameter
                _this.addItem({
                    id: "key3",
                    text: "Text 3"
                });
                // don't let selecting this one (disabled)
                _this.addItem({
                    id: "key4",
                    text: "Text 4",
                    disabled: true
                });
                return _this;
            }
            HardcodedValuesEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], HardcodedValuesEditor);
            return HardcodedValuesEditor;
        }(Serenity.Select2Editor));
        BasicSamples.HardcodedValuesEditor = HardcodedValuesEditor;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var StaticTextBlockDialog = /** @class */ (function (_super) {
            __extends(StaticTextBlockDialog, _super);
            function StaticTextBlockDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.StaticTextBlockForm(_this.idPrefix);
                _this.dialogTitle = "A form with static text blocks";
                return _this;
            }
            StaticTextBlockDialog.prototype.getFormKey = function () { return BasicSamples.StaticTextBlockForm.formKey; };
            /**
             * Here we override loadInitialEntity method to set value for "DisplayFieldValue" field.
             * If this was an EntityDialog, your field value would be originating from server side entity.
             */
            StaticTextBlockDialog.prototype.loadInitialEntity = function () {
                this.propertyGrid.load({
                    DisplayFieldValue: 'This content comes from <b>the value</b> of <em>DisplayFieldValue</em> field.'
                });
            };
            StaticTextBlockDialog.prototype.getDialogOptions = function () {
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.width = 650;
                return opt;
            };
            StaticTextBlockDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], StaticTextBlockDialog);
            return StaticTextBlockDialog;
        }(Serenity.PropertyDialog));
        BasicSamples.StaticTextBlockDialog = StaticTextBlockDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var BulkServiceAction = /** @class */ (function () {
            function BulkServiceAction() {
            }
            BulkServiceAction.prototype.createProgressDialog = function () {
                this.progressDialog = new SerExtraCore.BasicProgressDialog();
                this.progressDialog.dialogOpen();
                this.progressDialog.max = this.keys.length;
                this.progressDialog.value = 0;
            };
            BulkServiceAction.prototype.getConfirmationFormat = function () {
                return Q.text('Site.BulkServiceAction.ConfirmationFormat');
            };
            BulkServiceAction.prototype.getConfirmationMessage = function (targetCount) {
                return Q.format(this.getConfirmationFormat(), targetCount);
            };
            BulkServiceAction.prototype.confirm = function (targetCount, action) {
                Q.confirm(this.getConfirmationMessage(targetCount), action);
            };
            BulkServiceAction.prototype.getNothingToProcessMessage = function () {
                return Q.text('Site.BulkServiceAction.NothingToProcess');
            };
            BulkServiceAction.prototype.nothingToProcess = function () {
                Q.notifyError(this.getNothingToProcessMessage());
            };
            BulkServiceAction.prototype.getParallelRequests = function () {
                return 1;
            };
            BulkServiceAction.prototype.getBatchSize = function () {
                return 1;
            };
            BulkServiceAction.prototype.startParallelExecution = function () {
                this.createProgressDialog();
                this.successCount = 0;
                this.errorCount = 0;
                this.pendingRequests = 0;
                this.completedRequests = 0;
                this.errorCount = 0;
                this.errorByKey = {};
                this.queue = this.keys.slice();
                this.queueIndex = 0;
                var parallelRequests = this.getParallelRequests();
                while (parallelRequests-- > 0) {
                    this.executeNextBatch();
                }
            };
            BulkServiceAction.prototype.serviceCallCleanup = function () {
                this.pendingRequests--;
                this.completedRequests++;
                var title = Q.text((this.progressDialog.cancelled ?
                    'Site.BasicProgressDialog.CancelTitle' : 'Site.BasicProgressDialog.PleaseWait'));
                title += ' (';
                if (this.successCount > 0) {
                    title += Q.format(Q.text('Site.BulkServiceAction.SuccessCount'), this.successCount);
                }
                if (this.errorCount > 0) {
                    if (this.successCount > 0) {
                        title += ', ';
                    }
                    title += Q.format(Q.text('Site.BulkServiceAction.ErrorCount'), this.errorCount);
                }
                this.progressDialog.title = title + ')';
                this.progressDialog.value = this.successCount + this.errorCount;
                if (!this.progressDialog.cancelled && this.progressDialog.value < this.keys.length) {
                    this.executeNextBatch();
                }
                else if (this.pendingRequests === 0) {
                    this.progressDialog.dialogClose();
                    this.showResults();
                    if (this.done) {
                        this.done();
                        this.done = null;
                    }
                }
            };
            BulkServiceAction.prototype.executeForBatch = function (batch) {
            };
            BulkServiceAction.prototype.executeNextBatch = function () {
                var batchSize = this.getBatchSize();
                var batch = [];
                while (true) {
                    if (batch.length >= batchSize) {
                        break;
                    }
                    if (this.queueIndex >= this.queue.length) {
                        break;
                    }
                    batch.push(this.queue[this.queueIndex++]);
                }
                if (batch.length > 0) {
                    this.pendingRequests++;
                    this.executeForBatch(batch);
                }
            };
            BulkServiceAction.prototype.getAllHadErrorsFormat = function () {
                return Q.text('Site.BulkServiceAction.AllHadErrorsFormat');
            };
            BulkServiceAction.prototype.showAllHadErrors = function () {
                Q.notifyError(Q.format(this.getAllHadErrorsFormat(), this.errorCount));
            };
            BulkServiceAction.prototype.getSomeHadErrorsFormat = function () {
                return Q.text('Site.BulkServiceAction.SomeHadErrorsFormat');
            };
            BulkServiceAction.prototype.showSomeHadErrors = function () {
                Q.notifyWarning(Q.format(this.getSomeHadErrorsFormat(), this.successCount, this.errorCount));
            };
            BulkServiceAction.prototype.getAllSuccessFormat = function () {
                return Q.text('Site.BulkServiceAction.AllSuccessFormat');
            };
            BulkServiceAction.prototype.showAllSuccess = function () {
                Q.notifySuccess(Q.format(this.getAllSuccessFormat(), this.successCount));
            };
            BulkServiceAction.prototype.showResults = function () {
                if (this.errorCount === 0 && this.successCount === 0) {
                    this.nothingToProcess();
                    return;
                }
                if (this.errorCount > 0 && this.successCount === 0) {
                    this.showAllHadErrors();
                    return;
                }
                if (this.errorCount > 0) {
                    this.showSomeHadErrors();
                    return;
                }
                this.showAllSuccess();
            };
            BulkServiceAction.prototype.execute = function (keys) {
                var _this = this;
                this.keys = keys;
                if (this.keys.length === 0) {
                    this.nothingToProcess();
                    return;
                }
                this.confirm(this.keys.length, function () { return _this.startParallelExecution(); });
            };
            BulkServiceAction.prototype.get_successCount = function () {
                return this.successCount;
            };
            BulkServiceAction.prototype.set_successCount = function (value) {
                this.successCount = value;
            };
            BulkServiceAction.prototype.get_errorCount = function () {
                return this.errorCount;
            };
            BulkServiceAction.prototype.set_errorCount = function (value) {
                this.errorCount = value;
            };
            return BulkServiceAction;
        }());
        Common.BulkServiceAction = BulkServiceAction;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Common/Helpers/BulkServiceAction.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var OrderBulkAction = /** @class */ (function (_super) {
            __extends(OrderBulkAction, _super);
            function OrderBulkAction() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            /**
             * This controls how many service requests will be used in parallel.
             * Determine this number based on how many requests your server
             * might be able to handle, and amount of wait on external resources.
             */
            OrderBulkAction.prototype.getParallelRequests = function () {
                return 10;
            };
            /**
             * These number of records IDs will be sent to your service in one
             * service call. If your service is designed to handle one record only,
             * set it to 1. But note that, if you have 5000 records, this will
             * result in 5000 service calls / requests.
             */
            OrderBulkAction.prototype.getBatchSize = function () {
                return 5;
            };
            /**
             * This is where you should call your service.
             * Batch parameter contains the selected order IDs
             * that should be processed in this service call.
             */
            OrderBulkAction.prototype.executeForBatch = function (batch) {
                var _this = this;
                BasicSamples.BasicSamplesService.OrderBulkAction({
                    OrderIDs: batch.map(function (x) { return Q.parseInteger(x); })
                }, function (response) { return _this.set_successCount(_this.get_successCount() + batch.length); }, {
                    blockUI: false,
                    onError: function (response) { return _this.set_errorCount(_this.get_errorCount() + batch.length); },
                    onCleanup: function () { return _this.serviceCallCleanup(); }
                });
            };
            return OrderBulkAction;
        }(SerExtraCore.Common.BulkServiceAction));
        BasicSamples.OrderBulkAction = OrderBulkAction;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
/// <reference path="OrderBulkAction.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var CancellableBulkActionGrid = /** @class */ (function (_super) {
            __extends(CancellableBulkActionGrid, _super);
            function CancellableBulkActionGrid(container) {
                return _super.call(this, container) || this;
            }
            CancellableBulkActionGrid.prototype.createToolbarExtensions = function () {
                _super.prototype.createToolbarExtensions.call(this);
                this.rowSelection = new Serenity.GridRowSelectionMixin(this);
            };
            CancellableBulkActionGrid.prototype.getButtons = function () {
                var _this = this;
                return [{
                        title: 'Perform Bulk Action on Selected Orders',
                        cssClass: 'send-button',
                        onClick: function () {
                            if (!_this.onViewSubmit()) {
                                return;
                            }
                            var action = new BasicSamples.OrderBulkAction();
                            action.done = function () { return _this.rowSelection.resetCheckedAndRefresh(); };
                            action.execute(_this.rowSelection.getSelectedKeys());
                        }
                    }];
            };
            CancellableBulkActionGrid.prototype.getColumns = function () {
                var _this = this;
                var columns = _super.prototype.getColumns.call(this);
                columns.splice(0, 0, Serenity.GridRowSelectionMixin.createSelectColumn(function () { return _this.rowSelection; }));
                return columns;
            };
            CancellableBulkActionGrid.prototype.getViewOptions = function () {
                var opt = _super.prototype.getViewOptions.call(this);
                opt.rowsPerPage = 2500;
                return opt;
            };
            CancellableBulkActionGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CancellableBulkActionGrid);
            return CancellableBulkActionGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.CancellableBulkActionGrid = CancellableBulkActionGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ConditionalFormattingGrid = /** @class */ (function (_super) {
            __extends(ConditionalFormattingGrid, _super);
            function ConditionalFormattingGrid(container) {
                return _super.call(this, container) || this;
            }
            ConditionalFormattingGrid.prototype.getColumnsKey = function () { return "Northwind.Product"; };
            ConditionalFormattingGrid.prototype.getDialogType = function () { return SerExtraCore.Northwind.ProductDialog; };
            ConditionalFormattingGrid.prototype.getIdProperty = function () { return SerExtraCore.Northwind.ProductRow.idProperty; };
            ConditionalFormattingGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.ProductRow.localTextPrefix; };
            ConditionalFormattingGrid.prototype.getService = function () { return SerExtraCore.Northwind.ProductService.baseUrl; };
            /**
             * We override getColumns() to be able to add a custom CSS class to UnitPrice
             * We could also add this class in ProductColumns.cs but didn't want to modify
             * it solely for this sample.
             */
            ConditionalFormattingGrid.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                // adding a specific css class to UnitPrice column, 
                // to be able to format cell with a different background
                Q.first(columns, function (x) { return x.field == "UnitPrice" /* UnitPrice */; }).cssClass += " col-unit-price";
                return columns;
            };
            /**
             * This method is called for all rows
             * @param item Data item for current row
             * @param index Index of the row in grid
             */
            ConditionalFormattingGrid.prototype.getItemCssClass = function (item, index) {
                var klass = "";
                if (item.Discontinued == true)
                    klass += " discontinued";
                else if (item.UnitsInStock <= 0)
                    klass += " out-of-stock";
                else if (item.UnitsInStock < 20)
                    klass += " critical-stock";
                else if (item.UnitsInStock > 50)
                    klass += " needs-reorder";
                if (item.UnitPrice >= 50)
                    klass += " high-price";
                else if (item.UnitPrice >= 20)
                    klass += " medium-price";
                else
                    klass += " low-price";
                return Q.trimToNull(klass);
            };
            ConditionalFormattingGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ConditionalFormattingGrid);
            return ConditionalFormattingGrid;
        }(Serenity.EntityGrid));
        BasicSamples.ConditionalFormattingGrid = ConditionalFormattingGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var CustomLinksInGrid = /** @class */ (function (_super) {
            __extends(CustomLinksInGrid, _super);
            function CustomLinksInGrid(container) {
                return _super.call(this, container) || this;
            }
            /**
             * We override getColumns() to change format functions for some columns.
             * You could also write them as formatter classes, and use them at server side
             */
            CustomLinksInGrid.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                Q.first(columns, function (x) { return x.field == "CustomerCompanyName" /* CustomerCompanyName */; }).format =
                    function (ctx) { return "<a href=\"javascript:;\" class=\"customer-link\">" + Q.htmlEncode(ctx.value) + "</a>"; };
                Q.first(columns, function (x) { return x.field == "OrderDate" /* OrderDate */; }).format =
                    function (ctx) { return "<a href=\"javascript:;\" class=\"date-link\">" + Q.formatDate(ctx.value) + "</a>"; };
                Q.first(columns, function (x) { return x.field == "EmployeeFullName" /* EmployeeFullName */; }).format =
                    function (ctx) { return "<a href=\"javascript:;\" class=\"employee-link\">" + Q.htmlEncode(ctx.value) + "</a>"; };
                Q.first(columns, function (x) { return x.field == "ShipCountry" /* ShipCountry */; }).format =
                    function (ctx) { return "<a href=\"javascript:;\" class=\"ship-country-link\">" + Q.htmlEncode(ctx.value) + "</a>"; };
                return columns;
            };
            CustomLinksInGrid.prototype.onClick = function (e, row, cell) {
                // let base grid handle clicks for its edit links
                _super.prototype.onClick.call(this, e, row, cell);
                // if base grid already handled, we shouldn"t handle it again
                if (e.isDefaultPrevented()) {
                    return;
                }
                // get reference to current item
                var item = this.itemAt(row);
                // get reference to clicked element
                var target = $(e.target);
                if (target.hasClass("customer-link")) {
                    e.preventDefault();
                    var message = Q.format("<p>You have clicked an order from customer: {0}.</p>" +
                        "<p>If you click Yes, i'll open Customer dialog.</p>" +
                        "<p>If you click No, i'll open Order dialog.</p>", Q.htmlEncode(item.CustomerCompanyName));
                    Q.confirm(message, function () {
                        // CustomerDialog doesn't use CustomerID but ID (identity)
                        // so need to find customer to get its actual ID
                        var customer = Q.first(SerExtraCore.Northwind.CustomerRow.getLookup().items, function (x) { return x.CustomerID == item.CustomerID; });
                        new SerExtraCore.Northwind.CustomerDialog().loadByIdAndOpenDialog(customer.ID);
                    }, {
                        htmlEncode: false,
                        onNo: function () {
                            new SerExtraCore.Northwind.OrderDialog().loadByIdAndOpenDialog(item.OrderID);
                        }
                    });
                }
                else if (target.hasClass("date-link")) {
                    e.preventDefault();
                    var ordersInSameDate = Q.count(this.view.getItems(), function (x) { return x.OrderDate == item.OrderDate; });
                    Q.notifyInfo("You clicked an order from date " +
                        Q.formatDate(item.OrderDate) + ". There are " +
                        ordersInSameDate + " orders from the same date that is loaded in grid at the moment");
                }
                else if (target.hasClass("employee-link")) {
                    e.preventDefault();
                    Q.notifySuccess("You clicked an employee name, " +
                        "so i've opened a new Order Dialog from same customer " +
                        "with that employee prepopulated!");
                    new SerExtraCore.Northwind.OrderDialog().loadEntityAndOpenDialog({
                        CustomerID: item.CustomerID,
                        EmployeeID: item.EmployeeID
                    });
                }
                else if (target.hasClass("ship-country-link")) {
                    e.preventDefault();
                    Q.notifySuccess("Let's filter the grid to orders from " + item.ShipCountry);
                    var countryFilter = this.findQuickFilter(Serenity.LookupEditor, "ShipCountry" /* ShipCountry */);
                    countryFilter.value = item.ShipCountry;
                    this.refresh();
                }
            };
            /**
             * This method is called for columns with [EditLink] attribute,
             * but only for edit links of this grid's own item type.
             * It is also called by Add Product button with a NULL entityOrId
             * parameter so we should check that entityOrId is a string
             * to be sure it is originating from a link.
             *
             * As we changed format for other columns, this will only be called
             * for links in remaining OrderID column
             */
            CustomLinksInGrid.prototype.editItem = function (entityOrId) {
                // check that this is an edit link click, not add button, ID is always a string
                if (typeof entityOrId == "string") {
                    // convert ID to an integer, and find order with that ID
                    var item = this.view.getItemById(Q.toId(entityOrId));
                    // date is a ISO string, so need to parse it first
                    var date = Q.formatDate(item.OrderDate);
                    // ask for confirmation
                    Q.confirm(Q.format("You clicked edit link for order with ID: {0} and Date: {1}. Should i open that order?", item.OrderID, date), function () {
                        new SerExtraCore.Northwind.OrderDialog().loadByIdAndOpenDialog(item.OrderID);
                    });
                }
                else {
                    _super.prototype.editItem.call(this, entityOrId);
                }
            };
            CustomLinksInGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CustomLinksInGrid);
            return CustomLinksInGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.CustomLinksInGrid = CustomLinksInGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DragDropSampleDialog = /** @class */ (function (_super) {
            __extends(DragDropSampleDialog, _super);
            function DragDropSampleDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new BasicSamples.DragDropSampleForm(_this.idPrefix);
                return _this;
            }
            DragDropSampleDialog.prototype.getFormKey = function () { return BasicSamples.DragDropSampleForm.formKey; };
            DragDropSampleDialog.prototype.getIdProperty = function () { return BasicSamples.DragDropSampleRow.idProperty; };
            DragDropSampleDialog.prototype.getLocalTextPrefix = function () { return BasicSamples.DragDropSampleRow.localTextPrefix; };
            DragDropSampleDialog.prototype.getNameProperty = function () { return BasicSamples.DragDropSampleRow.nameProperty; };
            DragDropSampleDialog.prototype.getService = function () { return BasicSamples.DragDropSampleService.baseUrl; };
            DragDropSampleDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], DragDropSampleDialog);
            return DragDropSampleDialog;
        }(Serenity.EntityDialog));
        BasicSamples.DragDropSampleDialog = DragDropSampleDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var DragDropSampleGrid = /** @class */ (function (_super) {
            __extends(DragDropSampleGrid, _super);
            function DragDropSampleGrid(container) {
                var _this = _super.call(this, container) || this;
                new Serenity.TreeGridMixin({
                    grid: _this,
                    toggleField: "Title" /* Title */,
                    getParentId: function (x) { return x.ParentId; },
                    initialCollapse: function () { return false; },
                });
                // save prior drag target to restore its color during drag
                var priorDragTarget;
                // prevent the grid from cancelling drag'n'drop by default
                _this.slickGrid.onDragInit.subscribe(function (e, dd) {
                    e.stopImmediatePropagation();
                });
                // this method is called when an item is about to be dragged
                _this.slickGrid.onDragStart.subscribe(function (e, dd) {
                    // only allow edit links to be dragged
                    if (!$(e.target).hasClass('s-EditLink'))
                        return;
                    // make sure there is a cell in source location
                    var cell = _this.slickGrid.getCellFromEvent(e);
                    if (!cell) {
                        return;
                    }
                    // notify that we'll handle drag
                    e.stopImmediatePropagation();
                    // save details about dragged item
                    dd.row = cell.row;
                    var item = _this.itemAt(cell.row);
                    dd.item = item;
                    // a unique name for our operation
                    dd.mode = "move";
                    // create an absolute position helper shown during dragging
                    var helper = $("<span></span>")
                        .addClass('drag-helper')
                        .text("Moving " + item.Title)
                        .appendTo(document.body);
                    dd.helper = helper;
                });
                // this method is periodically called during drag
                _this.slickGrid.onDrag.subscribe(function (e, dd) {
                    // only handle our operation
                    if (dd.mode != "move") {
                        return;
                    }
                    // if we changed color of some target before, reset it
                    if (priorDragTarget && priorDragTarget != e.target) {
                        $(priorDragTarget).css('background-color', '');
                        priorDragTarget = null;
                    }
                    // find target, the source will drag into
                    var cell = _this.slickGrid.getCellFromEvent(e);
                    var target = !cell ? null : _this.itemAt(cell.row);
                    // accept only edit links and valid items as drag target
                    var reject = !$(e.target).hasClass('s-EditLink') || !_this.canMoveUnder(dd.item, target);
                    if (reject) {
                        dd.helper.text("Can't move " + dd.item.Title + " here");
                    }
                    else {
                        dd.helper.text("Move " + dd.item.Title + " under " + $(e.target).text());
                        // change color of current drag target
                        $(e.target).css('background-color', '#ddeeee');
                        priorDragTarget = e.target;
                    }
                    // toggle class of helper to show relevant accept / reject icon
                    dd.helper.toggleClass('reject', reject);
                    // position helper next to current mouse position
                    dd.helper.css({ top: e.pageY + 5, left: e.pageX + 4 });
                });
                // this is called when drag is completed
                _this.slickGrid.onDragEnd.subscribe(function (e, dd) {
                    if (dd.mode != "move") {
                        return;
                    }
                    // prevent browser from changing url
                    e.preventDefault();
                    // clear indicator color and drag helper
                    priorDragTarget && $(priorDragTarget).css('background-color', '');
                    dd.helper.remove();
                    // determine target row
                    var cell = _this.slickGrid.getCellFromEvent(e);
                    var item = dd.item;
                    var target = !cell ? null : _this.itemAt(cell.row);
                    // check again that this is valid drag target
                    if ($(e.target).hasClass('s-EditLink') && _this.canMoveUnder(item, target)) {
                        // this will move our primary drag source under new parent
                        var moveItem = function (onSuccess) {
                            BasicSamples.DragDropSampleService.Update({
                                EntityId: item.Id,
                                Entity: {
                                    ParentId: target.Id
                                }
                            }, onSuccess);
                        };
                        // if drag source has some children, need some confirmation
                        var children = _this.getChildren(dd.item);
                        if (children.length > 0) {
                            Q.confirm('Move its children alongside the item?', function () {
                                // if responded yes, moving item under new parent should be enough
                                moveItem(function () { return _this.refresh(); });
                            }, {
                                onNo: function () {
                                    // if responded no, children should move under old parent of item
                                    var oldParentId = item.ParentId == null ? null : item.ParentId;
                                    var moveNextChild = function (onSuccess) {
                                        var _this = this;
                                        if (children.length) {
                                            var x = children.shift();
                                            BasicSamples.DragDropSampleService.Update({
                                                EntityId: x.Id,
                                                Entity: {
                                                    ParentId: oldParentId || null
                                                }
                                            }, function () { return moveNextChild(onSuccess); }, {
                                                onError: function () { return _this.refresh(); }
                                            });
                                        }
                                        else
                                            onSuccess();
                                    };
                                    // first move item itself under new parent, 
                                    // then move its children under old parent one by one
                                    moveItem(function () { return moveNextChild(function () { return _this.refresh(); }); });
                                }
                            });
                        }
                        else {
                            // item has no children, just move it under new parent
                            moveItem(function () { return _this.refresh(); });
                        }
                    }
                    return false;
                });
                return _this;
            }
            DragDropSampleGrid.prototype.getColumnsKey = function () { return 'BasicSamples.DragDropSample'; };
            DragDropSampleGrid.prototype.getDialogType = function () { return BasicSamples.DragDropSampleDialog; };
            DragDropSampleGrid.prototype.getIdProperty = function () { return BasicSamples.DragDropSampleRow.idProperty; };
            DragDropSampleGrid.prototype.getLocalTextPrefix = function () { return BasicSamples.DragDropSampleRow.localTextPrefix; };
            DragDropSampleGrid.prototype.getService = function () { return BasicSamples.DragDropSampleService.baseUrl; };
            /**
             * This method will determine if item can be moved under a given target
             * An item can't be moved under itself, under one of its children
             */
            DragDropSampleGrid.prototype.canMoveUnder = function (item, target) {
                if (!item || !target || item.Id == target.Id || item.ParentId == target.Id)
                    return false;
                if (Q.any(this.getParents(target), function (x) { return x.Id == item.Id; }))
                    return false;
                return true;
            };
            /**
             * Gets children list of an item
             */
            DragDropSampleGrid.prototype.getChildren = function (item) {
                return this.getItems().filter(function (x) { return x.ParentId == item.Id; });
            };
            /**
             * Gets all parents of an item
             */
            DragDropSampleGrid.prototype.getParents = function (item) {
                // use this to prevent infinite recursion
                var visited = {};
                var result = [];
                // while item has a parent and not visited yet
                while (item.ParentId && !visited[item.ParentId]) {
                    // find parent by its ID
                    item = this.view.getItemById(item.ParentId);
                    if (!item)
                        break;
                    result.push(item);
                    visited[item.Id] = true;
                }
                return result;
            };
            DragDropSampleGrid.prototype.getButtons = function () {
                return [];
            };
            DragDropSampleGrid.prototype.usePager = function () {
                return false;
            };
            DragDropSampleGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], DragDropSampleGrid);
            return DragDropSampleGrid;
        }(Serenity.EntityGrid));
        BasicSamples.DragDropSampleGrid = DragDropSampleGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var SelectableEntityGrid = /** @class */ (function (_super) {
        __extends(SelectableEntityGrid, _super);
        function SelectableEntityGrid() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        SelectableEntityGrid.prototype.getSlickOptions = function () {
            var opt = _super.prototype.getSlickOptions.call(this);
            opt.enableTextSelectionOnCells = true;
            opt.selectedCellCssClass = "slick-row-selected";
            opt.enableCellNavigation = true;
            return opt;
        };
        SelectableEntityGrid.prototype.createSlickGrid = function () {
            var grid = _super.prototype.createSlickGrid.call(this);
            grid.setSelectionModel(new Slick.RowSelectionModel());
            return grid;
        };
        SelectableEntityGrid = __decorate([
            Serenity.Decorators.registerClass()
        ], SelectableEntityGrid);
        return SelectableEntityGrid;
    }(Serenity.EntityGrid));
    SerExtraCore.SelectableEntityGrid = SelectableEntityGrid;
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="SelectableEntityGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var RowSelectionGrid = /** @class */ (function (_super) {
            __extends(RowSelectionGrid, _super);
            function RowSelectionGrid(container) {
                return _super.call(this, container) || this;
            }
            RowSelectionGrid.prototype.getColumnsKey = function () { return "Northwind.Supplier"; };
            RowSelectionGrid.prototype.getDialogType = function () { return SerExtraCore.Northwind.SupplierDialog; };
            RowSelectionGrid.prototype.getIdProperty = function () { return SerExtraCore.Northwind.SupplierRow.idProperty; };
            RowSelectionGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.SupplierRow.localTextPrefix; };
            RowSelectionGrid.prototype.getService = function () { return SerExtraCore.Northwind.SupplierService.baseUrl; };
            RowSelectionGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], RowSelectionGrid);
            return RowSelectionGrid;
        }(SerExtraCore.SelectableEntityGrid));
        BasicSamples.RowSelectionGrid = RowSelectionGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var GridFilteredByCriteria = /** @class */ (function (_super) {
            __extends(GridFilteredByCriteria, _super);
            function GridFilteredByCriteria(container) {
                return _super.call(this, container) || this;
            }
            GridFilteredByCriteria.prototype.onViewSubmit = function () {
                // only continue if base class returns true (didn't cancel request)
                if (!_super.prototype.onViewSubmit.call(this)) {
                    return false;
                }
                // view object is the data source for grid (SlickRemoteView)
                // this is an EntityGrid so its Params object is a ListRequest
                var request = this.view.params;
                // list request has a Criteria parameter
                // we AND criteria here to existing one because 
                // otherwise we might clear filter set by 
                // an edit filter dialog if any.
                request.Criteria = Serenity.Criteria.and(request.Criteria, [['UnitsInStock'], '>', 10], [['CategoryName'], '!=', 'Condiments'], [['Discontinued'], '=', 0]);
                // TypeScript doesn't support operator overloading
                // so we had to use array syntax above to build criteria.
                // Make sure you write
                // [['Field'], '>', 10] (which means field A is greater than 10)
                // not 
                // ['A', '>', 10] (which means string 'A' is greater than 10
                return true;
            };
            GridFilteredByCriteria = __decorate([
                Serenity.Decorators.registerClass()
            ], GridFilteredByCriteria);
            return GridFilteredByCriteria;
        }(SerExtraCore.Northwind.ProductGrid));
        BasicSamples.GridFilteredByCriteria = GridFilteredByCriteria;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var GroupingAndSummariesInGrid = /** @class */ (function (_super) {
            __extends(GroupingAndSummariesInGrid, _super);
            function GroupingAndSummariesInGrid(container) {
                return _super.call(this, container) || this;
            }
            GroupingAndSummariesInGrid.prototype.createSlickGrid = function () {
                var grid = _super.prototype.createSlickGrid.call(this);
                // need to register this plugin for grouping or you'll have errors
                grid.registerPlugin(new Slick.Data.GroupItemMetadataProvider());
                this.view.setSummaryOptions({
                    aggregators: [
                        new Slick.Aggregators.Avg('UnitPrice'),
                        new Slick.Aggregators.Sum('UnitsInStock'),
                        new Slick.Aggregators.Max('UnitsOnOrder'),
                        new Slick.Aggregators.Avg('ReorderLevel')
                    ]
                });
                return grid;
            };
            GroupingAndSummariesInGrid.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                Q.first(columns, function (x) { return x.field === 'UnitsOnOrder'; })
                    .groupTotalsFormatter = function (totals, col) {
                    return (totals.max ? ('max: ' + Q.coalesce(totals.max[col.field], '')) : '');
                };
                Q.first(columns, function (x) { return x.field === 'ReorderLevel'; })
                    .groupTotalsFormatter = function (totals, col) {
                    return (totals.avg ? ('avg: ' + Q.coalesce(Q.formatNumber(totals.avg[col.field], '0.'), '')) : '');
                };
                return columns;
            };
            GroupingAndSummariesInGrid.prototype.getSlickOptions = function () {
                var opt = _super.prototype.getSlickOptions.call(this);
                opt.showFooterRow = true;
                return opt;
            };
            GroupingAndSummariesInGrid.prototype.usePager = function () {
                return false;
            };
            GroupingAndSummariesInGrid.prototype.getButtons = function () {
                var _this = this;
                return [{
                        title: 'Group By Category',
                        cssClass: 'expand-all-button',
                        onClick: function () { return _this.view.setGrouping([{
                                getter: 'CategoryName'
                            }]); }
                    },
                    {
                        title: 'Group By Category and Supplier',
                        cssClass: 'expand-all-button',
                        onClick: function () { return _this.view.setGrouping([{
                                formatter: function (x) { return 'Category: ' + x.value + ' (' + x.count + ' items)'; },
                                getter: 'CategoryName'
                            }, {
                                formatter: function (x) { return 'Supplier: ' + x.value + ' (' + x.count + ' items)'; },
                                getter: 'SupplierCompanyName'
                            }]); }
                    }, {
                        title: 'No Grouping',
                        cssClass: 'collapse-all-button',
                        onClick: function () { return _this.view.setGrouping([]); }
                    }];
            };
            GroupingAndSummariesInGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], GroupingAndSummariesInGrid);
            return GroupingAndSummariesInGrid;
        }(SerExtraCore.Northwind.ProductGrid));
        BasicSamples.GroupingAndSummariesInGrid = GroupingAndSummariesInGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var InitialValuesForQuickFilters = /** @class */ (function (_super) {
            __extends(InitialValuesForQuickFilters, _super);
            function InitialValuesForQuickFilters(container) {
                return _super.call(this, container) || this;
            }
            /**
             * This method is called to get list of quick filters to be created for this grid.
             * By default, it returns quick filter objects corresponding to properties that
             * have a [QuickFilter] attribute at server side OrderColumns.cs
             */
            InitialValuesForQuickFilters.prototype.getQuickFilters = function () {
                // get quick filter list from base class
                var filters = _super.prototype.getQuickFilters.call(this);
                // quick filter init method is a good place to set initial
                // value for a quick filter editor, just after it is created
                Q.first(filters, function (x) { return x.field == "OrderDate" /* OrderDate */; }).init = function (w) {
                    // w is a reference to the editor for this quick filter widget
                    // here we cast it to DateEditor, and set its value as date.
                    // note that in Javascript, months are 0 based, so date below
                    // is actually 2016-05-01
                    w.valueAsDate = new Date(2016, 4, 1);
                    // setting start date was simple. but this quick filter is actually
                    // a combination of two date editors. to get reference to second one,
                    // need to find its next sibling element by its class
                    var endDate = w.element.nextAll(".s-DateEditor").getWidget(Serenity.DateEditor);
                    endDate.valueAsDate = new Date(2016, 6, 1);
                };
                Q.first(filters, function (x) { return x.field == "ShippingState" /* ShippingState */; }).init = function (w) {
                    // enum editor has a string value, so need to call toString()
                    w.value = SerExtraCore.Northwind.OrderShippingState.NotShipped.toString();
                };
                return filters;
            };
            /**
             * This method is another possible place to modify quick filter widgets.
             * It is where the quick filter widgets are actually created.
             *
             * By default, it calls getQuickFilters() then renders UI for these
             * quick filters.
             *
             * We could use getQuickFilters() method for ShipVia too,
             * but this is for demonstration purposes
             */
            InitialValuesForQuickFilters.prototype.createQuickFilters = function () {
                // let base class to create quick filters first
                _super.prototype.createQuickFilters.call(this);
                // find a quick filter widget by its field name
                this.findQuickFilter(Serenity.LookupEditor, "ShipVia" /* ShipVia */).values = ["1", "2"];
            };
            InitialValuesForQuickFilters = __decorate([
                Serenity.Decorators.registerClass()
            ], InitialValuesForQuickFilters);
            return InitialValuesForQuickFilters;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.InitialValuesForQuickFilters = InitialValuesForQuickFilters;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Customer/CustomerGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var InlineActionGrid = /** @class */ (function (_super) {
            __extends(InlineActionGrid, _super);
            function InlineActionGrid(container) {
                return _super.call(this, container) || this;
            }
            InlineActionGrid.prototype.getColumns = function () {
                var columns = _super.prototype.getColumns.call(this);
                columns.unshift({
                    field: 'Delete Row',
                    name: '',
                    format: function (ctx) { return '<a class="inline-action delete-row" title="delete">' +
                        '<i class="fa fa-trash-o text-red"></i></a>'; },
                    width: 24,
                    minWidth: 24,
                    maxWidth: 24
                });
                columns.splice(1, 0, {
                    field: 'View Details',
                    name: '',
                    format: function (ctx) { return '<a class="inline-action view-details" title="view details"></a>'; },
                    width: 24,
                    minWidth: 24,
                    maxWidth: 24
                });
                columns.splice(2, 0, {
                    field: 'New Order',
                    name: '',
                    format: function (ctx) { return '<a class="inline-action new-order" title="new order"></a>'; },
                    width: 24,
                    minWidth: 24,
                    maxWidth: 24
                });
                return columns;
            };
            InlineActionGrid.prototype.onClick = function (e, row, cell) {
                var _this = this;
                _super.prototype.onClick.call(this, e, row, cell);
                if (e.isDefaultPrevented())
                    return;
                var item = this.itemAt(row);
                var target = $(e.target);
                // if user clicks "i" element, e.g. icon
                if (target.parent().hasClass('inline-action'))
                    target = target.parent();
                if (target.hasClass('inline-action')) {
                    e.preventDefault();
                    if (target.hasClass('delete-row')) {
                        Q.confirm('Delete record?', function () {
                            SerExtraCore.Northwind.CustomerService.Delete({
                                EntityId: item.ID,
                            }, function (response) {
                                _this.refresh();
                            });
                        });
                    }
                    else if (target.hasClass('view-details')) {
                        this.editItem(item.ID);
                    }
                    else if (target.hasClass('new-order')) {
                        var dlg = new SerExtraCore.Northwind.OrderDialog();
                        this.initDialog(dlg);
                        dlg.loadEntityAndOpenDialog({
                            CustomerID: item.CustomerID
                        });
                    }
                }
            };
            InlineActionGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], InlineActionGrid);
            return InlineActionGrid;
        }(SerExtraCore.Northwind.CustomerGrid));
        BasicSamples.InlineActionGrid = InlineActionGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var InlineImageFormatter = /** @class */ (function () {
            function InlineImageFormatter() {
            }
            InlineImageFormatter.prototype.format = function (ctx) {
                var file = (this.fileProperty ? ctx.item[this.fileProperty] : ctx.value);
                if (!file || !file.length)
                    return "";
                var href = Q.resolveUrl("~/upload/" + file);
                if (this.thumb) {
                    var parts = file.split('.');
                    file = parts.slice(0, parts.length - 1).join('.') + '_t.jpg';
                }
                var src = Q.resolveUrl('~/upload/' + file);
                return "<a class=\"inline-image\" target='_blank' href=\"" + href + "\">" +
                    ("<img src=\"" + src + "\" style='max-height: 145px; max-width: 100%;' /></a>");
            };
            InlineImageFormatter.prototype.initializeColumn = function (column) {
                if (this.fileProperty) {
                    column.referencedFields = column.referencedFields || [];
                    column.referencedFields.push(this.fileProperty);
                }
            };
            __decorate([
                Serenity.Decorators.option()
            ], InlineImageFormatter.prototype, "fileProperty", void 0);
            __decorate([
                Serenity.Decorators.option()
            ], InlineImageFormatter.prototype, "thumb", void 0);
            InlineImageFormatter = __decorate([
                Serenity.Decorators.registerFormatter()
            ], InlineImageFormatter);
            return InlineImageFormatter;
        }());
        BasicSamples.InlineImageFormatter = InlineImageFormatter;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var InlineImageInGrid = /** @class */ (function (_super) {
            __extends(InlineImageInGrid, _super);
            function InlineImageInGrid(container) {
                return _super.call(this, container) || this;
            }
            InlineImageInGrid.prototype.getColumnsKey = function () { return "BasicSamples.InlineImageInGrid"; };
            InlineImageInGrid.prototype.getDialogType = function () { return SerExtraCore.Northwind.ProductDialog; };
            InlineImageInGrid.prototype.getIdProperty = function () { return SerExtraCore.Northwind.ProductRow.idProperty; };
            InlineImageInGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.ProductRow.localTextPrefix; };
            InlineImageInGrid.prototype.getService = function () { return SerExtraCore.Northwind.ProductService.baseUrl; };
            InlineImageInGrid.prototype.getSlickOptions = function () {
                var opt = _super.prototype.getSlickOptions.call(this);
                opt.rowHeight = 150;
                return opt;
            };
            InlineImageInGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], InlineImageInGrid);
            return InlineImageInGrid;
        }(Serenity.EntityGrid));
        BasicSamples.InlineImageInGrid = InlineImageInGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ProductExcelImportDialog = /** @class */ (function (_super) {
            __extends(ProductExcelImportDialog, _super);
            function ProductExcelImportDialog() {
                var _this = _super.call(this) || this;
                _this.form = new BasicSamples.ProductExcelImportForm(_this.idPrefix);
                return _this;
            }
            ProductExcelImportDialog.prototype.getDialogTitle = function () {
                return "Excel Import";
            };
            ProductExcelImportDialog.prototype.getDialogButtons = function () {
                var _this = this;
                return [
                    {
                        text: 'Import',
                        click: function () {
                            if (!_this.validateBeforeSave())
                                return;
                            if (_this.form.FileName.value == null ||
                                Q.isEmptyOrNull(_this.form.FileName.value.Filename)) {
                                Q.notifyError("Please select a file!");
                                return;
                            }
                            BasicSamples.ProductExcelImportService.ExcelImport({
                                FileName: _this.form.FileName.value.Filename
                            }, function (response) {
                                Q.notifyInfo('Inserted: ' + (response.Inserted || 0) +
                                    ', Updated: ' + (response.Updated || 0));
                                if (response.ErrorList != null && response.ErrorList.length > 0) {
                                    Q.notifyError(response.ErrorList.join(',\r\n '));
                                }
                                _this.dialogClose();
                            });
                        },
                    },
                    {
                        text: 'Cancel',
                        click: function () { return _this.dialogClose(); }
                    }
                ];
            };
            ProductExcelImportDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], ProductExcelImportDialog);
            return ProductExcelImportDialog;
        }(Serenity.PropertyDialog));
        BasicSamples.ProductExcelImportDialog = ProductExcelImportDialog;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Product/ProductGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ProductExcelImportGrid = /** @class */ (function (_super) {
            __extends(ProductExcelImportGrid, _super);
            function ProductExcelImportGrid(container) {
                return _super.call(this, container) || this;
            }
            /**
             * This method is called to get list of buttons to be created.
             */
            ProductExcelImportGrid.prototype.getButtons = function () {
                var _this = this;
                // call base method to get list of buttons
                var buttons = _super.prototype.getButtons.call(this);
                // add our import button
                buttons.push({
                    title: 'Import From Excel',
                    cssClass: 'export-xlsx-button',
                    onClick: function () {
                        // open import dialog, let it handle rest
                        var dialog = new BasicSamples.ProductExcelImportDialog();
                        dialog.element.on('dialogclose', function () {
                            _this.refresh();
                            dialog = null;
                        });
                        dialog.dialogOpen();
                    }
                });
                return buttons;
            };
            ProductExcelImportGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ProductExcelImportGrid);
            return ProductExcelImportGrid;
        }(SerExtraCore.Northwind.ProductGrid));
        BasicSamples.ProductExcelImportGrid = ProductExcelImportGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var QuickFilterCustomization = /** @class */ (function (_super) {
            __extends(QuickFilterCustomization, _super);
            function QuickFilterCustomization(container) {
                return _super.call(this, container) || this;
            }
            QuickFilterCustomization.prototype.getColumnsKey = function () { return "Northwind.Order"; };
            QuickFilterCustomization.prototype.getDialogType = function () { return SerExtraCore.Northwind.OrderDialog; };
            QuickFilterCustomization.prototype.getIdProperty = function () { return SerExtraCore.Northwind.OrderRow.idProperty; };
            QuickFilterCustomization.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.OrderRow.localTextPrefix; };
            QuickFilterCustomization.prototype.getService = function () { return SerExtraCore.Northwind.OrderService.baseUrl; };
            /**
             * This method is called to get list of quick filters to be created for this grid.
             * By default, it returns quick filter objects corresponding to properties that
             * have a [QuickFilter] attribute at server side OrderColumns.cs
             */
            QuickFilterCustomization.prototype.getQuickFilters = function () {
                // get quick filter list from base class, e.g. columns
                var filters = _super.prototype.getQuickFilters.call(this);
                // we start by turning CustomerID filter to a Not Equal one
                var filter = Q.first(filters, function (x) { return x.field == "CustomerID" /* CustomerID */; });
                filter.title = "Customer Not Equal To";
                filter.handler = function (h) {
                    // if filter is active, e.g. editor has some value
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["CustomerID" /* CustomerID */], '!=', h.value]);
                    }
                };
                // turn order date filter to exact match, not a range
                filter = Q.first(filters, function (x) { return x.field == "OrderDate" /* OrderDate */; });
                filter.title = "Order Date Is Exactly";
                // element method in DataGrid turns this into a range editor, clear it to prevent
                filter.element = function (e) { };
                // need to override handler too, otherwise default handler will try to handle a date range
                filter.handler = function (h) {
                    if (h.active) {
                        h.request.EqualityFilter["OrderDate" /* OrderDate */] = h.value;
                    }
                    else {
                        h.request.EqualityFilter["OrderDate" /* OrderDate */] = null;
                    }
                };
                // reset these as they also expect range editors
                filter.loadState = null;
                filter.saveState = null;
                filter.displayText = null;
                // make employee filter a textbox, instead of lookup, and search by starts with
                filter = Q.first(filters, function (x) { return x.field == "EmployeeID" /* EmployeeID */; });
                filter.title = "Employee Name Starts With";
                filter.type = Serenity.StringEditor;
                filter.handler = function (h) {
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["EmployeeFullName" /* EmployeeFullName */], 'like', h.value + '%']);
                    }
                };
                // turn shipping state into a boolean filter
                filter = Q.first(filters, function (x) { return x.field == "ShippingState" /* ShippingState */; });
                filter.title = "Show Only Shipped";
                filter.type = Serenity.BooleanEditor;
                filter.handler = function (h) {
                    h.active = !!h.value;
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, ['is not null', ["ShippedDate" /* ShippedDate */]]);
                    }
                };
                // ship via filters by NOT IN
                filter = Q.first(filters, function (x) { return x.field == "ShipVia" /* ShipVia */; });
                filter.title = "Ship Via Not IN";
                filter.handler = function (h) {
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["ShipVia" /* ShipVia */], 'not in', [h.value]]);
                    }
                };
                // ship country filters by NOT contains
                filter = Q.first(filters, function (x) { return x.field == "ShipCountry" /* ShipCountry */; });
                filter.title = "Ship Country NOT Contains";
                filter.type = Serenity.StringEditor;
                filter.handler = function (h) {
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["ShipCountry" /* ShipCountry */], 'not like', '%' + h.value + '%']);
                    }
                };
                // ship city filters by GREATER THAN (>)
                filter = Q.first(filters, function (x) { return x.field == "ShipCity" /* ShipCity */; });
                filter.title = "Ship City Greater Than";
                filter.type = Serenity.StringEditor;
                filter.handler = function (h) {
                    if (h.active) {
                        h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["ShipCity" /* ShipCity */], '>', h.value]);
                    }
                };
                // create a range editor for freight
                var endFreight = null;
                filters.push({
                    field: "Freight" /* Freight */,
                    type: Serenity.DecimalEditor,
                    title: 'Freight Between',
                    element: function (e1) {
                        e1.css("width", "80px");
                        endFreight = Serenity.Widget.create({
                            type: Serenity.DecimalEditor,
                            element: function (e2) { return e2.insertAfter(e1).css("width", "80px"); }
                        });
                        endFreight.element.change(function (x) { return e1.triggerHandler("change"); });
                        $("<span/>").addClass("range-separator").text("-").insertAfter(e1);
                    },
                    handler: function (h) {
                        var active1 = h.value != null && !isNaN(h.value);
                        var active2 = endFreight.value != null && !isNaN(endFreight.value);
                        h.active = active1 || active2;
                        if (active1)
                            h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["Freight" /* Freight */], '>=', h.value]);
                        if (active2)
                            h.request.Criteria = Serenity.Criteria.and(h.request.Criteria, [["Freight" /* Freight */], '<=', endFreight.value]);
                    }
                });
                return filters;
            };
            QuickFilterCustomization = __decorate([
                Serenity.Decorators.registerClass()
            ], QuickFilterCustomization);
            return QuickFilterCustomization;
        }(Serenity.EntityGrid));
        BasicSamples.QuickFilterCustomization = QuickFilterCustomization;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Supplier/SupplierGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var RemovingAddButton = /** @class */ (function (_super) {
            __extends(RemovingAddButton, _super);
            function RemovingAddButton(container) {
                return _super.call(this, container) || this;
            }
            /**
             * This method is called to get list of buttons to be created.
             */
            RemovingAddButton.prototype.getButtons = function () {
                // call base method to get list of buttons
                // by default, base entity grid adds a few buttons, 
                // add, refresh, column selection in order.
                var buttons = _super.prototype.getButtons.call(this);
                // here is several methods to remove add button
                // only one is enabled, others are commented
                // METHOD 1
                // we would be able to simply return an empty button list,
                // but this would also remove all other buttons
                // return [];
                // METHOD 2
                // remove by splicing (something like delete by index)
                // here we hard code add button index (not nice!)
                // buttons.splice(0, 1);
                // METHOD 3 - recommended
                // remove by splicing, but this time find button index
                // by its css class. it is the best and safer method
                buttons.splice(Q.indexOf(buttons, function (x) { return x.cssClass == "add-button"; }), 1);
                return buttons;
            };
            RemovingAddButton = __decorate([
                Serenity.Decorators.registerClass()
            ], RemovingAddButton);
            return RemovingAddButton;
        }(SerExtraCore.Northwind.SupplierGrid));
        BasicSamples.RemovingAddButton = RemovingAddButton;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var CustomerGrossSalesGrid = /** @class */ (function (_super) {
            __extends(CustomerGrossSalesGrid, _super);
            function CustomerGrossSalesGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.nextId = 1;
                return _this;
            }
            CustomerGrossSalesGrid.prototype.getColumnsKey = function () { return "BasicSamples.CustomerGrossSales"; };
            CustomerGrossSalesGrid.prototype.getIdProperty = function () { return "__id"; };
            CustomerGrossSalesGrid.prototype.getNameProperty = function () { return SerExtraCore.Northwind.CustomerGrossSalesRow.nameProperty; };
            CustomerGrossSalesGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.CustomerGrossSalesRow.localTextPrefix; };
            CustomerGrossSalesGrid.prototype.getService = function () { return BasicSamples.CustomerGrossSalesService.baseUrl; };
            /**
             * This method is called to preprocess data returned from the list service
             */
            CustomerGrossSalesGrid.prototype.onViewProcessData = function (response) {
                response = _super.prototype.onViewProcessData.call(this, response);
                // there is no __id property in CustomerGrossSalesRow but 
                // this is javascript and we can set any property of an object
                for (var _i = 0, _a = response.Entities; _i < _a.length; _i++) {
                    var x = _a[_i];
                    x.__id = this.nextId++;
                }
                return response;
            };
            CustomerGrossSalesGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = [];
                buttons.push(SerExtraCore.Common.ExcelExportHelper.createToolButton({
                    grid: this,
                    service: BasicSamples.CustomerGrossSalesService.baseUrl + '/ListExcel',
                    onViewSubmit: function () { return _this.onViewSubmit(); },
                    separator: true
                }));
                buttons.push(SerExtraCore.Common.PdfExportHelper.createToolButton({
                    grid: this,
                    onViewSubmit: function () { return _this.onViewSubmit(); }
                }));
                return buttons;
            };
            CustomerGrossSalesGrid.prototype.createSlickGrid = function () {
                var grid = _super.prototype.createSlickGrid.call(this);
                // need to register this plugin for grouping or you'll have errors
                grid.registerPlugin(new Slick.Data.GroupItemMetadataProvider());
                this.view.setSummaryOptions({
                    aggregators: [
                        new Slick.Aggregators.Sum('GrossAmount')
                    ]
                });
                this.view.setGrouping([{
                        getter: 'ContactName'
                    }]);
                return grid;
            };
            CustomerGrossSalesGrid.prototype.getSlickOptions = function () {
                var opt = _super.prototype.getSlickOptions.call(this);
                opt.showFooterRow = true;
                return opt;
            };
            CustomerGrossSalesGrid.prototype.usePager = function () {
                return false;
            };
            CustomerGrossSalesGrid.prototype.getQuickFilters = function () {
                var filters = _super.prototype.getQuickFilters.call(this);
                // we create a date-range quick filter, which is a composite
                // filter with two date time editors
                var orderDate = this.dateRangeQuickFilter('OrderDate', 'Order Date');
                // need to override its handler, as default date-range filter will set Criteria parameter of list request.
                // we need to set StartDate and EndDate custom parameters of our CustomerGrossSalesListRequest
                orderDate.handler = function (args) {
                    // args.widget here is the start date editor. value of a date editor is a ISO date string
                    var start = args.widget.value;
                    // to find end date editor, need to search it by its css class among siblings
                    var end = args.widget.element.nextAll('.s-DateEditor')
                        .getWidget(Serenity.DateEditor).value;
                    args.request.StartDate = start;
                    args.request.EndDate = end;
                    // active option controls when a filter editor looks active, e.g. its label is blueish
                    args.active = !Q.isEmptyOrNull(start) || !Q.isEmptyOrNull(end);
                };
                filters.push(orderDate);
                return filters;
            };
            CustomerGrossSalesGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CustomerGrossSalesGrid);
            return CustomerGrossSalesGrid;
        }(Serenity.EntityGrid));
        BasicSamples.CustomerGrossSalesGrid = CustomerGrossSalesGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var TreeGrid = /** @class */ (function (_super) {
            __extends(TreeGrid, _super);
            function TreeGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.treeMixin = new Serenity.TreeGridMixin({
                    grid: _this,
                    // bring tree items initially collapsed
                    initialCollapse: function () { return true; },
                    // which column to place tree toggle / expand/collapse button
                    toggleField: "CustomerCompanyName" /* CustomerCompanyName */,
                    getParentId: function (x) {
                        // as we don't have parentId column here, we are cheating by using modulus 10 and 50
                        // e.g. order with ID 1605 will have parent 1600, order with ID 1613 will have parent 1610
                        var parentId = Math.floor(x.OrderID / 10) * 10;
                        if (parentId == x.OrderID) {
                            parentId = Math.floor(x.OrderID / 50) * 50;
                            // orders with ID 16050 and 17000 should have NULL parent
                            if (parentId == x.OrderID)
                                return null;
                        }
                        // if you had a ParentID column, you'd just return x.ParentID
                        return parentId;
                    }
                });
                return _this;
            }
            TreeGrid.prototype.usePager = function () {
                return false;
            };
            TreeGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], TreeGrid);
            return TreeGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.TreeGrid = TreeGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var ViewWithoutIDGrid = /** @class */ (function (_super) {
            __extends(ViewWithoutIDGrid, _super);
            function ViewWithoutIDGrid(container) {
                var _this = _super.call(this, container) || this;
                // this is our autoincrementing counter
                _this.nextId = 1;
                return _this;
            }
            ViewWithoutIDGrid.prototype.getColumnsKey = function () { return "Northwind.SalesByCategory"; };
            ViewWithoutIDGrid.prototype.getIdProperty = function () { return "__id"; };
            ViewWithoutIDGrid.prototype.getNameProperty = function () { return SerExtraCore.Northwind.SalesByCategoryRow.nameProperty; };
            ViewWithoutIDGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.SalesByCategoryRow.localTextPrefix; };
            ViewWithoutIDGrid.prototype.getService = function () { return SerExtraCore.Northwind.SalesByCategoryService.baseUrl; };
            /**
             * This method is called to preprocess data returned from the list service
             */
            ViewWithoutIDGrid.prototype.onViewProcessData = function (response) {
                response = _super.prototype.onViewProcessData.call(this, response);
                // there is no __id property in SalesByCategoryRow but 
                // this is javascript and we can set any property of an object
                for (var _i = 0, _a = response.Entities; _i < _a.length; _i++) {
                    var x = _a[_i];
                    x.__id = this.nextId++;
                }
                return response;
            };
            ViewWithoutIDGrid.prototype.getButtons = function () {
                return [];
            };
            ViewWithoutIDGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ViewWithoutIDGrid);
            return ViewWithoutIDGrid;
        }(Serenity.EntityGrid));
        BasicSamples.ViewWithoutIDGrid = ViewWithoutIDGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Northwind/Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var BasicSamples;
    (function (BasicSamples) {
        var WrappedHeadersGrid = /** @class */ (function (_super) {
            __extends(WrappedHeadersGrid, _super);
            function WrappedHeadersGrid(container) {
                return _super.call(this, container) || this;
            }
            WrappedHeadersGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], WrappedHeadersGrid);
            return WrappedHeadersGrid;
        }(SerExtraCore.Northwind.OrderGrid));
        BasicSamples.WrappedHeadersGrid = WrappedHeadersGrid;
    })(BasicSamples = SerExtraCore.BasicSamples || (SerExtraCore.BasicSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var LanguageList;
    (function (LanguageList) {
        function getValue() {
            var result = [];
            for (var _i = 0, _a = SerExtraCore.Administration.LanguageRow.getLookup().items; _i < _a.length; _i++) {
                var k = _a[_i];
                if (k.LanguageId !== 'en') {
                    result.push([k.Id.toString(), k.LanguageName]);
                }
            }
            return result;
        }
        LanguageList.getValue = getValue;
    })(LanguageList = SerExtraCore.LanguageList || (SerExtraCore.LanguageList = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../Common/Helpers/LanguageList.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var ScriptInitialization;
    (function (ScriptInitialization) {
        Q.Config.responsiveDialogs = true;
        Q.Config.rootNamespaces.push('SerExtraCore');
        Q.Config.rootNamespaces.push('_Ext');
        Serenity.EntityDialog.defaultLanguageList = SerExtraCore.LanguageList.getValue;
        if ($.fn['colorbox']) {
            $.fn['colorbox'].settings.maxWidth = "95%";
            $.fn['colorbox'].settings.maxHeight = "95%";
        }
        window.onerror = Q.ErrorHandling.runtimeErrorHandler;
    })(ScriptInitialization = SerExtraCore.ScriptInitialization || (SerExtraCore.ScriptInitialization = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var BasicProgressDialog = /** @class */ (function (_super) {
        __extends(BasicProgressDialog, _super);
        function BasicProgressDialog() {
            var _this = _super.call(this) || this;
            _this.byId('ProgressBar').progressbar({
                max: 100,
                value: 0,
                change: function (e, v) {
                    _this.byId('ProgressLabel').text(_this.value + ' / ' + _this.max);
                }
            });
            return _this;
        }
        Object.defineProperty(BasicProgressDialog.prototype, "max", {
            get: function () {
                return this.byId('ProgressBar').progressbar().progressbar('option', 'max');
            },
            set: function (value) {
                this.byId('ProgressBar').progressbar().progressbar('option', 'max', value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicProgressDialog.prototype, "value", {
            get: function () {
                return this.byId('ProgressBar').progressbar('value');
            },
            set: function (value) {
                this.byId('ProgressBar').progressbar().progressbar('value', value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(BasicProgressDialog.prototype, "title", {
            get: function () {
                return this.element.dialog().dialog('option', 'title');
            },
            set: function (value) {
                this.element.dialog().dialog('option', 'title', value);
            },
            enumerable: true,
            configurable: true
        });
        BasicProgressDialog.prototype.getDialogOptions = function () {
            var _this = this;
            var opt = _super.prototype.getDialogOptions.call(this);
            opt.title = Q.text('Site.BasicProgressDialog.PleaseWait');
            opt.width = 600;
            opt.buttons = [{
                    text: Q.text('Dialogs.CancelButton'),
                    click: function () {
                        _this.cancelled = true;
                        _this.element.closest('.ui-dialog')
                            .find('.ui-dialog-buttonpane .ui-button')
                            .attr('disabled', 'disabled')
                            .css('opacity', '0.5');
                        _this.element.dialog('option', 'title', Q.trimToNull(_this.cancelTitle) ||
                            Q.text('Site.BasicProgressDialog.CancelTitle'));
                    }
                }];
            return opt;
        };
        BasicProgressDialog.prototype.initDialog = function () {
            _super.prototype.initDialog.call(this);
            this.element.closest('.ui-dialog').find('.ui-dialog-titlebar-close').hide();
        };
        BasicProgressDialog.prototype.getTemplate = function () {
            return ("<div class='s-DialogContent s-BasicProgressDialogContent'>" +
                "<div id='~_StatusText' class='status-text' ></div>" +
                "<div id='~_ProgressBar' class='progress-bar'>" +
                "<div id='~_ProgressLabel' class='progress-label' ></div>" +
                "</div>" +
                "</div>");
        };
        return BasicProgressDialog;
    }(Serenity.TemplatedDialog));
    SerExtraCore.BasicProgressDialog = BasicProgressDialog;
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var DialogUtils;
    (function (DialogUtils) {
        function pendingChangesConfirmation(element, hasPendingChanges) {
            element.on('dialogbeforeclose panelbeforeclose', function (e) {
                if (!Serenity.WX.hasOriginalEvent(e) || !hasPendingChanges()) {
                    return;
                }
                e.preventDefault();
                Q.confirm('You have pending changes. Save them?', function () { return element.find('div.save-and-close-button').click(); }, {
                    onNo: function () {
                        if (element.hasClass('ui-dialog-content'))
                            element.dialog('close');
                        else if (element.hasClass('s-Panel'))
                            Serenity.TemplatedDialog.closePanel(element);
                    }
                });
            });
        }
        DialogUtils.pendingChangesConfirmation = pendingChangesConfirmation;
    })(DialogUtils = SerExtraCore.DialogUtils || (SerExtraCore.DialogUtils = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var EnumSelectFormatter = /** @class */ (function () {
            function EnumSelectFormatter() {
                this.allowClear = true;
            }
            EnumSelectFormatter.prototype.format = function (ctx) {
                var enumType = Serenity.EnumTypeRegistry.get(this.enumKey);
                var sb = "<select>";
                if (this.allowClear) {
                    sb += '<option value="">';
                    sb += Q.htmlEncode(this.emptyItemText || Q.text("Controls.SelectEditor.EmptyItemText"));
                    sb += '</option>';
                }
                for (var _i = 0, _a = Object.keys(enumType).filter(function (v) { return !isNaN(parseInt(v, 10)); }); _i < _a.length; _i++) {
                    var x = _a[_i];
                    sb += '<option value="' + x + '"';
                    if (x == ctx.value)
                        sb += " selected";
                    var name = enumType[x];
                    sb += ">";
                    sb += Q.htmlEncode(Q.tryGetText("Enums." + this.enumKey + "." + name) || name);
                    sb += "</option>";
                }
                sb += "</select>";
                return sb;
            };
            __decorate([
                Serenity.Decorators.option()
            ], EnumSelectFormatter.prototype, "enumKey", void 0);
            __decorate([
                Serenity.Decorators.option()
            ], EnumSelectFormatter.prototype, "allowClear", void 0);
            __decorate([
                Serenity.Decorators.option()
            ], EnumSelectFormatter.prototype, "emptyItemText", void 0);
            EnumSelectFormatter = __decorate([
                Serenity.Decorators.registerFormatter()
            ], EnumSelectFormatter);
            return EnumSelectFormatter;
        }());
        Common.EnumSelectFormatter = EnumSelectFormatter;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var ExcelExportHelper;
        (function (ExcelExportHelper) {
            function createToolButton(options) {
                return {
                    hint: Q.coalesce(options.hint, 'Excel'),
                    title: Q.coalesce(options.title, ''),
                    cssClass: 'export-xlsx-button',
                    onClick: function () {
                        if (!options.onViewSubmit()) {
                            return;
                        }
                        var grid = options.grid;
                        var request = Q.deepClone(grid.getView().params);
                        request.Take = 0;
                        request.Skip = 0;
                        var sortBy = grid.getView().sortBy;
                        if (sortBy) {
                            request.Sort = sortBy;
                        }
                        request.IncludeColumns = [];
                        var columns = grid.getGrid().getColumns();
                        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {
                            var column = columns_1[_i];
                            request.IncludeColumns.push(column.id || column.field);
                        }
                        Q.postToService({ service: options.service, request: request, target: '_blank' });
                    },
                    separator: options.separator
                };
            }
            ExcelExportHelper.createToolButton = createToolButton;
        })(ExcelExportHelper = Common.ExcelExportHelper || (Common.ExcelExportHelper = {}));
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    /**
     * This is an editor widget but it only displays a text, not edits it.
     *
     */
    var StaticTextBlock = /** @class */ (function (_super) {
        __extends(StaticTextBlock, _super);
        function StaticTextBlock(container, options) {
            var _this = _super.call(this, container, options) || this;
            // hide the caption label for this editor if in a form. ugly hack
            if (_this.options.hideLabel)
                _this.element.closest('.field').find('.caption').hide();
            _this.updateElementContent();
            return _this;
        }
        StaticTextBlock.prototype.updateElementContent = function () {
            var text = Q.coalesce(this.options.text, this.value);
            // if isLocalText is set, text is actually a local text key
            if (this.options.isLocalText)
                text = Q.text(text);
            // don't html encode if isHtml option is true
            if (this.options.isHtml)
                this.element.html(text);
            else
                this.element.text(text);
        };
        /**
         * By implementing ISetEditValue interface, we allow this editor to display its field value.
         * But only do this when our text content is not explicitly set in options
         */
        StaticTextBlock.prototype.setEditValue = function (source, property) {
            if (this.options.text == null) {
                this.value = Q.coalesce(this.options.text, source[property.name]);
                this.updateElementContent();
            }
        };
        StaticTextBlock = __decorate([
            Serenity.Decorators.element("<div/>"),
            Serenity.Decorators.registerEditor([Serenity.ISetEditValue])
        ], StaticTextBlock);
        return StaticTextBlock;
    }(Serenity.Widget));
    SerExtraCore.StaticTextBlock = StaticTextBlock;
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var LanguageSelection = /** @class */ (function (_super) {
            __extends(LanguageSelection, _super);
            function LanguageSelection(select, currentLanguage) {
                var _this = _super.call(this, select) || this;
                currentLanguage = Q.coalesce(currentLanguage, 'en');
                _this.change(function (e) {
                    var path = Q.Config.applicationPath;
                    if (path && path != '/' && Q.endsWith(path, '/'))
                        path = path.substr(0, path.length - 1);
                    $.cookie('LanguagePreference', select.val(), {
                        path: path,
                        expires: 365
                    });
                    window.location.reload(true);
                });
                Q.getLookupAsync('Administration.Language').then(function (x) {
                    if (!Q.any(x.items, function (z) { return z.LanguageId === currentLanguage; })) {
                        var idx = currentLanguage.lastIndexOf('-');
                        if (idx >= 0) {
                            currentLanguage = currentLanguage.substr(0, idx);
                            if (!Q.any(x.items, function (y) { return y.LanguageId === currentLanguage; })) {
                                currentLanguage = 'en';
                            }
                        }
                        else {
                            currentLanguage = 'en';
                        }
                    }
                    for (var _i = 0, _a = x.items; _i < _a.length; _i++) {
                        var l = _a[_i];
                        Q.addOption(select, l.LanguageId, l.LanguageName);
                    }
                    select.val(currentLanguage);
                });
                return _this;
            }
            return LanguageSelection;
        }(Serenity.Widget));
        Common.LanguageSelection = LanguageSelection;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var SidebarSearch = /** @class */ (function (_super) {
            __extends(SidebarSearch, _super);
            function SidebarSearch(input, menuUL) {
                var _this = _super.call(this, input) || this;
                new Serenity.QuickSearchInput(input, {
                    onSearch: function (field, text, success) {
                        _this.updateMatchFlags(text);
                        success(true);
                    }
                });
                _this.menuUL = menuUL;
                return _this;
            }
            SidebarSearch.prototype.updateMatchFlags = function (text) {
                var liList = this.menuUL.find('li').removeClass('non-match');
                text = Q.trimToNull(text);
                if (text == null) {
                    liList.show();
                    liList.removeClass('expanded');
                    return;
                }
                var parts = text.replace(',', ' ').split(' ').filter(function (x) { return !Q.isTrimmedEmpty(x); });
                for (var i = 0; i < parts.length; i++) {
                    parts[i] = Q.trimToNull(Select2.util.stripDiacritics(parts[i]).toUpperCase());
                }
                var items = liList;
                items.each(function (idx, e) {
                    var x = $(e);
                    var title = Select2.util.stripDiacritics(Q.coalesce(x.text(), '').toUpperCase());
                    for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {
                        var p = parts_1[_i];
                        if (p != null && !(title.indexOf(p) !== -1)) {
                            x.addClass('non-match');
                            break;
                        }
                    }
                });
                var matchingItems = items.not('.non-match');
                var visibles = matchingItems.parents('li').add(matchingItems);
                var nonVisibles = liList.not(visibles);
                nonVisibles.hide().addClass('non-match');
                visibles.show();
                liList.addClass('expanded');
            };
            return SidebarSearch;
        }(Serenity.Widget));
        Common.SidebarSearch = SidebarSearch;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var ThemeSelection = /** @class */ (function (_super) {
            __extends(ThemeSelection, _super);
            function ThemeSelection(select) {
                var _this = _super.call(this, select) || this;
                _this.change(function (e) {
                    var path = Q.Config.applicationPath;
                    if (path && path != '/' && Q.endsWith(path, '/'))
                        path = path.substr(0, path.length - 1);
                    $.cookie('ThemePreference', select.val(), {
                        path: path,
                        expires: 365
                    });
                    var theme = select.val() || '';
                    var darkSidebar = theme.indexOf('light') < 0;
                    $('body').removeClass('skin-' + _this.getCurrentTheme());
                    $('body').addClass('skin-' + theme)
                        .toggleClass('dark-sidebar', darkSidebar)
                        .toggleClass('light-sidebar', !darkSidebar);
                });
                Q.addOption(select, 'blue', Q.text('Site.Layout.ThemeBlue'));
                Q.addOption(select, 'blue-light', Q.text('Site.Layout.ThemeBlueLight'));
                Q.addOption(select, 'purple', Q.text('Site.Layout.ThemePurple'));
                Q.addOption(select, 'purple-light', Q.text('Site.Layout.ThemePurpleLight'));
                Q.addOption(select, 'red', Q.text('Site.Layout.ThemeRed'));
                Q.addOption(select, 'red-light', Q.text('Site.Layout.ThemeRedLight'));
                Q.addOption(select, 'green', Q.text('Site.Layout.ThemeGreen'));
                Q.addOption(select, 'green-light', Q.text('Site.Layout.ThemeGreenLight'));
                Q.addOption(select, 'yellow', Q.text('Site.Layout.ThemeYellow'));
                Q.addOption(select, 'yellow-light', Q.text('Site.Layout.ThemeYellowLight'));
                Q.addOption(select, 'black', Q.text('Site.Layout.ThemeBlack'));
                Q.addOption(select, 'black-light', Q.text('Site.Layout.ThemeBlackLight'));
                select.val(_this.getCurrentTheme());
                return _this;
            }
            ThemeSelection.prototype.getCurrentTheme = function () {
                var skinClass = Q.first(($('body').attr('class') || '').split(' '), function (x) { return Q.startsWith(x, 'skin-'); });
                if (skinClass) {
                    return skinClass.substr(5);
                }
                return 'blue';
            };
            return ThemeSelection;
        }(Serenity.Widget));
        Common.ThemeSelection = ThemeSelection;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var PdfExportHelper;
        (function (PdfExportHelper) {
            function toAutoTableColumns(srcColumns, columnStyles, columnTitles) {
                return srcColumns.map(function (src) {
                    var col = {
                        dataKey: src.id || src.field,
                        title: src.name || ''
                    };
                    if (columnTitles && columnTitles[col.dataKey] != null)
                        col.title = columnTitles[col.dataKey];
                    var style = {};
                    if ((src.cssClass || '').indexOf("align-right") >= 0)
                        style.halign = 'right';
                    else if ((src.cssClass || '').indexOf("align-center") >= 0)
                        style.halign = 'center';
                    columnStyles[col.dataKey] = style;
                    return col;
                });
            }
            function toAutoTableData(entities, keys, srcColumns) {
                var el = document.createElement('span');
                var row = 0;
                return entities.map(function (item) {
                    var dst = {};
                    for (var cell = 0; cell < srcColumns.length; cell++) {
                        var src = srcColumns[cell];
                        var fld = src.field || '';
                        var key = keys[cell];
                        var txt = void 0;
                        var html = void 0;
                        if (src.formatter) {
                            html = src.formatter(row, cell, item[fld], src, item);
                        }
                        else if (src.format) {
                            html = src.format({ row: row, cell: cell, item: item, value: item[fld] });
                        }
                        else {
                            dst[key] = item[fld];
                            continue;
                        }
                        if (!html || (html.indexOf('<') < 0 && html.indexOf('&') < 0))
                            dst[key] = html;
                        else {
                            el.innerHTML = html;
                            if (el.children.length == 1 &&
                                $(el.children[0]).is(":input")) {
                                dst[key] = $(el.children[0]).val();
                            }
                            else if (el.children.length == 1 &&
                                $(el.children).is('.check-box')) {
                                dst[key] = $(el.children).hasClass("checked") ? "X" : "";
                            }
                            else
                                dst[key] = el.textContent || '';
                        }
                    }
                    row++;
                    return dst;
                });
            }
            function exportToPdf(options) {
                var g = options.grid;
                if (!options.onViewSubmit())
                    return;
                includeAutoTable();
                var request = Q.deepClone(g.view.params);
                request.Take = 0;
                request.Skip = 0;
                var sortBy = g.view.sortBy;
                if (sortBy != null)
                    request.Sort = sortBy;
                var gridColumns = g.slickGrid.getColumns();
                gridColumns = gridColumns.filter(function (x) { return x.id !== "__select__"; });
                request.IncludeColumns = [];
                for (var _i = 0, gridColumns_1 = gridColumns; _i < gridColumns_1.length; _i++) {
                    var column = gridColumns_1[_i];
                    request.IncludeColumns.push(column.id || column.field);
                }
                Q.serviceCall({
                    url: g.view.url,
                    request: request,
                    onSuccess: function (response) {
                        var doc = new jsPDF('l', 'pt');
                        var srcColumns = gridColumns;
                        var columnStyles = {};
                        var columns = toAutoTableColumns(srcColumns, columnStyles, options.columnTitles);
                        var keys = columns.map(function (x) { return x.dataKey; });
                        var entities = response.Entities || [];
                        var data = toAutoTableData(entities, keys, srcColumns);
                        doc.setFontSize(options.titleFontSize || 10);
                        doc.setFontStyle('bold');
                        var reportTitle = options.reportTitle || g.getTitle() || "Report";
                        doc.autoTableText(reportTitle, doc.internal.pageSize.width / 2, options.titleTop || 25, { halign: 'center' });
                        var totalPagesExp = "{{T}}";
                        var pageNumbers = options.pageNumbers == null || options.pageNumbers;
                        var autoOptions = $.extend({
                            margin: { top: 25, left: 25, right: 25, bottom: pageNumbers ? 25 : 30 },
                            startY: 60,
                            styles: {
                                fontSize: 8,
                                overflow: 'linebreak',
                                cellPadding: 2,
                                valign: 'middle'
                            },
                            columnStyles: columnStyles
                        }, options.tableOptions);
                        if (pageNumbers) {
                            var footer = function (data) {
                                var str = data.pageCount;
                                // Total page number plugin only available in jspdf v1.0+
                                if (typeof doc.putTotalPages === 'function') {
                                    str = str + " / " + totalPagesExp;
                                }
                                doc.autoTableText(str, doc.internal.pageSize.width / 2, doc.internal.pageSize.height - autoOptions.margin.bottom, {
                                    halign: 'center'
                                });
                            };
                            autoOptions.afterPageContent = footer;
                        }
                        // Print header of page
                        if (options.printDateTimeHeader == null || options.printDateTimeHeader) {
                            var beforePage = function (data) {
                                doc.setFontStyle('normal');
                                doc.setFontSize(8);
                                // Date and time of the report
                                doc.autoTableText(Q.formatDate(new Date(), "dd-MM-yyyy HH:mm"), doc.internal.pageSize.width - autoOptions.margin.right, 13, {
                                    halign: 'right'
                                });
                            };
                            autoOptions.beforePageContent = beforePage;
                        }
                        doc.autoTable(columns, data, autoOptions);
                        if (typeof doc.putTotalPages === 'function') {
                            doc.putTotalPages(totalPagesExp);
                        }
                        if (!options.output || options.output == "file") {
                            var fileName = options.fileName || options.reportTitle || "{0}_{1}.pdf";
                            fileName = Q.format(fileName, g.getTitle() || "report", Q.formatDate(new Date(), "yyyyMMdd_HHmm"));
                            doc.save(fileName);
                            return;
                        }
                        if (options.autoPrint)
                            doc.autoPrint();
                        var output = options.output;
                        if (output == 'newwindow' || '_blank')
                            output = 'dataurlnewwindow';
                        else if (output == 'window')
                            output = 'datauri';
                        doc.output(output);
                    }
                });
            }
            PdfExportHelper.exportToPdf = exportToPdf;
            function createToolButton(options) {
                return {
                    title: options.title || '',
                    hint: options.hint || 'PDF',
                    cssClass: 'export-pdf-button',
                    onClick: function () { return exportToPdf(options); },
                    separator: options.separator
                };
            }
            PdfExportHelper.createToolButton = createToolButton;
            function includeJsPDF() {
                if (typeof jsPDF !== "undefined")
                    return;
                var script = $("jsPDFScript");
                if (script.length > 0)
                    return;
                $("<script/>")
                    .attr("type", "text/javascript")
                    .attr("id", "jsPDFScript")
                    .attr("src", Q.resolveUrl("~/Scripts/jspdf.min.js"))
                    .appendTo(document.head);
            }
            function includeAutoTable() {
                includeJsPDF();
                if (typeof jsPDF === "undefined" ||
                    typeof jsPDF.API == "undefined" ||
                    typeof jsPDF.API.autoTable !== "undefined")
                    return;
                var script = $("jsPDFAutoTableScript");
                if (script.length > 0)
                    return;
                $("<script/>")
                    .attr("type", "text/javascript")
                    .attr("id", "jsPDFAutoTableScript")
                    .attr("src", Q.resolveUrl("~/Scripts/jspdf.plugin.autotable.min.js"))
                    .appendTo(document.head);
            }
        })(PdfExportHelper = Common.PdfExportHelper || (Common.PdfExportHelper = {}));
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var ReportDialog = /** @class */ (function (_super) {
            __extends(ReportDialog, _super);
            function ReportDialog(options) {
                var _this = _super.call(this, options) || this;
                _this.updateInterface();
                _this.loadReport(_this.options.reportKey);
                return _this;
            }
            ReportDialog.prototype.getDialogButtons = function () {
                return null;
            };
            ReportDialog.prototype.createPropertyGrid = function () {
                this.propertyGrid && this.byId('PropertyGrid').html('').attr('class', '');
                this.propertyGrid = new Serenity.PropertyGrid(this.byId('PropertyGrid'), {
                    idPrefix: this.idPrefix,
                    useCategories: true,
                    items: this.report.Properties
                }).init(null);
            };
            ReportDialog.prototype.loadReport = function (reportKey) {
                var _this = this;
                Q.serviceCall({
                    url: Q.resolveUrl('~/Report/Retrieve'),
                    request: {
                        ReportKey: reportKey
                    },
                    onSuccess: function (response) {
                        _this.report = response;
                        _this.element.dialog().dialog('option', 'title', _this.report.Title);
                        _this.createPropertyGrid();
                        _this.propertyGrid.load(_this.report.InitialSettings || {});
                        _this.updateInterface();
                        _this.dialogOpen();
                    }
                });
            };
            ReportDialog.prototype.updateInterface = function () {
                this.toolbar.findButton('print-preview-button')
                    .toggle(this.report && !this.report.IsDataOnlyReport);
                this.toolbar.findButton('export-pdf-button')
                    .toggle(this.report && !this.report.IsDataOnlyReport);
                this.toolbar.findButton('export-xlsx-button')
                    .toggle(this.report && this.report.IsDataOnlyReport);
            };
            ReportDialog.prototype.executeReport = function (target, ext, download) {
                if (!this.validateForm()) {
                    return;
                }
                var opt = {};
                this.propertyGrid.save(opt);
                Common.ReportHelper.execute({
                    download: download,
                    reportKey: this.report.ReportKey,
                    extension: ext,
                    target: target,
                    params: opt
                });
            };
            ReportDialog.prototype.getToolbarButtons = function () {
                var _this = this;
                return [
                    {
                        title: 'Preview',
                        cssClass: 'print-preview-button',
                        onClick: function () { return _this.executeReport('_blank', null, false); }
                    },
                    {
                        title: 'PDF',
                        cssClass: 'export-pdf-button',
                        onClick: function () { return _this.executeReport('_blank', 'pdf', true); }
                    },
                    {
                        title: 'Excel',
                        cssClass: 'export-xlsx-button',
                        onClick: function () { return _this.executeReport('_blank', 'xlsx', true); }
                    }
                ];
            };
            return ReportDialog;
        }(Serenity.TemplatedDialog));
        Common.ReportDialog = ReportDialog;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var ReportHelper;
        (function (ReportHelper) {
            function createToolButton(options) {
                return {
                    title: Q.coalesce(options.title, 'Report'),
                    cssClass: Q.coalesce(options.cssClass, 'print-button'),
                    icon: options.icon,
                    onClick: function () {
                        ReportHelper.execute(options);
                    }
                };
            }
            ReportHelper.createToolButton = createToolButton;
            function execute(options) {
                var opt = options.getParams ? options.getParams() : options.params;
                Q.postToUrl({
                    url: '~/Report/' + (options.download ? 'Download' : 'Render'),
                    params: {
                        key: options.reportKey,
                        ext: Q.coalesce(options.extension, 'pdf'),
                        opt: opt ? $.toJSON(opt) : ''
                    },
                    target: Q.coalesce(options.target, '_blank')
                });
            }
            ReportHelper.execute = execute;
        })(ReportHelper = Common.ReportHelper || (Common.ReportHelper = {}));
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var ReportPage = /** @class */ (function (_super) {
            __extends(ReportPage, _super);
            function ReportPage(element) {
                var _this = _super.call(this, element) || this;
                $('.report-link', element).click(function (e) { return _this.reportLinkClick(e); });
                $('div.line', element).click(function (e) { return _this.categoryClick(e); });
                new Serenity.QuickSearchInput($('.s-QuickSearchBar input', element), {
                    onSearch: function (field, text, done) {
                        _this.updateMatchFlags(text);
                        done(true);
                    }
                });
                return _this;
            }
            ReportPage.prototype.updateMatchFlags = function (text) {
                var liList = $('.report-list', this.element).find('li').removeClass('non-match');
                text = Q.trimToNull(text);
                if (!text) {
                    liList.children('ul').hide();
                    liList.show().removeClass('expanded');
                    return;
                }
                text = Select2.util.stripDiacritics(text).toUpperCase();
                var reportItems = liList.filter('.report-item');
                reportItems.each(function (ix, e) {
                    var x = $(e);
                    var title = Select2.util.stripDiacritics(Q.coalesce(x.text(), '').toUpperCase());
                    if (title.indexOf(text) < 0) {
                        x.addClass('non-match');
                    }
                });
                var matchingItems = reportItems.not('.non-match');
                var visibles = matchingItems.parents('li').add(matchingItems);
                var nonVisibles = liList.not(visibles);
                nonVisibles.hide().addClass('non-match');
                visibles.show();
                if (visibles.length <= 100) {
                    liList.children('ul').show();
                    liList.addClass('expanded');
                }
            };
            ReportPage.prototype.categoryClick = function (e) {
                var li = $(e.target).closest('li');
                if (li.hasClass('expanded')) {
                    li.find('ul').hide('fast');
                    li.removeClass('expanded');
                    li.find('li').removeClass('expanded');
                }
                else {
                    li.addClass('expanded');
                    li.children('ul').show('fast');
                    if (li.children('ul').children('li').length === 1 && !li.children('ul').children('li').hasClass('expanded')) {
                        li.children('ul').children('li').children('.line').click();
                    }
                }
            };
            ReportPage.prototype.reportLinkClick = function (e) {
                e.preventDefault();
                new Common.ReportDialog({
                    reportKey: $(e.target).data('key')
                }).dialogOpen();
            };
            return ReportPage;
        }(Serenity.Widget));
        Common.ReportPage = ReportPage;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Common;
    (function (Common) {
        var UserPreferenceStorage = /** @class */ (function () {
            function UserPreferenceStorage() {
            }
            UserPreferenceStorage.prototype.getItem = function (key) {
                var value;
                Common.UserPreferenceService.Retrieve({
                    PreferenceType: "UserPreferenceStorage",
                    Name: key
                }, function (response) { return value = response.Value; }, {
                    async: false
                });
                return value;
            };
            UserPreferenceStorage.prototype.setItem = function (key, data) {
                Common.UserPreferenceService.Update({
                    PreferenceType: "UserPreferenceStorage",
                    Name: key,
                    Value: data
                });
            };
            return UserPreferenceStorage;
        }());
        Common.UserPreferenceStorage = UserPreferenceStorage;
    })(Common = SerExtraCore.Common || (SerExtraCore.Common = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../Northwind/Category/CategoryGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var CustomTemplatedGrid = /** @class */ (function (_super) {
            __extends(CustomTemplatedGrid, _super);
            function CustomTemplatedGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.customHtmlDiv = $('<div/>');
                _this.slickContainer.hide();
                _this.customHtmlDiv.insertAfter(_this.slickContainer);
                setTimeout(function () {
                    _this.customHtmlDiv.css({
                        'overflow-y': 'auto',
                        height: _this.slickContainer.height()
                    });
                });
                return _this;
            }
            CustomTemplatedGrid.prototype.onViewProcessData = function (response) {
                _super.prototype.onViewProcessData.call(this, response);
                this.renderCustomHtml(response.Entities);
                return response;
            };
            CustomTemplatedGrid.prototype.renderCustomHtml = function (items) {
                var tr = "<tr>\n                        <th>Category Name</th>\n                        <th>Description</th>\n                      </tr>";
                items.forEach(function (item) { return tr +=
                    "<tr>\n                    <td>" + item.CategoryName + "</td>\n                    <td>" + item.Description + "</td>\n                </tr>"; });
                var html = "<table class=\"table table-striped table-bordered\">\n                            " + tr + "\n                        <table>\n                        ";
                this.customHtmlDiv.html(html);
            };
            CustomTemplatedGrid = __decorate([
                Serenity.Decorators.registerClass(),
                Serenity.Decorators.filterable()
            ], CustomTemplatedGrid);
            return CustomTemplatedGrid;
        }(SerExtraCore.Northwind.CategoryGrid));
        ExtraSamples.CustomTemplatedGrid = CustomTemplatedGrid;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var CustomerTemplatedLookupEditor = /** @class */ (function (_super) {
        __extends(CustomerTemplatedLookupEditor, _super);
        function CustomerTemplatedLookupEditor(container) {
            return _super.call(this, container, null) || this;
        }
        CustomerTemplatedLookupEditor.prototype.getLookupKey = function () { return SerExtraCore.Northwind.CustomerRow.lookupKey; };
        CustomerTemplatedLookupEditor.prototype.select2Formatter = function (item) {
            if (item)
                return "<div style=\"color:red\">" + item.text + "</div>";
        };
        CustomerTemplatedLookupEditor.prototype.getSelect2Options = function () {
            var opt = _super.prototype.getSelect2Options.call(this);
            opt.escapeMarkup = function (m) {
                return m;
            };
            opt.formatResult = this.select2Formatter;
            opt.formatSelection = this.select2Formatter;
            return opt;
        };
        CustomerTemplatedLookupEditor = __decorate([
            Serenity.Decorators.registerEditor()
        ], CustomerTemplatedLookupEditor);
        return CustomerTemplatedLookupEditor;
    }(Serenity.LookupEditorBase));
    SerExtraCore.CustomerTemplatedLookupEditor = CustomerTemplatedLookupEditor;
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../../../Imports/_references.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var MainGridInlineEditingGrid = /** @class */ (function (_super) {
            __extends(MainGridInlineEditingGrid, _super);
            function MainGridInlineEditingGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.isEditedFlag = 'isEdited';
                _this.slickGrid.onCellChange.subscribe(function (e, args) {
                    var item = args.item;
                    item[_this.isEditedFlag] = true;
                    _this.view.updateItem(item[_this.getIdProperty()], item);
                });
                _this.slickGrid.onBeforeEditCell.subscribe(function (e, args) {
                    var item = args.item;
                    var column = args.column;
                    if (column.field == "CategoryID" /* CategoryID */) {
                        //let editorParams = column.sourceItem.editorParams;
                        //editorParams.cascadeField = Northwind.SupplierRow.Fields.City;
                        //editorParams.cascadeValue = item.SupplierCity;
                    }
                });
                return _this;
            }
            MainGridInlineEditingGrid.prototype.getColumnsKey = function () { return "ExtraSamples.MainGridInlineEditing"; };
            MainGridInlineEditingGrid.prototype.getDialogType = function () { return SerExtraCore.Northwind.ProductDialog; };
            MainGridInlineEditingGrid.prototype.getIdProperty = function () { return SerExtraCore.Northwind.ProductRow.idProperty; };
            MainGridInlineEditingGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.ProductRow.localTextPrefix; };
            MainGridInlineEditingGrid.prototype.getService = function () { return SerExtraCore.Northwind.ProductService.baseUrl; };
            MainGridInlineEditingGrid.prototype.getItemCssClass = function (item, index) {
                var klass = "";
                var IsEdited = item[this.isEditedFlag];
                if (!IsEdited) {
                    IsEdited = false;
                }
                if (IsEdited == true) {
                    klass += " text-bold";
                }
                return Q.trimToNull(klass);
            };
            MainGridInlineEditingGrid.prototype.getSlickOptions = function () {
                var opt = _super.prototype.getSlickOptions.call(this);
                opt.editable = true;
                opt.autoEdit = true;
                return opt;
            };
            MainGridInlineEditingGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push({
                    title: 'Save',
                    cssClass: 'apply-changes-button',
                    onClick: function (e) {
                        _this.slickGrid.getEditController().commitCurrentEdit();
                        var items = _this.view.getItems().filter(function (q) { return q[_this.isEditedFlag] == true; });
                        items.forEach(function (item) {
                            if (item['RowNum'])
                                delete item['RowNum'];
                            if (item[_this.isEditedFlag])
                                delete item[_this.isEditedFlag];
                            SerExtraCore.Northwind.ProductService.Update({ EntityId: item.ProductID, Entity: item }, function (response) {
                                Q.notifySuccess("Success !");
                            });
                        });
                    },
                    separator: true
                });
                return buttons;
            };
            MainGridInlineEditingGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], MainGridInlineEditingGrid);
            return MainGridInlineEditingGrid;
        }(_Ext.GridBase));
        ExtraSamples.MainGridInlineEditingGrid = MainGridInlineEditingGrid;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var MainGridMultiEditingGrid = /** @class */ (function (_super) {
            __extends(MainGridMultiEditingGrid, _super);
            function MainGridMultiEditingGrid(container) {
                var _this = _super.call(this, container) || this;
                _this.store = new _Ext.MultiEditStore(_this.getPropertyItems());
                _this.onMultiEditStoreChanged = function () { return _this.filterStoreChanged(); };
                _this.store.add_changed(_this.onMultiEditStoreChanged);
                return _this;
            }
            MainGridMultiEditingGrid.prototype.getColumnsKey = function () { return "ExtraSamples.MainGridMultiEditing"; };
            MainGridMultiEditingGrid.prototype.getDialogType = function () { return SerExtraCore.Northwind.ProductDialog; };
            MainGridMultiEditingGrid.prototype.getIdProperty = function () { return SerExtraCore.Northwind.ProductRow.idProperty; };
            MainGridMultiEditingGrid.prototype.getLocalTextPrefix = function () { return SerExtraCore.Northwind.ProductRow.localTextPrefix; };
            MainGridMultiEditingGrid.prototype.getService = function () { return SerExtraCore.Northwind.ProductService.baseUrl; };
            MainGridMultiEditingGrid.prototype.destroy = function () {
                if (this.store) {
                    this.store.remove_changed(this.onMultiEditStoreChanged);
                    this.onMultiEditStoreChanged = null;
                    this.store = null;
                }
                _super.prototype.destroy.call(this);
            };
            MainGridMultiEditingGrid.prototype.filterStoreChanged = function () {
            };
            MainGridMultiEditingGrid.prototype.get_store = function () {
                return this.store;
            };
            MainGridMultiEditingGrid.prototype.set_store = function (value) {
                if (this.store !== value) {
                    if (this.store != null)
                        this.store.remove_changed(this.onMultiEditStoreChanged);
                    this.store = value || new _Ext.MultiEditStore([]);
                    this.store.add_changed(this.onMultiEditStoreChanged);
                    this.filterStoreChanged();
                }
            };
            MainGridMultiEditingGrid.prototype.getButtons = function () {
                var _this = this;
                var buttons = _super.prototype.getButtons.call(this);
                buttons.push({
                    title: 'Update Multiple',
                    cssClass: 'apply-changes-button',
                    onClick: function (e) {
                        var dialog = new _Ext.MultiEditDialog();
                        dialog.get_filterPanel().set_store(_this.get_store());
                        dialog.dialogOpen(null);
                    },
                    separator: true
                });
                return buttons;
            };
            MainGridMultiEditingGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], MainGridMultiEditingGrid);
            return MainGridMultiEditingGrid;
        }(_Ext.GridBase));
        ExtraSamples.MainGridMultiEditingGrid = MainGridMultiEditingGrid;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var _Ext;
(function (_Ext) {
    var MultiEditDialog = /** @class */ (function (_super) {
        __extends(MultiEditDialog, _super);
        function MultiEditDialog() {
            var _this = _super.call(this) || this;
            _this.filterPanel = new _Ext.MultiEditPanel(_this.byId('MultiEditPanel'));
            _this.filterPanel.set_showInitialLine(true);
            _this.filterPanel.set_updateStoreOnReset(false);
            return _this;
        }
        MultiEditDialog.prototype.get_filterPanel = function () {
            return this.filterPanel;
        };
        MultiEditDialog.prototype.getTemplate = function () {
            return '<div id="~_MultiEditPanel"/>';
        };
        MultiEditDialog.prototype.getDialogOptions = function () {
            var _this = this;
            var opt = _super.prototype.getDialogOptions.call(this);
            opt.buttons = [
                {
                    text: Q.text('Dialogs.OkButton'),
                    click: function () {
                        if (_this.filterPanel.get_hasErrors()) {
                            Q.notifyError(Q.text('Controls.FilterPanel.FixErrorsMessage'), '', null);
                            return;
                        }
                        _this.dialogClose();
                    }
                },
                {
                    text: Q.text('Dialogs.CancelButton'),
                    click: function () { return _this.dialogClose(); }
                }
            ];
            opt.title = Q.text('Controls.FilterPanel.DialogTitle');
            return opt;
        };
        MultiEditDialog = __decorate([
            Serenity.Decorators.registerClass('Serenity.MultiEditDialog')
        ], MultiEditDialog);
        return MultiEditDialog;
    }(Serenity.TemplatedDialog));
    _Ext.MultiEditDialog = MultiEditDialog;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var MultiEditWidgetBase = /** @class */ (function (_super) {
        __extends(MultiEditWidgetBase, _super);
        function MultiEditWidgetBase(div, opt) {
            var _this = _super.call(this, div, opt) || this;
            _this.store = new _Ext.MultiEditStore([]);
            _this.onMultiEditStoreChanged = function () { return _this.filterStoreChanged(); };
            _this.store.add_changed(_this.onMultiEditStoreChanged);
            return _this;
        }
        MultiEditWidgetBase.prototype.destroy = function () {
            if (this.store) {
                this.store.remove_changed(this.onMultiEditStoreChanged);
                this.onMultiEditStoreChanged = null;
                this.store = null;
            }
            _super.prototype.destroy.call(this);
        };
        MultiEditWidgetBase.prototype.filterStoreChanged = function () {
        };
        MultiEditWidgetBase.prototype.get_store = function () {
            return this.store;
        };
        MultiEditWidgetBase.prototype.set_store = function (value) {
            if (this.store !== value) {
                if (this.store != null)
                    this.store.remove_changed(this.onMultiEditStoreChanged);
                this.store = value || new _Ext.MultiEditStore([]);
                this.store.add_changed(this.onMultiEditStoreChanged);
                this.filterStoreChanged();
            }
        };
        MultiEditWidgetBase = __decorate([
            Serenity.Decorators.registerClass('Serenity.MultiEditWidgetBase')
        ], MultiEditWidgetBase);
        return MultiEditWidgetBase;
    }(Serenity.TemplatedWidget));
    _Ext.MultiEditWidgetBase = MultiEditWidgetBase;
})(_Ext || (_Ext = {}));
/// <reference path="MultiEditWidgetBase.ts" />
var _Ext;
(function (_Ext) {
    var MultiEditFieldSelect = /** @class */ (function (_super) {
        __extends(MultiEditFieldSelect, _super);
        function MultiEditFieldSelect(hidden, fields) {
            var _this = _super.call(this, hidden) || this;
            for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {
                var field = fields_1[_i];
                _this.addOption(field.name, Q.coalesce(Q.tryGetText(field.title), Q.coalesce(field.title, field.name)), field);
            }
            return _this;
        }
        MultiEditFieldSelect.prototype.emptyItemText = function () {
            if (Q.isEmptyOrNull(this.value)) {
                return Q.text('Controls.FilterPanel.SelectField');
            }
            return null;
        };
        MultiEditFieldSelect.prototype.getSelect2Options = function () {
            var opt = _super.prototype.getSelect2Options.call(this);
            opt.allowClear = false;
            return opt;
        };
        MultiEditFieldSelect = __decorate([
            Serenity.Decorators.registerClass('Serenity.MultiEditFieldSelect')
        ], MultiEditFieldSelect);
        return MultiEditFieldSelect;
    }(Serenity.Select2Editor));
    var MultiEditPanel = /** @class */ (function (_super) {
        __extends(MultiEditPanel, _super);
        function MultiEditPanel(div) {
            var _this = _super.call(this, div) || this;
            _this.element.addClass('s-MultiEditPanel');
            _this.rowsDiv = _this.byId('Rows');
            _this.initButtons();
            _this.updateButtons();
            return _this;
        }
        MultiEditPanel.prototype.get_showInitialLine = function () {
            return this.showInitialLine;
        };
        MultiEditPanel.prototype.set_showInitialLine = function (value) {
            if (this.showInitialLine !== value) {
                this.showInitialLine = value;
                if (this.showInitialLine && this.rowsDiv.children().length === 0) {
                    this.addEmptyRow(false);
                }
            }
        };
        MultiEditPanel.prototype.filterStoreChanged = function () {
            _super.prototype.filterStoreChanged.call(this);
        };
        MultiEditPanel.prototype.get_updateStoreOnReset = function () {
            return this.updateStoreOnReset;
        };
        MultiEditPanel.prototype.set_updateStoreOnReset = function (value) {
            if (this.updateStoreOnReset !== value) {
                this.updateStoreOnReset = value;
            }
        };
        MultiEditPanel.prototype.getTemplate = function () {
            return "<div id='~_Rows' class='filter-lines'>" +
                "</div>" +
                "<div id='~_Buttons' class='buttons'>" +
                "<button id='~_AddButton' class='btn btn-primary add'></button>" +
                "<button id='~_ResetButton' class='btn btn-danger reset'></button>" +
                "</div>" +
                "<div style='clear: both'>" +
                "</div>";
        };
        MultiEditPanel.prototype.initButtons = function () {
            var _this = this;
            this.byId('AddButton').text(Q.text('Controls.FilterPanel.AddFilter'))
                .click(function (e) { return _this.addButtonClick(e); });
            this.byId('ResetButton').text(Q.text('Controls.FilterPanel.ResetButton'))
                .click(function (e) { return _this.resetButtonClick(e); });
        };
        MultiEditPanel.prototype.get_hasErrors = function () {
            return this.rowsDiv.children().children('div.v')
                .children('span.error').length > 0;
        };
        MultiEditPanel.prototype.addButtonClick = function (e) {
            this.addEmptyRow(true);
            e.preventDefault();
        };
        MultiEditPanel.prototype.resetButtonClick = function (e) {
            e.preventDefault();
            if (this.get_updateStoreOnReset()) {
                if (this.get_store().get_items().length > 0) {
                    Q.clearKeys(this.get_store().get_items());
                    this.get_store().raiseChanged();
                }
            }
            this.rowsDiv.empty();
            this.updateButtons();
            if (this.get_showInitialLine()) {
                this.addEmptyRow(false);
            }
        };
        MultiEditPanel.prototype.findEmptyRow = function () {
            var result = null;
            this.rowsDiv.children().each(function (index, row) {
                var fieldInput = $(row).children('div.f')
                    .children('input.field-select').first();
                if (fieldInput.length === 0) {
                    return true;
                }
                var val = fieldInput.val();
                if (val == null || val.length === 0) {
                    result = $(row);
                    return false;
                }
                return true;
            });
            return result;
        };
        MultiEditPanel.prototype.addEmptyRow = function (popupField) {
            var _this = this;
            var emptyRow = this.findEmptyRow();
            if (emptyRow != null) {
                emptyRow.find('input.field-select').select2('focus');
                if (popupField) {
                    emptyRow.find('input.field-select').select2('open');
                }
                return emptyRow;
            }
            var row = $("<div class='filter-line'>" +
                "<a class='delete'><span></span></a>" +
                "<div class='f'>" +
                "<input type='hidden' class='field-select'>" +
                "</div>" +
                "<div class='o'></div>" +
                "<div class='v'></div>" +
                "<div style='clear: both'></div>" +
                "</div>").appendTo(this.rowsDiv);
            row.children('a.delete')
                .attr('title', Q.text('Controls.FilterPanel.RemoveField'))
                .click(function (e) { return _this.deleteRowClick(e); });
            var fieldSel = new MultiEditFieldSelect(row.children('div.f')
                .children('input'), this.get_store().get_fields())
                .changeSelect2(function (e) { return _this.onRowFieldChange(e); });
            this.updateButtons();
            row.find('input.field-select').select2('focus');
            if (popupField) {
                row.find('input.field-select').select2('open');
            }
            return row;
        };
        MultiEditPanel.prototype.onRowFieldChange = function (e) {
            var row = $(e.target).closest('div.filter-line');
            this.rowFieldChange(row);
            var opSelect = row.children('div.o').find('input.op-select');
            opSelect.select2('focus');
        };
        MultiEditPanel.prototype.rowFieldChange = function (row) {
            row.removeData('MultiEditing');
            var select = row.children('div.f').find('input.field-select')
                .getWidget(MultiEditFieldSelect);
            var fieldName = select.get_value();
            var isEmpty = fieldName == null || fieldName === '';
            this.removeMultiEditing(row);
            //this.populateOperatorList(row);
            //this.rowOperatorChange(row);
            this.updateButtons();
        };
        MultiEditPanel.prototype.removeMultiEditing = function (row) {
            row.data('MultiEditing', null);
            row.data('MultiEditingField', null);
        };
        MultiEditPanel.prototype.getFieldFor = function (row) {
            if (row.length === 0) {
                return null;
            }
            var select = row.children('div.f').find('input.field-select')
                .getWidget(MultiEditFieldSelect);
            if (Q.isEmptyOrNull(select.value)) {
                return null;
            }
            return this.get_store().get_fieldByName()[select.get_value()];
        };
        MultiEditPanel.prototype.getMultiEditingFor = function (row) {
            var field = this.getFieldFor(row);
            if (field == null)
                return null;
            var filtering = Q.cast(row.data('MultiEditing'), _Ext.IMultiEditing);
            if (filtering != null)
                return filtering;
            var filteringType = _Ext.MultiEditingTypeRegistry.get(Q.coalesce(field.filteringType, 'String'));
            var editorDiv = row.children('div.v');
            filtering = new filteringType();
            Serenity.ReflectionOptionsSetter.set(filtering, field.filteringParams);
            filtering.set_container(editorDiv);
            filtering.set_field(field);
            row.data('MultiEditing', filtering);
            return filtering;
        };
        MultiEditPanel.prototype.deleteRowClick = function (e) {
            e.preventDefault();
            var row = $(e.target).closest('div.filter-line');
            row.remove();
            this.updateButtons();
        };
        MultiEditPanel.prototype.updateButtons = function () {
            this.byId('ResetButton').toggle(this.rowsDiv.children().length >= 1);
        };
        return MultiEditPanel;
    }(_Ext.MultiEditWidgetBase));
    _Ext.MultiEditPanel = MultiEditPanel;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var MultiEditStore = /** @class */ (function () {
        function MultiEditStore(fields) {
            this.items = [];
            if (fields == null) {
                throw new Q.ArgumentNullException('source');
            }
            this.fields = fields.slice();
            this.get_fields().sort(function (x, y) {
                var titleX = Q.tryGetText(x.title);
                if (titleX == null) {
                    titleX = x.title;
                    if (titleX == null)
                        titleX = x.name;
                }
                var titleY = Q.tryGetText(y.title);
                if (titleY == null) {
                    titleY = y.title;
                    if (titleY == null)
                        titleY = y.name;
                }
                return Q.turkishLocaleCompare(titleX, titleY);
            });
            this.fieldByName = {};
            for (var _i = 0, fields_2 = fields; _i < fields_2.length; _i++) {
                var field = fields_2[_i];
                this.get_fieldByName()[field.name] = field;
            }
        }
        MultiEditStore_1 = MultiEditStore;
        MultiEditStore.getCriteriaFor = function (items) {
            if (items == null)
                return [''];
            var inParens = false;
            var currentBlock = [''];
            var isBlockOr = false;
            var criteria = [''];
            for (var i = 0; i < items.length; i++) {
                var line = items[i];
                if (line.leftParen || inParens && line.rightParen) {
                    if (!Serenity.Criteria.isEmpty(currentBlock)) {
                        if (inParens)
                            currentBlock = Serenity.Criteria.paren(currentBlock);
                        if (isBlockOr)
                            criteria = Serenity.Criteria.join(criteria, 'or', currentBlock);
                        else
                            criteria = Serenity.Criteria.join(criteria, 'and', currentBlock);
                        currentBlock = [''];
                    }
                    inParens = false;
                }
                if (line.leftParen) {
                    isBlockOr = line.isOr;
                    inParens = true;
                }
                if (line.isOr)
                    currentBlock = Serenity.Criteria.join(currentBlock, 'or', line.criteria);
                else
                    currentBlock = Serenity.Criteria.join(currentBlock, 'and', line.criteria);
            }
            if (!Serenity.Criteria.isEmpty(currentBlock)) {
                if (isBlockOr)
                    criteria = Serenity.Criteria.join(criteria, 'or', Serenity.Criteria.paren(currentBlock));
                else
                    criteria = Serenity.Criteria.join(criteria, 'and', Serenity.Criteria.paren(currentBlock));
            }
            return criteria;
        };
        MultiEditStore.getDisplayTextFor = function (items) {
            if (items == null)
                return '';
            var inParens = false;
            var displayText = '';
            for (var i = 0; i < items.length; i++) {
                var line = items[i];
                if (inParens && (line.rightParen || line.leftParen)) {
                    displayText += ')';
                    inParens = false;
                }
                if (displayText.length > 0) {
                    displayText += ' ' + Q.text('Controls.FilterPanel.' +
                        (line.isOr ? 'Or' : 'And')) + ' ';
                }
                if (line.leftParen) {
                    displayText += '(';
                    inParens = true;
                }
                displayText += line.displayText;
            }
            if (inParens) {
                displayText += ')';
            }
            return displayText;
        };
        MultiEditStore.prototype.get_fields = function () {
            return this.fields;
        };
        MultiEditStore.prototype.get_fieldByName = function () {
            return this.fieldByName;
        };
        MultiEditStore.prototype.get_items = function () {
            return this.items;
        };
        MultiEditStore.prototype.raiseChanged = function () {
            this.displayText = null;
            this.changed && this.changed(this, {});
        };
        MultiEditStore.prototype.add_changed = function (value) {
            this.changed = Q.delegateCombine(this.changed, value);
        };
        MultiEditStore.prototype.remove_changed = function (value) {
            this.changed = Q.delegateRemove(this.changed, value);
        };
        MultiEditStore.prototype.get_activeCriteria = function () {
            return MultiEditStore_1.getCriteriaFor(this.items);
        };
        MultiEditStore.prototype.get_displayText = function () {
            if (this.displayText == null)
                this.displayText = MultiEditStore_1.getDisplayTextFor(this.items);
            return this.displayText;
        };
        var MultiEditStore_1;
        MultiEditStore = MultiEditStore_1 = __decorate([
            Serenity.Decorators.registerClass('MultiEditStore')
        ], MultiEditStore);
        return MultiEditStore;
    }());
    _Ext.MultiEditStore = MultiEditStore;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var IMultiEditing = /** @class */ (function () {
        function IMultiEditing() {
        }
        IMultiEditing = __decorate([
            Serenity.Decorators.registerInterface('Serenity.IMultiEditing')
        ], IMultiEditing);
        return IMultiEditing;
    }());
    _Ext.IMultiEditing = IMultiEditing;
    var Operators = Serenity.FilterOperators;
    var Option = Serenity.Decorators.option;
    var BaseMultiEditing = /** @class */ (function () {
        function BaseMultiEditing() {
        }
        BaseMultiEditing.prototype.get_field = function () {
            return this.field;
        };
        BaseMultiEditing.prototype.set_field = function (value) {
            this.field = value;
        };
        BaseMultiEditing.prototype.get_container = function () {
            return this.container;
        };
        BaseMultiEditing.prototype.set_container = function (value) {
            this.container = value;
        };
        BaseMultiEditing.prototype.get_operator = function () {
            return this.operator;
        };
        BaseMultiEditing.prototype.set_operator = function (value) {
            this.operator = value;
        };
        BaseMultiEditing.prototype.appendNullableOperators = function (list) {
            if (!this.isNullable()) {
                return list;
            }
            list.push({ key: Serenity.FilterOperators.isNotNull });
            list.push({ key: Serenity.FilterOperators.isNull });
            return list;
        };
        BaseMultiEditing.prototype.appendComparisonOperators = function (list) {
            list.push({ key: Serenity.FilterOperators.EQ });
            list.push({ key: Serenity.FilterOperators.NE });
            list.push({ key: Serenity.FilterOperators.LT });
            list.push({ key: Serenity.FilterOperators.LE });
            list.push({ key: Serenity.FilterOperators.GT });
            list.push({ key: Serenity.FilterOperators.GE });
            return list;
        };
        BaseMultiEditing.prototype.isNullable = function () {
            return this.get_field().required !== true;
        };
        BaseMultiEditing.prototype.createEditor = function () {
            switch (this.get_operator().key) {
                case 'true':
                case 'false':
                case 'isnull':
                case 'isnotnull': {
                    return;
                }
                case 'contains':
                case 'startswith':
                case 'eq':
                case 'ne':
                case 'lt':
                case 'le':
                case 'gt':
                case 'ge': {
                    this.get_container().html('<input type="text"/>');
                    return;
                }
            }
            throw new Q.Exception(Q.format("MultiEditing '{0}' has no editor for '{1}' operator", Q.getTypeName(Q.getInstanceType(this)), this.get_operator().key));
        };
        BaseMultiEditing.prototype.operatorFormat = function (op) {
            return Q.coalesce(op.format, Q.coalesce(Q.tryGetText('Controls.FilterPanel.OperatorFormats.' + op.key), op.key));
        };
        BaseMultiEditing.prototype.getTitle = function (field) {
            return Q.coalesce(Q.tryGetText(field.title), Q.coalesce(field.title, field.name));
        };
        BaseMultiEditing.prototype.displayText = function (op, values) {
            if (!values || values.length === 0) {
                return Q.format(this.operatorFormat(op), this.getTitle(this.field));
            }
            else if (values.length === 1) {
                return Q.format(this.operatorFormat(op), this.getTitle(this.field), values[0]);
            }
            else {
                return Q.format(this.operatorFormat(op), this.getTitle(this.field), values[0], values[1]);
            }
        };
        BaseMultiEditing.prototype.getCriteriaField = function () {
            return this.field.name;
        };
        BaseMultiEditing.prototype.getCriteria = function () {
            var result = {};
            var text;
            switch (this.get_operator().key) {
                case 'true': {
                    result.displayText = this.displayText(this.get_operator(), []);
                    result.criteria = [[this.getCriteriaField()], '=', true];
                    return result;
                }
                case 'false': {
                    result.displayText = this.displayText(this.get_operator(), []);
                    result.criteria = [[this.getCriteriaField()], '=', false];
                    return result;
                }
                case 'isnull': {
                    result.displayText = this.displayText(this.get_operator(), []);
                    result.criteria = ['is null', [this.getCriteriaField()]];
                    return result;
                }
                case 'isnotnull': {
                    result.displayText = this.displayText(this.get_operator(), []);
                    result.criteria = ['is not null', [this.getCriteriaField()]];
                    return result;
                }
                case 'contains': {
                    text = this.getEditorText();
                    result.displayText = this.displayText(this.get_operator(), [text]);
                    result.criteria = [[this.getCriteriaField()], 'like', '%' + text + '%'];
                    return result;
                }
                case 'startswith': {
                    text = this.getEditorText();
                    result.displayText = this.displayText(this.get_operator(), [text]);
                    result.criteria = [[this.getCriteriaField()], 'like', text + '%'];
                    return result;
                }
                case 'eq':
                case 'ne':
                case 'lt':
                case 'le':
                case 'gt':
                case 'ge': {
                    text = this.getEditorText();
                    result.displayText = this.displayText(this.get_operator(), [text]);
                    result.criteria = [[this.getCriteriaField()], Serenity.FilterOperators.toCriteriaOperator[this.get_operator().key], this.getEditorValue()];
                    return result;
                }
            }
            throw new Q.Exception(Q.format("MultiEditing '{0}' has no handler for '{1}' operator", Q.getTypeName(Q.getInstanceType(this)), this.get_operator().key));
        };
        BaseMultiEditing.prototype.loadState = function (state) {
            var input = this.get_container().find(':input').first();
            input.val(state);
        };
        BaseMultiEditing.prototype.saveState = function () {
            switch (this.get_operator().key) {
                case 'contains':
                case 'startswith':
                case 'eq':
                case 'ne':
                case 'lt':
                case 'le':
                case 'gt':
                case 'ge': {
                    var input = this.get_container().find(':input').first();
                    return input.val();
                }
            }
            return null;
        };
        BaseMultiEditing.prototype.argumentNull = function () {
            return new Q.ArgumentNullException('value', Q.text('Controls.FilterPanel.ValueRequired'));
        };
        BaseMultiEditing.prototype.validateEditorValue = function (value) {
            if (value.length === 0) {
                throw this.argumentNull();
            }
            return value;
        };
        BaseMultiEditing.prototype.getEditorValue = function () {
            var input = this.get_container().find(':input').not('.select2-focusser').first();
            if (input.length !== 1) {
                throw new Q.Exception(Q.format("Couldn't find input in filter container for {0}", Q.coalesce(this.field.title, this.field.name)));
            }
            var value;
            if (input.data('select2') != null) {
                value = input.select2('val');
            }
            else {
                value = input.val();
            }
            value = Q.coalesce(value, '').trim();
            return this.validateEditorValue(value);
        };
        BaseMultiEditing.prototype.getEditorText = function () {
            var input = this.get_container().find(':input').not('.select2-focusser').not('.select2-input').first();
            if (input.length === 0) {
                return this.get_container().text().trim();
            }
            var value;
            if (input.data('select2') != null) {
                value = Q.coalesce(input.select2('data'), {}).text;
            }
            else {
                value = input.val();
            }
            return value;
        };
        BaseMultiEditing.prototype.initQuickFilter = function (filter) {
            filter.field = this.getCriteriaField();
            filter.type = Serenity.StringEditor;
            filter.title = this.getTitle(this.field);
            filter.options = Q.deepClone({}, this.get_field().quickFilterParams);
        };
        BaseMultiEditing = __decorate([
            Serenity.Decorators.registerClass('Serenity.BaseMultiEditing', [IMultiEditing, Serenity.IQuickFiltering])
        ], BaseMultiEditing);
        return BaseMultiEditing;
    }());
    _Ext.BaseMultiEditing = BaseMultiEditing;
    function MultiEditing(name) {
        return Serenity.Decorators.registerClass('Serenity.' + name + 'MultiEditing');
    }
    var BaseEditorMultiEditing = /** @class */ (function (_super) {
        __extends(BaseEditorMultiEditing, _super);
        function BaseEditorMultiEditing(editorType) {
            var _this = _super.call(this) || this;
            _this.editorType = editorType;
            return _this;
        }
        BaseEditorMultiEditing.prototype.useEditor = function () {
            return true;
        };
        BaseEditorMultiEditing.prototype.createEditor = function () {
            if (this.useEditor()) {
                this.editor = Serenity.Widget.create({
                    type: this.editorType,
                    container: this.get_container(),
                    options: this.getEditorOptions(),
                    init: null
                });
                return;
            }
            this.editor = null;
            _super.prototype.createEditor.call(this);
        };
        BaseEditorMultiEditing.prototype.useIdField = function () {
            return false;
        };
        BaseEditorMultiEditing.prototype.getCriteriaField = function () {
            if (this.useEditor() &&
                this.useIdField() &&
                !Q.isEmptyOrNull(this.get_field().filteringIdField)) {
                return this.get_field().filteringIdField;
            }
            return _super.prototype.getCriteriaField.call(this);
        };
        BaseEditorMultiEditing.prototype.getEditorOptions = function () {
            var opt = Q.deepClone({}, this.get_field().editorParams);
            delete opt['cascadeFrom'];
            // currently can't support cascadeFrom in filtering
            return Q.deepClone(opt, this.get_field().filteringParams);
        };
        BaseEditorMultiEditing.prototype.loadState = function (state) {
            if (this.useEditor()) {
                if (state == null) {
                    return;
                }
                Serenity.EditorUtils.setValue(this.editor, state);
                return;
            }
            _super.prototype.loadState.call(this, state);
        };
        BaseEditorMultiEditing.prototype.saveState = function () {
            if (this.useEditor()) {
                return Serenity.EditorUtils.getValue(this.editor);
            }
            return _super.prototype.saveState.call(this);
        };
        BaseEditorMultiEditing.prototype.getEditorValue = function () {
            if (this.useEditor()) {
                var value = Serenity.EditorUtils.getValue(this.editor);
                if (value == null || (typeof value == "string" && value.trim().length === 0))
                    throw this.argumentNull();
                return value;
            }
            return _super.prototype.getEditorValue.call(this);
        };
        BaseEditorMultiEditing.prototype.initQuickFilter = function (filter) {
            _super.prototype.initQuickFilter.call(this, filter);
            filter.type = this.editorType;
            filter.options = Q.deepClone({}, this.getEditorOptions(), this.get_field().quickFilterParams);
        };
        BaseEditorMultiEditing = __decorate([
            MultiEditing('BaseEditor')
        ], BaseEditorMultiEditing);
        return BaseEditorMultiEditing;
    }(BaseMultiEditing));
    _Ext.BaseEditorMultiEditing = BaseEditorMultiEditing;
    var DateMultiEditing = /** @class */ (function (_super) {
        __extends(DateMultiEditing, _super);
        function DateMultiEditing() {
            return _super.call(this, Serenity.DateEditor) || this;
        }
        DateMultiEditing.prototype.getOperators = function () {
            return this.appendNullableOperators(this.appendComparisonOperators([]));
        };
        DateMultiEditing = __decorate([
            MultiEditing('Date')
        ], DateMultiEditing);
        return DateMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.DateMultiEditing = DateMultiEditing;
    var BooleanMultiEditing = /** @class */ (function (_super) {
        __extends(BooleanMultiEditing, _super);
        function BooleanMultiEditing() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        BooleanMultiEditing.prototype.getOperators = function () {
            return this.appendNullableOperators([
                { key: Serenity.FilterOperators.isTrue },
                { key: Serenity.FilterOperators.isFalse }
            ]);
        };
        BooleanMultiEditing = __decorate([
            MultiEditing('Boolean')
        ], BooleanMultiEditing);
        return BooleanMultiEditing;
    }(BaseMultiEditing));
    _Ext.BooleanMultiEditing = BooleanMultiEditing;
    var DateTimeMultiEditing = /** @class */ (function (_super) {
        __extends(DateTimeMultiEditing, _super);
        function DateTimeMultiEditing() {
            return _super.call(this, Serenity.DateTimeEditor) || this;
        }
        DateTimeMultiEditing.prototype.getOperators = function () {
            return this.appendNullableOperators(this.appendComparisonOperators([]));
        };
        DateTimeMultiEditing.prototype.getCriteria = function () {
            var result = {};
            switch (this.get_operator().key) {
                case 'eq':
                case 'ne':
                case 'lt':
                case 'le':
                case 'gt':
                case 'ge': {
                    {
                        var text = this.getEditorText();
                        result.displayText = this.displayText(this.get_operator(), [text]);
                        var date = Q.parseISODateTime(this.getEditorValue());
                        date = new Date(date.getFullYear(), date.getMonth(), date.getDate());
                        var next = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);
                        var criteria = [this.getCriteriaField()];
                        var dateValue = Q.formatDate(date, 'yyyy-MM-dd');
                        var nextValue = Q.formatDate(next, 'yyyy-MM-dd');
                        switch (this.get_operator().key) {
                            case 'eq': {
                                result.criteria = Serenity.Criteria.join([criteria, '>=', dateValue], 'and', [criteria, '<', nextValue]);
                                return result;
                            }
                            case 'ne': {
                                result.criteria = Serenity.Criteria.paren(Serenity.Criteria.join([criteria, '<', dateValue], 'or', [criteria, '>', nextValue]));
                                return result;
                            }
                            case 'lt': {
                                result.criteria = [criteria, '<', dateValue];
                                return result;
                            }
                            case 'le': {
                                result.criteria = [criteria, '<', nextValue];
                                return result;
                            }
                            case 'gt': {
                                result.criteria = [criteria, '>=', nextValue];
                                return result;
                            }
                            case 'ge': {
                                result.criteria = [criteria, '>=', dateValue];
                                return result;
                            }
                        }
                    }
                    break;
                }
            }
            return _super.prototype.getCriteria.call(this);
        };
        DateTimeMultiEditing = __decorate([
            MultiEditing('DateTime')
        ], DateTimeMultiEditing);
        return DateTimeMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.DateTimeMultiEditing = DateTimeMultiEditing;
    var DecimalMultiEditing = /** @class */ (function (_super) {
        __extends(DecimalMultiEditing, _super);
        function DecimalMultiEditing() {
            return _super.call(this, Serenity.DecimalEditor) || this;
        }
        DecimalMultiEditing.prototype.getOperators = function () {
            return this.appendNullableOperators(this.appendComparisonOperators([]));
        };
        DecimalMultiEditing = __decorate([
            MultiEditing('Decimal')
        ], DecimalMultiEditing);
        return DecimalMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.DecimalMultiEditing = DecimalMultiEditing;
    var EditorMultiEditing = /** @class */ (function (_super) {
        __extends(EditorMultiEditing, _super);
        function EditorMultiEditing() {
            return _super.call(this, Serenity.Widget) || this;
        }
        EditorMultiEditing.prototype.getOperators = function () {
            var list = [];
            list.push({ key: Operators.EQ });
            list.push({ key: Operators.NE });
            if (this.useRelative) {
                list.push({ key: Operators.LT });
                list.push({ key: Operators.LE });
                list.push({ key: Operators.GT });
                list.push({ key: Operators.GE });
            }
            if (this.useLike) {
                list.push({ key: Operators.contains });
                list.push({ key: Operators.startsWith });
            }
            this.appendNullableOperators(list);
            return list;
        };
        EditorMultiEditing.prototype.useEditor = function () {
            var op = this.get_operator().key;
            return op === Operators.EQ ||
                op === Operators.NE ||
                (this.useRelative && (op === Operators.LT ||
                    op === Operators.LE ||
                    op === Operators.GT ||
                    op === Operators.GE));
        };
        EditorMultiEditing.prototype.getEditorOptions = function () {
            var opt = _super.prototype.getEditorOptions.call(this);
            if (this.useEditor() && this.editorType === Q.coalesce(this.get_field().editorType, 'String')) {
                opt = $.extend(opt, this.get_field().editorParams);
            }
            return opt;
        };
        EditorMultiEditing.prototype.createEditor = function () {
            var _this = this;
            if (this.useEditor()) {
                var editorType = Serenity.EditorTypeRegistry.get(this.editorType);
                this.editor = Serenity.Widget.create({
                    type: editorType,
                    element: function (e) { return e.appendTo(_this.get_container()); },
                    options: this.getEditorOptions()
                });
                return;
            }
            _super.prototype.createEditor.call(this);
        };
        EditorMultiEditing.prototype.useIdField = function () {
            return this.useEditor();
        };
        EditorMultiEditing.prototype.initQuickFilter = function (filter) {
            _super.prototype.initQuickFilter.call(this, filter);
            filter.type = Serenity.EditorTypeRegistry.get(this.editorType);
        };
        __decorate([
            Option()
        ], EditorMultiEditing.prototype, "editorType", void 0);
        __decorate([
            Option()
        ], EditorMultiEditing.prototype, "useRelative", void 0);
        __decorate([
            Option()
        ], EditorMultiEditing.prototype, "useLike", void 0);
        EditorMultiEditing = __decorate([
            MultiEditing('Editor')
        ], EditorMultiEditing);
        return EditorMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.EditorMultiEditing = EditorMultiEditing;
    var EnumMultiEditing = /** @class */ (function (_super) {
        __extends(EnumMultiEditing, _super);
        function EnumMultiEditing() {
            return _super.call(this, Serenity.EnumEditor) || this;
        }
        EnumMultiEditing.prototype.getOperators = function () {
            var op = [{ key: Operators.EQ }, { key: Operators.NE }];
            return this.appendNullableOperators(op);
        };
        EnumMultiEditing = __decorate([
            MultiEditing('Enum')
        ], EnumMultiEditing);
        return EnumMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.EnumMultiEditing = EnumMultiEditing;
    var IntegerMultiEditing = /** @class */ (function (_super) {
        __extends(IntegerMultiEditing, _super);
        function IntegerMultiEditing() {
            return _super.call(this, Serenity.IntegerEditor) || this;
        }
        IntegerMultiEditing.prototype.getOperators = function () {
            return this.appendNullableOperators(this.appendComparisonOperators([]));
        };
        IntegerMultiEditing = __decorate([
            MultiEditing('Integer')
        ], IntegerMultiEditing);
        return IntegerMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.IntegerMultiEditing = IntegerMultiEditing;
    var LookupMultiEditing = /** @class */ (function (_super) {
        __extends(LookupMultiEditing, _super);
        function LookupMultiEditing() {
            return _super.call(this, Serenity.LookupEditor) || this;
        }
        LookupMultiEditing.prototype.getOperators = function () {
            var ops = [{ key: Operators.EQ }, { key: Operators.NE }, { key: Operators.contains }, { key: Operators.startsWith }];
            return this.appendNullableOperators(ops);
        };
        LookupMultiEditing.prototype.useEditor = function () {
            var op = this.get_operator().key;
            return op == Operators.EQ || op == Operators.NE;
        };
        LookupMultiEditing.prototype.useIdField = function () {
            return this.useEditor();
        };
        LookupMultiEditing.prototype.getEditorText = function () {
            if (this.useEditor()) {
                return this.editor.text;
            }
            return _super.prototype.getEditorText.call(this);
        };
        LookupMultiEditing = __decorate([
            MultiEditing('Lookup')
        ], LookupMultiEditing);
        return LookupMultiEditing;
    }(BaseEditorMultiEditing));
    _Ext.LookupMultiEditing = LookupMultiEditing;
    var StringMultiEditing = /** @class */ (function (_super) {
        __extends(StringMultiEditing, _super);
        function StringMultiEditing() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        StringMultiEditing.prototype.getOperators = function () {
            var ops = [
                { key: Operators.contains },
                { key: Operators.startsWith },
                { key: Operators.EQ },
                { key: Operators.NE }
            ];
            return this.appendNullableOperators(ops);
        };
        StringMultiEditing.prototype.validateEditorValue = function (value) {
            if (value.length === 0) {
                return value;
            }
            return _super.prototype.validateEditorValue.call(this, value);
        };
        StringMultiEditing = __decorate([
            MultiEditing('String')
        ], StringMultiEditing);
        return StringMultiEditing;
    }(BaseMultiEditing));
    _Ext.StringMultiEditing = StringMultiEditing;
    var MultiEditingTypeRegistry;
    (function (MultiEditingTypeRegistry) {
        var knownTypes;
        function initialize() {
            if (knownTypes != null)
                return;
            knownTypes = {};
            for (var _i = 0, _a = Q.getTypes(); _i < _a.length; _i++) {
                var type = _a[_i];
                if (!Q.isAssignableFrom(_Ext.IMultiEditing, type))
                    continue;
                var fullName = Q.getTypeFullName(type).toLowerCase();
                knownTypes[fullName] = type;
                for (var _b = 0, _c = Q.Config.rootNamespaces; _b < _c.length; _b++) {
                    var k = _c[_b];
                    if (Q.startsWith(fullName, k.toLowerCase() + '.')) {
                        var kx = fullName.substr(k.length + 1).toLowerCase();
                        if (knownTypes[kx] == null) {
                            knownTypes[kx] = type;
                        }
                    }
                }
            }
            setTypeKeysWithoutMultiEditHandlerSuffix();
        }
        function setTypeKeysWithoutMultiEditHandlerSuffix() {
            var suffix = 'filtering';
            for (var _i = 0, _a = Object.keys(knownTypes); _i < _a.length; _i++) {
                var k = _a[_i];
                if (!Q.endsWith(k, suffix))
                    continue;
                var p = k.substr(0, k.length - suffix.length);
                if (Q.isEmptyOrNull(p))
                    continue;
                if (knownTypes[p] != null)
                    continue;
                knownTypes[p] = knownTypes[k];
            }
        }
        function reset() {
            knownTypes = null;
        }
        function get(key) {
            if (Q.isEmptyOrNull(key))
                throw new Q.ArgumentNullException('key');
            initialize();
            var formatterType = knownTypes[key.toLowerCase()];
            //if (formatterType == null)
            //    throw new ss.Exception(Q.format(
            //        "Can't find {0} filter handler type!", key));
            return formatterType;
        }
        MultiEditingTypeRegistry.get = get;
    })(MultiEditingTypeRegistry = _Ext.MultiEditingTypeRegistry || (_Ext.MultiEditingTypeRegistry = {}));
})(_Ext || (_Ext = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var Profile = /** @class */ (function (_super) {
            __extends(Profile, _super);
            function Profile() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            Profile.prototype.render = function () {
                var welcomeStyle = { color: 'red' };
                return (React.createElement("div", { style: welcomeStyle }, "Welcome to react"));
            };
            return Profile;
        }(React.Component));
        ExtraSamples.Profile = Profile;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var ExtraSamples;
    (function (ExtraSamples) {
        var OrdersByCustomerReportPanel = /** @class */ (function (_super) {
            __extends(OrdersByCustomerReportPanel, _super);
            function OrdersByCustomerReportPanel(container, opt) {
                var _this = _super.call(this, container, opt) || this;
                _this.form = new ExtraSamples.OrdersByCustomerReportRequestForm(_this.idPrefix);
                return _this;
            }
            OrdersByCustomerReportPanel.prototype.getReportTitle = function () { return 'Orders By Customer'; };
            OrdersByCustomerReportPanel.prototype.getReportKey = function () { return 'ExtraSamples.OrdersByCustomerReport'; };
            OrdersByCustomerReportPanel.prototype.getFormKey = function () { return ExtraSamples.OrdersByCustomerReportRequestForm.formKey; };
            OrdersByCustomerReportPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], OrdersByCustomerReportPanel);
            return OrdersByCustomerReportPanel;
        }(_Ext.ReportPanelBase));
        ExtraSamples.OrdersByCustomerReportPanel = OrdersByCustomerReportPanel;
    })(ExtraSamples = SerExtraCore.ExtraSamples || (SerExtraCore.ExtraSamples = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var LoginPanel = /** @class */ (function (_super) {
            __extends(LoginPanel, _super);
            function LoginPanel(container) {
                var _this = _super.call(this, container) || this;
                $.fn['vegas'] && $('body')['vegas']({
                    delay: 30000,
                    cover: true,
                    overlay: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACAQMAAABIeJ9nAAAAA3NCSVQICAjb4U" +
                        "/gAAAABlBMVEX///8AAABVwtN+AAAAAnRSTlMA/1uRIrUAAAAJcEhZcwAAAsQAAALEAVuRnQsAAAAWdEVYdENyZWF0" +
                        "aW9uIFRpbWUAMDQvMTMvMTGrW0T6AAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M1cbXjNgAAAAxJREFUCJljaGBgAAABhACBrONIPgAAAABJRU5ErkJggg==",
                    slides: [
                        { src: Q.resolveUrl("~/Content/site/slides/slide1.jpg"), transition: 'fade' },
                        { src: Q.resolveUrl("~/Content/site/slides/slide2.jpg"), transition: 'zoomOut' },
                        { src: Q.resolveUrl("~/Content/site/slides/slide3.jpg"), transition: 'swirlLeft' }
                    ]
                });
                _this.byId('LoginButton').click(function (e) {
                    e.preventDefault();
                    if (!_this.validateForm()) {
                        return;
                    }
                    var request = _this.getSaveEntity();
                    Q.serviceCall({
                        url: Q.resolveUrl('~/Account/Login'),
                        request: request,
                        onSuccess: function (response) {
                            _this.redirectToReturnUrl();
                        },
                        onError: function (response) {
                            if (response != null && response.Error != null && response.Error.Code == "RedirectUserTo") {
                                window.location.href = response.Error.Arguments;
                                return;
                            }
                            if (response != null && response.Error != null && !Q.isEmptyOrNull(response.Error.Message)) {
                                Q.notifyError(response.Error.Message);
                                $('#Password').focus();
                                return;
                            }
                            Q.ErrorHandling.showServiceError(response.Error);
                        }
                    });
                });
                return _this;
            }
            LoginPanel.prototype.getFormKey = function () { return Membership.LoginForm.formKey; };
            LoginPanel.prototype.redirectToReturnUrl = function () {
                var q = Q.parseQueryString();
                var returnUrl = q['returnUrl'] || q['ReturnUrl'];
                if (returnUrl) {
                    var hash = window.location.hash;
                    if (hash != null && hash != '#')
                        returnUrl += hash;
                    window.location.href = returnUrl;
                }
                else {
                    window.location.href = Q.resolveUrl('~/');
                }
            };
            LoginPanel.prototype.getTemplate = function () {
                return "\n<div class=\"flex-layout\">\n    <div class=\"logo\"></div>\n    <h3>" + Q.text("Forms.Membership.Login.FormTitle") + "</h3>\n    <form id=\"~_Form\" action=\"\">\n        <div class=\"s-Form\">\n            <div class=\"fieldset ui-widget ui-widget-content ui-corner-all\">\n                <div id=\"~_PropertyGrid\"></div>\n                <div class=\"clear\"></div>\n            </div>\n            <div class=\"buttons\">\n                <button id=\"~_LoginButton\" type=\"submit\" class=\"btn btn-primary\">\n                    " + Q.text("Forms.Membership.Login.SignInButton") + "\n                </button>\n            </div>\n            <div class=\"actions\">\n                <a href=\"" + Q.resolveUrl('~/Account/ForgotPassword') + "\"><i class=\"fa fa-angle-right\"></i>&nbsp;" + Q.text("Forms.Membership.Login.ForgotPassword") + "</a>\n                <a href=\"" + Q.resolveUrl('~/Account/SignUp') + "\"><i class=\"fa fa-angle-right\"></i>&nbsp;" + Q.text("Forms.Membership.Login.SignUpButton") + "</a>\n                <div class=\"clear\"></div>\n            </div>\n        </div>\n    </form>\n</div>\n";
            };
            LoginPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], LoginPanel);
            return LoginPanel;
        }(Serenity.PropertyPanel));
        Membership.LoginPanel = LoginPanel;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ChangePasswordPanel = /** @class */ (function (_super) {
            __extends(ChangePasswordPanel, _super);
            function ChangePasswordPanel(container) {
                var _this = _super.call(this, container) || this;
                _this.form = new Membership.ChangePasswordForm(_this.idPrefix);
                _this.form.NewPassword.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.w('ConfirmPassword', Serenity.PasswordEditor).value.length < 7) {
                        return Q.format(Q.text('Validation.MinRequiredPasswordLength'), 7);
                    }
                });
                _this.form.ConfirmPassword.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.ConfirmPassword.value !== _this.form.NewPassword.value) {
                        return Q.text('Validation.PasswordConfirm');
                    }
                });
                _this.byId('SubmitButton').click(function (e) {
                    e.preventDefault();
                    if (!_this.validateForm()) {
                        return;
                    }
                    var request = _this.getSaveEntity();
                    Q.serviceCall({
                        url: Q.resolveUrl('~/Account/ChangePassword'),
                        request: request,
                        onSuccess: function (response) {
                            Q.information(Q.text('Forms.Membership.ChangePassword.Success'), function () {
                                window.location.href = Q.resolveUrl('~/');
                            });
                        }
                    });
                });
                return _this;
            }
            ChangePasswordPanel.prototype.getFormKey = function () { return Membership.ChangePasswordForm.formKey; };
            ChangePasswordPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], ChangePasswordPanel);
            return ChangePasswordPanel;
        }(Serenity.PropertyPanel));
        Membership.ChangePasswordPanel = ChangePasswordPanel;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ForgotPasswordPanel = /** @class */ (function (_super) {
            __extends(ForgotPasswordPanel, _super);
            function ForgotPasswordPanel(container) {
                var _this = _super.call(this, container) || this;
                _this.form = new Membership.ForgotPasswordForm(_this.idPrefix);
                _this.byId('SubmitButton').click(function (e) {
                    e.preventDefault();
                    if (!_this.validateForm()) {
                        return;
                    }
                    var request = _this.getSaveEntity();
                    Q.serviceCall({
                        url: Q.resolveUrl('~/Account/ForgotPassword'),
                        request: request,
                        onSuccess: function (response) {
                            Q.information(Q.text('Forms.Membership.ForgotPassword.Success'), function () {
                                window.location.href = Q.resolveUrl('~/');
                            });
                        }
                    });
                });
                return _this;
            }
            ForgotPasswordPanel.prototype.getFormKey = function () { return Membership.ForgotPasswordForm.formKey; };
            ForgotPasswordPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], ForgotPasswordPanel);
            return ForgotPasswordPanel;
        }(Serenity.PropertyPanel));
        Membership.ForgotPasswordPanel = ForgotPasswordPanel;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var ResetPasswordPanel = /** @class */ (function (_super) {
            __extends(ResetPasswordPanel, _super);
            function ResetPasswordPanel(container) {
                var _this = _super.call(this, container) || this;
                _this.form = new Membership.ResetPasswordForm(_this.idPrefix);
                _this.form.NewPassword.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.ConfirmPassword.value.length < 7) {
                        return Q.format(Q.text('Validation.MinRequiredPasswordLength'), 7);
                    }
                });
                _this.form.ConfirmPassword.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.ConfirmPassword.value !== _this.form.NewPassword.value) {
                        return Q.text('Validation.PasswordConfirm');
                    }
                });
                _this.byId('SubmitButton').click(function (e) {
                    e.preventDefault();
                    if (!_this.validateForm()) {
                        return;
                    }
                    var request = _this.getSaveEntity();
                    request.Token = _this.byId('Token').val();
                    Q.serviceCall({
                        url: Q.resolveUrl('~/Account/ResetPassword'),
                        request: request,
                        onSuccess: function (response) {
                            Q.information(Q.text('Forms.Membership.ResetPassword.Success'), function () {
                                window.location.href = Q.resolveUrl('~/Account/Login');
                            });
                        }
                    });
                });
                return _this;
            }
            ResetPasswordPanel.prototype.getFormKey = function () { return Membership.ResetPasswordForm.formKey; };
            ResetPasswordPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], ResetPasswordPanel);
            return ResetPasswordPanel;
        }(Serenity.PropertyPanel));
        Membership.ResetPasswordPanel = ResetPasswordPanel;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Membership;
    (function (Membership) {
        var SignUpPanel = /** @class */ (function (_super) {
            __extends(SignUpPanel, _super);
            function SignUpPanel(container) {
                var _this = _super.call(this, container) || this;
                _this.form = new Membership.SignUpForm(_this.idPrefix);
                _this.form.ConfirmEmail.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.ConfirmEmail.value !== _this.form.Email.value) {
                        return Q.text('Validation.EmailConfirm');
                    }
                });
                _this.form.ConfirmPassword.addValidationRule(_this.uniqueName, function (e) {
                    if (_this.form.ConfirmPassword.value !== _this.form.Password.value) {
                        return Q.text('Validation.PasswordConfirm');
                    }
                });
                _this.byId('SubmitButton').click(function (e) {
                    e.preventDefault();
                    if (!_this.validateForm()) {
                        return;
                    }
                    Q.serviceCall({
                        url: Q.resolveUrl('~/Account/SignUp'),
                        request: {
                            DisplayName: _this.form.DisplayName.value,
                            Email: _this.form.Email.value,
                            Password: _this.form.Password.value
                        },
                        onSuccess: function (response) {
                            Q.information(Q.text('Forms.Membership.SignUp.Success'), function () {
                                window.location.href = Q.resolveUrl('~/');
                            });
                        }
                    });
                });
                return _this;
            }
            SignUpPanel.prototype.getFormKey = function () { return Membership.SignUpForm.formKey; };
            SignUpPanel = __decorate([
                Serenity.Decorators.registerClass()
            ], SignUpPanel);
            return SignUpPanel;
        }(Serenity.PropertyPanel));
        Membership.SignUpPanel = SignUpPanel;
    })(Membership = SerExtraCore.Membership || (SerExtraCore.Membership = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerEditor = /** @class */ (function (_super) {
            __extends(CustomerEditor, _super);
            function CustomerEditor(hidden) {
                return _super.call(this, hidden) || this;
            }
            CustomerEditor.prototype.getLookupKey = function () {
                return 'Northwind.Customer';
            };
            CustomerEditor.prototype.getItemText = function (item, lookup) {
                return _super.prototype.getItemText.call(this, item, lookup) + ' [' + item.CustomerID + ']';
            };
            CustomerEditor = __decorate([
                Serenity.Decorators.registerEditor()
            ], CustomerEditor);
            return CustomerEditor;
        }(Serenity.LookupEditorBase));
        Northwind.CustomerEditor = CustomerEditor;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../Order/OrderDialog.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerOrderDialog = /** @class */ (function (_super) {
            __extends(CustomerOrderDialog, _super);
            function CustomerOrderDialog() {
                return _super.call(this) || this;
            }
            CustomerOrderDialog.prototype.updateInterface = function () {
                _super.prototype.updateInterface.call(this);
                Serenity.EditorUtils.setReadOnly(this.form.CustomerID, true);
            };
            CustomerOrderDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], CustomerOrderDialog);
            return CustomerOrderDialog;
        }(Northwind.OrderDialog));
        Northwind.CustomerOrderDialog = CustomerOrderDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
/// <reference path="../Order/OrderGrid.ts" />
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var CustomerOrdersGrid = /** @class */ (function (_super) {
            __extends(CustomerOrdersGrid, _super);
            function CustomerOrdersGrid(container) {
                return _super.call(this, container) || this;
            }
            CustomerOrdersGrid.prototype.getDialogType = function () { return Northwind.CustomerOrderDialog; };
            CustomerOrdersGrid.prototype.getColumns = function () {
                return _super.prototype.getColumns.call(this).filter(function (x) { return x.field !== "CustomerCompanyName" /* CustomerCompanyName */; });
            };
            CustomerOrdersGrid.prototype.initEntityDialog = function (itemType, dialog) {
                _super.prototype.initEntityDialog.call(this, itemType, dialog);
                Serenity.SubDialogHelper.cascade(dialog, this.element.closest('.ui-dialog'));
            };
            CustomerOrdersGrid.prototype.addButtonClick = function () {
                this.editItem({ CustomerID: this.customerID });
            };
            CustomerOrdersGrid.prototype.getInitialTitle = function () {
                return null;
            };
            CustomerOrdersGrid.prototype.getGridCanLoad = function () {
                return _super.prototype.getGridCanLoad.call(this) && !!this.customerID;
            };
            Object.defineProperty(CustomerOrdersGrid.prototype, "customerID", {
                get: function () {
                    return this._customerID;
                },
                set: function (value) {
                    if (this._customerID !== value) {
                        this._customerID = value;
                        this.setEquality('CustomerID', value);
                        this.refresh();
                    }
                },
                enumerable: true,
                configurable: true
            });
            CustomerOrdersGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], CustomerOrdersGrid);
            return CustomerOrdersGrid;
        }(Northwind.OrderGrid));
        Northwind.CustomerOrdersGrid = CustomerOrdersGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var EmployeeListFormatter = /** @class */ (function () {
            function EmployeeListFormatter() {
            }
            EmployeeListFormatter.prototype.format = function (ctx) {
                var idList = ctx.value;
                if (!idList || !idList.length)
                    return "";
                var byId = Northwind.EmployeeRow.getLookup().itemById;
                var z;
                return idList.map(function (x) { return ((z = byId[x]) ? z.FullName : x); }).join(", ");
            };
            EmployeeListFormatter = __decorate([
                Serenity.Decorators.registerFormatter()
            ], EmployeeListFormatter);
            return EmployeeListFormatter;
        }());
        Northwind.EmployeeListFormatter = EmployeeListFormatter;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var EmployeeFormatter = /** @class */ (function () {
            function EmployeeFormatter() {
            }
            EmployeeFormatter.prototype.format = function (ctx) {
                var text = Q.htmlEncode(ctx.value);
                if (!this.genderProperty) {
                    return text;
                }
                var gender = ctx.item[this.genderProperty];
                return "<span class='" + ((gender === Northwind.Gender.Female) ?
                    'employee-symbol female' : 'employee-symbol male') +
                    "'>" + text + '</span>';
            };
            EmployeeFormatter.prototype.initializeColumn = function (column) {
                column.referencedFields = column.referencedFields || [];
                if (this.genderProperty)
                    column.referencedFields.push(this.genderProperty);
            };
            __decorate([
                Serenity.Decorators.option()
            ], EmployeeFormatter.prototype, "genderProperty", void 0);
            EmployeeFormatter = __decorate([
                Serenity.Decorators.registerFormatter([Serenity.ISlickFormatter, Serenity.IInitializeColumn])
            ], EmployeeFormatter);
            return EmployeeFormatter;
        }());
        Northwind.EmployeeFormatter = EmployeeFormatter;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var NoteDialog = /** @class */ (function (_super) {
            __extends(NoteDialog, _super);
            function NoteDialog() {
                var _this = _super.call(this) || this;
                _this.textEditor = new Serenity.HtmlNoteContentEditor(_this.byId('Text'));
                return _this;
            }
            NoteDialog.prototype.getTemplate = function () {
                return ("<form id='~_Form' class='s-Form'>" +
                    "<textarea id='~_Text' class='required'></textarea>" +
                    "</form>");
            };
            NoteDialog.prototype.getDialogOptions = function () {
                var _this = this;
                var opt = _super.prototype.getDialogOptions.call(this);
                opt.buttons = [{
                        text: Q.text('Dialogs.OkButton'),
                        click: function () {
                            if (!_this.validateForm()) {
                                return;
                            }
                            _this.okClick && _this.okClick();
                        }
                    }, {
                        text: Q.text('Dialogs.CancelButton'),
                        click: function () { return _this.dialogClose(); }
                    }
                ];
                return opt;
            };
            Object.defineProperty(NoteDialog.prototype, "text", {
                get: function () {
                    return this.textEditor.value;
                },
                set: function (value) {
                    this.textEditor.value = value;
                },
                enumerable: true,
                configurable: true
            });
            NoteDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], NoteDialog);
            return NoteDialog;
        }(Serenity.TemplatedDialog));
        Northwind.NoteDialog = NoteDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var NotesEditor = /** @class */ (function (_super) {
            __extends(NotesEditor, _super);
            function NotesEditor(div) {
                var _this = _super.call(this, div) || this;
                new Serenity.Toolbar(_this.byId('Toolbar'), {
                    buttons: [{
                            title: 'Add Note',
                            cssClass: 'add-button',
                            onClick: function (e) {
                                e.preventDefault();
                                _this.addClick();
                            }
                        }]
                });
                return _this;
            }
            NotesEditor.prototype.getTemplate = function () {
                return "<div><div id='~_Toolbar'></div><ul id='~_NoteList'></ul></div>";
            };
            NotesEditor.prototype.updateContent = function () {
                var _this = this;
                var noteList = this.byId('NoteList');
                noteList.children().remove();
                if (this.items) {
                    var index = 0;
                    for (var t1 = 0; t1 < this.items.length; t1++) {
                        var item = this.items[t1];
                        var li = $('<li/>');
                        $('<div/>').addClass('note-text').html(Q.coalesce(item.Text, '')).appendTo(li);
                        $('<a/>').attr('href', '#').addClass('note-date')
                            .text(item.InsertUserDisplayName + ' - ' +
                            Q.formatDate(item.InsertDate, 'g'))
                            .data('index', index).appendTo(li).click(function (e) { return _this.editClick(e); });
                        $('<a/>').attr('href', '#').addClass('note-delete')
                            .attr('title', 'delete note').data('index', index)
                            .appendTo(li).click(function (e) { return _this.deleteClick(e); });
                        li.appendTo(noteList);
                        index++;
                    }
                }
            };
            NotesEditor.prototype.addClick = function () {
                var _this = this;
                var dlg = new Northwind.NoteDialog();
                dlg.dialogTitle = 'Add Note';
                dlg.okClick = function () {
                    var text = Q.trimToNull(dlg.text);
                    if (text == null) {
                        return;
                    }
                    _this.items = _this.items || [];
                    Q.insert(_this.items, 0, {
                        Text: text,
                        InsertUserDisplayName: SerExtraCore.Authorization.userDefinition.DisplayName,
                        InsertDate: Q.formatISODateTimeUTC(new Date())
                    });
                    _this.updateContent();
                    dlg.dialogClose();
                    _this.set_isDirty(true);
                    _this.onChange && _this.onChange();
                };
                dlg.dialogOpen();
            };
            NotesEditor.prototype.editClick = function (e) {
                var _this = this;
                e.preventDefault();
                var index = $(e.target).data('index');
                var old = this.items[index];
                var dlg = new Northwind.NoteDialog();
                dlg.dialogTitle = 'Edit Note';
                dlg.text = old.Text;
                dlg.okClick = function () {
                    var text = Q.trimToNull(dlg.text);
                    if (!text) {
                        return;
                    }
                    _this.items[index].Text = text;
                    _this.updateContent();
                    dlg.dialogClose();
                    _this.set_isDirty(true);
                    _this.onChange && _this.onChange();
                };
                dlg.dialogOpen();
            };
            NotesEditor.prototype.deleteClick = function (e) {
                var _this = this;
                e.preventDefault();
                var index = $(e.target).data('index');
                Q.confirm('Delete this note?', function () {
                    _this.items.splice(index, 1);
                    _this.updateContent();
                    _this.set_isDirty(true);
                    _this.onChange && _this.onChange();
                });
            };
            Object.defineProperty(NotesEditor.prototype, "value", {
                get: function () {
                    return this.items;
                },
                set: function (value) {
                    this.items = value || [];
                    this.set_isDirty(false);
                    this.updateContent();
                },
                enumerable: true,
                configurable: true
            });
            NotesEditor.prototype.getEditValue = function (prop, target) {
                target[prop.name] = this.value;
            };
            NotesEditor.prototype.setEditValue = function (source, prop) {
                this.value = source[prop.name] || [];
            };
            NotesEditor.prototype.get_isDirty = function () {
                return this.isDirty;
            };
            NotesEditor.prototype.set_isDirty = function (value) {
                this.isDirty = value;
            };
            NotesEditor = __decorate([
                Serenity.Decorators.registerEditor([Serenity.IGetEditValue, Serenity.ISetEditValue]),
                Serenity.Decorators.element("<div/>")
            ], NotesEditor);
            return NotesEditor;
        }(Serenity.TemplatedWidget));
        Northwind.NotesEditor = NotesEditor;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var FreightFormatter = /** @class */ (function () {
            function FreightFormatter() {
            }
            FreightFormatter.prototype.format = function (ctx) {
                return "<span class='freight-symbol'>" + Q.htmlEncode(ctx.value) + '</span>';
            };
            FreightFormatter = __decorate([
                Serenity.Decorators.registerFormatter()
            ], FreightFormatter);
            return FreightFormatter;
        }());
        Northwind.FreightFormatter = FreightFormatter;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var RegionDialog = /** @class */ (function (_super) {
            __extends(RegionDialog, _super);
            function RegionDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.RegionForm(_this.idPrefix);
                return _this;
            }
            RegionDialog.prototype.getFormKey = function () { return Northwind.RegionForm.formKey; };
            RegionDialog.prototype.getIdProperty = function () { return Northwind.RegionRow.idProperty; };
            RegionDialog.prototype.getLocalTextPrefix = function () { return Northwind.RegionRow.localTextPrefix; };
            RegionDialog.prototype.getNameProperty = function () { return Northwind.RegionRow.nameProperty; };
            RegionDialog.prototype.getService = function () { return Northwind.RegionService.baseUrl; };
            RegionDialog.prototype.getLanguages = function () {
                return SerExtraCore.LanguageList.getValue();
            };
            RegionDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], RegionDialog);
            return RegionDialog;
        }(Serenity.EntityDialog));
        Northwind.RegionDialog = RegionDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var RegionGrid = /** @class */ (function (_super) {
            __extends(RegionGrid, _super);
            function RegionGrid(container) {
                return _super.call(this, container) || this;
            }
            RegionGrid.prototype.getColumnsKey = function () { return "Northwind.Region"; };
            RegionGrid.prototype.getDialogType = function () { return Northwind.RegionDialog; };
            RegionGrid.prototype.getIdProperty = function () { return Northwind.RegionRow.idProperty; };
            RegionGrid.prototype.getLocalTextPrefix = function () { return Northwind.RegionRow.localTextPrefix; };
            RegionGrid.prototype.getService = function () { return Northwind.RegionService.baseUrl; };
            RegionGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], RegionGrid);
            return RegionGrid;
        }(Serenity.EntityGrid));
        Northwind.RegionGrid = RegionGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var PhoneEditor = /** @class */ (function (_super) {
            __extends(PhoneEditor, _super);
            function PhoneEditor(input) {
                var _this = _super.call(this, input) || this;
                _this.addValidationRule(_this.uniqueName, function (e) {
                    var value = Q.trimToNull(_this.get_value());
                    if (value == null) {
                        return null;
                    }
                    return PhoneEditor_1.validate(value, _this.multiple);
                });
                input.bind('change', function (e) {
                    if (!Serenity.WX.hasOriginalEvent(e)) {
                        return;
                    }
                    _this.formatValue();
                });
                input.bind('blur', function (e) {
                    if (_this.element.hasClass('valid')) {
                        _this.formatValue();
                    }
                });
                return _this;
            }
            PhoneEditor_1 = PhoneEditor;
            PhoneEditor.prototype.formatValue = function () {
                this.element.val(this.getFormattedValue());
            };
            PhoneEditor.prototype.getFormattedValue = function () {
                var value = this.element.val();
                if (this.multiple) {
                    return PhoneEditor_1.formatMulti(value, PhoneEditor_1.formatPhone);
                }
                return PhoneEditor_1.formatPhone(value);
            };
            PhoneEditor.prototype.get_value = function () {
                return this.getFormattedValue();
            };
            PhoneEditor.prototype.set_value = function (value) {
                this.element.val(value);
            };
            PhoneEditor.validate = function (phone, isMultiple) {
                var valid = (isMultiple ? PhoneEditor_1.isValidMulti(phone, PhoneEditor_1.isValidPhone) : PhoneEditor_1.isValidPhone(phone));
                if (valid) {
                    return null;
                }
                return Q.text((isMultiple ? 'Validation.NorthwindPhoneMultiple' : 'Validation.NorthwindPhone'));
            };
            PhoneEditor.isValidPhone = function (phone) {
                if (Q.isEmptyOrNull(phone)) {
                    return false;
                }
                phone = Q.replaceAll(Q.replaceAll(phone, ' ', ''), '-', '');
                if (phone.length < 10) {
                    return false;
                }
                if (Q.startsWith(phone, '0')) {
                    phone = phone.substring(1);
                }
                if (Q.startsWith(phone, '(') && phone.charAt(4) === ')') {
                    phone = phone.substr(1, 3) + phone.substring(5);
                }
                if (phone.length !== 10) {
                    return false;
                }
                if (Q.startsWith(phone, '0')) {
                    return false;
                }
                for (var i = 0; i < phone.length; i++) {
                    var c = phone.charAt(i);
                    if (c < '0' || c > '9') {
                        return false;
                    }
                }
                return true;
            };
            PhoneEditor.formatPhone = function (phone) {
                if (!PhoneEditor_1.isValidPhone(phone)) {
                    return phone;
                }
                phone = Q.replaceAll(Q.replaceAll(Q.replaceAll(Q.replaceAll(phone, ' ', ''), '-', ''), '(', ''), ')', '');
                if (Q.startsWith(phone, '0')) {
                    phone = phone.substring(1);
                }
                phone = '(' + phone.substr(0, 3) + ') ' + phone.substr(3, 3) + '-' + phone.substr(6, 2) + phone.substr(8, 2);
                return phone;
            };
            PhoneEditor.formatMulti = function (phone, format) {
                var phones = Q.replaceAll(phone, String.fromCharCode(59), String.fromCharCode(44)).split(String.fromCharCode(44));
                var result = '';
                for (var _i = 0, phones_1 = phones; _i < phones_1.length; _i++) {
                    var x = phones_1[_i];
                    var s = Q.trimToNull(x);
                    if (s == null) {
                        continue;
                    }
                    if (result.length > 0) {
                        result += ', ';
                    }
                    result += format(s);
                }
                return result;
            };
            PhoneEditor.isValidMulti = function (phone, check) {
                if (Q.isEmptyOrNull(phone)) {
                    return false;
                }
                var phones = Q.replaceAll(phone, String.fromCharCode(59), String.fromCharCode(44)).split(String.fromCharCode(44));
                var anyValid = false;
                for (var $t1 = 0; $t1 < phones.length; $t1++) {
                    var x = phones[$t1];
                    var s = Q.trimToNull(x);
                    if (s == null) {
                        continue;
                    }
                    if (!check(s)) {
                        return false;
                    }
                    anyValid = true;
                }
                if (!anyValid) {
                    return false;
                }
                return true;
            };
            var PhoneEditor_1;
            __decorate([
                Serenity.Decorators.option()
            ], PhoneEditor.prototype, "multiple", void 0);
            PhoneEditor = PhoneEditor_1 = __decorate([
                Serenity.Decorators.registerEditor()
            ], PhoneEditor);
            return PhoneEditor;
        }(Serenity.StringEditor));
        Northwind.PhoneEditor = PhoneEditor;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperDialog = /** @class */ (function (_super) {
            __extends(ShipperDialog, _super);
            function ShipperDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.ShipperForm(_this.idPrefix);
                return _this;
            }
            ShipperDialog.prototype.getFormKey = function () { return Northwind.ShipperForm.formKey; };
            ShipperDialog.prototype.getIdProperty = function () { return Northwind.ShipperRow.idProperty; };
            ShipperDialog.prototype.getLocalTextPrefix = function () { return Northwind.ShipperRow.localTextPrefix; };
            ShipperDialog.prototype.getNameProperty = function () { return Northwind.ShipperRow.nameProperty; };
            ShipperDialog.prototype.getService = function () { return Northwind.ShipperService.baseUrl; };
            ShipperDialog.prototype.getLanguages = function () {
                return SerExtraCore.LanguageList.getValue();
            };
            ShipperDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], ShipperDialog);
            return ShipperDialog;
        }(Serenity.EntityDialog));
        Northwind.ShipperDialog = ShipperDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperFormatter = /** @class */ (function () {
            function ShipperFormatter() {
            }
            ShipperFormatter.prototype.format = function (ctx) {
                return "<span class='shipper-symbol shipper-" +
                    Q.replaceAll((ctx.value || '').toString(), ' ', '') +
                    "'>" + Q.htmlEncode(ctx.value) + '</span>';
            };
            ShipperFormatter = __decorate([
                Serenity.Decorators.registerFormatter()
            ], ShipperFormatter);
            return ShipperFormatter;
        }());
        Northwind.ShipperFormatter = ShipperFormatter;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var ShipperGrid = /** @class */ (function (_super) {
            __extends(ShipperGrid, _super);
            function ShipperGrid(container) {
                return _super.call(this, container) || this;
            }
            ShipperGrid.prototype.getColumnsKey = function () { return "Northwind.Shipper"; };
            ShipperGrid.prototype.getDialogType = function () { return Northwind.ShipperDialog; };
            ShipperGrid.prototype.getIdProperty = function () { return Northwind.ShipperRow.idProperty; };
            ShipperGrid.prototype.getLocalTextPrefix = function () { return Northwind.ShipperRow.localTextPrefix; };
            ShipperGrid.prototype.getService = function () { return Northwind.ShipperService.baseUrl; };
            ShipperGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], ShipperGrid);
            return ShipperGrid;
        }(Serenity.EntityGrid));
        Northwind.ShipperGrid = ShipperGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var TerritoryDialog = /** @class */ (function (_super) {
            __extends(TerritoryDialog, _super);
            function TerritoryDialog() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.form = new Northwind.TerritoryForm(_this.idPrefix);
                return _this;
            }
            TerritoryDialog.prototype.getFormKey = function () { return Northwind.TerritoryForm.formKey; };
            TerritoryDialog.prototype.getIdProperty = function () { return Northwind.TerritoryRow.idProperty; };
            TerritoryDialog.prototype.getLocalTextPrefix = function () { return Northwind.TerritoryRow.localTextPrefix; };
            TerritoryDialog.prototype.getNameProperty = function () { return Northwind.TerritoryRow.nameProperty; };
            TerritoryDialog.prototype.getService = function () { return Northwind.TerritoryService.baseUrl; };
            TerritoryDialog.prototype.getLanguages = function () {
                return SerExtraCore.LanguageList.getValue();
            };
            TerritoryDialog = __decorate([
                Serenity.Decorators.registerClass()
            ], TerritoryDialog);
            return TerritoryDialog;
        }(Serenity.EntityDialog));
        Northwind.TerritoryDialog = TerritoryDialog;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var SerExtraCore;
(function (SerExtraCore) {
    var Northwind;
    (function (Northwind) {
        var TerritoryGrid = /** @class */ (function (_super) {
            __extends(TerritoryGrid, _super);
            function TerritoryGrid(container) {
                return _super.call(this, container) || this;
            }
            TerritoryGrid.prototype.getColumnsKey = function () { return "Northwind.Territory"; };
            TerritoryGrid.prototype.getDialogType = function () { return Northwind.TerritoryDialog; };
            TerritoryGrid.prototype.getIdProperty = function () { return Northwind.TerritoryRow.idProperty; };
            TerritoryGrid.prototype.getLocalTextPrefix = function () { return Northwind.TerritoryRow.localTextPrefix; };
            TerritoryGrid.prototype.getService = function () { return Northwind.TerritoryService.baseUrl; };
            TerritoryGrid = __decorate([
                Serenity.Decorators.registerClass()
            ], TerritoryGrid);
            return TerritoryGrid;
        }(Serenity.EntityGrid));
        Northwind.TerritoryGrid = TerritoryGrid;
    })(Northwind = SerExtraCore.Northwind || (SerExtraCore.Northwind = {}));
})(SerExtraCore || (SerExtraCore = {}));
var _Ext;
(function (_Ext) {
    var AuditLogActionTypeFormatter = /** @class */ (function () {
        function AuditLogActionTypeFormatter() {
        }
        AuditLogActionTypeFormatter_1 = AuditLogActionTypeFormatter;
        AuditLogActionTypeFormatter.format = function (ctx) {
            var item = ctx.item;
            var klass = '';
            if (item.ActionType == _Ext.AuditActionType.Update) {
                klass = 'warning';
            }
            else if (item.ActionType == _Ext.AuditActionType.Delete) {
                klass = 'danger';
            }
            else {
                klass = 'default';
            }
            return "<span class=\"label label-" + klass + "\">" + _Ext.AuditActionType[item.ActionType] + "</span>";
        };
        AuditLogActionTypeFormatter.prototype.format = function (ctx) {
            return AuditLogActionTypeFormatter_1.format(ctx);
        };
        var AuditLogActionTypeFormatter_1;
        AuditLogActionTypeFormatter = AuditLogActionTypeFormatter_1 = __decorate([
            Serenity.Decorators.registerFormatter([Serenity.ISlickFormatter])
        ], AuditLogActionTypeFormatter);
        return AuditLogActionTypeFormatter;
    }());
    _Ext.AuditLogActionTypeFormatter = AuditLogActionTypeFormatter;
})(_Ext || (_Ext = {}));
/// <reference path="../Bases/DialogBase.ts" />
var _Ext;
(function (_Ext) {
    var AuditLogDialog = /** @class */ (function (_super) {
        __extends(AuditLogDialog, _super);
        function AuditLogDialog() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.form = new _Ext.AuditLogForm(_this.idPrefix);
            return _this;
        }
        AuditLogDialog.prototype.getFormKey = function () { return _Ext.AuditLogForm.formKey; };
        AuditLogDialog.prototype.getRowType = function () { return _Ext.AuditLogRow; };
        AuditLogDialog.prototype.getService = function () { return _Ext.AuditLogService.baseUrl; };
        AuditLogDialog.prototype.afterLoadEntity = function () {
            _super.prototype.afterLoadEntity.call(this);
            usingJsonDiffPatch();
            //showing diff visually
            var left = JSON.parse(this.entity.OldEntity);
            if (left) {
                if (left.PlantJson) {
                    left.PlantInfo = JSON.parse(left.PlantJson);
                    delete (left.PlantJson);
                }
                delete (left.Id);
                delete (left.IDate);
                delete (left.IUser);
                delete (left.EDate);
                delete (left.EUser);
            }
            var right = JSON.parse(this.entity.NewEntity);
            if (right) {
                if (right.PlantJson) {
                    right.PlantInfo = JSON.parse(right.PlantJson);
                    delete (right.PlantJson);
                }
            }
            var delta = jsondiffpatch.diff(left, right);
            // beautiful html diff
            this.form.Differences.value = jsondiffpatch.formatters.html.format(delta);
        };
        AuditLogDialog = __decorate([
            Serenity.Decorators.registerClass(),
            Serenity.Decorators.responsive()
        ], AuditLogDialog);
        return AuditLogDialog;
    }(_Ext.DialogBase));
    _Ext.AuditLogDialog = AuditLogDialog;
})(_Ext || (_Ext = {}));
/// <reference path="../Bases/GridBase.ts" />
var _Ext;
(function (_Ext) {
    var AuditLogGrid = /** @class */ (function (_super) {
        __extends(AuditLogGrid, _super);
        function AuditLogGrid(container) {
            return _super.call(this, container) || this;
        }
        AuditLogGrid.prototype.getColumnsKey = function () { return '_Ext.AuditLog'; };
        AuditLogGrid.prototype.getDialogType = function () { return _Ext.AuditLogDialog; };
        AuditLogGrid.prototype.getRowType = function () { return _Ext.AuditLogRow; };
        AuditLogGrid.prototype.getService = function () { return _Ext.AuditLogService.baseUrl; };
        AuditLogGrid.prototype.getButtons = function () {
            var buttons = _super.prototype.getButtons.call(this);
            buttons.splice(0, 1);
            return buttons;
        };
        AuditLogGrid = __decorate([
            Serenity.Decorators.registerClass()
        ], AuditLogGrid);
        return AuditLogGrid;
    }(_Ext.GridBase));
    _Ext.AuditLogGrid = AuditLogGrid;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogViewer = /** @class */ (function () {
        function AuditLogViewer(el, entityVersions) {
            this.el = '.content-wrapper';
            this.data = {
                entityVersions: []
            };
            this.mounted = function () {
            };
            this.computed = {
                test: function () {
                    return 'test computed';
                }
            };
            this.filters = {
                filterByYardId: function () {
                    return [];
                }
            };
            this.methods = {
                showDiff: function (versionInfo) {
                    //showing diff visually
                    var left = versionInfo.OldEntity;
                    var right = versionInfo.NewEntity;
                    var delta = jsondiffpatch.diff(left, right);
                    // beautiful html diff
                    document.getElementById('visualizeDiff').innerHTML = jsondiffpatch.formatters.html.format(delta, left);
                },
                getDiff: function (versionInfo) {
                    //showing diff visually
                    var left = versionInfo.OldEntity;
                    var right = versionInfo.NewEntity;
                    var delta = jsondiffpatch.diff(left, right);
                    // beautiful html diff
                    return jsondiffpatch.formatters.html.format(delta);
                    //var delta = jsondiffpatch.diff(left, right);
                    //// left is optional, if specified unchanged values will be visible too
                    //document.getElementBy('the-diff').innerHTML = jsondiffpatch.formatters.html.format(delta, left);
                    //// Also you can dinamically show/hide unchanged values
                    //jsondiffpatch.formatters.html.showUnchanged();
                    //jsondiffpatch.formatters.html.hideUnchanged();
                    //// these will also adjust array move arrows (SVG), which is useful if something alters the html layout
                }
            };
            this.el = el || this.el;
            this.data.entityVersions = entityVersions;
        }
        AuditLogViewer.prototype.destroyed = function () {
        };
        return AuditLogViewer;
    }());
    _Ext.AuditLogViewer = AuditLogViewer;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AuditLogViewerDialog = /** @class */ (function (_super) {
        __extends(AuditLogViewerDialog, _super);
        function AuditLogViewerDialog(request) {
            var _this = _super.call(this) || this;
            _this.request = request;
            _this.dialogTitle = 'Audit Log Viewer';
            _this.onDialogOpen = function () {
                _Ext.AuditLogViewerService.List(_this.request, function (response) {
                    response.EntityVersions.forEach(function (e) {
                        delete (e.Id);
                        e.OldEntity = JSON.parse(e.OldEntity);
                        e.NewEntity = JSON.parse(e.NewEntity);
                        delete (e.OldEntity.Id);
                        delete (e.OldEntity.IDate);
                        delete (e.OldEntity.IUser);
                        delete (e.OldEntity.EDate);
                        delete (e.OldEntity.EUser);
                        e.ActionType = _Ext.AuditActionType[e.ActionType];
                        e.isShowed = false;
                    });
                    new Vue(new _Ext.AuditLogViewer('#' + _this.idPrefix + 'dialogContent', response.EntityVersions));
                });
            };
            return _this;
        }
        AuditLogViewerDialog.prototype.getTemplateName = function () {
            usingVuejs();
            usingJsonDiffPatch();
            return '_Ext.AuditLogViewer';
        };
        AuditLogViewerDialog = __decorate([
            Serenity.Decorators.registerClass(),
            Serenity.Decorators.maximizable()
        ], AuditLogViewerDialog);
        return AuditLogViewerDialog;
    }(Serenity.TemplatedDialog));
    _Ext.AuditLogViewerDialog = AuditLogViewerDialog;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var DialogSnippets = /** @class */ (function (_super) {
        __extends(DialogSnippets, _super);
        function DialogSnippets() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.form = new _Ext.AuditLogForm(_this.idPrefix);
            return _this;
            //dialogClose(): void;
            //set_dialogTitle(value: string): void;
        }
        DialogSnippets.prototype.getFormKey = function () { return _Ext.AuditLogForm.formKey; };
        DialogSnippets.prototype.getRowType = function () { return _Ext.AuditLogRow; };
        DialogSnippets.prototype.getService = function () { return _Ext.AuditLogService.baseUrl; };
        DialogSnippets.prototype.addCssClass = function () { _super.prototype.addCssClass.call(this); };
        DialogSnippets.prototype.getTemplate = function () { return _super.prototype.getTemplate.call(this); };
        DialogSnippets.prototype.getTemplateName = function () { return _super.prototype.getTemplateName.call(this); };
        DialogSnippets.prototype.getFallbackTemplate = function () { return _super.prototype.getFallbackTemplate.call(this); };
        DialogSnippets.prototype.initValidator = function () { _super.prototype.initValidator.call(this); };
        DialogSnippets.prototype.getValidatorOptions = function () { return _super.prototype.getValidatorOptions.call(this); };
        DialogSnippets.prototype.initTabs = function () { _super.prototype.initTabs.call(this); };
        DialogSnippets.prototype.initToolbar = function () { _super.prototype.initToolbar.call(this); };
        DialogSnippets.prototype.getToolbarButtons = function () { return _super.prototype.getToolbarButtons.call(this); };
        DialogSnippets.prototype.initPropertyGrid = function () { _super.prototype.initPropertyGrid.call(this); };
        //protected initPropertyGridAsync(): PromiseLike<void> { return super.initPropertyGridAsync(); }
        DialogSnippets.prototype.getPropertyGridOptions = function () { return _super.prototype.getPropertyGridOptions.call(this); };
        //protected getPropertyGridOptionsAsync(): PromiseLike<Serenity.PropertyGridOptions> { return super.getPropertyGridOptionsAsync(); }
        DialogSnippets.prototype.initLocalizationGrid = function () { _super.prototype.initLocalizationGrid.call(this); };
        //protected initLocalizationGridAsync(): PromiseLike<void> { return super.initLocalizationGridAsync(); }
        DialogSnippets.prototype.initLocalizationGridCommon = function (pgOptions) { _super.prototype.initLocalizationGridCommon.call(this, pgOptions); };
        DialogSnippets.prototype.load = function (entityOrId, done, fail) { _super.prototype.load.call(this, entityOrId, done, fail); };
        DialogSnippets.prototype.loadResponse = function (data) { _super.prototype.loadResponse.call(this, data); };
        DialogSnippets.prototype.onLoadingData = function (data) { _super.prototype.onLoadingData.call(this, data); };
        DialogSnippets.prototype.beforeLoadEntity = function (entity) { _super.prototype.beforeLoadEntity.call(this, entity); };
        DialogSnippets.prototype.loadEntity = function (entity) { _super.prototype.loadEntity.call(this, entity); };
        DialogSnippets.prototype.set_entityId = function (value) { _super.prototype.set_entityId.call(this, value); };
        DialogSnippets.prototype.set_entity = function (entity) { _super.prototype.set_entity.call(this, entity); };
        DialogSnippets.prototype.isEditMode = function () { return _super.prototype.isEditMode.call(this); };
        DialogSnippets.prototype.get_entityId = function () { return _super.prototype.get_entityId.call(this); };
        DialogSnippets.prototype.get_entity = function () { return _super.prototype.get_entity.call(this); };
        DialogSnippets.prototype.afterLoadEntity = function () { _super.prototype.afterLoadEntity.call(this); };
        DialogSnippets.prototype.updateInterface = function () { _super.prototype.updateInterface.call(this); };
        DialogSnippets.prototype.isDeleted = function () { return _super.prototype.isDeleted.call(this); };
        DialogSnippets.prototype.isLocalizationMode = function () { return _super.prototype.isLocalizationMode.call(this); };
        DialogSnippets.prototype.isNew = function () { return _super.prototype.isNew.call(this); };
        DialogSnippets.prototype.updateTitle = function () { _super.prototype.updateTitle.call(this); };
        DialogSnippets.prototype.getEntityTitle = function () { return _super.prototype.getEntityTitle.call(this); };
        DialogSnippets.prototype.getEntitySingular = function () { return _super.prototype.getEntitySingular.call(this); };
        DialogSnippets.prototype.getSaveEntity = function () { return _super.prototype.getSaveEntity.call(this); };
        DialogSnippets.prototype.initDialog = function () { _super.prototype.initDialog.call(this); };
        DialogSnippets.prototype.getDialogOptions = function () { return _super.prototype.getDialogOptions.call(this); };
        DialogSnippets.prototype.getDialogTitle = function () { return _super.prototype.getDialogTitle.call(this); };
        DialogSnippets.prototype.handleResponsive = function () { _super.prototype.handleResponsive.call(this); };
        DialogSnippets.prototype.onDialogOpen = function () { _super.prototype.onDialogOpen.call(this); };
        DialogSnippets.prototype.arrange = function () { _super.prototype.arrange.call(this); };
        //save cycle
        DialogSnippets.prototype.save = function (callback) { return _super.prototype.save.call(this, callback); };
        DialogSnippets.prototype.validateBeforeSave = function () { return _super.prototype.validateBeforeSave.call(this); };
        DialogSnippets.prototype.save_submitHandler = function (callback) { _super.prototype.save_submitHandler.call(this, callback); };
        DialogSnippets.prototype.getSaveOptions = function (callback) { return _super.prototype.getSaveOptions.call(this, callback); };
        //isEditMode
        //get_entityId
        //isCloneMode
        DialogSnippets.prototype.getSaveRequest = function () { return _super.prototype.getSaveRequest.call(this); };
        //protected getSaveEntity(): AuditLogRow { return super.getSaveEntity(); }
        DialogSnippets.prototype.saveHandler = function (options, callback) { _super.prototype.saveHandler.call(this, options, callback); };
        DialogSnippets.prototype.onSaveSuccess = function (response) { _super.prototype.onSaveSuccess.call(this, response); };
        DialogSnippets.prototype.loadById = function (id, callback, fail) { _super.prototype.loadById.call(this, id, callback); };
        DialogSnippets.prototype.getLoadByIdRequest = function (id) { return _super.prototype.getLoadByIdRequest.call(this, id); };
        DialogSnippets.prototype.getLoadByIdOptions = function (id, callback) { return _super.prototype.getLoadByIdOptions.call(this, id, callback); };
        DialogSnippets.prototype.loadByIdHandler = function (options, callback, fail) { _super.prototype.loadByIdHandler.call(this, options, callback, fail); };
        DialogSnippets.prototype.showSaveSuccessMessage = function (response) { _super.prototype.showSaveSuccessMessage.call(this, response); };
        //loadResponse(data: any): void { super.loadResponse(data); }
        //protected initializeAsync(): PromiseLike<void> { return super.initializeAsync(); }
        DialogSnippets.prototype.getEntityNameFieldValue = function () { return _super.prototype.getEntityNameFieldValue.call(this); };
        DialogSnippets.prototype.isCloneMode = function () { return _super.prototype.isCloneMode.call(this); };
        DialogSnippets.prototype.isNewOrDeleted = function () { return _super.prototype.isNewOrDeleted.call(this); };
        DialogSnippets.prototype.getDeleteOptions = function (callback) { return _super.prototype.getDeleteOptions.call(this, callback); };
        DialogSnippets.prototype.deleteHandler = function (options, callback) { _super.prototype.deleteHandler.call(this, options, callback); };
        DialogSnippets.prototype.doDelete = function (callback) { _super.prototype.doDelete.call(this, callback); };
        DialogSnippets.prototype.onDeleteSuccess = function (response) { _super.prototype.onDeleteSuccess.call(this, response); };
        //protected attrs<TAttr>(attrType: {
        //    new (...args: any[]): TAttr;
        //}): TAttr[];
        DialogSnippets.prototype.getEntityType = function () { return _super.prototype.getEntityType.call(this); };
        //protected getFormKey(): string { return super.getFormKey();}
        DialogSnippets.prototype.getLocalTextDbPrefix = function () { return _super.prototype.getLocalTextDbPrefix.call(this); };
        //protected getLocalTextPrefix(): string { return super.getLocalTextPrefix();}
        //protected getNameProperty(): string { return super.getNameProperty();}
        //protected getIdProperty(): string { return super.getIdProperty();}
        DialogSnippets.prototype.getIsActiveProperty = function () { return _super.prototype.getIsActiveProperty.call(this); };
        DialogSnippets.prototype.getIsDeletedProperty = function () { return _super.prototype.getIsDeletedProperty.call(this); };
        //protected getService(): string { return super.getService();}
        DialogSnippets.prototype.loadNewAndOpenDialog = function (asPanel) { _super.prototype.loadNewAndOpenDialog.call(this, asPanel); };
        DialogSnippets.prototype.loadEntityAndOpenDialog = function (entity, asPanel) { _super.prototype.loadNewAndOpenDialog.call(this, asPanel); };
        DialogSnippets.prototype.loadByIdAndOpenDialog = function (entityId, asPanel) { _super.prototype.loadByIdAndOpenDialog.call(this, entityId, asPanel); };
        DialogSnippets.prototype.reloadById = function () { _super.prototype.reloadById.call(this); };
        DialogSnippets.prototype.isLocalizationModeAndChanged = function () { return _super.prototype.isLocalizationModeAndChanged.call(this); };
        DialogSnippets.prototype.localizationButtonClick = function () { _super.prototype.localizationButtonClick.call(this); };
        DialogSnippets.prototype.getLanguages = function () { return _super.prototype.getLanguages.call(this); };
        DialogSnippets.prototype.loadLocalization = function () { _super.prototype.loadLocalization.call(this); };
        DialogSnippets.prototype.setLocalizationGridCurrentValues = function () { _super.prototype.setLocalizationGridCurrentValues.call(this); };
        DialogSnippets.prototype.getLocalizationGridValue = function () { return _super.prototype.getLocalizationGridValue.call(this); };
        DialogSnippets.prototype.getPendingLocalizations = function () { return _super.prototype.getPendingLocalizations.call(this); };
        DialogSnippets.prototype.getPropertyItems = function () { return _super.prototype.getPropertyItems.call(this); };
        //protected getPropertyItemsAsync(): PromiseLike<Serenity.PropertyItem[]> { return super.getPropertyItemsAsync(); }
        DialogSnippets.prototype.getCloningEntity = function () { return _super.prototype.getCloningEntity.call(this); };
        DialogSnippets.prototype.getUndeleteOptions = function (callback) { return _super.prototype.getUndeleteOptions.call(this, callback); };
        DialogSnippets.prototype.undeleteHandler = function (options, callback) { _super.prototype.undeleteHandler.call(this, options, callback); };
        DialogSnippets.prototype.undelete = function (callback) { _super.prototype.undelete.call(this, callback); };
        //destroy(): void;
        //protected initToolbar(): void { super.initToolbar();}
        //protected getToolbarButtons(): Serenity.ToolButton[] { return super.getToolbarButtons();}
        DialogSnippets.prototype.resetValidation = function () { _super.prototype.resetValidation.call(this); };
        DialogSnippets.prototype.validateForm = function () { return _super.prototype.validateForm.call(this); };
        //dialogOpen(asPanel?: boolean): void;
        //static openPanel(element: JQuery, uniqueName: string): void;
        //static closePanel(element: JQuery, e?: JQueryEventObject): void;
        DialogSnippets.prototype.onDialogClose = function () { _super.prototype.onDialogClose.call(this); };
        DialogSnippets.prototype.destroy = function () { _super.prototype.destroy.call(this); };
        return DialogSnippets;
    }(_Ext.DialogBase));
    _Ext.DialogSnippets = DialogSnippets;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var DialogWithAllOverridableMethods = /** @class */ (function (_super) {
        __extends(DialogWithAllOverridableMethods, _super);
        function DialogWithAllOverridableMethods() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.form = new _Ext.AuditLogForm(_this.idPrefix);
            return _this;
            //dialogClose(): void;
            //set_dialogTitle(value: string): void;
        }
        DialogWithAllOverridableMethods.prototype.getFormKey = function () { return _Ext.AuditLogForm.formKey; };
        DialogWithAllOverridableMethods.prototype.getRowType = function () { return _Ext.AuditLogRow; };
        DialogWithAllOverridableMethods.prototype.getService = function () { return _Ext.AuditLogService.baseUrl; };
        DialogWithAllOverridableMethods.prototype.addCssClass = function () { console.log('addCssClass'); _super.prototype.addCssClass.call(this); };
        DialogWithAllOverridableMethods.prototype.getTemplate = function () { console.log('getTemplate'); return _super.prototype.getTemplate.call(this); };
        DialogWithAllOverridableMethods.prototype.getTemplateName = function () { console.log('getTemplateName'); return _super.prototype.getTemplateName.call(this); };
        DialogWithAllOverridableMethods.prototype.getFallbackTemplate = function () { console.log('getFallbackTemplate'); return _super.prototype.getFallbackTemplate.call(this); };
        DialogWithAllOverridableMethods.prototype.initValidator = function () { console.log('initValidator'); _super.prototype.initValidator.call(this); };
        DialogWithAllOverridableMethods.prototype.getValidatorOptions = function () { console.log('getValidatorOptions'); return _super.prototype.getValidatorOptions.call(this); };
        DialogWithAllOverridableMethods.prototype.initTabs = function () { console.log('initTabs'); _super.prototype.initTabs.call(this); };
        DialogWithAllOverridableMethods.prototype.initToolbar = function () { console.log('initToolbar'); _super.prototype.initToolbar.call(this); };
        DialogWithAllOverridableMethods.prototype.getToolbarButtons = function () { console.log('getToolbarButtons'); return _super.prototype.getToolbarButtons.call(this); };
        DialogWithAllOverridableMethods.prototype.initPropertyGrid = function () { console.log('initPropertyGrid'); _super.prototype.initPropertyGrid.call(this); };
        //protected initPropertyGridAsync(): PromiseLike<void> { console.log('initPropertyGridAsync'); return super.initPropertyGridAsync(); }
        DialogWithAllOverridableMethods.prototype.getPropertyGridOptions = function () { console.log('getPropertyGridOptions'); return _super.prototype.getPropertyGridOptions.call(this); };
        //protected getPropertyGridOptionsAsync(): PromiseLike<Serenity.PropertyGridOptions> { console.log('getPropertyGridOptionsAsync'); return super.getPropertyGridOptionsAsync(); }
        DialogWithAllOverridableMethods.prototype.initLocalizationGrid = function () { console.log('initLocalizationGrid'); _super.prototype.initLocalizationGrid.call(this); };
        //protected initLocalizationGridAsync(): PromiseLike<void> { console.log('initLocalizationGridAsync'); return super.initLocalizationGridAsync(); }
        DialogWithAllOverridableMethods.prototype.initLocalizationGridCommon = function (pgOptions) { console.log('initLocalizationGridCommon(pgOptions: PropertyGridOptions'); _super.prototype.initLocalizationGridCommon.call(this, pgOptions); };
        DialogWithAllOverridableMethods.prototype.load = function (entityOrId, done, fail) { console.log('load'); _super.prototype.load.call(this, entityOrId, done, fail); };
        DialogWithAllOverridableMethods.prototype.loadResponse = function (data) { console.log('loadResponse(data: any'); _super.prototype.loadResponse.call(this, data); };
        DialogWithAllOverridableMethods.prototype.onLoadingData = function (data) { console.log('onLoadingData(data: RetrieveResponse<AuditLogRow>'); _super.prototype.onLoadingData.call(this, data); };
        DialogWithAllOverridableMethods.prototype.beforeLoadEntity = function (entity) { console.log('beforeLoadEntity(entity: AuditLogRow'); _super.prototype.beforeLoadEntity.call(this, entity); };
        DialogWithAllOverridableMethods.prototype.loadEntity = function (entity) { console.log('loadEntity(entity: AuditLogRow'); _super.prototype.loadEntity.call(this, entity); };
        DialogWithAllOverridableMethods.prototype.set_entityId = function (value) { console.log('set_entityId(value: any'); _super.prototype.set_entityId.call(this, value); };
        DialogWithAllOverridableMethods.prototype.set_entity = function (entity) { console.log('set_entity(entity: any'); _super.prototype.set_entity.call(this, entity); };
        DialogWithAllOverridableMethods.prototype.isEditMode = function () { console.log('isEditMode'); return _super.prototype.isEditMode.call(this); };
        DialogWithAllOverridableMethods.prototype.get_entityId = function () { console.log('get_entityId'); return _super.prototype.get_entityId.call(this); };
        DialogWithAllOverridableMethods.prototype.get_entity = function () { console.log('get_entity'); return _super.prototype.get_entity.call(this); };
        DialogWithAllOverridableMethods.prototype.afterLoadEntity = function () { console.log('afterLoadEntity'); _super.prototype.afterLoadEntity.call(this); };
        DialogWithAllOverridableMethods.prototype.updateInterface = function () { console.log('updateInterface'); _super.prototype.updateInterface.call(this); };
        DialogWithAllOverridableMethods.prototype.isDeleted = function () { console.log('isDeleted'); return _super.prototype.isDeleted.call(this); };
        DialogWithAllOverridableMethods.prototype.isLocalizationMode = function () { console.log('isLocalizationMode'); return _super.prototype.isLocalizationMode.call(this); };
        DialogWithAllOverridableMethods.prototype.isNew = function () { console.log('isNew'); return _super.prototype.isNew.call(this); };
        DialogWithAllOverridableMethods.prototype.updateTitle = function () { console.log('updateTitle'); _super.prototype.updateTitle.call(this); };
        DialogWithAllOverridableMethods.prototype.getEntityTitle = function () { console.log('getEntityTitle'); return _super.prototype.getEntityTitle.call(this); };
        DialogWithAllOverridableMethods.prototype.getEntitySingular = function () { console.log('getEntitySingular'); return _super.prototype.getEntitySingular.call(this); };
        DialogWithAllOverridableMethods.prototype.getSaveEntity = function () { console.log('getSaveEntity'); return _super.prototype.getSaveEntity.call(this); };
        DialogWithAllOverridableMethods.prototype.initDialog = function () { console.log('initDialog'); _super.prototype.initDialog.call(this); };
        DialogWithAllOverridableMethods.prototype.getDialogOptions = function () { console.log('getDialogOptions'); return _super.prototype.getDialogOptions.call(this); };
        DialogWithAllOverridableMethods.prototype.getDialogTitle = function () { console.log('getDialogTitle'); return _super.prototype.getDialogTitle.call(this); };
        DialogWithAllOverridableMethods.prototype.handleResponsive = function () { console.log('handleResponsive'); _super.prototype.handleResponsive.call(this); };
        DialogWithAllOverridableMethods.prototype.onDialogOpen = function () { console.log('onDialogOpen'); _super.prototype.onDialogOpen.call(this); };
        DialogWithAllOverridableMethods.prototype.arrange = function () { console.log('arrange'); _super.prototype.arrange.call(this); };
        //save cycle
        DialogWithAllOverridableMethods.prototype.save = function (callback) { console.log('save(callback?: (response: SaveResponse) => void'); return _super.prototype.save.call(this, callback); };
        DialogWithAllOverridableMethods.prototype.validateBeforeSave = function () { console.log('validateBeforeSave'); return _super.prototype.validateBeforeSave.call(this); };
        DialogWithAllOverridableMethods.prototype.save_submitHandler = function (callback) { console.log('save_submitHandler(callback: (response: SaveResponse) => void'); _super.prototype.save_submitHandler.call(this, callback); };
        DialogWithAllOverridableMethods.prototype.getSaveOptions = function (callback) { console.log('getSaveOptions(callback: (response: SaveResponse) => void'); return _super.prototype.getSaveOptions.call(this, callback); };
        //isEditMode
        //get_entityId
        //isCloneMode
        DialogWithAllOverridableMethods.prototype.getSaveRequest = function () { console.log('getSaveRequest'); return _super.prototype.getSaveRequest.call(this); };
        //protected getSaveEntity(): AuditLogRow { console.log('getSaveEntity'); return super.getSaveEntity(); }
        DialogWithAllOverridableMethods.prototype.saveHandler = function (options, callback) { console.log('saveHandler(options: ServiceOptions<SaveResponse>, callback: (response: SaveResponse) => void'); _super.prototype.saveHandler.call(this, options, callback); };
        DialogWithAllOverridableMethods.prototype.onSaveSuccess = function (response) { console.log('onSaveSuccess(response: SaveResponse'); _super.prototype.onSaveSuccess.call(this, response); };
        DialogWithAllOverridableMethods.prototype.loadById = function (id, callback, fail) { console.log('loadById'); _super.prototype.loadById.call(this, id, callback); };
        DialogWithAllOverridableMethods.prototype.getLoadByIdRequest = function (id) { console.log('getLoadByIdRequest(id: any'); return _super.prototype.getLoadByIdRequest.call(this, id); };
        DialogWithAllOverridableMethods.prototype.getLoadByIdOptions = function (id, callback) { console.log('getLoadByIdOptions(id: any, callback: (response: RetrieveResponse<AuditLogRow>) => void'); return _super.prototype.getLoadByIdOptions.call(this, id, callback); };
        DialogWithAllOverridableMethods.prototype.loadByIdHandler = function (options, callback, fail) { console.log('loadByIdHandler(options: ServiceOptions<RetrieveResponse<AuditLogRow>>, callback: (response: RetrieveResponse<AuditLogRow>) => void, fail: () => void'); _super.prototype.loadByIdHandler.call(this, options, callback, fail); };
        DialogWithAllOverridableMethods.prototype.showSaveSuccessMessage = function (response) { console.log('showSaveSuccessMessage(response: SaveResponse'); _super.prototype.showSaveSuccessMessage.call(this, response); };
        //loadResponse(data: any): void { console.log('loadResponse(data: any'); super.loadResponse(data); }
        //protected initializeAsync(): PromiseLike<void> { console.log('initializeAsync'); return super.initializeAsync(); }
        DialogWithAllOverridableMethods.prototype.getEntityNameFieldValue = function () { console.log('getEntityNameFieldValue'); return _super.prototype.getEntityNameFieldValue.call(this); };
        DialogWithAllOverridableMethods.prototype.isCloneMode = function () { console.log('isCloneMode'); return _super.prototype.isCloneMode.call(this); };
        DialogWithAllOverridableMethods.prototype.isNewOrDeleted = function () { console.log('isNewOrDeleted'); return _super.prototype.isNewOrDeleted.call(this); };
        DialogWithAllOverridableMethods.prototype.getDeleteOptions = function (callback) { console.log('getDeleteOptions(callback: (response: DeleteResponse) => void'); return _super.prototype.getDeleteOptions.call(this, callback); };
        DialogWithAllOverridableMethods.prototype.deleteHandler = function (options, callback) { console.log('deleteHandler(options: ServiceOptions<DeleteResponse>, callback: (response: DeleteResponse) => void'); _super.prototype.deleteHandler.call(this, options, callback); };
        DialogWithAllOverridableMethods.prototype.doDelete = function (callback) { console.log('doDelete(callback: (response: DeleteResponse) => void'); _super.prototype.doDelete.call(this, callback); };
        DialogWithAllOverridableMethods.prototype.onDeleteSuccess = function (response) { console.log('onDeleteSuccess(response: DeleteResponse'); _super.prototype.onDeleteSuccess.call(this, response); };
        //protected attrs<TAttr>(attrType: {
        //    new (...args: any[]): TAttr;
        //}): TAttr[];
        DialogWithAllOverridableMethods.prototype.getEntityType = function () { console.log('getEntityType'); return _super.prototype.getEntityType.call(this); };
        //protected getFormKey(): string { console.log('getFormKey'); return super.getFormKey();}
        DialogWithAllOverridableMethods.prototype.getLocalTextDbPrefix = function () { console.log('getLocalTextDbPrefix'); return _super.prototype.getLocalTextDbPrefix.call(this); };
        //protected getLocalTextPrefix(): string { console.log('getLocalTextPrefix'); return super.getLocalTextPrefix();}
        //protected getNameProperty(): string { console.log('getNameProperty'); return super.getNameProperty();}
        //protected getIdProperty(): string { console.log('getIdProperty'); return super.getIdProperty();}
        DialogWithAllOverridableMethods.prototype.getIsActiveProperty = function () { console.log('getIsActiveProperty'); return _super.prototype.getIsActiveProperty.call(this); };
        DialogWithAllOverridableMethods.prototype.getIsDeletedProperty = function () { console.log('getIsDeletedProperty'); return _super.prototype.getIsDeletedProperty.call(this); };
        //protected getService(): string { console.log('getService'); return super.getService();}
        DialogWithAllOverridableMethods.prototype.loadNewAndOpenDialog = function (asPanel) { console.log('loadNewAndOpenDialog'); _super.prototype.loadNewAndOpenDialog.call(this, asPanel); };
        DialogWithAllOverridableMethods.prototype.loadEntityAndOpenDialog = function (entity, asPanel) { console.log('loadNewAndOpenDialog'); _super.prototype.loadNewAndOpenDialog.call(this, asPanel); };
        DialogWithAllOverridableMethods.prototype.loadByIdAndOpenDialog = function (entityId, asPanel) { console.log('loadNewAndOpenDialog'); _super.prototype.loadByIdAndOpenDialog.call(this, entityId, asPanel); };
        DialogWithAllOverridableMethods.prototype.reloadById = function () { console.log('reloadById'); _super.prototype.reloadById.call(this); };
        DialogWithAllOverridableMethods.prototype.isLocalizationModeAndChanged = function () { console.log('isLocalizationModeAndChanged'); return _super.prototype.isLocalizationModeAndChanged.call(this); };
        DialogWithAllOverridableMethods.prototype.localizationButtonClick = function () { console.log('localizationButtonClick'); _super.prototype.localizationButtonClick.call(this); };
        DialogWithAllOverridableMethods.prototype.getLanguages = function () { console.log('getLanguages'); return _super.prototype.getLanguages.call(this); };
        DialogWithAllOverridableMethods.prototype.loadLocalization = function () { console.log('loadLocalization'); _super.prototype.loadLocalization.call(this); };
        DialogWithAllOverridableMethods.prototype.setLocalizationGridCurrentValues = function () { console.log('setLocalizationGridCurrentValues'); _super.prototype.setLocalizationGridCurrentValues.call(this); };
        DialogWithAllOverridableMethods.prototype.getLocalizationGridValue = function () { console.log('getLocalizationGridValue'); return _super.prototype.getLocalizationGridValue.call(this); };
        DialogWithAllOverridableMethods.prototype.getPendingLocalizations = function () { console.log('getPendingLocalizations'); return _super.prototype.getPendingLocalizations.call(this); };
        DialogWithAllOverridableMethods.prototype.getPropertyItems = function () { console.log('getPropertyItems'); return _super.prototype.getPropertyItems.call(this); };
        //protected getPropertyItemsAsync(): PromiseLike<Serenity.PropertyItem[]> { console.log('getPropertyItemsAsync'); return super.getPropertyItemsAsync(); }
        DialogWithAllOverridableMethods.prototype.getCloningEntity = function () { console.log('getCloningEntity'); return _super.prototype.getCloningEntity.call(this); };
        DialogWithAllOverridableMethods.prototype.getUndeleteOptions = function (callback) { console.log('getUndeleteOptions(callback?: (response: UndeleteResponse) => void'); return _super.prototype.getUndeleteOptions.call(this, callback); };
        DialogWithAllOverridableMethods.prototype.undeleteHandler = function (options, callback) { console.log('undeleteHandler(options: ServiceOptions<UndeleteResponse>, callback: (response: UndeleteResponse) => void'); _super.prototype.undeleteHandler.call(this, options, callback); };
        DialogWithAllOverridableMethods.prototype.undelete = function (callback) { console.log('undelete(callback?: (response: UndeleteResponse) => void'); _super.prototype.undelete.call(this, callback); };
        //destroy(): void;
        //protected initToolbar(): void { console.log('initToolbar'); super.initToolbar();}
        //protected getToolbarButtons(): Serenity.ToolButton[] { console.log('getToolbarButtons'); return super.getToolbarButtons();}
        DialogWithAllOverridableMethods.prototype.resetValidation = function () { console.log('resetValidation'); _super.prototype.resetValidation.call(this); };
        DialogWithAllOverridableMethods.prototype.validateForm = function () { console.log('validateForm'); return _super.prototype.validateForm.call(this); };
        //dialogOpen(asPanel?: boolean): void;
        //static openPanel(element: JQuery, uniqueName: string): void;
        //static closePanel(element: JQuery, e?: JQueryEventObject): void;
        DialogWithAllOverridableMethods.prototype.onDialogClose = function () { console.log('onDialogClose'); _super.prototype.onDialogClose.call(this); };
        DialogWithAllOverridableMethods.prototype.destroy = function () { console.log('destroy'); _super.prototype.destroy.call(this); };
        return DialogWithAllOverridableMethods;
    }(_Ext.DialogBase));
    _Ext.DialogWithAllOverridableMethods = DialogWithAllOverridableMethods;
})(_Ext || (_Ext = {}));
//open a new dialog cycle-------------
//addCssClass
// getTemplate
// getTemplateName
//initValidator
//getValidatorOptions
// initTabs
//initToolbar
//getToolbarButtons
//initPropertyGrid
//getPropertyGridOptions
//getPropertyItems
//initLocalizationGrid
//getPropertyGridOptions
//getPropertyItems
//initLocalizationGridCommon(pgOptions: PropertyGridOptions
//load
//loadResponse(data: any
//onLoadingData(data: RetrieveResponse<AuditLogRow>
//beforeLoadEntity(entity: AuditLogRow
//loadEntity(entity: AuditLogRow
//set_entityId(value: any
//set_entity(entity: any
//isEditMode
//get_entityId
//set_entity(entity: any
//afterLoadEntity
//updateInterface
//isDeleted
//isLocalizationMode
//isNew
//updateTitle
//getEntityTitle
//getEntitySingular
//getLocalTextDbPrefix
//getSaveEntity
//initDialog
// getDialogOptions
// getDialogTitle
// handleResponsive
// onDialogOpen
// arrange
//dialog closing cycle-----------------
//getSaveEntity
//isEditMode
//get_entityId
// onDialogClose
//destroy
//save cycle---------------------------
//save(callback?: (response: SaveResponse) => void
//validateBeforeSave
//save_submitHandler(callback: (response: SaveResponse) => void
//getSaveOptions(callback: (response: SaveResponse) => void
//isEditMode
//get_entityId
//isCloneMode
//getSaveRequest
//getSaveEntity
//saveHandler(options: ServiceOptions<SaveResponse>, callback: (response: SaveResponse) => void
//onSaveSuccess(response: SaveResponse
//loadById
//getLoadByIdRequest(id: any
//getLoadByIdOptions(id: any, callback: (response: RetrieveResponse<AuditLogRow>) => void
//loadByIdHandler(options: ServiceOptions<RetrieveResponse<AuditLogRow>>, callback: (response: RetrieveResponse<AuditLogRow>) => void, fail: () => void
//showSaveSuccessMessage(response: SaveResponse
//loadResponse(data: any
//onLoadingData(data: RetrieveResponse<AuditLogRow>
//beforeLoadEntity(entity: AuditLogRow
//loadEntity(entity: AuditLogRow
//set_entityId(value: any
//set_entity(entity: any
//set_entity(entity: any
//afterLoadEntity
//updateInterface
//isDeleted
//getIsDeletedProperty
//get_entity
//getIsActiveProperty
//isLocalizationMode
//isLocalizationMode
//isNew
//updateTitle
//getEntityTitle
//getEntityNameFieldValue
//get_entity
//getEntitySingular
//getSaveEntity
//delete entity ------------------------
//doDelete(callback: (response: DeleteResponse) => void
//get_entityId
//getDeleteOptions(callback: (response: DeleteResponse) => void
//deleteHandler(options: ServiceOptions<DeleteResponse>, callback: (response: DeleteResponse) => void
//onDeleteSuccess(response: DeleteResponse
// onDialogClose
//destroy
var _Ext;
(function (_Ext) {
    var GridSnippets = /** @class */ (function (_super) {
        __extends(GridSnippets, _super);
        function GridSnippets(container, options) {
            return _super.call(this, container, options) || this;
        }
        GridSnippets.prototype.getColumnsKey = function () { return '_Ext.AuditLog'; };
        GridSnippets.prototype.getDialogType = function () { return _Ext.DialogSnippets; };
        GridSnippets.prototype.getRowType = function () { return _Ext.AuditLogRow; };
        GridSnippets.prototype.getService = function () { return _Ext.AuditLogService.baseUrl; };
        GridSnippets.prototype.get_ExtGridOptions = function () {
            var opt = Q.deepClone(_super.prototype.get_ExtGridOptions.call(this));
            //make some changes here
            return opt;
        };
        GridSnippets.prototype.getInitialTitle = function () { return _super.prototype.getInitialTitle.call(this); };
        GridSnippets.prototype.getDisplayName = function () { return _super.prototype.getDisplayName.call(this); };
        GridSnippets.prototype.setTitle = function (value) { _super.prototype.setTitle.call(this, value); };
        GridSnippets.prototype.getTitle = function () { return _super.prototype.getTitle.call(this); };
        //called on resizing the grid canvas
        GridSnippets.prototype.layout = function () { _super.prototype.layout.call(this); };
        GridSnippets.prototype.getButtons = function () {
            var buttons = _super.prototype.getButtons.call(this);
            //To remove Add button
            //buttons = buttons.filter(f => f.cssClass != 'add-button');
            //To create a new button
            buttons.push({
                title: 'Sample Button',
                icon: 'fa fa-bell',
                onClick: function (e) {
                    Q.alert('Sample Button is clicked!');
                }
            });
            return buttons;
        };
        GridSnippets.prototype.getAddButtonCaption = function () { return _super.prototype.getAddButtonCaption.call(this); };
        GridSnippets.prototype.getItemName = function () { return _super.prototype.getItemName.call(this); };
        GridSnippets.prototype.newRefreshButton = function (noText) { return _super.prototype.newRefreshButton.call(this); };
        GridSnippets.prototype.getView = function () { return _super.prototype.getView.call(this); };
        GridSnippets.prototype.createToolbar = function (buttons) { _super.prototype.createToolbar.call(this, buttons); };
        GridSnippets.prototype.createSlickContainer = function () { return _super.prototype.createSlickContainer.call(this); };
        GridSnippets.prototype.createView = function () { return _super.prototype.createView.call(this); };
        GridSnippets.prototype.getViewOptions = function () { return _super.prototype.getViewOptions.call(this); };
        GridSnippets.prototype.getDefaultSortBy = function () { return _super.prototype.getDefaultSortBy.call(this); };
        GridSnippets.prototype.usePager = function () { return true; };
        GridSnippets.prototype.createSlickGrid = function () { return _super.prototype.createSlickGrid.call(this); };
        GridSnippets.prototype.getColumns = function () { return _super.prototype.getColumns.call(this); };
        GridSnippets.prototype.getPropertyItems = function () { return _super.prototype.getPropertyItems.call(this); };
        GridSnippets.prototype.propertyItemsToSlickColumns = function (propertyItems) { return _super.prototype.propertyItemsToSlickColumns.call(this, propertyItems); };
        GridSnippets.prototype.itemLink = function (itemType, idField, text, cssClass, encode) { return _super.prototype.itemLink.call(this); };
        GridSnippets.prototype.getItemType = function () { return _super.prototype.getItemType.call(this); };
        GridSnippets.prototype.getEntityType = function () { return _super.prototype.getEntityType.call(this); };
        //getIdProperty
        GridSnippets.prototype.getSlickOptions = function () { return _super.prototype.getSlickOptions.call(this); };
        GridSnippets.prototype.postProcessColumns = function (columns) { return _super.prototype.postProcessColumns.call(this, columns); };
        GridSnippets.prototype.setInitialSortOrder = function () { _super.prototype.setInitialSortOrder.call(this); };
        GridSnippets.prototype.enableFiltering = function () { return _super.prototype.enableFiltering.call(this); };
        GridSnippets.prototype.createFilterBar = function () { _super.prototype.createFilterBar.call(this); };
        GridSnippets.prototype.initializeFilterBar = function () { _super.prototype.initializeFilterBar.call(this); };
        //call for each quick Column
        GridSnippets.prototype.canFilterColumn = function (column) { return _super.prototype.canFilterColumn.call(this, column); };
        //usePager
        GridSnippets.prototype.createPager = function () { _super.prototype.createPager.call(this); };
        GridSnippets.prototype.getPagerOptions = function () { return _super.prototype.getPagerOptions.call(this); };
        GridSnippets.prototype.bindToSlickEvents = function () { _super.prototype.bindToSlickEvents.call(this); };
        GridSnippets.prototype.bindToViewEvents = function () { _super.prototype.bindToViewEvents.call(this); };
        GridSnippets.prototype.createToolbarExtensions = function () { _super.prototype.createToolbarExtensions.call(this); };
        GridSnippets.prototype.createIncludeDeletedButton = function () { _super.prototype.createIncludeDeletedButton.call(this); };
        GridSnippets.prototype.createQuickSearchInput = function () { _super.prototype.createQuickSearchInput.call(this); };
        GridSnippets.prototype.getQuickSearchFields = function () { return _super.prototype.getQuickSearchFields.call(this); };
        GridSnippets.prototype.createQuickFilters = function () { _super.prototype.createQuickFilters.call(this); };
        GridSnippets.prototype.getQuickFilters = function () { return _super.prototype.getQuickFilters.call(this); };
        GridSnippets.prototype.dateTimeRangeQuickFilter = function (field, title) { return _super.prototype.dateTimeRangeQuickFilter.call(this, field, title); };
        //call for each quick filter
        GridSnippets.prototype.addQuickFilter = function (opt) { return _super.prototype.addQuickFilter.call(this, opt); };
        //protected add_submitHandlers(action: () => void): void { super.add_submitHandlers(action) }
        GridSnippets.prototype.updateDisabledState = function () { _super.prototype.updateDisabledState.call(this); };
        GridSnippets.prototype.getCurrentSettings = function (flags) { return _super.prototype.getCurrentSettings.call(this); };
        GridSnippets.prototype.gridPersistanceFlags = function () { return _super.prototype.gridPersistanceFlags.call(this); };
        GridSnippets.prototype.restoreSettings = function (settings, flags) { _super.prototype.restoreSettings.call(this); };
        GridSnippets.prototype.getPersistedSettings = function () { return _super.prototype.getPersistedSettings.call(this); };
        GridSnippets.prototype.getPersistanceStorage = function () { return _super.prototype.getPersistanceStorage.call(this); };
        //getView
        GridSnippets.prototype.getGrid = function () { return _super.prototype.getGrid.call(this); };
        //getView
        //getGrid
        GridSnippets.prototype.initialPopulate = function () { _super.prototype.initialPopulate.call(this); };
        //called for each refresh request
        GridSnippets.prototype.populateWhenVisible = function () { return _super.prototype.populateWhenVisible.call(this); };
        //called for each refresh request
        GridSnippets.prototype.onViewSubmit = function () { return _super.prototype.onViewSubmit.call(this); };
        //called for each refresh request
        GridSnippets.prototype.getGridCanLoad = function () { return _super.prototype.getGridCanLoad.call(this); };
        //called for each refresh request
        GridSnippets.prototype.setCriteriaParameter = function () { _super.prototype.setCriteriaParameter.call(this); };
        //called for each refresh request
        GridSnippets.prototype.setIncludeColumnsParameter = function () { _super.prototype.setIncludeColumnsParameter.call(this); };
        //called for each refresh request
        GridSnippets.prototype.getIncludeColumns = function (include) { _super.prototype.getIncludeColumns.call(this, include); };
        //called for each refresh request
        GridSnippets.prototype.invokeSubmitHandlers = function () { _super.prototype.invokeSubmitHandlers.call(this); };
        //called for each refresh request
        GridSnippets.prototype.onViewProcessData = function (response) { return _super.prototype.onViewProcessData.call(this, response); };
        //called for each row on every Refresh OR Layout change
        GridSnippets.prototype.getItemMetadata = function (item, index) { return _super.prototype.getItemMetadata.call(this, item, index); };
        //called for each row on every Refresh OR Layout change
        GridSnippets.prototype.getItemCssClass = function (item, index) { return _super.prototype.getItemCssClass.call(this, item, index); };
        //called for each row on every Refresh OR Layout change
        GridSnippets.prototype.getIsActiveProperty = function () { return _super.prototype.getIsActiveProperty.call(this); };
        //called for each row on every Refresh OR Layout change
        GridSnippets.prototype.getIsDeletedProperty = function () { return _super.prototype.getIsDeletedProperty.call(this); };
        //called for each row on every refresh request
        GridSnippets.prototype.onViewFilter = function (item) { return _super.prototype.onViewFilter.call(this, item); };
        GridSnippets.prototype.getElement = function () { return _super.prototype.getElement.call(this); };
        //called for each refresh request
        GridSnippets.prototype.viewDataChanged = function (e, rows) { _super.prototype.viewDataChanged.call(this, e, rows); };
        //called for each refresh request
        GridSnippets.prototype.markupReady = function () { _super.prototype.markupReady.call(this); };
        //called for each refresh request
        GridSnippets.prototype.getItems = function () { return _super.prototype.getItems.call(this); };
        //called for each refresh request
        GridSnippets.prototype.setItems = function (value) { _super.prototype.setItems.call(this, value); };
        GridSnippets.prototype.addButtonClick = function () { _super.prototype.addButtonClick.call(this); };
        GridSnippets.prototype.editItem = function (entityOrId) { _super.prototype.editItem.call(this, entityOrId); };
        GridSnippets.prototype.editItemOfType = function (itemType, entityOrId) { _super.prototype.editItemOfType.call(this, itemType, entityOrId); };
        //protected getService(): string {  return super.getButtons() }
        GridSnippets.prototype.routeDialog = function (itemType, dialog) { _super.prototype.routeDialog.call(this, itemType, dialog); };
        //protected initDialog(dialog): void {  super.initDialog(dialog) }
        GridSnippets.prototype.initEntityDialog = function (itemType, dialog) { _super.prototype.initEntityDialog.call(this, itemType, dialog); };
        GridSnippets.prototype.createEntityDialog = function (itemType, callback) { return _super.prototype.createEntityDialog.call(this, itemType, callback); };
        GridSnippets.prototype.getDialogOptions = function () { return _super.prototype.getDialogOptions.call(this); };
        GridSnippets.prototype.getDialogOptionsFor = function (itemType) { return _super.prototype.getDialogOptionsFor.call(this, itemType); };
        //protected getDialogTypeFor(itemType: string): { 
        //    new(...args: any[]): Serenity.Widget<any>;
        //};
        //protected getDialogType(): { 
        //    new(...args: any[]): Serenity.Widget<any>;
        //};
        //Inherited from Serenity.DataGrid ______________________________________________________________________
        //protected remove_submitHandlers(action: () => void): void { super.remove_submitHandlers(action) }
        //protected getInitialTitle(): string;
        //protected createToolbarExtensions(): void;
        //protected findQuickFilter<TWidget>(type: { 
        //    new (...args: any[]): TWidget;
        //}, field: string): TWidget;
        //protected tryFindQuickFilter<TWidget>(type: { 
        //    new(...args: any[]): TWidget;
        //}, field: string): TWidget;
        GridSnippets.prototype.destroy = function () { _super.prototype.destroy.call(this); };
        //protected initializeAsync(): PromiseLike<void> { return super.initializeAsync() }
        //itemAt(row: number): any;
        //rowCount(): number;
        //protected getAddButtonCaption(): string;
        //protected getButtons(): ToolButton[];
        //protected editItem(entityOrId: any): void;
        //protected editItemOfType(itemType: string, entityOrId: any): void;
        GridSnippets.prototype.onClick = function (e, row, cell) { _super.prototype.onClick.call(this, e, row, cell); };
        GridSnippets.prototype.setEquality = function (field, value) { _super.prototype.setEquality.call(this, field, value); };
        //protected usePager(): boolean;
        //protected getViewOptions(): Slick.RemoteViewOptions;
        //protected getItemType(): string;
        //protected getColumnsKey(): string;
        //protected getPropertyItemsAsync(): PromiseLike<Serenity.PropertyItem[]> { return super.getPropertyItemsAsync() }
        //protected getColumnsAsync(): PromiseLike<Slick.Column[]> { return super.getColumnsAsync() }
        GridSnippets.prototype.populateLock = function () { _super.prototype.populateLock.call(this); };
        GridSnippets.prototype.populateUnlock = function () { _super.prototype.populateUnlock.call(this); };
        GridSnippets.prototype.refresh = function () { _super.prototype.refresh.call(this); };
        GridSnippets.prototype.refreshIfNeeded = function () { _super.prototype.refreshIfNeeded.call(this); };
        //called for each refresh request
        GridSnippets.prototype.internalRefresh = function () { _super.prototype.internalRefresh.call(this); };
        GridSnippets.prototype.setIsDisabled = function (value) { _super.prototype.setIsDisabled.call(this, value); };
        //protected getLocalTextDbPrefix(): string;
        //protected getLocalTextPrefix(): string;
        //protected getIdProperty(): string;
        GridSnippets.prototype.resizeCanvas = function () { _super.prototype.resizeCanvas.call(this); };
        GridSnippets.prototype.subDialogDataChange = function () { _super.prototype.subDialogDataChange.call(this); };
        GridSnippets.prototype.addFilterSeparator = function () { _super.prototype.addFilterSeparator.call(this); };
        GridSnippets.prototype.determineText = function (getKey) { return _super.prototype.determineText.call(this, getKey); };
        GridSnippets.prototype.addDateRangeFilter = function (field, title) { return _super.prototype.addDateRangeFilter.call(this, field, title); };
        GridSnippets.prototype.dateRangeQuickFilter = function (field, title) { return _super.prototype.dateRangeQuickFilter.call(this, field, title); };
        GridSnippets.prototype.addDateTimeRangeFilter = function (field, title) { return _super.prototype.addDateTimeRangeFilter.call(this, field, title); };
        GridSnippets.prototype.addBooleanFilter = function (field, title, yes, no) { return _super.prototype.addBooleanFilter.call(this, field, title, yes, no); };
        GridSnippets.prototype.booleanQuickFilter = function (field, title, yes, no) { return _super.prototype.booleanQuickFilter.call(this, field, title, yes, no); };
        GridSnippets.prototype.quickFilterChange = function (e) { _super.prototype.quickFilterChange.call(this, e); };
        GridSnippets.prototype.getPersistanceKey = function () { return _super.prototype.getPersistanceKey.call(this); };
        GridSnippets.prototype.canShowColumn = function (column) { return _super.prototype.canShowColumn.call(this, column); };
        GridSnippets.prototype.persistSettings = function (flags) { _super.prototype.persistSettings.call(this); };
        GridSnippets.prototype.getFilterStore = function () { return _super.prototype.getFilterStore.call(this); };
        GridSnippets = __decorate([
            Serenity.Decorators.filterable()
        ], GridSnippets);
        return GridSnippets;
    }(_Ext.GridBase));
    _Ext.GridSnippets = GridSnippets;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var GridWithAllOverridableMethods = /** @class */ (function (_super) {
        __extends(GridWithAllOverridableMethods, _super);
        function GridWithAllOverridableMethods(container, options) {
            var _this = this;
            console.log('constructor');
            _this = _super.call(this, container, options) || this;
            return _this;
        }
        GridWithAllOverridableMethods.prototype.getDialogType = function () { console.log('getDialogType'); return _Ext.DialogWithAllOverridableMethods; };
        GridWithAllOverridableMethods.prototype.getInitialTitle = function () { console.log('getInitialTitle'); return _super.prototype.getInitialTitle.call(this); };
        GridWithAllOverridableMethods.prototype.getDisplayName = function () { console.log('getDisplayName'); return _super.prototype.getDisplayName.call(this); };
        GridWithAllOverridableMethods.prototype.getLocalTextPrefix = function () { console.log('getLocalTextPrefix'); return _Ext.AuditLogRow.localTextPrefix; };
        GridWithAllOverridableMethods.prototype.setTitle = function (value) { console.log('setTitle'); _super.prototype.setTitle.call(this, value); };
        GridWithAllOverridableMethods.prototype.getTitle = function () { console.log('getTitle'); return _super.prototype.getTitle.call(this); };
        //called on resizing the grid canvas
        GridWithAllOverridableMethods.prototype.layout = function () { console.log('layout'); _super.prototype.layout.call(this); };
        GridWithAllOverridableMethods.prototype.getButtons = function () { console.log('getButtons'); return _super.prototype.getButtons.call(this); };
        GridWithAllOverridableMethods.prototype.getAddButtonCaption = function () { console.log('getAddButtonCaption'); return _super.prototype.getAddButtonCaption.call(this); };
        GridWithAllOverridableMethods.prototype.getItemName = function () { console.log('getItemName'); return _super.prototype.getItemName.call(this); };
        GridWithAllOverridableMethods.prototype.newRefreshButton = function (noText) { console.log('newRefreshButton'); return _super.prototype.newRefreshButton.call(this); };
        GridWithAllOverridableMethods.prototype.getView = function () { console.log('getView'); return _super.prototype.getView.call(this); };
        GridWithAllOverridableMethods.prototype.createToolbar = function (buttons) { console.log('createToolbar'); _super.prototype.createToolbar.call(this, buttons); };
        GridWithAllOverridableMethods.prototype.createSlickContainer = function () { console.log('createSlickContainer'); return _super.prototype.createSlickContainer.call(this); };
        GridWithAllOverridableMethods.prototype.createView = function () { console.log('createView'); return _super.prototype.createView.call(this); };
        GridWithAllOverridableMethods.prototype.getViewOptions = function () { console.log('getViewOptions'); return _super.prototype.getViewOptions.call(this); };
        GridWithAllOverridableMethods.prototype.getIdProperty = function () { console.log('getIdProperty'); return _Ext.AuditLogRow.idProperty; };
        GridWithAllOverridableMethods.prototype.getDefaultSortBy = function () { console.log('getDefaultSortBy'); return _super.prototype.getDefaultSortBy.call(this); };
        GridWithAllOverridableMethods.prototype.usePager = function () { console.log('usePager'); return true; };
        GridWithAllOverridableMethods.prototype.getService = function () { console.log('getService'); return _Ext.AuditLogService.baseUrl; };
        GridWithAllOverridableMethods.prototype.createSlickGrid = function () { console.log('createSlickGrid'); return _super.prototype.createSlickGrid.call(this); };
        GridWithAllOverridableMethods.prototype.getColumns = function () { console.log('getColumns'); return _super.prototype.getColumns.call(this); };
        GridWithAllOverridableMethods.prototype.getPropertyItems = function () { console.log('getPropertyItems'); return _super.prototype.getPropertyItems.call(this); };
        GridWithAllOverridableMethods.prototype.getColumnsKey = function () { console.log('getColumnsKey'); return '_Ext.AuditLog'; };
        GridWithAllOverridableMethods.prototype.propertyItemsToSlickColumns = function (propertyItems) { console.log('propertyItemsToSlickColumns'); return _super.prototype.propertyItemsToSlickColumns.call(this, propertyItems); };
        GridWithAllOverridableMethods.prototype.itemLink = function (itemType, idField, text, cssClass, encode) { console.log('itemLink(itemType?: string, idField?: string, text?: (ctx: Slick.FormatterContext) => string, cssClass?: '); return _super.prototype.itemLink.call(this); };
        GridWithAllOverridableMethods.prototype.getItemType = function () { console.log('getItemType'); return _super.prototype.getItemType.call(this); };
        GridWithAllOverridableMethods.prototype.getEntityType = function () { console.log('getEntityType'); return _super.prototype.getEntityType.call(this); };
        //getIdProperty
        GridWithAllOverridableMethods.prototype.getSlickOptions = function () { console.log('getSlickOptions'); return _super.prototype.getSlickOptions.call(this); };
        GridWithAllOverridableMethods.prototype.get_ExtGridOptions = function () {
            console.log('get_ExtGridOptions');
            var opt = Q.deepClone(_super.prototype.get_ExtGridOptions.call(this));
            //change some options here
            opt.ShowRowSelectionCheckboxColumn = true;
            return opt;
        };
        GridWithAllOverridableMethods.prototype.postProcessColumns = function (columns) { console.log('postProcessColumns'); return _super.prototype.postProcessColumns.call(this, columns); };
        GridWithAllOverridableMethods.prototype.setInitialSortOrder = function () { console.log('setInitialSortOrder'); _super.prototype.setInitialSortOrder.call(this); };
        GridWithAllOverridableMethods.prototype.enableFiltering = function () { console.log('enableFiltering'); return _super.prototype.enableFiltering.call(this); };
        GridWithAllOverridableMethods.prototype.createFilterBar = function () { console.log('createFilterBar'); _super.prototype.createFilterBar.call(this); };
        GridWithAllOverridableMethods.prototype.initializeFilterBar = function () { console.log('initializeFilterBar'); _super.prototype.initializeFilterBar.call(this); };
        //call for each quick Column
        GridWithAllOverridableMethods.prototype.canFilterColumn = function (column) { console.log('canFilterColumn'); return _super.prototype.canFilterColumn.call(this, column); };
        //usePager
        GridWithAllOverridableMethods.prototype.createPager = function () { console.log('createPager'); _super.prototype.createPager.call(this); };
        GridWithAllOverridableMethods.prototype.getPagerOptions = function () { console.log('getPagerOptions'); return _super.prototype.getPagerOptions.call(this); };
        GridWithAllOverridableMethods.prototype.bindToSlickEvents = function () { console.log('bindToSlickEvents'); _super.prototype.bindToSlickEvents.call(this); };
        GridWithAllOverridableMethods.prototype.bindToViewEvents = function () { console.log('bindToViewEvents'); _super.prototype.bindToViewEvents.call(this); };
        GridWithAllOverridableMethods.prototype.createToolbarExtensions = function () { console.log('createToolbarExtensions'); _super.prototype.createToolbarExtensions.call(this); };
        GridWithAllOverridableMethods.prototype.createIncludeDeletedButton = function () { console.log('createIncludeDeletedButton'); _super.prototype.createIncludeDeletedButton.call(this); };
        GridWithAllOverridableMethods.prototype.createQuickSearchInput = function () { console.log('createQuickSearchInput'); _super.prototype.createQuickSearchInput.call(this); };
        GridWithAllOverridableMethods.prototype.getQuickSearchFields = function () { console.log('getQuickSearchFields'); return _super.prototype.getQuickSearchFields.call(this); };
        GridWithAllOverridableMethods.prototype.createQuickFilters = function () { console.log('createQuickFilters'); _super.prototype.createQuickFilters.call(this); };
        GridWithAllOverridableMethods.prototype.getQuickFilters = function () { console.log('getQuickFilters'); return _super.prototype.getQuickFilters.call(this); };
        GridWithAllOverridableMethods.prototype.dateTimeRangeQuickFilter = function (field, title) { console.log('dateTimeRangeQuickFilter'); return _super.prototype.dateTimeRangeQuickFilter.call(this, field, title); };
        //call for each quick filter
        GridWithAllOverridableMethods.prototype.addQuickFilter = function (opt) { console.log('addQuickFilter<TWidget extends Serenity.Widget<any>, TOptions>'); return _super.prototype.addQuickFilter.call(this, opt); };
        //protected add_submitHandlers(action: () => void): void { console.log('add_submitHandlers(action: '); super.add_submitHandlers(action) }
        GridWithAllOverridableMethods.prototype.updateDisabledState = function () { console.log('updateDisabledState'); _super.prototype.updateDisabledState.call(this); };
        GridWithAllOverridableMethods.prototype.getCurrentSettings = function (flags) { console.log('getCurrentSettings'); return _super.prototype.getCurrentSettings.call(this); };
        GridWithAllOverridableMethods.prototype.gridPersistanceFlags = function () { console.log('gridPersistanceFlags'); return _super.prototype.gridPersistanceFlags.call(this); };
        GridWithAllOverridableMethods.prototype.restoreSettings = function (settings, flags) { console.log('restoreSettings'); _super.prototype.restoreSettings.call(this); };
        GridWithAllOverridableMethods.prototype.getPersistedSettings = function () { console.log('getPersistedSettings'); return _super.prototype.getPersistedSettings.call(this); };
        GridWithAllOverridableMethods.prototype.getPersistanceStorage = function () { console.log('getPersistanceStorage'); return _super.prototype.getPersistanceStorage.call(this); };
        //getView
        GridWithAllOverridableMethods.prototype.getGrid = function () { console.log('getGrid'); return _super.prototype.getGrid.call(this); };
        //getView
        //getGrid
        GridWithAllOverridableMethods.prototype.initialPopulate = function () { console.log('initialPopulate'); _super.prototype.initialPopulate.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.populateWhenVisible = function () { console.log('populateWhenVisible'); return _super.prototype.populateWhenVisible.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.onViewSubmit = function () { console.log('onViewSubmit'); return _super.prototype.onViewSubmit.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.getGridCanLoad = function () { console.log('getGridCanLoad'); return _super.prototype.getGridCanLoad.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.setCriteriaParameter = function () { console.log('setCriteriaParameter'); _super.prototype.setCriteriaParameter.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.setIncludeColumnsParameter = function () { console.log('setIncludeColumnsParameter'); _super.prototype.setIncludeColumnsParameter.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.getIncludeColumns = function (include) { console.log('getIncludeColumns'); _super.prototype.getIncludeColumns.call(this, include); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.invokeSubmitHandlers = function () { console.log('invokeSubmitHandlers'); _super.prototype.invokeSubmitHandlers.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.onViewProcessData = function (response) { console.log('onViewProcessData'); return _super.prototype.onViewProcessData.call(this, response); };
        //called for each row on every Refresh OR Layout change
        GridWithAllOverridableMethods.prototype.getItemMetadata = function (item, index) { console.log('getItemMetadata'); return _super.prototype.getItemMetadata.call(this, item, index); };
        //called for each row on every Refresh OR Layout change
        GridWithAllOverridableMethods.prototype.getItemCssClass = function (item, index) { console.log('getItemCssClass'); return _super.prototype.getItemCssClass.call(this, item, index); };
        //called for each row on every Refresh OR Layout change
        GridWithAllOverridableMethods.prototype.getIsActiveProperty = function () { console.log('getIsActiveProperty'); return _super.prototype.getIsActiveProperty.call(this); };
        //called for each row on every Refresh OR Layout change
        GridWithAllOverridableMethods.prototype.getIsDeletedProperty = function () { console.log('getIsDeletedProperty'); return _super.prototype.getIsDeletedProperty.call(this); };
        //called for each row on every refresh request
        GridWithAllOverridableMethods.prototype.onViewFilter = function (item) { console.log('onViewFilter'); return _super.prototype.onViewFilter.call(this, item); };
        GridWithAllOverridableMethods.prototype.getElement = function () { console.log('getElement'); return _super.prototype.getElement.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.viewDataChanged = function (e, rows) { console.log('viewDataChanged'); _super.prototype.viewDataChanged.call(this, e, rows); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.markupReady = function () { console.log('markupReady'); _super.prototype.markupReady.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.getItems = function () { console.log('getItems'); return _super.prototype.getItems.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.setItems = function (value) { console.log('setItems'); _super.prototype.setItems.call(this, value); };
        GridWithAllOverridableMethods.prototype.addButtonClick = function () { console.log('addButtonClick'); _super.prototype.addButtonClick.call(this); };
        GridWithAllOverridableMethods.prototype.editItem = function (entityOrId) { console.log('editItem'); _super.prototype.editItem.call(this, entityOrId); };
        GridWithAllOverridableMethods.prototype.editItemOfType = function (itemType, entityOrId) { console.log('editItemOfType'); _super.prototype.editItemOfType.call(this, itemType, entityOrId); };
        //protected getService(): string { console.log('getService'); return super.getButtons() }
        GridWithAllOverridableMethods.prototype.routeDialog = function (itemType, dialog) { console.log('routeDialog'); _super.prototype.routeDialog.call(this, itemType, dialog); };
        //protected initDialog(dialog): void { console.log('initDialog'); super.initDialog(dialog) }
        GridWithAllOverridableMethods.prototype.initEntityDialog = function (itemType, dialog) { console.log('initEntityDialog'); _super.prototype.initEntityDialog.call(this, itemType, dialog); };
        GridWithAllOverridableMethods.prototype.createEntityDialog = function (itemType, callback) { console.log('createEntityDialog(itemType: string, callback?: '); return _super.prototype.createEntityDialog.call(this, itemType, callback); };
        GridWithAllOverridableMethods.prototype.getDialogOptions = function () { console.log('getDialogOptions'); return _super.prototype.getDialogOptions.call(this); };
        GridWithAllOverridableMethods.prototype.getDialogOptionsFor = function (itemType) { console.log('getDialogOptionsFor'); return _super.prototype.getDialogOptionsFor.call(this, itemType); };
        //protected getDialogTypeFor(itemType: string): { console.log('getDialogTypeFor');
        //    new(...args: any[]): Serenity.Widget<any>;
        //};
        //protected getDialogType(): { console.log('getDialogType');
        //    new(...args: any[]): Serenity.Widget<any>;
        //};
        //Inherited from Serenity.DataGrid ______________________________________________________________________
        //protected remove_submitHandlers(action: () => void): void { console.log('remove_submitHandlers(action: '); super.remove_submitHandlers(action) }
        //protected getInitialTitle(): string;
        //protected createToolbarExtensions(): void;
        //protected findQuickFilter<TWidget>(type: { console.log('findQuickFilter<TWidget>');
        //    new (...args: any[]): TWidget;
        //}, field: string): TWidget;
        //protected tryFindQuickFilter<TWidget>(type: { console.log('tryFindQuickFilter<TWidget>');
        //    new(...args: any[]): TWidget;
        //}, field: string): TWidget;
        GridWithAllOverridableMethods.prototype.destroy = function () { console.log('destroy'); _super.prototype.destroy.call(this); };
        //protected initializeAsync(): PromiseLike<void> { console.log('initializeAsync'); return super.initializeAsync() }
        //itemAt(row: number): any;
        //rowCount(): number;
        //protected getAddButtonCaption(): string;
        //protected getButtons(): ToolButton[];
        //protected editItem(entityOrId: any): void;
        //protected editItemOfType(itemType: string, entityOrId: any): void;
        GridWithAllOverridableMethods.prototype.onClick = function (e, row, cell) { console.log('onClick'); _super.prototype.onClick.call(this, e, row, cell); };
        GridWithAllOverridableMethods.prototype.setEquality = function (field, value) { console.log('setEquality'); _super.prototype.setEquality.call(this, field, value); };
        //protected usePager(): boolean;
        //protected getViewOptions(): Slick.RemoteViewOptions;
        //protected getItemType(): string;
        //protected getColumnsKey(): string;
        //protected getPropertyItemsAsync(): PromiseLike<Serenity.PropertyItem[]> { console.log('getPropertyItemsAsync'); return super.getPropertyItemsAsync() }
        //protected getColumnsAsync(): PromiseLike<Slick.Column[]> { console.log('getColumnsAsync'); return super.getColumnsAsync() }
        GridWithAllOverridableMethods.prototype.populateLock = function () { console.log('populateLock'); _super.prototype.populateLock.call(this); };
        GridWithAllOverridableMethods.prototype.populateUnlock = function () { console.log('populateUnlock'); _super.prototype.populateUnlock.call(this); };
        GridWithAllOverridableMethods.prototype.refresh = function () { console.log('refresh'); _super.prototype.refresh.call(this); };
        GridWithAllOverridableMethods.prototype.refreshIfNeeded = function () { console.log('refreshIfNeeded'); _super.prototype.refreshIfNeeded.call(this); };
        //called for each refresh request
        GridWithAllOverridableMethods.prototype.internalRefresh = function () { console.log('internalRefresh'); _super.prototype.internalRefresh.call(this); };
        GridWithAllOverridableMethods.prototype.setIsDisabled = function (value) { console.log('setIsDisabled'); _super.prototype.setIsDisabled.call(this, value); };
        //protected getLocalTextDbPrefix(): string;
        //protected getLocalTextPrefix(): string;
        //protected getIdProperty(): string;
        GridWithAllOverridableMethods.prototype.resizeCanvas = function () { console.log('resizeCanvas'); _super.prototype.resizeCanvas.call(this); };
        GridWithAllOverridableMethods.prototype.subDialogDataChange = function () { console.log('subDialogDataChange'); _super.prototype.subDialogDataChange.call(this); };
        GridWithAllOverridableMethods.prototype.addFilterSeparator = function () { console.log('addFilterSeparator'); _super.prototype.addFilterSeparator.call(this); };
        GridWithAllOverridableMethods.prototype.determineText = function (getKey) { console.log('determineText'); return _super.prototype.determineText.call(this, getKey); };
        GridWithAllOverridableMethods.prototype.addDateRangeFilter = function (field, title) { console.log('addDateRangeFilter'); return _super.prototype.addDateRangeFilter.call(this, field, title); };
        GridWithAllOverridableMethods.prototype.dateRangeQuickFilter = function (field, title) { console.log('dateRangeQuickFilter'); return _super.prototype.dateRangeQuickFilter.call(this, field, title); };
        GridWithAllOverridableMethods.prototype.addDateTimeRangeFilter = function (field, title) { console.log('addDateTimeRangeFilter'); return _super.prototype.addDateTimeRangeFilter.call(this, field, title); };
        GridWithAllOverridableMethods.prototype.addBooleanFilter = function (field, title, yes, no) { console.log('addBooleanFilter'); return _super.prototype.addBooleanFilter.call(this, field, title, yes, no); };
        GridWithAllOverridableMethods.prototype.booleanQuickFilter = function (field, title, yes, no) { console.log('booleanQuickFilter'); return _super.prototype.booleanQuickFilter.call(this, field, title, yes, no); };
        GridWithAllOverridableMethods.prototype.quickFilterChange = function (e) { console.log('quickFilterChange'); _super.prototype.quickFilterChange.call(this, e); };
        GridWithAllOverridableMethods.prototype.getPersistanceKey = function () { console.log('getPersistanceKey'); return _super.prototype.getPersistanceKey.call(this); };
        GridWithAllOverridableMethods.prototype.canShowColumn = function (column) { console.log('canShowColumn'); return _super.prototype.canShowColumn.call(this, column); };
        GridWithAllOverridableMethods.prototype.persistSettings = function (flags) { console.log('persistSettings'); _super.prototype.persistSettings.call(this); };
        GridWithAllOverridableMethods.prototype.getFilterStore = function () { console.log('getFilterStore'); return _super.prototype.getFilterStore.call(this); };
        GridWithAllOverridableMethods = __decorate([
            Serenity.Decorators.filterable()
        ], GridWithAllOverridableMethods);
        return GridWithAllOverridableMethods;
    }(_Ext.GridBase));
    _Ext.GridWithAllOverridableMethods = GridWithAllOverridableMethods;
})(_Ext || (_Ext = {}));
// * represnts the frequency
//------------------------------------------
//GRID Refresh CYCLE 
//------------------------------------------
//  refresh
//  populateWhenVisible
//  internalRefresh
//  onViewSubmit ***
//  getGridCanLoad
//  setCriteriaParameter
//  setIncludeColumnsParameter
//  getIncludeColumns
//  invokeSubmitHandlers
//  onViewProcessData **
//  get_ExtGridOptions
//for each row {
//  onViewFilter
//  getItemMetadata
//  getItemCssClass
//  getIsActiveProperty
//  getIsDeletedProperty
//  }
//  viewDataChanged
//  markupReady *
//the following should not be called. now it is called because of _Ext row number generation.
//  getItems
//  setItems
//  onViewFilter
//  viewDataChanged
//  markupReady
//------------------------------------------
//GRID onClick CYCLE 
//------------------------------------------
//  onClick
//  getIdProperty
//the following are called twice ?? {
//  getItemMetadata
//  getItemCssClass
//  getIsActiveProperty
//  getIsDeletedProperty 
//  }
//------------------------------------------
//GRID edit link onClick CYCLE 
//------------------------------------------
//  onClick
//  getIdProperty
//  editItem
//  getItemType
//  getEntityType
//  createEntityDialog(itemType: string, callback?: 
//  getItemType
//  getEntityType
//  getDialogType
//  getDialogOptionsFor
//  getItemType
//  getEntityType
//  getDialogOptions
//  initEntityDialog
//  getItemType
//  getEntityType
//  getItemType
//  getEntityType
//  routeDialog
//the following are called twice ?? {
//  getItemMetadata
//  getItemCssClass
//  getIsActiveProperty
//  getIsDeletedProperty
//  }
//  getItemType
//  getEntityType
//------------------------------------------
//GRID quickFilterChange CYCLE 
//------------------------------------------
//  quickFilterChange
//  persistSettings
//  getPersistanceStorage
//  refresh CYCLE
var _Ext;
(function (_Ext) {
    var ReplaceRowDialog = /** @class */ (function (_super) {
        __extends(ReplaceRowDialog, _super);
        function ReplaceRowDialog(request, entityList) {
            var _this = _super.call(this) || this;
            _this.request = request;
            _this.entityList = entityList;
            _this.form = new _Ext.ReplaceRowForm(_this.idPrefix);
            _this.dialogTitle = 'Replace Row';
            _this.form.DeletedEntityName.value = request.DeletedEntityName;
            _this.form.ReplaceWithEntityId.items = entityList.map(function (m) { return { id: String(m[request.IdProperty]), text: m[request.NameProperty], source: m }; });
            return _this;
        }
        ReplaceRowDialog.prototype.getFormKey = function () { return _Ext.ReplaceRowForm.formKey; };
        ReplaceRowDialog.prototype.getToolbarButtons = function () {
            var _this = this;
            var buttons = [];
            _super.prototype.getToolbarButtons.call(this);
            buttons.push({
                title: 'Replace',
                icon: 'fa fa fa-trash-o',
                onClick: function () {
                    if (_this.validateForm() == false)
                        return;
                    Q.confirm("Are you sure? \n\n" + _this.request.EntityTypeTitle + ": \"" + _this.request.DeletedEntityName + "\" will be deleted \nand all references will be replaced with \"" + _this.form.ReplaceWithEntityId.text + "\". \n\nThis action cannot be undone!\n\n", function () {
                        _this.request.ReplaceWithEntityId = Q.toId(_this.form.ReplaceWithEntityId.value);
                        Q.serviceRequest(Q.resolveUrl('~/Services/ReplaceRow/Replace'), _this.request, function (response) {
                            _this.dialogClose();
                            if (window['lastGrid']) //for single paged apps
                                window['lastGrid'].refresh();
                        });
                    });
                }
            });
            return buttons;
        };
        ReplaceRowDialog = __decorate([
            Serenity.Decorators.registerClass(),
            Serenity.Decorators.maximizable()
        ], ReplaceRowDialog);
        return ReplaceRowDialog;
    }(_Ext.DialogBase));
    _Ext.ReplaceRowDialog = ReplaceRowDialog;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var AutoCompleteEditor = /** @class */ (function (_super) {
        __extends(AutoCompleteEditor, _super);
        function AutoCompleteEditor(input, options) {
            var _this = _super.call(this, input) || this;
            _this.options = options;
            input.bind('change', function (e) {
                if (!Serenity.WX.hasOriginalEvent(e)) {
                    return;
                }
            });
            setTimeout(function () {
                _this.bindAutoComplete(input);
            }, 1000);
            return _this;
        }
        AutoCompleteEditor.prototype.bindAutoComplete = function (input) {
            var opt = this.options;
            var source = opt.sourceArray;
            if (opt.sourceCSV) {
                source = opt.sourceCSV.split(',');
            }
            else if (this.options.lookupKey) {
                var lookup_1 = Q.getLookup(opt.lookupKey);
                source = lookup_1.items.map(function (m) { return m[lookup_1.textField]; });
            }
            input.autocomplete({
                minLength: opt.minSearchLength || 0,
                autoFocus: true,
                source: source,
                focus: function (event, ui) {
                    //$(".ui-helper-hidden-accessible").hide();  //fix issue with the selected data showing up on webpage
                    //event.preventDefault();
                    //return false;
                },
            });
            input.data("ui-autocomplete")._renderItem = function (ul, item) {
                return $("<li>")
                    .append("<a>" + item.label + "</a>")
                    .appendTo(ul);
            };
            input.bind('click', function (e) {
                var wasOpen = input.autocomplete("widget").is(":visible");
                // Close if already visible
                if (wasOpen) {
                    return;
                }
                // Pass empty string as value to search for, displaying all results
                input.autocomplete("search", "");
            });
        };
        AutoCompleteEditor = __decorate([
            Serenity.Decorators.registerEditor()
        ], AutoCompleteEditor);
        return AutoCompleteEditor;
    }(Serenity.StringEditor));
    _Ext.AutoCompleteEditor = AutoCompleteEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ColorEditor = /** @class */ (function (_super) {
        __extends(ColorEditor, _super);
        function ColorEditor(container) {
            var _this = _super.call(this, container) || this;
            try {
                _this.element.colorpicker({ format: "hex" });
            }
            catch (e) { }
            return _this;
        }
        ColorEditor.prototype.getTemplate = function () {
            usingBootstrapColorPicker();
            return "<div class=\"input-group colorpicker-component\">\n                        <input type=\"text\" value=\"#00AABB\" class=\"form-control\" />\n                        <span class=\"input-group-addon\"><i></i></span>\n                    </div>";
        };
        ;
        ColorEditor.prototype.getEditValue = function (property, target) {
            try {
                var editVal = this.element.colorpicker().data().color;
                target[property.name] = editVal;
            }
            catch (e) { }
        };
        ColorEditor.prototype.setEditValue = function (source, property) {
            var val = source[property.name];
            //this.element.children('input').val(val);
            try {
                this.element.data('colorpicker').setValue(val);
            }
            catch (e) { }
        };
        ColorEditor = __decorate([
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element("<div/>")
        ], ColorEditor);
        return ColorEditor;
    }(Serenity.TemplatedWidget));
    _Ext.ColorEditor = ColorEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var DateTimePickerEditor = /** @class */ (function (_super) {
        __extends(DateTimePickerEditor, _super);
        function DateTimePickerEditor(container) {
            var _this = _super.call(this, container) || this;
            usingJqueryUITimepickerAddon();
            _this.element.datetimepicker({
                timeInput: true,
                controlType: 'select',
                oneLine: true,
                timeFormat: "HH:mm",
                showOn: "button"
            });
            return _this;
        }
        DateTimePickerEditor.prototype.getEditValue = function (property, target) { target[property.name] = this.value; };
        DateTimePickerEditor.prototype.setEditValue = function (source, property) { this.value = source[property.name]; };
        Object.defineProperty(DateTimePickerEditor.prototype, "value", {
            //http://trentrichardson.com/examples/timepicker
            get: function () {
                return Q.formatDate(this.valueAsDate, 'yyyy-MM-ddTHH:mm');
            },
            set: function (val) {
                this.valueAsDate = Q.parseISODateTime(val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DateTimePickerEditor.prototype, "valueAsDate", {
            get: function () {
                var val = this.element.datetimepicker('getDate');
                return val;
            },
            set: function (val) {
                this.element.datetimepicker('setDate', val);
            },
            enumerable: true,
            configurable: true
        });
        DateTimePickerEditor.prototype.get_readOnly = function () {
            return this.element.hasClass('readonly');
        };
        DateTimePickerEditor.prototype.set_readOnly = function (value) {
            if (value == true) {
                this.element.datetimepicker("option", "disabled", true);
                this.element.addClass('readonly');
                this.element.attr("disabled");
            }
            else {
                this.element.datetimepicker("option", "disabled", false);
                this.element.removeClass('readonly');
                this.element.removeAttr("disabled");
            }
        };
        DateTimePickerEditor.prototype.set_minDate = function (date) {
            this.element.datetimepicker('option', 'minDate', date);
        };
        DateTimePickerEditor.prototype.set_maxDate = function (date) {
            this.element.datetimepicker('option', 'maxDate', date);
        };
        DateTimePickerEditor.prototype.set_minDateTime = function (date) {
            this.element.datetimepicker('option', 'minDateTime', date);
        };
        DateTimePickerEditor.prototype.set_maxDateTime = function (date) {
            this.element.datetimepicker('option', 'maxDateTime', date);
        };
        DateTimePickerEditor = __decorate([
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue, Serenity.IReadOnly]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element("<input/>")
        ], DateTimePickerEditor);
        return DateTimePickerEditor;
    }(Serenity.Widget));
    _Ext.DateTimePickerEditor = DateTimePickerEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var EmptyLookupEditor = /** @class */ (function (_super) {
        __extends(EmptyLookupEditor, _super);
        function EmptyLookupEditor() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        EmptyLookupEditor.prototype.setSelect2Items = function (items) {
            var _this = this;
            this.clearItems();
            items.forEach(function (item) { _this.addItem(item); });
        };
        EmptyLookupEditor.prototype.setLookupItems = function (lookup) {
            var items = lookup.items.map(function (m) {
                return {
                    id: m[lookup.idField],
                    text: m[lookup.textField],
                    source: m
                };
            });
            this.setSelect2Items(items);
        };
        EmptyLookupEditor = __decorate([
            Serenity.Decorators.registerEditor()
        ], EmptyLookupEditor);
        return EmptyLookupEditor;
    }(Serenity.LookupEditorBase));
    _Ext.EmptyLookupEditor = EmptyLookupEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var HardCodedLookupEditor = /** @class */ (function (_super) {
        __extends(HardCodedLookupEditor, _super);
        function HardCodedLookupEditor(container, options) {
            var _this = _super.call(this, container, options) || this;
            var source = options.sourceArray;
            if (options.sourceCSV) {
                source = options.sourceCSV.split(',');
            }
            source.forEach(function (i) { return _this.addOption(i, i); });
            return _this;
        }
        HardCodedLookupEditor.prototype.getSelect2Options = function () {
            var opt = _super.prototype.getSelect2Options.call(this);
            return opt;
        };
        HardCodedLookupEditor = __decorate([
            Serenity.Decorators.registerEditor()
        ], HardCodedLookupEditor);
        return HardCodedLookupEditor;
    }(Serenity.Select2Editor));
    _Ext.HardCodedLookupEditor = HardCodedLookupEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var HtmlTemplateEditor = /** @class */ (function (_super) {
        __extends(HtmlTemplateEditor, _super);
        function HtmlTemplateEditor(textArea, opt) {
            return _super.call(this, textArea, opt) || this;
        }
        HtmlTemplateEditor.prototype.getConfig = function () {
            var config = _super.prototype.getConfig.call(this);
            var placehorders = this.options.placeholders;
            if (placehorders) {
                config.placeholder_select = {
                    placeholders: placehorders.split(',')
                };
                config.extraPlugins += ',richcombo,placeholder_select';
            }
            config.allowedContent = true;
            config.enterMode = window['CKEDITOR'].ENTER_BR;
            config.extraPlugins += ',showborders';
            config.removePlugins += ',uploadimage';
            //config.forcePasteAsPlainText = true;
            //config.toolbar = [['placeholder_select']];
            config.removeButtons += ',Cut,Copy,Paste,PasteText,PasteFromWord' +
                ',SpecialChar,Subscript,Superscript,Styles,' +
                'Link,Unlink,CreatePlaceholder,' +
                'Image,Anchor,Blockquote,BGColor,' +
                'Superscript,RemoveFormat';
            return config;
        };
        HtmlTemplateEditor = __decorate([
            Serenity.Decorators.editor(),
            Serenity.Decorators.element("<div/>")
        ], HtmlTemplateEditor);
        return HtmlTemplateEditor;
    }(Serenity.HtmlContentEditor));
    _Ext.HtmlTemplateEditor = HtmlTemplateEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var JsonViewer = /** @class */ (function (_super) {
        __extends(JsonViewer, _super);
        function JsonViewer() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        JsonViewer.prototype.getTemplate = function () {
            return "";
        };
        ;
        JsonViewer.prototype.getEditValue = function (property, target) {
            target[property.name] = this.value;
        };
        JsonViewer.prototype.setEditValue = function (source, property) {
            this.value = source[property.name];
        };
        Object.defineProperty(JsonViewer.prototype, "value", {
            get: function () {
                return this._value;
            },
            set: function (val) {
                this._value = val;
                this.element.text(JSON.stringify(val));
            },
            enumerable: true,
            configurable: true
        });
        JsonViewer = __decorate([
            Serenity.Decorators.editor(),
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue]),
            Serenity.Decorators.element("<div/>")
        ], JsonViewer);
        return JsonViewer;
    }(Serenity.TemplatedWidget));
    _Ext.JsonViewer = JsonViewer;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var MonthYearEditor = /** @class */ (function (_super) {
        __extends(MonthYearEditor, _super);
        function MonthYearEditor(container) {
            return _super.call(this, container) || this;
        }
        MonthYearEditor.prototype.getEditValue = function (property, target) { target[property.name] = this.value; };
        MonthYearEditor.prototype.setEditValue = function (source, property) { this.value = source[property.name]; };
        Object.defineProperty(MonthYearEditor.prototype, "value", {
            get: function () {
                return this.element.val();
            },
            set: function (val) {
                this.element.val(Q.formatDate(val, 'yyyy-MM'));
            },
            enumerable: true,
            configurable: true
        });
        MonthYearEditor.prototype.get_readOnly = function () {
            return this.element.hasClass('readonly');
        };
        MonthYearEditor.prototype.set_readOnly = function (value) {
            if (value == true) {
                this.element.addClass('readonly');
                this.element.attr("disabled");
            }
            else {
                this.element.removeClass('readonly');
                this.element.removeAttr("readonly");
                this.element.removeAttr("disabled");
            }
        };
        MonthYearEditor = __decorate([
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue, Serenity.IReadOnly]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element('<input type="month"/>')
        ], MonthYearEditor);
        return MonthYearEditor;
    }(Serenity.Widget));
    _Ext.MonthYearEditor = MonthYearEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var PrefixedStringEditor = /** @class */ (function (_super) {
        __extends(PrefixedStringEditor, _super);
        function PrefixedStringEditor(container, options) {
            var _this = _super.call(this, container, options) || this;
            _this._prefix = '';
            _this.options = options;
            var fontSize = parseFloat(window.getComputedStyle(_this.element[0]).fontSize);
            var prefixInputWidth = options.prefixLength * fontSize;
            _this.prefixInput = $('<input type="text"/>')
                .addClass('prefix readonly')
                .attr('style', "width:" + prefixInputWidth + "px;")
                .attr('disabled', 'disabled')
                .insertBefore(_this.element);
            _this.element.addClass('has-inplace-button');
            if (options.inputMaxLength) {
                setTimeout(function () { _this.element.attr('maxlength', options.inputMaxLength); }, 1000);
            }
            return _this;
        }
        PrefixedStringEditor.prototype.getEditValue = function (property, target) { target[property.name] = this.value; };
        PrefixedStringEditor.prototype.setEditValue = function (source, property) { this.value = source[property.name]; };
        Object.defineProperty(PrefixedStringEditor.prototype, "value", {
            get: function () {
                var inputVal = this.element.val();
                return this.prefix + inputVal;
            },
            set: function (val) {
                if (val) {
                    val = val.replace(' ', '');
                    var prefix = val.substr(0, this.options.prefixLength);
                    var inputVal = val.substr(this.options.prefixLength);
                    this.prefix = prefix;
                    this.element.val(inputVal);
                }
                else {
                    this.element.val(val);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PrefixedStringEditor.prototype, "prefix", {
            get: function () {
                return this._prefix;
            },
            set: function (val) {
                this._prefix = val;
                if (this.options.prefixFormatterType) {
                    var formatterType = Q.getType(this.options.prefixFormatterType);
                    if (formatterType)
                        this.prefixInput.val(formatterType.format(val));
                    else
                        this.prefixInput.val(val);
                }
                else {
                    this.prefixInput.val(val);
                }
            },
            enumerable: true,
            configurable: true
        });
        PrefixedStringEditor.prototype.get_readOnly = function () {
            return this.element.hasClass('readonly');
        };
        PrefixedStringEditor.prototype.set_readOnly = function (value) {
            if (value == true) {
                this.element.addClass('readonly');
                this.element.attr("readonly", "readonly");
            }
            else {
                this.element.removeClass('readonly');
                this.element.removeAttr("readonly");
            }
        };
        PrefixedStringEditor = __decorate([
            Serenity.Decorators.registerClass([Serenity.IGetEditValue, Serenity.ISetEditValue, Serenity.IReadOnly]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element('<input type="text"/>')
        ], PrefixedStringEditor);
        return PrefixedStringEditor;
    }(Serenity.Widget));
    _Ext.PrefixedStringEditor = PrefixedStringEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var StaticTextBlock = /** @class */ (function (_super) {
        __extends(StaticTextBlock, _super);
        function StaticTextBlock(container, options) {
            var _this = _super.call(this, container, options) || this;
            // hide the caption label for this editor if in a form. ugly hack
            if (_this.options.hideLabel)
                _this.element.closest('.field').find('.caption').hide();
            // remove required asterisk (*)
            _this.element.closest('.field').find('sup').hide();
            _this.updateElementContent();
            return _this;
        }
        StaticTextBlock.prototype.updateElementContent = function () {
            var text = Q.coalesce(this.options.text, this._value);
            if (this.options.isDate)
                text = Q.formatDate(text);
            if (this.options.isDateTime)
                text = Q.formatDate(text, Q.Culture.dateTimeFormat);
            // if isLocalText is set, text is actually a local text key
            if (this.options.isLocalText)
                text = Q.text(text);
            // don't html encode if isHtml option is true
            if (this.options.isHtml)
                this.element.html(text);
            else
                this.element.text(text);
        };
        /**
         * By implementing ISetEditValue interface, we allow this editor to display its field value.
         * But only do this when our text content is not explicitly set in options
         */
        StaticTextBlock.prototype.setEditValue = function (source, property) {
            if (this.options.text == null) {
                this._value = Q.coalesce(this.options.text, source[property.name]);
                this.updateElementContent();
            }
        };
        Object.defineProperty(StaticTextBlock.prototype, "value", {
            get: function () {
                return this._value;
            },
            set: function (value) {
                this._value = value;
                this.updateElementContent();
            },
            enumerable: true,
            configurable: true
        });
        StaticTextBlock = __decorate([
            Serenity.Decorators.element("<div/>"),
            Serenity.Decorators.registerEditor([Serenity.ISetEditValue])
        ], StaticTextBlock);
        return StaticTextBlock;
    }(Serenity.Widget));
    _Ext.StaticTextBlock = StaticTextBlock;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var YesNoEditor = /** @class */ (function (_super) {
        __extends(YesNoEditor, _super);
        function YesNoEditor(container) {
            var _this = _super.call(this, container, null) || this;
            _this.addOption("1", Q.text('Dialogs.YesButton'));
            _this.addOption("0", Q.text('Dialogs.NoButton'));
            return _this;
        }
        YesNoEditor.prototype.getEditValue = function (property, target) { target[property.name] = this.valueAsBoolean; };
        YesNoEditor.prototype.setEditValue = function (source, property) { this.valueAsBoolean = source[property.name]; };
        Object.defineProperty(YesNoEditor.prototype, "valueAsBoolean", {
            get: function () {
                var val = this.get_value();
                if (val == "1")
                    return true;
                else if (val == "0")
                    return false;
                else
                    return null;
            },
            set: function (val) {
                if (val == true)
                    this.set_value("1");
                else if (val == false)
                    this.set_value("0");
                else
                    this.set_value(null);
            },
            enumerable: true,
            configurable: true
        });
        YesNoEditor = __decorate([
            Serenity.Decorators.registerEditor()
        ], YesNoEditor);
        return YesNoEditor;
    }(Serenity.Select2Editor));
    _Ext.YesNoEditor = YesNoEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var GridItemPickerEditor = /** @class */ (function (_super) {
        __extends(GridItemPickerEditor, _super);
        function GridItemPickerEditor(container, options) {
            var _this = _super.call(this, container, options) || this;
            _this.options = options;
            _this.selectedItemIncludeColumns = [];
            _this.addInplaceButtons();
            _this.setCascadeFrom(_this.options.cascadeFrom);
            return _this;
        }
        GridItemPickerEditor.prototype.getTemplate = function () {
            return "<input type=\"text\" class=\"value select2-offscreen\" />\n                    <span class=\"select2-choice\">\n                        <span class=\"display-text\" style=\"user-select: text; padding-right: 20px;\"></span>\n                        <a class=\"select2-search-choice-close btn-clear-selection\" style=\"margin-top: 2px; cursor: pointer\"></a>\n                    </span>\n                    ";
        };
        ;
        GridItemPickerEditor.prototype.addInplaceButtons = function () {
            var _this = this;
            var self = this;
            this.element.addClass('select2-container has-inplace-button');
            this.inplaceSearchButton = $('<a style="padding-top: 2px;"><i class="fa fa-search"></i></a>')
                .addClass('inplace-button inplace-search align-center').attr('title', 'search')
                .insertAfter(this.element)
                .click(function (e) {
                self.inplaceSearchClick(e);
            });
            this.inplaceViewButton = $('<a style="padding-top: 2px;"><i class="fa fa-eye"></i></a>')
                .addClass('inplace-button inplace-view align-center').attr('title', 'view')
                .click(function (e) {
                self.inplaceViewClick(e);
            })
                .hide();
            if (this.options.inplaceView != false && !this.options.multiple) {
                this.inplaceViewButton.insertAfter(this.element);
            }
            this.clearSelectionButton = this.element.find('.select2-search-choice-close')
                .click(function (e) {
                _this.value = '';
                _this.text = '';
                _this._selectedItem = null;
                _this.selectedItems = [];
                $(e.target).hide();
                _this.element.trigger('change');
                //this.element.triggerHandler('change');
            })
                .hide();
        };
        GridItemPickerEditor.prototype.inplaceSearchClick = function (e) {
            var _this = this;
            this.options.preSelectedKeys = this.values;
            var pickerDialog = new _Ext.GridItemPickerDialog(this.options);
            pickerDialog.onSuccess = function (selectedItems) {
                _this.value = pickerDialog.checkGrid.rowSelection.getSelectedKeys().join(',');
                _this.text = selectedItems.map(function (m) { return m[_this.options.nameFieldInGridRow]; }).join(', ');
                if (Q.isEmptyOrNull(_this.text)) {
                    console.warn('nameFieldInGridRow might be wrong in ' + _this.widgetName);
                }
                _this._selectedItem = selectedItems[0];
                _this.selectedItems = selectedItems;
                _this.element.trigger('change');
                //this.element.triggerHandler('change');
            };
            pickerDialog.dialogOpen();
        };
        GridItemPickerEditor.prototype.inplaceViewClick = function (e) {
            var val = this.value;
            if (!Q.isEmptyOrNull(val)) {
                var dlg = this.getDialogInstance();
                dlg.isReadOnly = true;
                dlg.loadByIdAndOpenDialog(val, false);
            }
        };
        GridItemPickerEditor.prototype.getDialogInstance = function () {
            var dialogType = this.options.dialogType;
            if (!dialogType.prototype)
                dialogType = Q.getType(this.options.dialogType);
            try {
                var dlg = new dialogType();
                return dlg;
            }
            catch (ex) {
                console.warn('Could not intialize ' + this.options.dialogType);
            }
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "value", {
            get: function () {
                var editVal = this.element.find('input.value').val();
                return editVal;
            },
            set: function (val) {
                this.element.find('input.value').val(val);
                if (Q.isEmptyOrNull(val)) {
                    this.text = '';
                    this.inplaceViewButton.hide();
                    this.clearSelectionButton.hide();
                }
                else {
                    this.inplaceViewButton.show();
                    if (this.get_readOnly() == false)
                        this.clearSelectionButton.show();
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GridItemPickerEditor.prototype, "values", {
            get: function () {
                var valCVS = this.value;
                if (Q.isEmptyOrNull(valCVS))
                    return [];
                else
                    return valCVS.split(',');
            },
            set: function (val) {
                this.value = val.join(',');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GridItemPickerEditor.prototype, "text", {
            get: function () {
                var editVal = this.element.find('span.display-text').text();
                return editVal;
            },
            set: function (val) {
                this.element.find('span.display-text').text(val);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.getEditValue = function (property, target) {
            if (this.options.multiple == true) {
                target[property.name] = this.values;
            }
            else {
                target[property.name] = this.value;
            }
        };
        GridItemPickerEditor.prototype.setEditValue = function (source, property) {
            this.value = source[property.name];
            this.text = source[this.options.nameFieldInThisRow];
            if (source[property.name] && source[this.options.nameFieldInThisRow]) {
                this._selectedItem = {};
                this._selectedItem[this.options.idFieldInGridRow] = source[property.name];
                this._selectedItem[this.options.nameFieldInGridRow] = source[this.options.nameFieldInThisRow];
            }
        };
        GridItemPickerEditor.prototype.get_value = function () {
            return this.value;
        };
        GridItemPickerEditor.prototype.set_value = function (value) {
            this.value = value;
        };
        GridItemPickerEditor.prototype.get_readOnly = function () {
            return this.element.hasClass('readonly');
        };
        GridItemPickerEditor.prototype.set_readOnly = function (value) {
            if (value) {
                this.element.addClass('select2-container-disabled readonly');
                this.inplaceSearchButton.addClass('disabled').hide();
                this.clearSelectionButton.addClass('disabled').hide();
            }
            else {
                this.element.removeClass('select2-container-disabled readonly');
                this.inplaceSearchButton.removeClass('disabled').show();
                this.clearSelectionButton.removeClass('disabled').show();
            }
        };
        GridItemPickerEditor.prototype.get_required = function () {
            return this.element.find('input.value').hasClass('required');
        };
        GridItemPickerEditor.prototype.set_required = function (value) {
            if (value) {
                this.element.find('input.value, .select2-choice, span.display-text').addClass('required');
            }
            ;
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "selectedItem", {
            get: function () {
                var _this = this;
                if (this._selectedItem
                    && this._selectedItem[this.options.nameFieldInGridRow]
                    && this.selectedItemIncludeColumns.every(function (e) { return _this._selectedItem[e]; }))
                    return this._selectedItem;
                else if (!Q.isEmptyOrNull(this.value)) {
                    Q.serviceCall({
                        service: this.serviceUrl + '/Retrieve',
                        request: {
                            EntityId: this.value,
                            ColumnSelection: 2 /* list */,
                            IncludeColumns: this.selectedItemIncludeColumns
                        },
                        async: false,
                        onSuccess: function (response) {
                            _this._selectedItem = response.Entity;
                        }
                    });
                    return this._selectedItem;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GridItemPickerEditor.prototype, "serviceUrl", {
            get: function () {
                if (Q.isEmptyOrNull(this._serviceUrl)) {
                    var dlg = this.getDialogInstance();
                    this._serviceUrl = dlg['getService']();
                }
                return this._serviceUrl;
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.setValueAndText = function (value, text) {
            this.value = value;
            this.text = text;
        };
        //-------------------------------cascading and filtering -----------------------------------
        GridItemPickerEditor.prototype.getCascadeFromValue = function (parent) {
            return Serenity.EditorUtils.getValue(parent);
        };
        GridItemPickerEditor.prototype.setCascadeFrom = function (value) {
            var _this = this;
            if (Q.isEmptyOrNull(value)) {
                if (this.cascadeLink != null) {
                    this.cascadeLink.set_parentID(null);
                    this.cascadeLink = null;
                }
                this.options.cascadeFrom = null;
                return;
            }
            this.cascadeLink = new Serenity.CascadedWidgetLink(Serenity.Widget, this, function (p) {
                _this.set_cascadeValue(_this.getCascadeFromValue(p));
            });
            this.cascadeLink.set_parentID(value);
            this.options.cascadeFrom = value;
        };
        GridItemPickerEditor.prototype.get_cascadeFrom = function () {
            return this.options.cascadeFrom;
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "cascadeFrom", {
            get: function () {
                return this.get_cascadeFrom();
            },
            set: function (value) {
                this.set_cascadeFrom(value);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.set_cascadeFrom = function (value) {
            if (value !== this.options.cascadeFrom) {
                this.setCascadeFrom(value);
                this.updateItems();
            }
        };
        GridItemPickerEditor.prototype.get_cascadeField = function () {
            return Q.coalesce(this.options.cascadeField, this.options.cascadeFrom);
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "cascadeField", {
            get: function () {
                return this.get_cascadeField();
            },
            set: function (value) {
                this.set_cascadeField(value);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.set_cascadeField = function (value) {
            this.options.cascadeField = value;
        };
        GridItemPickerEditor.prototype.get_cascadeValue = function () {
            return this.options.cascadeValue;
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "cascadeValue", {
            get: function () {
                return this.get_cascadeValue();
            },
            set: function (value) {
                this.set_cascadeValue(value);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.set_cascadeValue = function (value) {
            if (this.options.cascadeValue !== value) {
                this.options.cascadeValue = value;
                this.set_value(null);
                this.updateItems();
            }
        };
        GridItemPickerEditor.prototype.get_filterField = function () {
            return this.options.filterField;
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "filterField", {
            get: function () {
                return this.get_filterField();
            },
            set: function (value) {
                this.set_filterField(value);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.set_filterField = function (value) {
            this.options.filterField = value;
        };
        GridItemPickerEditor.prototype.get_filterValue = function () {
            return this.options.filterValue;
        };
        Object.defineProperty(GridItemPickerEditor.prototype, "filterValue", {
            get: function () {
                return this.get_filterValue();
            },
            set: function (value) {
                this.set_filterValue(value);
            },
            enumerable: true,
            configurable: true
        });
        GridItemPickerEditor.prototype.set_filterValue = function (value) {
            if (this.options.filterValue !== value) {
                this.options.filterValue = value;
                this.set_value(null);
                this.updateItems();
            }
        };
        GridItemPickerEditor.prototype.updateItems = function () {
        };
        GridItemPickerEditor = __decorate([
            Serenity.Decorators.registerClass([Serenity.ISetEditValue, Serenity.IGetEditValue, Serenity.IStringValue, Serenity.IReadOnly, Serenity.IValidateRequired]),
            Serenity.Decorators.editor(),
            Serenity.Decorators.element('<div/>')
        ], GridItemPickerEditor);
        return GridItemPickerEditor;
    }(Serenity.TemplatedWidget));
    _Ext.GridItemPickerEditor = GridItemPickerEditor;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var MonthYearFormatter = /** @class */ (function () {
        function MonthYearFormatter() {
        }
        MonthYearFormatter_1 = MonthYearFormatter;
        MonthYearFormatter.format = function (val) {
            if (val) {
                if (val.length == 7)
                    val += '-01';
                var valDate = Q.parseISODateTime(val);
                return q.getEnumText('Months', valDate.getMonth()) + '-' + valDate.getFullYear();
            }
            else
                return '';
        };
        MonthYearFormatter.prototype.format = function (ctx) {
            return MonthYearFormatter_1.format(ctx.value);
        };
        var MonthYearFormatter_1;
        MonthYearFormatter = MonthYearFormatter_1 = __decorate([
            Serenity.Decorators.registerFormatter([Serenity.ISlickFormatter])
        ], MonthYearFormatter);
        return MonthYearFormatter;
    }());
    _Ext.MonthYearFormatter = MonthYearFormatter;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var CardViewMixin = /** @class */ (function () {
        function CardViewMixin(options) {
            var _this = this;
            this.options = options;
            var u, f;
            var dg = this.dataGrid = options.grid;
            var idProperty = dg.getIdProperty();
            var getId = this.getId = function (item) { return item[idProperty]; };
            options.defaultViewType = options.defaultViewType || 'list';
            this.viewType = options.defaultViewType;
            var divViewSwitch = $('\n<div class="btn-group view-switch" data-toggle="buttons" style="float: right">\n    <label class="btn btn-default active" title="List View">\n        <i class="fa fa-th-list text-purple"><\/i>\n        <input type="radio" name="' + dg.element.attr("id") + '_ViewType" value="list" checked />\n    <\/label>\n    <label class="btn btn-default" title="Card View">\n        <i class="fa fa-th-large text-purple"><\/i>\n        <input type="radio" name="' + dg.element.attr("id") + '_ViewType" value="card" />    \n    <\/label>\n<\/div>')
                .prependTo(dg.element.find(".grid-title"));
            this.cardContainer = $('<div class="card-container" style="display: none;"><div class="card-items"><\/div><\/div>').insertAfter(dg.element.children(".grid-container"));
            divViewSwitch.find("input").change(function (e) {
                return _this.switchView($(e.target).val());
            });
            this.resizeCardView();
            dg.element.bind("layout", function () {
                return _this.resizeCardView();
            });
            dg.view.onDataChanged.subscribe(function () {
                _this.vm && _this.updateCardItems();
            });
            u = dg.getCurrentSettings;
            dg.getCurrentSettings = function (n) {
                var i = u.apply(dg, [n]);
                return i.viewType = divViewSwitch.find("input:checked").val(), i;
            };
            f = dg.restoreSettings;
            dg.restoreSettings = function (n, i) {
                var u, e, o, s;
                if (f.apply(dg, [n, i]),
                    n == null) {
                    if (u = this.getPersistanceStorage(),
                        u == null)
                        return;
                    if (e = Q.trimToNull(u.getItem(this.getPersistanceKey())),
                        !e)
                        return;
                    n = JSON.parse(e);
                }
                o = n.viewType || options.defaultViewType;
                s = divViewSwitch.find("input:checked").val() || options.defaultViewType;
                o != s && divViewSwitch.find("input").eq(o == "card" ? 1 : 0).click();
            };
        }
        CardViewMixin.prototype.switchView = function (viewType) {
            this.resizeCardView();
            var isCardView = viewType == "card";
            this.dataGrid.element.children(".card-container").toggle(isCardView);
            this.dataGrid.element.children(".grid-container").toggle(!isCardView);
            isCardView && this.updateCardItems();
            this.dataGrid.persistSettings();
        };
        CardViewMixin.prototype.updateCardItems = function () {
            if (this.vm)
                this.vm.items = this.dataGrid.getItems();
            else {
                usingVuejs();
                this.vm = new Vue({
                    el: this.cardContainer.children()[0],
                    template: this.options.containerTemplate ? "<div> " + this.options.containerTemplate + " </div>"
                        : "<div class=\"card-items\">\n    <div v-for=\"(item, index) in items\" class=\"" + (this.options.itemCssClass || 'col-sm-12 col-md-6 col-lg-4') + "\">\n        <div class=\"card-item\" style=\"" + this.options.itemCssStyle + "\">\n        " + this.options.itemTemplate + "\n        </div>\n    </div>\n</div>",
                    data: {
                        items: this.dataGrid.getItems()
                    },
                    methods: this.options.methods
                });
            }
        };
        CardViewMixin.prototype.resizeCardView = function () {
            var gridContainer = this.dataGrid.element.children(".grid-container"), width = this.dataGrid.element.width(), height = gridContainer.height();
            this.dataGrid.element.children(".card-container").css({
                width: width + "px",
                height: height + "px"
            });
        };
        return CardViewMixin;
    }());
    _Ext.CardViewMixin = CardViewMixin;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    /**
     * A mixin that can be applied to a DataGrid for excel style filtering functionality
     */
    var HeaderFiltersMixin = /** @class */ (function () {
        function HeaderFiltersMixin(options) {
            this.options = options;
            var dg = this.dataGrid = options.grid;
            var currentColumn = null;
            var cachedValues = {};
            usingSlickHeaderFilters();
            var headerFilters = new Slick['Plugins'].HeaderFilters({
                getFilterValues: function (column, setFilterableValues) {
                    if (!dg.view.url || !dg.view["getPagingInfo"]().rowsPerPage || dg.view.getLength() == 0
                        && !Q.any(dg.slickGrid.getColumns(), function (x) { return x.filterValues && x.filterValues.length > 0; })) {
                        return null;
                    }
                    currentColumn = column;
                    try {
                        if (!dg.onViewSubmit()) {
                            setFilterableValues([]);
                            return;
                        }
                    }
                    finally {
                        currentColumn = null;
                    }
                    var request = Q.deepClone(dg.view.params);
                    request.DistinctFields = [column.field];
                    request.Skip = 0;
                    request.Take = 0;
                    var cacheKey = $.toJSON(request);
                    var cachedValue = cachedValues[cacheKey];
                    if (cachedValue && cachedValue.expires > (new Date).getTime())
                        setFilterableValues(cachedValue.value);
                    else {
                        Q.serviceCall({
                            request: request,
                            url: dg.view.url,
                            onSuccess: function (response) {
                                cachedValues[cacheKey] = {
                                    value: response.Values,
                                    expires: (new Date).getTime() + 1e3 * 30
                                };
                                setFilterableValues(response.Values);
                            }
                        });
                    }
                },
                isFilterable: function (column) {
                    return column.sourceItem != null && column.sortable && (column.sourceItem.notFilterable == null || !column.sourceItem.notFilterable);
                }
            });
            headerFilters.onFilterApplied.subscribe(function () {
                dg.refresh();
            });
            dg.slickGrid.registerPlugin(headerFilters);
            var oldOnViewSubmit = dg.onViewSubmit;
            dg.onViewSubmit = function () {
                if (!oldOnViewSubmit.call(dg))
                    return false;
                var columns = dg.slickGrid.getColumns();
                var request = dg.view.params;
                for (var n = 0; n < columns.length; n++) {
                    var column = columns[n];
                    if (column === currentColumn)
                        continue;
                    var filterValues = column.filterValues;
                    if (filterValues && filterValues.length) {
                        var u = filterValues.filter(function (f) { return f != null; });
                        var d = [[column.field], "in", [u]];
                        if (u.length !== filterValues.length) {
                            if (u.length > 0)
                                d = Serenity.Criteria.or(["is null", [column.field]], d);
                            else
                                d = ["is null", [column.field]];
                        }
                        request.Criteria = Serenity.Criteria.and(request.Criteria, d);
                    }
                }
                return true;
            };
        }
        return HeaderFiltersMixin;
    }());
    _Ext.HeaderFiltersMixin = HeaderFiltersMixin;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    /**
     * A mixin that can be applied to a DataGrid for tree functionality
     */
    var TreeGridMixin = /** @class */ (function () {
        function TreeGridMixin(options) {
            this.options = options;
            var dg = this.dataGrid = options.grid;
            var idProperty = options.idField || dg.getIdProperty();
            var getId = this.getId = function (item) { return item[idProperty]; };
            dg.element.find('.grid-container').on('click', function (e) {
                if ($(e.target).hasClass('s-TreeToggle')) {
                    var src = dg.slickGrid.getCellFromEvent(e);
                    if (src.cell >= 0 &&
                        src.row >= 0) {
                        TreeGridMixin.toggleClick(e, src.row, src.row, dg.view, getId);
                    }
                }
            });
            var oldViewFilter = dg.onViewFilter;
            dg.onViewFilter = function (item) {
                if (!oldViewFilter.apply(this, [item]))
                    return false;
                return TreeGridMixin.filterById(item, dg.view, idProperty, options.getParentId);
            };
            var oldProcessData = dg.onViewProcessData;
            dg.onViewProcessData = function (response) {
                response = oldProcessData.apply(this, [response]);
                response.Entities = TreeGridMixin.applyTreeOrdering(response.Entities, getId, options.getParentId);
                Serenity.SlickTreeHelper.setIndents(response.Entities, getId, options.getParentId, (options.initialCollapse && options.initialCollapse()) || false);
                return response;
            };
            if (options.toggleField) {
                var col = Q.first(dg.getGrid().getColumns(), function (x) { return x.field == options.toggleField; });
                col.format = TreeGridMixin.treeToggle(function () { return dg.view; }, getId, col.format || (function (ctx) { return Q.htmlEncode(ctx.value); }));
                col.formatter = Serenity.SlickHelper.convertToFormatter(col.format);
            }
        }
        /**
         * Expands / collapses all rows in a grid automatically
         */
        TreeGridMixin.prototype.toggleAll = function () {
            Serenity.SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(), !this.dataGrid.view.getItems().every(function (x) { return x._collapsed == true; }));
            this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);
        };
        TreeGridMixin.prototype.expandAll = function () {
            Serenity.SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(), false);
            this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);
        };
        TreeGridMixin.prototype.collapsedAll = function () {
            Serenity.SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(), true);
            this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);
        };
        /**
         * Reorders a set of items so that parents comes before their children.
         * This method is required for proper tree ordering, as it is not so easy to perform with SQL.
         * @param items list of items to be ordered
         * @param getId a delegate to get ID of a record (must return same ID with grid identity field)
         * @param getParentId a delegate to get parent ID of a record
         */
        TreeGridMixin.applyTreeOrdering = function (items, getId, getParentId) {
            var result = [];
            var byId = Q.toGrouping(items, getId);
            var byParentId = Q.toGrouping(items, getParentId);
            var visited = {};
            function takeChildren(theParentId) {
                if (visited[theParentId])
                    return;
                visited[theParentId] = true;
                for (var _i = 0, _a = (byParentId[theParentId] || []); _i < _a.length; _i++) {
                    var child = _a[_i];
                    result.push(child);
                    takeChildren(getId(child));
                }
            }
            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
                var item = items_1[_i];
                var parentId = getParentId(item);
                var hasParent = parentId != null;
                var parent_1 = byId[parentId];
                var isRootItem = !hasParent || !(parent_1 || []).length;
                if (isRootItem) {
                    result.push(item);
                    takeChildren(getId(item));
                }
            }
            return result;
        };
        TreeGridMixin.filterById = function (item, view, idProperty, getParentId) {
            return Serenity.SlickTreeHelper.filterCustom(item, function (x) {
                var parentId = getParentId(x);
                if (parentId == null) {
                    return null;
                }
                var items = view.getItems();
                var parentItem = items.filter(function (f) { return f[idProperty] == parentId; })[0];
                return parentItem;
            });
        };
        TreeGridMixin.treeToggle = function (getView, getId, formatter) {
            return function (ctx) {
                var text = formatter(ctx);
                var view = getView();
                var indent = Q.coalesce(ctx.item._indent, 0);
                var spacer = '<span class="s-TreeIndent" style="width:' + 15 * indent + 'px"></span>';
                var id = getId(ctx.item);
                var idx = view.getIdxById(ctx.item.__id || id);
                var next = view.getItemByIdx(idx + 1);
                if (next != null) {
                    var nextIndent = Q.coalesce(next._indent, 0);
                    if (nextIndent > indent) {
                        if (!!!!ctx.item._collapsed) {
                            return spacer + '<span class="s-TreeToggle s-TreeExpand"></span>' + text;
                        }
                        else {
                            return spacer + '<span class="s-TreeToggle s-TreeCollapse"></span>' + text;
                        }
                    }
                }
                return spacer + '<span class="s-TreeToggle"></span>' + text;
            };
        };
        TreeGridMixin.toggleClick = function (e, row, cell, view, getId) {
            var target = $(e.target);
            if (!target.hasClass('s-TreeToggle')) {
                return;
            }
            if (target.hasClass('s-TreeCollapse') || target.hasClass('s-TreeExpand')) {
                var item = view.getItem(row);
                if (item != null) {
                    if (!!!item._collapsed) {
                        item._collapsed = true;
                    }
                    else {
                        item._collapsed = false;
                    }
                    var id = getId(item);
                    view.updateItem(item.__id || id, item); //to support in-memory grid we check fake item.__id
                }
                if (e.shiftKey) {
                    view.beginUpdate();
                    try {
                        Serenity.SlickTreeHelper.setCollapsed(view.getItems(), !!item._collapsed);
                        view.setItems(view.getItems(), true);
                    }
                    finally {
                        view.endUpdate();
                    }
                }
            }
        };
        return TreeGridMixin;
    }());
    _Ext.TreeGridMixin = TreeGridMixin;
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ExcelExportHelper;
    (function (ExcelExportHelper) {
        function createToolButton(options) {
            return {
                hint: Q.coalesce(options.title, 'Excel'),
                title: Q.coalesce(options.hint, ''),
                cssClass: 'export-xlsx-button',
                onClick: function () {
                    if (!options.onViewSubmit()) {
                        return;
                    }
                    var grid = options.grid;
                    var request = Q.deepClone(grid.getView().params);
                    request.Take = 0;
                    request.Skip = 0;
                    var sortBy = grid.getView().sortBy;
                    if (sortBy) {
                        request.Sort = sortBy;
                    }
                    request.IncludeColumns = [];
                    var columns = grid.getGrid().getColumns();
                    for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {
                        var column = columns_2[_i];
                        request.IncludeColumns.push(column.id || column.field);
                    }
                    Q.postToService({ service: options.service, request: request, target: '_blank' });
                },
                separator: options.separator
            };
        }
        ExcelExportHelper.createToolButton = createToolButton;
    })(ExcelExportHelper = _Ext.ExcelExportHelper || (_Ext.ExcelExportHelper = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var PdfExportHelper;
    (function (PdfExportHelper) {
        function toAutoTableColumns(srcColumns, columnStyles, columnTitles) {
            return srcColumns.map(function (src) {
                var col = {
                    dataKey: src.id || src.field,
                    title: src.name || ''
                };
                if (columnTitles && columnTitles[col.dataKey] != null)
                    col.title = columnTitles[col.dataKey];
                var style = {};
                if ((src.cssClass || '').indexOf("align-right") >= 0)
                    style.halign = 'right';
                else if ((src.cssClass || '').indexOf("align-center") >= 0)
                    style.halign = 'center';
                columnStyles[col.dataKey] = style;
                return col;
            });
        }
        function toAutoTableData(entities, keys, srcColumns) {
            var el = document.createElement('span');
            var row = 0;
            return entities.map(function (item) {
                var dst = {};
                for (var cell = 0; cell < srcColumns.length; cell++) {
                    var src = srcColumns[cell];
                    var fld = src.field || '';
                    var key = keys[cell];
                    var txt = void 0;
                    var html = void 0;
                    if (src.formatter) {
                        html = src.formatter(row, cell, item[fld], src, item);
                    }
                    else if (src.format) {
                        html = src.format({ row: row, cell: cell, item: item, value: item[fld] });
                    }
                    else {
                        dst[key] = item[fld];
                        continue;
                    }
                    if (!html || (html.indexOf('<') < 0 && html.indexOf('&') < 0))
                        dst[key] = html;
                    else {
                        el.innerHTML = html;
                        if (el.children.length == 1 &&
                            $(el.children[0]).is(":input")) {
                            dst[key] = $(el.children[0]).val();
                        }
                        else if (el.children.length == 1 &&
                            $(el.children).is('.check-box')) {
                            dst[key] = $(el.children).hasClass("checked") ? "Yes" : "No";
                        }
                        else
                            dst[key] = el.textContent || '';
                    }
                }
                row++;
                return dst;
            });
        }
        function exportToPdf(options) {
            var g = options.grid;
            if (!options.onViewSubmit())
                return;
            includeAutoTable();
            var request = Q.deepClone(g.view.params);
            request.Take = 0;
            request.Skip = 0;
            var sortBy = g.view.sortBy;
            if (sortBy != null)
                request.Sort = sortBy;
            var gridColumns = g.slickGrid.getColumns();
            gridColumns = gridColumns.filter(function (x) { return x.id !== "__select__" && x.cssClass !== "not-exportable" && x.name.length > 0; });
            request.IncludeColumns = [];
            for (var _i = 0, gridColumns_2 = gridColumns; _i < gridColumns_2.length; _i++) {
                var column = gridColumns_2[_i];
                request.IncludeColumns.push(column.id || column.field);
            }
            Q.serviceCall({
                url: g.view.url,
                request: request,
                onSuccess: function (response) {
                    var doc = new jsPDF('l', 'pt');
                    var groupings = g.view.getGrouping(); //group fields
                    var groupingColumns = gridColumns.filter(function (f) { return groupings.some(function (s) { return s.getter == f.field; }) == true; });
                    var srcColumns = gridColumns.filter(function (f) { return groupings.some(function (s) { return s.getter == f.field; }) == false; });
                    var columnStyles = {};
                    var columns = toAutoTableColumns(srcColumns, columnStyles, options.columnTitles);
                    var keys = columns.filter(function (f) { return groupings.some(function (s) { return s.getter == f; }) == false; }).map(function (x) { return x.dataKey; });
                    var totalPagesExp = "{{T}}";
                    var pageNumbers = options.pageNumbers == null || options.pageNumbers;
                    var autoOptions = $.extend({
                        margin: { top: 40, left: 40, right: 40, bottom: pageNumbers ? 110 : 100 },
                        startY: 90,
                        styles: {
                            fontSize: 8,
                            overflow: 'linebreak',
                            cellPadding: 5,
                            valign: 'middle',
                            lineColor: 0
                        },
                        headerStyles: { fillColor: 255, textColor: 0, lineWidth: 1, fillStyle: 'S', halign: 'center', valign: 'middle' },
                        columnStyles: columnStyles
                    }, options.tableOptions);
                    ///region Title
                    {
                        if (q.jsPDFHeaderImageData) {
                            doc.addImage(q.jsPDFHeaderImageData, 'PNG', 40, 40, 60, 60);
                        }
                        doc.autoTable([q.jsPDFHeaderTitle], [], {
                            margin: { bottom: 10, left: 110 },
                            startY: options.titleTop || 45,
                            headerStyles: { fillColor: 255, textColor: 0 },
                            styles: { halign: 'left', fontSize: 18 }
                        });
                        var reportTitle = '';
                        if (groupingColumns[0])
                            reportTitle = groupingColumns.map(function (m) { return m.name; }).join(', ') + ' wise ';
                        reportTitle += options.reportTitle || g.getTitle();
                        reportTitle += " Report";
                        doc.autoTable([reportTitle], [], {
                            margin: { top: 10, bottom: 10, left: 110 },
                            startY: doc.autoTableEndPosY(),
                            headerStyles: { fillColor: 255, textColor: 0 },
                            styles: { halign: 'left', fontSize: 14 }
                        });
                    }
                    ///region Header
                    {
                        var header = function (data) {
                        };
                        autoOptions.beforePageContent = header;
                    }
                    ///region Footer
                    {
                        if (pageNumbers) {
                            var footer = function (data) {
                                var str = data.pageCount;
                                // Total page number plugin only available in jspdf v1.0+
                                if (typeof doc.putTotalPages === 'function') {
                                    str = str + " / " + totalPagesExp;
                                }
                                doc.autoTableText(str, doc.internal.pageSize.width / 2, doc.internal.pageSize.height - autoOptions.margin.bottom, {
                                    halign: 'center'
                                });
                            };
                            autoOptions.afterPageContent = footer;
                        }
                    }
                    ///region Content
                    {
                        //extra space after title
                        doc.autoTable([''], [], {
                            startY: doc.autoTableEndPosY() + 20,
                            headerStyles: { fillColor: 255, textColor: 0 }
                        });
                        var headerHeight = 125;
                        var headerFontSizeBase = 11;
                        var entities = response.Entities || [];
                        g.setItems(entities);
                        var groups = g.view.getGroups(); //grouped data
                        if (groups.length > 0) {
                            var ggg = function (grps, parentGroupIndex) {
                                var endPosY = doc.autoTableEndPosY();
                                for (var i = 0; i < grps.length; i++) {
                                    var group = grps[i];
                                    var level = group.level + 1;
                                    doc.autoTable([group.title], [], {
                                        margin: { left: 30 + level * 10, top: 2 },
                                        startY: doc.autoTableEndPosY(),
                                        headerStyles: { fillColor: 255, textColor: 0, fontSize: 10 - group.level, cellPadding: 0 }
                                    });
                                    if (group.groups) {
                                        ggg(group.groups, i);
                                    }
                                    else {
                                        var data = toAutoTableData(group.rows, keys, srcColumns);
                                        autoOptions.startY = doc.autoTableEndPosY();
                                        autoOptions.margin.left = 30 + level * 10;
                                        autoOptions.margin.bottom = 10;
                                        doc.autoTable(columns, data, autoOptions);
                                        //for extra space
                                        doc.autoTable([''], [], {
                                            margin: { left: 30 + level * 10, top: 2 },
                                            startY: doc.autoTableEndPosY() + 10,
                                            headerStyles: { fillColor: 255, textColor: 0 }
                                        });
                                    }
                                }
                            };
                            ggg(groups, -1);
                        }
                        else {
                            var data = toAutoTableData(g.getItems(), keys, srcColumns);
                            autoOptions.startY = headerHeight;
                            doc.autoTable(columns, data, autoOptions);
                        }
                    }
                    if (typeof doc.putTotalPages === 'function') {
                        doc.putTotalPages(totalPagesExp);
                    }
                    if (!options.output || options.output == "file") {
                        var fileName = options.reportTitle || "{0}_{1}.pdf";
                        fileName = Q.format(fileName, g.getTitle() || "report", Q.formatDate(new Date(), "yyyyMMdd_HHmm"));
                        doc.save(fileName);
                        return;
                    }
                    if (options.autoPrint)
                        doc.autoPrint();
                    var output = options.output;
                    if (output == 'newwindow' || '_blank')
                        output = 'dataurlnewwindow';
                    else if (output == 'window')
                        output = 'datauri';
                    doc.output(output);
                }
            });
        }
        PdfExportHelper.exportToPdf = exportToPdf;
        function createToolButton(options) {
            return {
                title: options.title || '',
                hint: options.hint || 'PDF',
                cssClass: 'export-pdf-button',
                onClick: function () { return exportToPdf(options); },
                separator: options.separator
            };
        }
        PdfExportHelper.createToolButton = createToolButton;
        function includeJsPDF() {
            if (typeof jsPDF !== "undefined")
                return;
            var script = $("jsPDFScript");
            if (script.length > 0)
                return;
            $("<script/>")
                .attr("type", "text/javascript")
                .attr("id", "jsPDFScript")
                .attr("src", Q.resolveUrl("~/Scripts/jspdf.min.js"))
                .appendTo(document.head);
        }
        function includeAutoTable() {
            includeJsPDF();
            if (typeof jsPDF === "undefined" ||
                typeof jsPDF.API == "undefined" ||
                typeof jsPDF.API.autoTable !== "undefined")
                return;
            var script = $("jsPDFAutoTableScript");
            if (script.length > 0)
                return;
            $("<script/>")
                .attr("type", "text/javascript")
                .attr("id", "jsPDFAutoTableScript")
                .attr("src", Q.resolveUrl("~/Scripts/jspdf.plugin.autotable.min.js"))
                .appendTo(document.head);
        }
    })(PdfExportHelper = _Ext.PdfExportHelper || (_Ext.PdfExportHelper = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var ReportHelper;
    (function (ReportHelper) {
        function createToolButton(options) {
            return {
                title: Q.coalesce(options.title, 'Report'),
                cssClass: Q.coalesce(options.cssClass, 'print-button'),
                icon: options.icon,
                onClick: function () {
                    ReportHelper.execute(options);
                }
            };
        }
        ReportHelper.createToolButton = createToolButton;
        function execute(options) {
            var opt = options.getParams ? options.getParams() : options.params;
            Q.postToUrl({
                url: '~/Report/' + (options.download ? 'Download' : 'Render'),
                params: {
                    key: options.reportKey,
                    ext: Q.coalesce(options.extension, 'pdf'),
                    opt: opt ? $.toJSON(opt) : ''
                },
                target: Q.coalesce(options.target, '_blank')
            });
        }
        ReportHelper.execute = execute;
    })(ReportHelper = _Ext.ReportHelper || (_Ext.ReportHelper = {}));
})(_Ext || (_Ext = {}));
var _Ext;
(function (_Ext) {
    var DialogUtils;
    (function (DialogUtils) {
        function pendingChangesConfirmation(element, hasPendingChanges) {
            element.on('dialogbeforeclose panelbeforeclose', function (e) {
                if (!Serenity.WX.hasOriginalEvent(e) || !hasPendingChanges()) {
                    return;
                }
                e.preventDefault();
                Q.confirm(q.text('Controls.EntityDialog.PendingChangesConfirmation', 'You have pending changes. Save them?'), function () { return element.find('div.save-and-close-button').click(); }, {
                    onNo: function () {
                        if (element.hasClass('ui-dialog-content'))
                            element.dialog('close');
                        else if (element.hasClass('s-Panel'))
                            Serenity.TemplatedDialog.closePanel(element);
                    }
                });
            });
        }
        DialogUtils.pendingChangesConfirmation = pendingChangesConfirmation;
    })(DialogUtils = _Ext.DialogUtils || (_Ext.DialogUtils = {}));
})(_Ext || (_Ext = {}));
function loadScriptAsync(url, callback) {
    // Adding the script tag to the head as suggested before
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;
    // Then bind the event to the callback function.
    // There are several events for cross browser compatibility.
    script.onload = callback;
    // Fire the loading
    head.appendChild(script);
}
function loadScript(url) {
    $.ajax({
        url: url,
        dataType: "script",
        async: false,
        cache: true,
        success: function () {
            // all good...
        },
        error: function () {
            throw new Error("Could not load script " + url);
        }
    });
}
function usingVuejs() {
    if (window['Vue']) {
        return;
    }
    else {
        loadScript(Q.resolveUrl("~/Scripts/vue.js"));
        //filters
        window['Vue'].filter('formatDate', function (value, format) {
            if (value) {
                return Q.formatDate(value, format);
            }
        });
        window['Vue'].filter('formatDateReadable', function (value) {
            if (value) {
                var date = Q.parseISODateTime(value);
                return date.getDate() + ' ' + _Ext.Months[date.getMonth()].substr(0, 3) + ' ' + date.getFullYear();
            }
        });
        window['Vue'].filter('dayOnly', function (value) {
            if (value) {
                return Q.formatDate(value, 'dd');
            }
        });
        window['Vue'].filter('monthOnly', function (value) {
            if (value) {
                var date = Q.parseISODateTime(value);
                return _Ext.Months[date.getMonth()];
            }
        });
        window['Vue'].filter('monthOnly3', function (value) {
            if (value) {
                var date = Q.parseISODateTime(value);
                return _Ext.Months[date.getMonth()].substr(0, 3);
            }
        });
        window['Vue'].filter('yearOnly', function (value) {
            if (value) {
                var date = Q.parseISODateTime(value);
                return date.getFullYear();
            }
        });
        window['Vue'].filter('timeOnlyHHmm', function (value) {
            if (value) {
                return Q.formatDate(value, 'HH:mm');
            }
        });
        window['Vue'].filter('formatDateTimeReadable', function (value) {
            if (value) {
                var date = Q.parseISODateTime(value);
                return date.getDate() + ' ' + _Ext.Months[date.getMonth()] + ' ' + date.getFullYear()
                    + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
            }
        });
        window['Vue'].filter('enumText', function (value, enumKey) {
            if (value) {
                return Serenity.EnumFormatter.format(Serenity.EnumTypeRegistry.get(enumKey), value);
            }
        });
        window['Vue'].filter('truncate', function (text, length, clamp) {
            clamp = clamp || '...';
            length = length || 30;
            if (text.length <= length)
                return text;
            var tcText = text.slice(0, length - clamp.length);
            var last = tcText.length - 1;
            while (last > 0 && tcText[last] !== ' ' && tcText[last] !== clamp[0])
                last -= 1;
            // Fix for case when text dont have any `space`
            last = last || length - clamp.length;
            tcText = tcText.slice(0, last);
            return tcText + clamp;
        });
        window['Vue'].filter('capitalize', function (value) {
            if (!value)
                return '';
            value = value.toString();
            return value.charAt(0).toUpperCase() + value.toLowerCase().slice(1);
        });
    }
}
function includeBootstrapColorPickerCss() {
    var style = $("#colorpicker");
    if (style.length > 0) {
        return;
    }
    $("<link/>")
        .attr("type", "text/css")
        .attr("id", "colorpicker")
        .attr("rel", "stylesheet")
        .attr("href", Q.resolveUrl("~/Scripts/colorpicker/bootstrap-colorpicker.min.css"))
        .appendTo(document.head);
}
function usingBootstrapColorPicker() {
    if (window['colorpicker']) {
        return;
    }
    else {
        includeBootstrapColorPickerCss();
        loadScript(Q.resolveUrl("~/Scripts/colorpicker/bootstrap-colorpicker.min.js"));
    }
}
function includeJqueryUITimepickerAddonCss() {
    var style = $("#datetimepicker");
    if (style.length > 0) {
        return;
    }
    $("<link/>")
        .attr("type", "text/css")
        .attr("id", "datetimepicker")
        .attr("rel", "stylesheet")
        .attr("href", Q.resolveUrl("~/Content/jquery-ui-timepicker-addon.css"))
        .appendTo(document.head);
}
function usingJqueryUITimepickerAddon() {
    if (window['datetimepicker']) {
        return;
    }
    else {
        includeJqueryUITimepickerAddonCss();
        loadScript(Q.resolveUrl("~/Scripts/jquery-ui-timepicker-addon.js"));
    }
}
function usingBabylonjs() {
    if (window['BABYLON'] && window['BABYLON']['Engine']) {
        return;
    }
    else {
        loadScript(Q.resolveUrl("~/Scripts/babylon.js"));
    }
}
function usingChartjs() {
    if (window['Chart']) {
        return;
    }
    else {
        loadScript(Q.resolveUrl('~/Scripts/chartjs/Chart.min.js'));
    }
    window['Chart'].defaults.global.defaultFontFamily = $('body').css('font-family');
    window['Chart'].defaults.global.maintainAspectRatio = false;
    window['Chart'].defaults.global.tooltips.mode = 'index';
}
function includeCustomMarkerCss() {
    var style = $("#customMarker");
    if (style.length > 0) {
        return;
    }
    $("<link/>")
        .attr("type", "text/css")
        .attr("id", "customMarker")
        .attr("rel", "stylesheet")
        .attr("href", Q.resolveUrl("~/Scripts/googlemap/CustomMarker.css"))
        .appendTo(document.head);
}
function usingCustomMarker() {
    if (window['CustomMarker']) {
        return;
    }
    else {
        includeCustomMarkerCss();
        loadScript(Q.resolveUrl("~/Scripts/googlemap/CustomMarker.js"));
    }
}
function includeGoogleMap(callback, callbackFullName) {
    if (window['google']) {
        if (callback)
            callback();
        return;
    }
    var script = $("#googleScript");
    if (script.length > 0) {
        if (callback)
            callback();
        return;
    }
    $("<script/>")
        .attr("type", "text/javascript")
        .attr("id", "googleScript")
        .attr("src", 'http://maps.google.com/maps/api/js?v=3.31&key=AIzaSyCRiY7aFA2cI6STbl3YQ3r6m1IpUFmBM98&callback=' + callbackFullName || 'includeGoogleMap')
        .appendTo(document.head);
}
function includeMarkerWithLabel() {
    if (window['MarkerWithLabel']) {
        return;
    }
    var script = $("#MarkerWithLabelScript");
    if (script.length > 0) {
        return;
    }
    $("<script/>")
        .attr("type", "text/javascript")
        .attr("id", "MarkerWithLabelScript")
        .attr("src", Q.resolveUrl("~/Scripts/googlemap/markerwithlabel.js"))
        .appendTo(document.head);
}
function includeVisCss() {
    var style = $("#Vis");
    if (style.length > 0) {
        return;
    }
    $("<link/>")
        .attr("type", "text/css")
        .attr("id", "Vis")
        .attr("rel", "stylesheet")
        .attr("href", Q.resolveUrl("~/Scripts/visjs/vis.min.css"))
        .appendTo(document.head);
}
function usingVisjs() {
    if (window['vis']) {
        return;
    }
    else {
        includeVisCss();
        loadScript(Q.resolveUrl("~/Scripts/visjs/vis.min.js"));
    }
}
function usingJsonDiffPatch() {
    if (window['jsondiffpatch']) {
        return;
    }
    else {
        $("<link/>").attr("type", "text/css").attr("id", "JsonDiffPatch").attr("rel", "stylesheet")
            .attr("href", Q.resolveUrl("~/Modules/_Ext/AuditLogViewer/jsondiffpatch/formatters-styles/html.css"))
            .appendTo(document.head);
        loadScript(Q.resolveUrl("~/Modules/_Ext/AuditLogViewer/jsondiffpatch/jsondiffpatch.min.js"));
        loadScript(Q.resolveUrl("~/Modules/_Ext/AuditLogViewer/jsondiffpatch/jsondiffpatch-formatters.min.js"));
    }
}
function usingSlickGridEditors() {
    if (window['Slick'] && window['Slick']['Editors'] && window['Slick']['Editors']['Text']) {
        return;
    }
    else {
        loadScript(Q.resolveUrl("~/Modules/_Ext/Editors/slick.editors.js"));
    }
}
function usingSlickAutoColumnSize() {
    if (window['Slick'] && window['Slick']['AutoColumnSize']) {
        return;
    }
    else {
        loadScript(Q.resolveUrl("~/Modules/_Ext/CustomSlickGridPlugin/slick.autocolumnsize.js"));
    }
}
function usingSlickHeaderFilters() {
    if (window['Slick'] && window['Slick']['HeaderFilters']) {
        return;
    }
    else {
        $("<link/>")
            .attr("type", "text/css")
            .attr("id", "CustomSlickGridPlugin")
            .attr("rel", "stylesheet")
            .attr("href", Q.resolveUrl("~/Modules/_Ext/CustomSlickGridPlugin/slick-headerfilters.css"))
            .appendTo(document.head);
        loadScript(Q.resolveUrl("~/Modules/_Ext/CustomSlickGridPlugin/slick.headerfilters.js"));
    }
}
var q;
(function (q) {
    function sum(xs, key) {
        var initObj = {};
        initObj[key] = 0;
        var sumObj = xs.reduce(function (rv, x) {
            (rv[key] += x[key] || 0);
            return rv;
        }, initObj);
        return sumObj[key];
    }
    q.sum = sum;
    function groupBy(xs, key) {
        return xs.reduce(function (rv, x) {
            (rv[x[key]] = rv[x[key]] || []).push(x);
            return rv;
        }, {});
    }
    q.groupBy = groupBy;
    function sortBy(xs, key) {
        return xs.sort(function (a, b) {
            if (a[key] < b[key]) {
                return -1;
            }
            if (a[key] > b[key]) {
                return 1;
            }
            return 0;
        });
    }
    q.sortBy = sortBy;
    function sortByDesc(xs, key) {
        return xs.sort(function (a, b) {
            if (a[key] > b[key]) {
                return -1;
            }
            if (a[key] < b[key]) {
                return 1;
            }
            return 0;
        });
    }
    q.sortByDesc = sortByDesc;
})(q || (q = {}));
var q;
(function (q) {
    function nextTick(date) {
        return new Date(date.getTime() + 1);
    }
    q.nextTick = nextTick;
    function addMinutes(date, minutes) {
        return new Date(date.getTime() + minutes * 60000);
    }
    q.addMinutes = addMinutes;
    function addHours(date, hours) {
        return new Date(date.getTime() + hours * 3600000);
    }
    q.addHours = addHours;
    function getHours(fromDate, toDate) {
        var hours = 0;
        if (fromDate && toDate) {
            var totalMiliSeconds = toDate.valueOf() - fromDate.valueOf();
            hours = totalMiliSeconds / (1000 * 60 * 60);
        }
        return hours;
    }
    q.getHours = getHours;
    function getDays24HourPulse(fromDate, toDate) {
        var days = q.getHours(fromDate, toDate) / 24;
        return Math.ceil(days);
    }
    q.getDays24HourPulse = getDays24HourPulse;
    function getDays(pFromDate, pToDate) {
        var fromDate = new Date(pFromDate.getFullYear(), pFromDate.getMonth(), pFromDate.getDate());
        var toDate = new Date(pToDate.getFullYear(), pToDate.getMonth(), pToDate.getDate(), 23, 59, 59);
        var days = q.getHours(fromDate, toDate) / 24;
        //days = days <= 0 ? 1 : days;
        return Math.ceil(days);
    }
    q.getDays = getDays;
    function getMonths(fromDate, toDate) {
        var months = q.getDays24HourPulse(fromDate, toDate) / 30;
        return Math.ceil(months);
    }
    q.getMonths = getMonths;
    function getCalenderMonths(fromDate, toDate) {
        var months;
        months = (toDate.getFullYear() - fromDate.getFullYear()) * 12;
        months -= fromDate.getMonth();
        months += toDate.getMonth();
        return months <= 0 ? 0 : months;
    }
    q.getCalenderMonths = getCalenderMonths;
    function getCalenderMonthsCeil(fromDate, toDate) {
        var months = q.getCalenderMonths(fromDate, toDate);
        return months == 0 ? 1 : months;
    }
    q.getCalenderMonthsCeil = getCalenderMonthsCeil;
    function addDays(date, days) {
        var result = new Date(date);
        result.setDate(result.getDate() + days);
        return result;
    }
    q.addDays = addDays;
    function addMonths(date, months) {
        var result = new Date(date);
        result.setMonth(result.getMonth() + months);
        return result;
    }
    q.addMonths = addMonths;
    function addYear(date, years) {
        var result = new Date(date);
        result.setFullYear(result.getFullYear() + years);
        return result;
    }
    q.addYear = addYear;
    function getPeriods(fromDate, toDate, periodUnit) {
        if (periodUnit == _Ext.TimeUoM.Day) {
            var days = q.getDays(fromDate, toDate);
            return days;
        }
        else if (periodUnit == _Ext.TimeUoM.Month) {
            var months = q.getMonths(fromDate, toDate);
            return months == 0 ? 1 : months;
        }
        else if (periodUnit == _Ext.TimeUoM.CalenderMonth) {
            var calenderMonths = q.getCalenderMonths(fromDate, toDate);
            return calenderMonths + 1;
        }
    }
    q.getPeriods = getPeriods;
    function addPeriod(date, period, periodUnit) {
        var result = new Date(date);
        if (periodUnit == _Ext.TimeUoM.Day)
            result.setDate(result.getDate() + period);
        else if (periodUnit == _Ext.TimeUoM.Month)
            result.setMonth(result.getMonth() + period);
        else if (periodUnit == _Ext.TimeUoM.CalenderMonth) {
            result.setDate(1);
            result.setMonth(result.getMonth() + period);
        }
        return result;
    }
    q.addPeriod = addPeriod;
    function formatISODate(date) {
        if (date) {
            var offset = date.getTimezoneOffset();
            var result = new Date(date.getTime() - offset * 60 * 1000);
            return result.toISOString();
        }
        else
            return null;
    }
    q.formatISODate = formatISODate;
    //editor utils
    function bindDateTimeEditorChange(editor, handler) {
        editor.change(handler);
        editor.element.closest('.field').find('.time').change(handler);
        editor.element.closest('.field').find('.inplace-now').click(handler);
    }
    q.bindDateTimeEditorChange = bindDateTimeEditorChange;
    function setMinDate(editor, value) {
        editor.element.datepicker("option", "minDate", value);
        editor.set_minDate(value);
    }
    q.setMinDate = setMinDate;
    function setMaxDate(editor, value) {
        editor.element.datepicker("option", "maxDate", value);
        var today = new Date();
        var tomorrow = today.setDate(today.getDate() + 1); //to allow selection of today, without this line validation error is occured. why? may be a bug
        editor.set_maxDate(new Date(tomorrow));
    }
    q.setMaxDate = setMaxDate;
    function initDateRangeEditor(fromDateEditor, toDateEditor, onChangeHandler) {
        var startDateTextBox = fromDateEditor.element;
        var endDateTextBox = toDateEditor.element;
        startDateTextBox.datepicker('option', 'onClose', function (dateText, inst) {
            if (endDateTextBox.val() != '') {
                var testStartDate = startDateTextBox.datepicker('getDate');
                var testEndDate = endDateTextBox.datepicker('getDate');
                if (testStartDate > testEndDate)
                    endDateTextBox.datepicker('setDate', testStartDate);
            }
            else {
                endDateTextBox.val(dateText);
            }
        });
        endDateTextBox.datepicker('option', 'minDate', startDateTextBox.datepicker('getDate'));
        startDateTextBox.datepicker('option', 'onSelect', function (selectedDateTime) {
            endDateTextBox.datepicker('option', 'minDate', startDateTextBox.datepicker('getDate'));
        });
        endDateTextBox.datepicker('option', 'onClose', function (dateText, inst) {
            if (startDateTextBox.val() != '') {
                var testStartDate = startDateTextBox.datepicker('getDate');
                var testEndDate = endDateTextBox.datepicker('getDate');
                if (testStartDate > testEndDate)
                    startDateTextBox.datepicker('setDate', testEndDate);
            }
            else {
                startDateTextBox.val(dateText);
            }
        });
        startDateTextBox.datepicker('option', 'maxDate', endDateTextBox.datepicker('getDate'));
        endDateTextBox.datepicker('option', 'onSelect', function (selectedDateTime) {
            startDateTextBox.datepicker('option', 'maxDate', endDateTextBox.datepicker('getDate'));
        });
        if (onChangeHandler) {
            setTimeout(function () {
                fromDateEditor.change(onChangeHandler);
                toDateEditor.change(onChangeHandler);
            }, 500);
        }
    }
    q.initDateRangeEditor = initDateRangeEditor;
    function initDateTimeRangeEditor(fromDateTimeEditor, toDateTimeEditor, onChangeHandler) {
        //fromDateTimeEditor.destroy();
        //toDateTimeEditor.destroy();
        var startDateTextBox = fromDateTimeEditor.element;
        var endDateTextBox = toDateTimeEditor.element;
        //startDateTextBox.datetimepicker('option', 'timeFormat', 'HH:mm z')
        startDateTextBox.datetimepicker('option', 'onClose', function (dateText, inst) {
            if (endDateTextBox.val() != '') {
                var testStartDate = startDateTextBox.datetimepicker('getDate');
                var testEndDate = endDateTextBox.datetimepicker('getDate');
                if (testStartDate > testEndDate)
                    endDateTextBox.datetimepicker('setDate', testStartDate);
            }
            else {
                endDateTextBox.val(dateText);
            }
        });
        endDateTextBox.datetimepicker('option', 'minDate', startDateTextBox.datetimepicker('getDate'));
        startDateTextBox.datetimepicker('option', 'onSelect', function (selectedDateTime) {
            endDateTextBox.datetimepicker('option', 'minDate', startDateTextBox.datetimepicker('getDate'));
            if (onChangeHandler)
                onChangeHandler(selectedDateTime);
        });
        //endDateTextBox.datetimepicker('option', 'timeFormat', 'HH:mm z')
        endDateTextBox.datetimepicker('option', 'onClose', function (dateText, inst) {
            if (startDateTextBox.val() != '') {
                var testStartDate = startDateTextBox.datetimepicker('getDate');
                var testEndDate = endDateTextBox.datetimepicker('getDate');
                if (testStartDate > testEndDate)
                    startDateTextBox.datetimepicker('setDate', testEndDate);
            }
            else {
                startDateTextBox.val(dateText);
            }
        });
        startDateTextBox.datetimepicker('option', 'maxDate', endDateTextBox.datetimepicker('getDate'));
        endDateTextBox.datetimepicker('option', 'onSelect', function (selectedDateTime) {
            startDateTextBox.datetimepicker('option', 'maxDate', endDateTextBox.datetimepicker('getDate'));
            if (onChangeHandler)
                onChangeHandler(selectedDateTime);
        });
    }
    q.initDateTimeRangeEditor = initDateTimeRangeEditor;
    function formatDate(d, format) {
        if (!d) {
            return '';
        }
        var date;
        if (typeof d == "string") {
            var res = Q.parseDate(d);
            if (!res)
                return d;
            date = res;
        }
        else
            date = d;
        if (format == null || format == "d") {
            format = Q.Culture.dateFormat;
        }
        else {
            switch (format) {
                case "g":
                    format = Q.Culture.dateTimeFormat.replace(":ss", "");
                    break;
                case "G":
                    format = Q.Culture.dateTimeFormat;
                    break;
                case "s":
                    format = "yyyy-MM-ddTHH:mm:ss";
                    break;
                case "u": return Q.formatISODateTimeUTC(date);
            }
        }
        var pad = function (i) {
            return Q.zeroPad(i, 2);
        };
        return format.replace(new RegExp('dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/', 'g'), function (fmt) {
            var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            switch (fmt) {
                case '/': return Q.Culture.dateSeparator;
                case 'hh': return pad(((date.getHours() < 13) ? date.getHours() : (date.getHours() - 12)));
                case 'h': return ((date.getHours() < 13) ? date.getHours() : (date.getHours() - 12));
                case 'HH': return pad(date.getHours());
                case 'H': return date.getHours();
                case 'mm': return pad(date.getMinutes());
                case 'm': return date.getMinutes();
                case 'ss': return pad(date.getSeconds());
                case 's': return date.getSeconds();
                case 'yyyy': return date.getFullYear();
                case 'yy': return date.getFullYear().toString().substr(2, 4);
                case 'dddd': return days[date.getDay()];
                case 'ddd': return days[date.getDay()].substr(0, 3);
                case 'dd': return pad(date.getDate());
                case 'd': return date.getDate().toString();
                case 'MMMM': return months[date.getMonth()];
                case 'MMM': return months[date.getMonth()].substr(0, 3);
                case 'MM': return pad(date.getMonth() + 1);
                case 'M': return date.getMonth() + 1;
                case 't': return ((date.getHours() < 12) ? 'A' : 'P');
                case 'tt': return ((date.getHours() < 12) ? 'AM' : 'PM');
                case 'fff': return Q.zeroPad(date.getMilliseconds(), 3);
                case 'zzz':
                case 'zz':
                case 'z': return '';
                default: return fmt;
            }
        });
    }
    q.formatDate = formatDate;
})(q || (q = {}));
var q;
(function (q) {
    function initDetailEditor(dialog, editor, options) {
        if (options === void 0) { options = {}; }
        if (options.showCaption != true) {
            editor.element.siblings('.caption').hide();
        }
        if (options.hideToolbar == true) {
            editor.element.find('.grid-toolbar').hide();
        }
        if (options.isReadOnly == true) {
            editor.set_readOnly(options.isReadOnly);
        }
        editor.parentDialog = dialog;
        dialog.onAfterSetDialogSize = function () {
            var $gridContainer = editor.element.find('.grid-container');
            if (options.height) {
                editor.slickGrid.setOptions({ autoHeight: false });
                $gridContainer.height(options.height);
            }
            else {
                var top_1 = $gridContainer.position().top;
                var height = dialog.element.innerHeight() - top_1 - 40;
                if (height > 200)
                    $gridContainer.height(height);
            }
            if (options.width) {
                $gridContainer.width(options.width);
            }
            editor.slickGrid.resizeCanvas();
        };
    }
    q.initDetailEditor = initDetailEditor;
    function setGridEditorHeight(editor, heightInPx) {
        editor.css('height', heightInPx + 'px');
        editor.find('.grid-container')
            .css('height', (heightInPx - 25) + 'px')
            .height(heightInPx);
    }
    q.setGridEditorHeight = setGridEditorHeight;
    function addNotificationIcon(editor, isSuccess) {
        var isAddOnInitialized = editor.element.data('isAddOnInitialized');
        if (isAddOnInitialized != true) {
            editor.element.after('<span class="text text-danger" style="padding:3px"><i class="fa fa-times"></i></span>');
            editor.element.data('isAddOnInitialized', true);
        }
        if (isSuccess == true) {
            editor.element.switchClass('bg-danger', 'bg-success')
                .siblings('.text').switchClass('text-danger', 'text-success')
                .children().switchClass('fa-times', 'fa-check');
        }
        else {
            editor.element.switchClass('bg-success', 'bg-danger')
                .siblings('.text').switchClass('text-success', 'text-danger')
                .children().switchClass('fa-check', 'fa-times');
        }
    }
    q.addNotificationIcon = addNotificationIcon;
    function addPopoverIcon(editor, isSuccess, popoverOptions) {
        addNotificationIcon(editor, isSuccess);
        //(editor.element as any).popover('destroy');
        editor.element.siblings('.text').popover('destroy');
        setTimeout(function (h) {
            //(editor.element as any).popover(popoverOptions);
            editor.element.siblings('.text')
                .popover(popoverOptions)
                .on("show.bs.popover", function () { $(this).data("bs.popover").tip().css("width", "600px"); });
            ;
        }, 100);
    }
    q.addPopoverIcon = addPopoverIcon;
    function setEditorLabel(editor, value) {
        editor.element.siblings('label').text(value);
    }
    q.setEditorLabel = setEditorLabel;
    function hideEditorLabel(editor) {
        editor.element.siblings('label').hide();
    }
    q.hideEditorLabel = hideEditorLabel;
    function setEditorCategoryLabel(editor, value) {
        var categoryAnchor = editor.element.closest('.category').find('.category-anchor');
        categoryAnchor.text(value);
        var categoryAnchorName = categoryAnchor.attr('name');
        categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").text(value);
    }
    q.setEditorCategoryLabel = setEditorCategoryLabel;
    function hideEditorCategory(editor, value) {
        if (value === void 0) { value = true; }
        if (value == true)
            editor.element.closest('.category').hide();
        else
            editor.element.closest('.category').show();
        var categoryAnchor = editor.element.closest('.category').find('.category-anchor');
        var categoryAnchorName = categoryAnchor.attr('name');
        if (value == true)
            categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").hide();
        else
            categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").show();
    }
    q.hideEditorCategory = hideEditorCategory;
    function hideCategories(containerElement, value) {
        if (value === void 0) { value = true; }
        if (value == true)
            containerElement.find('.category').hide();
        else
            containerElement.find('.category').show();
        var categoryAnchor = containerElement.find('.category').find('.category-anchor');
        var categoryAnchorName = categoryAnchor.attr('name');
        if (value == true)
            categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").hide();
        else
            categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").show();
    }
    q.hideCategories = hideCategories;
    function hideFields(containerElement, value) {
        if (value === void 0) { value = true; }
        if (value == true)
            containerElement.find('.field').hide();
        else
            containerElement.find('.field').show();
    }
    q.hideFields = hideFields;
    function hideFieldsAndCategories(containerElement, value) {
        if (value === void 0) { value = true; }
        hideFields(containerElement);
        hideCategories(containerElement);
    }
    q.hideFieldsAndCategories = hideFieldsAndCategories;
    function hideField(editor, value) {
        if (value === void 0) { value = true; }
        if (editor) {
            if (value == true)
                editor.element.closest('.field').hide();
            else
                editor.element.closest('.field').show();
        }
    }
    q.hideField = hideField;
    function showField(editor, value) {
        if (value === void 0) { value = true; }
        if (editor) {
            if (value == true)
                editor.element.closest('.field').show();
            else
                editor.element.closest('.field').hide();
        }
    }
    q.showField = showField;
    function showAndEnableField(editor) {
        q.showField(editor);
        Serenity.EditorUtils.setReadOnly(editor, false);
    }
    q.showAndEnableField = showAndEnableField;
    function showFieldAndCategory(editor, value) {
        if (value === void 0) { value = true; }
        showField(editor, value);
        if (value == true)
            hideEditorCategory(editor, false);
    }
    q.showFieldAndCategory = showFieldAndCategory;
    function hideEditorTab(editor, value) {
        if (value === void 0) { value = true; }
        if (value) {
            var tabId = editor.element.closest('.tab-pane').hide().attr('id');
            var tabAnchor = editor.element.closest('.s-PropertyGrid').find("a[href='#" + tabId + "']");
            tabAnchor.closest('li').hide();
        }
        else {
            var tabId = editor.element.closest('.tab-pane').show().attr('id');
            var tabAnchor = editor.element.closest('.s-PropertyGrid').find("a[href='#" + tabId + "']");
            tabAnchor.closest('li').show();
        }
    }
    q.hideEditorTab = hideEditorTab;
    function disableEditorTab(editor, value) {
        if (value === void 0) { value = true; }
        var tabId = editor.element.closest('.tab-pane').attr('id');
        var tabAnchor = editor.element.closest('.s-PropertyGrid').find("a[href='#" + tabId + "']");
        var tabLi = tabAnchor.closest('li');
        if (value == true) {
            tabAnchor.hide();
            tabLi.closest('li').addClass('disabled').prepend("<a class=\"disabled\">" + tabAnchor.text() + "</label>");
        }
        else {
            tabAnchor.show();
            tabLi.closest('li').removeClass('disabled').find('.disabled').remove();
        }
    }
    q.disableEditorTab = disableEditorTab;
    function readOnlyEditorTab(editor, value) {
        if (value === void 0) { value = true; }
        var $editors = editor.element.closest('.tab-pane').find('.editor');
        Serenity.EditorUtils.setReadonly($editors, value);
    }
    q.readOnlyEditorTab = readOnlyEditorTab;
    function readOnlyEditorCategory(editor, value) {
        if (value === void 0) { value = true; }
        var $editors = editor.element.closest('.category').find('.editor');
        Serenity.EditorUtils.setReadonly($editors, value);
    }
    q.readOnlyEditorCategory = readOnlyEditorCategory;
    function readonlyEditorCategory($editor, value) {
        if (value === void 0) { value = true; }
        var $editors = $editor.closest('.category').find('.editor');
        Serenity.EditorUtils.setReadonly($editors, value);
    }
    q.readonlyEditorCategory = readonlyEditorCategory;
    function readOnlyEditorPropertyGrid(editor, value) {
        if (value === void 0) { value = true; }
        var $editors = editor.element.closest('.s-PropertyGrid').find('.editor');
        Serenity.EditorUtils.setReadonly($editors, value);
    }
    q.readOnlyEditorPropertyGrid = readOnlyEditorPropertyGrid;
    function readonlyEditorPropertyGrid($editor, value) {
        if (value === void 0) { value = true; }
        var $editors = $editor.closest('.s-PropertyGrid').find('.editor');
        Serenity.EditorUtils.setReadonly($editors, value);
    }
    q.readonlyEditorPropertyGrid = readonlyEditorPropertyGrid;
    function readOnlyEditor(editor, value) {
        if (value === void 0) { value = true; }
        Serenity.EditorUtils.setReadOnly(editor, value);
    }
    q.readOnlyEditor = readOnlyEditor;
    function readonlyEditor($editor, value) {
        if (value === void 0) { value = true; }
        Serenity.EditorUtils.setReadonly($editor, value);
    }
    q.readonlyEditor = readonlyEditor;
    function moveEditorFromTab(editor, toElement, isPrepend) {
        if (isPrepend === void 0) { isPrepend = false; }
        var fieldDiv = editor.element.closest('.field');
        if (isPrepend == true)
            fieldDiv.prependTo(toElement);
        else
            fieldDiv.appendTo(toElement);
    }
    q.moveEditorFromTab = moveEditorFromTab;
    function moveEditorCategoryFromTab(editor, toElement, isPrepend) {
        if (isPrepend === void 0) { isPrepend = false; }
        var fieldDiv = editor.element.closest('.field');
        var categoryDiv = editor.element.closest('.category');
        if (isPrepend == true)
            categoryDiv.prependTo(toElement);
        else
            categoryDiv.appendTo(toElement);
        //hide category navigation link
        var categoryAnchor = categoryDiv.find('.category-anchor');
        var categoryAnchorName = categoryAnchor.attr('name');
        categoryAnchor.closest('.s-PropertyGrid').find("a[href='#" + categoryAnchorName + "']").hide();
    }
    q.moveEditorCategoryFromTab = moveEditorCategoryFromTab;
    function selectEditorTab(editor) {
        var tabId = editor.element.closest('.tab-pane').attr('id');
        var tabAnchor = editor.element.closest('.s-PropertyGrid').find("a[href='#" + tabId + "']");
        tabAnchor.tab('show');
    }
    q.selectEditorTab = selectEditorTab;
    // for select2 lookup editor
    function getSelectedRow(e) {
        var selectedItem = e.added;
        var selectedRow = selectedItem.source;
        return selectedRow;
    }
    q.getSelectedRow = getSelectedRow;
})(q || (q = {}));
var q;
(function (q) {
    function getEnumText(enumTypeOrKey, value) {
        var enumKey = enumTypeOrKey.__typeName ? enumTypeOrKey.__typeName : enumTypeOrKey;
        var title = Serenity.EnumFormatter.format(Serenity.EnumTypeRegistry.get(enumKey), value);
        return title;
    }
    q.getEnumText = getEnumText;
    function isNumber(value) {
        return !isNaN(Number(value));
    }
    q.isNumber = isNumber;
    function getEnumValues(enumType) {
        var items = [];
        for (var item in enumType) {
            if (q.isNumber(item)) {
                items.push(Number(item));
            }
        }
        return items;
    }
    q.getEnumValues = getEnumValues;
    function getEnumKeys(enumType) {
        return q.getEnumValues(enumType).map(function (m) { return enumType[m]; });
    }
    q.getEnumKeys = getEnumKeys;
})(q || (q = {}));
var q;
(function (q) {
    function text(key, fallback) {
        var result = Q.text(key);
        if (result == key)
            return fallback;
        else
            return result;
    }
    q.text = text;
    function isCosmicThemeApplied() {
        return document.body.className.indexOf('cosmic') >= 0;
    }
    q.isCosmicThemeApplied = isCosmicThemeApplied;
    function getSelectedLanguage() {
        var lang = document.getElementById('LanguageSelect').value || document.getElementsByTagName('html')[0].getAttribute('lang');
        return lang;
    }
    q.getSelectedLanguage = getSelectedLanguage;
    function formatDecimal(value) {
        var title = Serenity.NumberFormatter.format(value, '#,##0.00');
        return title;
    }
    q.formatDecimal = formatDecimal;
    function formatInt(value) {
        var title = Serenity.NumberFormatter.format(value, '#,##0');
        return title;
    }
    q.formatInt = formatInt;
    // Check numeric or not then return value, if NAN then return zero(0)
    function ToNumber(value) {
        return isNaN(value) ? 0 : value;
    }
    q.ToNumber = ToNumber;
    function ToFixed(value, fractionDigits) {
        if (fractionDigits === void 0) { fractionDigits = 2; }
        return ToNumber(value).toFixed(fractionDigits);
    }
    q.ToFixed = ToFixed;
    function ToBool(value) {
        return value == 'true' ? true : false;
    }
    q.ToBool = ToBool;
    //colorDepth should be within '0123456789ABCDEF'
    function getRandomColor(hexLetters) {
        var letters = hexLetters; // '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
            var letterIndex = Math.floor((Math.random()) * letters.length);
            if (letterIndex > 15)
                letterIndex = 15;
            if (letterIndex < 0)
                letterIndex = 0;
            color += letters[letterIndex];
        }
        return color;
    }
    q.getRandomColor = getRandomColor;
})(q || (q = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VyRXh0cmFDb3JlLldlYi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9fcS9fcS52YXIudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvQmFzZXMvR3JpZEJhc2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvQmFzZXMvUmVwb3J0R3JpZEJhc2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvQmFzZXMvUmVwb3J0UGFuZWxCYXNlLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0Jhc2VzL0RpYWxvZ0Jhc2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9HcmlkSXRlbVBpY2tlci9HcmlkSXRlbVBpY2tlckRpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9FZGl0b3JzL0VkaXRvckRpYWxvZ0Jhc2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9HcmlkRWRpdG9yQmFzZS50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9FZGl0b3JzL0pzb25HcmlkRWRpdG9yQmFzZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvX3JlZmVyZW5jZXMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2VDb2x1bW5zLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLkxhbmd1YWdlRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5MYW5ndWFnZVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5MYW5ndWFnZVNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUGVybWlzc2lvbktleXMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUm9sZUNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUm9sZUZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUm9sZVBlcm1pc3Npb25MaXN0UmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Sb2xlUGVybWlzc2lvbkxpc3RSZXNwb25zZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Sb2xlUGVybWlzc2lvblJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Sb2xlUGVybWlzc2lvblNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUm9sZVBlcm1pc3Npb25VcGRhdGVSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlJvbGVSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uUm9sZVNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uU2VyZ2VuQ29ubmVjdGlvbi50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5TZXJnZW5HZW5lcmF0ZU9wdGlvbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uU2VyZ2VuR2VuZXJhdGVSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlNlcmdlbkxpc3RUYWJsZXNSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlNlcmdlblNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uU2VyZ2VuVGFibGUudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uVHJhbnNsYXRpb25JdGVtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlRyYW5zbGF0aW9uTGlzdFJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uVHJhbnNsYXRpb25TZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlRyYW5zbGF0aW9uVXBkYXRlUmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyQ29sdW1ucy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyUGVybWlzc2lvbkxpc3RSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlVzZXJQZXJtaXNzaW9uUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlVzZXJQZXJtaXNzaW9uU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyUGVybWlzc2lvblVwZGF0ZVJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uVXNlclJvbGVMaXN0UmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyUm9sZUxpc3RSZXNwb25zZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyUm9sZVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9BZG1pbmlzdHJhdGlvbi5Vc2VyUm9sZVNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uVXNlclJvbGVVcGRhdGVSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0FkbWluaXN0cmF0aW9uLlVzZXJSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQWRtaW5pc3RyYXRpb24uVXNlclNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkJhc2ljU2FtcGxlc1NlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkNoYW5naW5nTG9va3VwVGV4dEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkN1c3RvbWVyR3Jvc3NTYWxlc0NvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkN1c3RvbWVyR3Jvc3NTYWxlc0xpc3RSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5DdXN0b21lckdyb3NzU2FsZXNTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5EcmFnRHJvcFNhbXBsZUNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkRyYWdEcm9wU2FtcGxlRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9CYXNpY1NhbXBsZXMuRHJhZ0Ryb3BTYW1wbGVSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkRyYWdEcm9wU2FtcGxlU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9CYXNpY1NhbXBsZXMuRmlsdGVyZWRMb29rdXBJbkRldGFpbEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLkhhcmRjb2RlZFZhbHVlc0Zvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLklubGluZUltYWdlSW5HcmlkQ29sdW1ucy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9CYXNpY1NhbXBsZXMuTG9va3VwRmlsdGVyQnlNdWx0aXBsZUZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLk9yZGVyQnVsa0FjdGlvblJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLk9yZGVyc0J5U2hpcHBlclJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvQmFzaWNTYW1wbGVzLk9yZGVyc0J5U2hpcHBlclJlc3BvbnNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5Qb3B1bGF0ZUxpbmtlZERhdGFGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5Qcm9kdWN0RXhjZWxJbXBvcnRGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5Qcm9kdWN0RXhjZWxJbXBvcnRTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0Jhc2ljU2FtcGxlcy5TdGF0aWNUZXh0QmxvY2tGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0NvbW1vbi5Vc2VyUHJlZmVyZW5jZVJldHJpZXZlUmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Db21tb24uVXNlclByZWZlcmVuY2VSZXRyaWV2ZVJlc3BvbnNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0NvbW1vbi5Vc2VyUHJlZmVyZW5jZVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Db21tb24uVXNlclByZWZlcmVuY2VTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0NvbW1vbi5Vc2VyUHJlZmVyZW5jZVVwZGF0ZVJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvRXhjZWxJbXBvcnRSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0V4Y2VsSW1wb3J0UmVzcG9uc2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvRXh0cmFTYW1wbGVzLk9yZGVyc0J5Q3VzdG9tZXJSZXBvcnRSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL0V4dHJhU2FtcGxlcy5PcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvR2V0TmV4dE51bWJlclJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvR2V0TmV4dE51bWJlclJlc3BvbnNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuQ2hhbmdlUGFzc3dvcmRGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuQ2hhbmdlUGFzc3dvcmRSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuRm9yZ290UGFzc3dvcmRGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuRm9yZ290UGFzc3dvcmRSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuTG9naW5Gb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuTG9naW5SZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL01lbWJlcnNoaXAuUmVzZXRQYXNzd29yZEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTWVtYmVyc2hpcC5SZXNldFBhc3N3b3JkUmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9NZW1iZXJzaGlwLlNpZ25VcEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTWVtYmVyc2hpcC5TaWduVXBSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DYXRlZ29yeUNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLkNhdGVnb3J5Rm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuQ2F0ZWdvcnlMYW5nUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DYXRlZ29yeUxhbmdTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DYXRlZ29yeVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuQ2F0ZWdvcnlTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DdXN0b21lckNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLkN1c3RvbWVyQ3VzdG9tZXJEZW1vUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DdXN0b21lckRlbW9ncmFwaGljUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DdXN0b21lckRldGFpbHNSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLkN1c3RvbWVyRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuQ3VzdG9tZXJHcm9zc1NhbGVzUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5DdXN0b21lclJlcHJlc2VudGF0aXZlc1Jvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuQ3VzdG9tZXJSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLkN1c3RvbWVyU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuRW1wbG95ZWVSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLkVtcGxveWVlVGVycml0b3J5Um93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5HZW5kZXIudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLk1haW5HcmlkSW5saW5lRWRpdGluZ0NvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLk1haW5HcmlkTXVsdGlFZGl0aW5nQ29sdW1ucy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuTm90ZVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuT3JkZXJDb2x1bW5zLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5PcmRlckRldGFpbENvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLk9yZGVyRGV0YWlsRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuT3JkZXJEZXRhaWxSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLk9yZGVyRGV0YWlsU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuT3JkZXJGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5PcmRlckxpc3RSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5PcmRlclJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuT3JkZXJTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5PcmRlclNoaXBwaW5nU3RhdGUudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlBlcm1pc3Npb25LZXlzLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5Qcm9kdWN0Q29sdW1ucy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuUHJvZHVjdEZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlByb2R1Y3RMYW5nUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5Qcm9kdWN0TGFuZ1NlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlByb2R1Y3RMb2dSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlByb2R1Y3RSb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlByb2R1Y3RTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5SZWdpb25Db2x1bW5zLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5SZWdpb25Gb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5SZWdpb25Sb3cudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlJlZ2lvblNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeUNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuU2FsZXNCeUNhdGVnb3J5U2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuU2hpcHBlckNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlNoaXBwZXJGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5TaGlwcGVyUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5TaGlwcGVyU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuU3VwcGxpZXJDb2x1bW5zLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5TdXBwbGllckZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlN1cHBsaWVyUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL05vcnRod2luZC5TdXBwbGllclNlcnZpY2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlRlcnJpdG9yeUNvbHVtbnMudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlRlcnJpdG9yeUZvcm0udHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvTm9ydGh3aW5kLlRlcnJpdG9yeVJvdy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9Ob3J0aHdpbmQuVGVycml0b3J5U2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9TY3JpcHRVc2VyRGVmaW5pdGlvbi50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9UZXh0cy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkF1ZGl0QWN0aW9uVHlwZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkF1ZGl0TG9nQ29sdW1ucy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkF1ZGl0TG9nRm9ybS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkF1ZGl0TG9nUm93LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL19FeHQuQXVkaXRMb2dTZXJ2aWNlLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL19FeHQuQXVkaXRMb2dWaWV3ZXJSZXF1ZXN0LnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL19FeHQuQXVkaXRMb2dWaWV3ZXJSZXNwb25zZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkF1ZGl0TG9nVmlld2VyU2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LkVudGl0eVJlcG9ydFJlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvX0V4dC5MaXN0UmVwb3J0UmVxdWVzdC50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0Lk1vbnRocy50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LlJlcGxhY2VSb3dGb3JtLnRzIiwiLi4vLi4vLi4vSW1wb3J0cy9TZXJ2ZXJUeXBpbmdzL19FeHQuUmVwbGFjZVJvd1JlcXVlc3QudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvX0V4dC5SZXBsYWNlUm93UmVzcG9uc2UudHMiLCIuLi8uLi8uLi9JbXBvcnRzL1NlcnZlclR5cGluZ3MvX0V4dC5SZXBsYWNlUm93U2VydmljZS50cyIsIi4uLy4uLy4uL0ltcG9ydHMvU2VydmVyVHlwaW5ncy9fRXh0LlRpbWVVb00udHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0FkbWluaXN0cmF0aW9uL0xhbmd1YWdlL0xhbmd1YWdlRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9BZG1pbmlzdHJhdGlvbi9MYW5ndWFnZS9MYW5ndWFnZUdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0FkbWluaXN0cmF0aW9uL1JvbGUvUm9sZURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQWRtaW5pc3RyYXRpb24vUm9sZS9Sb2xlR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQWRtaW5pc3RyYXRpb24vUm9sZVBlcm1pc3Npb24vUm9sZVBlcm1pc3Npb25EaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0FkbWluaXN0cmF0aW9uL1Nlcmdlbi9TZXJnZW5QYW5lbC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQWRtaW5pc3RyYXRpb24vVHJhbnNsYXRpb24vVHJhbnNsYXRpb25HcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9BZG1pbmlzdHJhdGlvbi9Vc2VyL1VzZXJEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0FkbWluaXN0cmF0aW9uL1VzZXIvVXNlckdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0FkbWluaXN0cmF0aW9uL1VzZXIvQXV0aGVudGljYXRpb24vQXV0aG9yaXphdGlvbi50cyIsIi4uLy4uLy4uL01vZHVsZXMvQWRtaW5pc3RyYXRpb24vVXNlclBlcm1pc3Npb24vUGVybWlzc2lvbkNoZWNrRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9BZG1pbmlzdHJhdGlvbi9Vc2VyUGVybWlzc2lvbi9Vc2VyUGVybWlzc2lvbkRpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQWRtaW5pc3RyYXRpb24vVXNlclJvbGUvUm9sZUNoZWNrRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9BZG1pbmlzdHJhdGlvbi9Vc2VyUm9sZS9Vc2VyUm9sZURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvQ2hhcnRJbkRpYWxvZy9DaGFydEluRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvUHJvZHVjdC9Qcm9kdWN0RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9DbG9uZWFibGVFbnRpdHlEaWFsb2cvQ2xvbmVhYmxlRW50aXR5RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvUHJvZHVjdC9Qcm9kdWN0R3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvQ2xvbmVhYmxlRW50aXR5RGlhbG9nL0Nsb25lYWJsZUVudGl0eUdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9PcmRlci9PcmRlckdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9EaWFsb2dzL0RlZmF1bHRWYWx1ZXNJbk5ld0RpYWxvZy9EZWZhdWx0VmFsdWVzSW5OZXdHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9EaWFsb2dCb3hlcy9EaWFsb2dCb3hlcy50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL09yZGVyL09yZGVyRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9FbnRpdHlEaWFsb2dBc1BhbmVsL0VudGl0eURpYWxvZ0FzUGFuZWwudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9DYXRlZ29yeS9DYXRlZ29yeURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvR2V0SW5zZXJ0ZWRSZWNvcmRJZC9HZXRJbnNlcnRlZFJlY29yZElkRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvQ2F0ZWdvcnkvQ2F0ZWdvcnlHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9HZXRJbnNlcnRlZFJlY29yZElkL0dldEluc2VydGVkUmVjb3JkSWRHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9NdWx0aUNvbHVtblJlc3BvbnNpdmVEaWFsb2cvTXVsdGlDb2x1bW5SZXNwb25zaXZlRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9NdWx0aUNvbHVtblJlc3BvbnNpdmVEaWFsb2cvTXVsdGlDb2x1bW5SZXNwb25zaXZlR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvT3RoZXJGb3JtSW5UYWIvT3RoZXJGb3JtSW5UYWJEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9EaWFsb2dzL090aGVyRm9ybUluVGFiL090aGVyRm9ybUluVGFiR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvT3RoZXJGb3JtSW5UYWJPbmVCYXIvT3RoZXJGb3JtT25lQmFyRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9PdGhlckZvcm1JblRhYk9uZUJhci9PdGhlckZvcm1PbmVCYXJHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9Qb3B1bGF0ZUxpbmtlZERhdGEvUG9wdWxhdGVMaW5rZWREYXRhRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9Qb3B1bGF0ZUxpbmtlZERhdGEvUG9wdWxhdGVMaW5rZWREYXRhR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1N1cHBsaWVyL1N1cHBsaWVyRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9SZWFkT25seURpYWxvZy9SZWFkT25seURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1N1cHBsaWVyL1N1cHBsaWVyR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvUmVhZE9ubHlEaWFsb2cvUmVhZE9ubHlHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9SZXNwb25zaXZlRGlhbG9nL1Jlc3BvbnNpdmVEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9EaWFsb2dzL1Jlc3BvbnNpdmVEaWFsb2cvUmVzcG9uc2l2ZUdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9DdXN0b21lci9DdXN0b21lckRpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0RpYWxvZ3MvU2VyaWFsQXV0b051bWJlci9TZXJpYWxBdXRvTnVtYmVyRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvQ3VzdG9tZXIvQ3VzdG9tZXJHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRGlhbG9ncy9TZXJpYWxBdXRvTnVtYmVyL1NlcmlhbEF1dG9OdW1iZXJHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Db21tb24vSGVscGVycy9HcmlkRWRpdG9yRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRWRpdG9ycy9DaGFuZ2luZ0xvb2t1cFRleHQvQ2hhbmdpbmdMb29rdXBUZXh0RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRWRpdG9ycy9DaGFuZ2luZ0xvb2t1cFRleHQvQ2hhbmdpbmdMb29rdXBUZXh0RWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvT3JkZXJEZXRhaWwvT3JkZXJEZXRhaWxEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9FZGl0b3JzL0ZpbHRlcmVkTG9va3VwSW5EZXRhaWwvRmlsdGVyZWRMb29rdXBEZXRhaWxEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9IZWxwZXJzL0dyaWRFZGl0b3JCYXNlLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvT3JkZXJEZXRhaWwvT3JkZXJEZXRhaWxzRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRWRpdG9ycy9GaWx0ZXJlZExvb2t1cEluRGV0YWlsL0ZpbHRlcmVkTG9va3VwRGV0YWlsRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRWRpdG9ycy9GaWx0ZXJlZExvb2t1cEluRGV0YWlsL0ZpbHRlcmVkTG9va3VwSW5EZXRhaWxEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9FZGl0b3JzL0ZpbHRlcmVkTG9va3VwSW5EZXRhaWwvRmlsdGVyZWRMb29rdXBJbkRldGFpbEdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9FZGl0b3JzL0xvb2t1cEZpbHRlckJ5TXVsdGlwbGVWYWx1ZXMvTG9va3VwRmlsdGVyQnlNdWx0aXBsZURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0VkaXRvcnMvTG9va3VwRmlsdGVyQnlNdWx0aXBsZVZhbHVlcy9Mb29rdXBGaWx0ZXJCeU11bHRpcGxlR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0VkaXRvcnMvTG9va3VwRmlsdGVyQnlNdWx0aXBsZVZhbHVlcy9Qcm9kdWNlU2VhZm9vZENhdGVnb3J5RWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvRWRpdG9ycy9TZWxlY3RXaXRoSGFyZGNvZGVkVmFsdWVzL0hhcmRjb2RlZFZhbHVlc0RpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0VkaXRvcnMvU2VsZWN0V2l0aEhhcmRjb2RlZFZhbHVlcy9IYXJkY29kZWRWYWx1ZXNFZGl0b3IudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9FZGl0b3JzL1N0YXRpY1RleHRCbG9jay9TdGF0aWNUZXh0QmxvY2tEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9IZWxwZXJzL0J1bGtTZXJ2aWNlQWN0aW9uLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvR3JpZHMvQ2FuY2VsbGFibGVCdWxrQWN0aW9uL09yZGVyQnVsa0FjdGlvbi50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0NhbmNlbGxhYmxlQnVsa0FjdGlvbi9DYW5jZWxsYWJsZUJ1bGtBY3Rpb25HcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvR3JpZHMvQ29uZGl0aW9uYWxGb3JtYXR0aW5nL0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9DdXN0b21MaW5rc0luR3JpZC9DdXN0b21MaW5rc0luR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0RyYWdEcm9wSW5UcmVlR3JpZC9EcmFnRHJvcFNhbXBsZURpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0RyYWdEcm9wSW5UcmVlR3JpZC9EcmFnRHJvcFNhbXBsZUdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9FbmFibGluZ1Jvd1NlbGVjdGlvbi9TZWxlY3RhYmxlRW50aXR5R3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0VuYWJsaW5nUm93U2VsZWN0aW9uL1Jvd1NlbGVjdGlvbkdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9HcmlkRmlsdGVyZWRCeUNyaXRlcmlhL0dyaWRGaWx0ZXJlZEJ5Q3JpdGVyaWEudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9Hcm91cGluZ0FuZFN1bW1hcmllc0luR3JpZC9Hcm91cGluZ0FuZFN1bW1hcmllc0luR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0luaXRpYWxWYWx1ZXNGb3JRdWlja0ZpbHRlcnMvSW5pdGlhbFZhbHVlc0ZvclF1aWNrRmlsdGVycy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0lubGluZUFjdGlvbkJ1dHRvbnMvSW5saW5lQWN0aW9uR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL0lubGluZUltYWdlSW5HcmlkL0lubGluZUltYWdlRm9ybWF0dGVyLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvR3JpZHMvSW5saW5lSW1hZ2VJbkdyaWQvSW5saW5lSW1hZ2VJbkdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9Qcm9kdWN0RXhjZWxJbXBvcnQvUHJvZHVjdEV4Y2VsSW1wb3J0RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvR3JpZHMvUHJvZHVjdEV4Y2VsSW1wb3J0L1Byb2R1Y3RFeGNlbEltcG9ydEdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9RdWlja0ZpbHRlckN1c3RvbWl6YXRpb24vUXVpY2tGaWx0ZXJDdXN0b21pemF0aW9uLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9CYXNpY1NhbXBsZXMvR3JpZHMvUmVtb3ZpbmdBZGRCdXR0b24vUmVtb3ZpbmdBZGRCdXR0b24udHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9TdG9yZWRQcm9jZWR1cmVHcmlkL0N1c3RvbWVyR3Jvc3NTYWxlc0dyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9UcmVlR3JpZC9UcmVlR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQmFzaWNTYW1wbGVzL0dyaWRzL1ZpZXdXaXRob3V0SUQvVmlld1dpdGhvdXRJREdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0Jhc2ljU2FtcGxlcy9Hcmlkcy9XcmFwcGVkSGVhZGVycy9XcmFwcGVkSGVhZGVyc0dyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9IZWxwZXJzL0xhbmd1YWdlTGlzdC50cyIsIi4uLy4uLy4uL01vZHVsZXMvQ29tbW9uL1NjcmlwdEluaXRpYWxpemF0aW9uLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Db21tb24vSGVscGVycy9CYXNpY1Byb2dyZXNzRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Db21tb24vSGVscGVycy9EaWFsb2dVdGlscy50cyIsIi4uLy4uLy4uL01vZHVsZXMvQ29tbW9uL0hlbHBlcnMvRW51bVNlbGVjdEZvcm1hdHRlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvQ29tbW9uL0hlbHBlcnMvRXhjZWxFeHBvcnRIZWxwZXIudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9IZWxwZXJzL1N0YXRpY1RleHRCbG9jay50cyIsIi4uLy4uLy4uL01vZHVsZXMvQ29tbW9uL05hdmlnYXRpb24vTGFuZ3VhZ2VTZWxlY3Rpb24udHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9OYXZpZ2F0aW9uL1NpZGViYXJTZWFyY2gudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9OYXZpZ2F0aW9uL1RoZW1lU2VsZWN0aW9uLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Db21tb24vUmVwb3J0aW5nL1BkZkV4cG9ydEhlbHBlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvQ29tbW9uL1JlcG9ydGluZy9SZXBvcnREaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9SZXBvcnRpbmcvUmVwb3J0SGVscGVyLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Db21tb24vUmVwb3J0aW5nL1JlcG9ydFBhZ2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0NvbW1vbi9Vc2VyUHJlZmVyZW5jZS9Vc2VyUHJlZmVyZW5jZVN0b3JhZ2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0V4dHJhU2FtcGxlcy9DdXN0b21UZW1wbGF0ZWRHcmlkL0N1c3RvbVRlbXBsYXRlZEdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0V4dHJhU2FtcGxlcy9DdXN0b21pemVkRWRpdG9ycy9DdXN0b21lclRlbXBsYXRlZExvb2t1cEVkaXRvci50cyIsIi4uLy4uLy4uL01vZHVsZXMvRXh0cmFTYW1wbGVzL01haW5HcmlkSW5saW5lRWRpdGluZy9NYWluR3JpZElubGluZUVkaXRpbmdHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9FeHRyYVNhbXBsZXMvTWFpbkdyaWRNdWx0aUVkaXRpbmcvTWFpbkdyaWRNdWx0aUVkaXRpbmdHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9FeHRyYVNhbXBsZXMvTXVsdGlFZGl0L011bHRpRWRpdERpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvRXh0cmFTYW1wbGVzL011bHRpRWRpdC9NdWx0aUVkaXRMaW5lLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9FeHRyYVNhbXBsZXMvTXVsdGlFZGl0L011bHRpRWRpdFdpZGdldEJhc2UudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0V4dHJhU2FtcGxlcy9NdWx0aUVkaXQvTXVsdGlFZGl0UGFuZWwudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0V4dHJhU2FtcGxlcy9NdWx0aUVkaXQvTXVsdGlFZGl0U3RvcmUudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL0V4dHJhU2FtcGxlcy9NdWx0aUVkaXQvTXVsdGlFZGl0aW5nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9FeHRyYVNhbXBsZXMvUmVhY3RTYW1wbGVQYWdlL1Byb2ZpbGUudHN4IiwiLi4vLi4vLi4vTW9kdWxlcy9FeHRyYVNhbXBsZXMvUmVwb3J0cy9PcmRlcnNCeUN1c3RvbWVyL09yZGVyc0J5Q3VzdG9tZXJSZXBvcnRQYW5lbC50cyIsIi4uLy4uLy4uL01vZHVsZXMvTWVtYmVyc2hpcC9BY2NvdW50L0xvZ2luUGFuZWwudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL01lbWJlcnNoaXAvQWNjb3VudC9DaGFuZ2VQYXNzd29yZC9DaGFuZ2VQYXNzd29yZFBhbmVsLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9NZW1iZXJzaGlwL0FjY291bnQvRm9yZ290UGFzc3dvcmQvRm9yZ290UGFzc3dvcmRQYW5lbC50cyIsIi4uLy4uLy4uL01vZHVsZXMvTWVtYmVyc2hpcC9BY2NvdW50L1Jlc2V0UGFzc3dvcmQvUmVzZXRQYXNzd29yZFBhbmVsLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9NZW1iZXJzaGlwL0FjY291bnQvU2lnblVwL1NpZ25VcFBhbmVsLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvQ3VzdG9tZXIvQ3VzdG9tZXJFZGl0b3IudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9DdXN0b21lci9DdXN0b21lck9yZGVyRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvQ3VzdG9tZXIvQ3VzdG9tZXJPcmRlcnNHcmlkLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvQ3VzdG9tZXIvRW1wbG95ZWVMaXN0Rm9ybWF0dGVyLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvRW1wbG95ZWUvRW1wbG95ZWVGb3JtYXR0ZXIudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9Ob3RlL05vdGVEaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9Ob3RlL05vdGVzRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvT3JkZXIvRnJlaWdodEZvcm1hdHRlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1JlZ2lvbi9SZWdpb25EaWFsb2cudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9SZWdpb24vUmVnaW9uR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1NoYXJlZC9QaG9uZUVkaXRvci50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1NoaXBwZXIvU2hpcHBlckRpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1NoaXBwZXIvU2hpcHBlckZvcm1hdHRlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvTm9ydGh3aW5kL1NoaXBwZXIvU2hpcHBlckdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL05vcnRod2luZC9UZXJyaXRvcnkvVGVycml0b3J5RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9Ob3J0aHdpbmQvVGVycml0b3J5L1RlcnJpdG9yeUdyaWQudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvQXVkaXRMb2cvQXVkaXRMb2dBY3Rpb25UeXBlRm9ybWF0dGVyLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0F1ZGl0TG9nL0F1ZGl0TG9nRGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0F1ZGl0TG9nL0F1ZGl0TG9nR3JpZC50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9BdWRpdExvZ1ZpZXdlci9BdWRpdExvZ1ZpZXdlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9BdWRpdExvZ1ZpZXdlci9BdWRpdExvZ1ZpZXdlckRpYWxvZy50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9EZXZUb29scy9Db2RlU25pcHBldHMvRGlhbG9nU25pcHBldHMudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRGV2VG9vbHMvQ29kZVNuaXBwZXRzL0RpYWxvZ1dpdGhBbGxPdmVycmlkYWJsZU1ldGhvZHMudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRGV2VG9vbHMvQ29kZVNuaXBwZXRzL0dyaWRTbmlwcGV0cy50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9EZXZUb29scy9Db2RlU25pcHBldHMvR3JpZFdpdGhBbGxPdmVycmlkYWJsZU1ldGhvZHMudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRGV2VG9vbHMvUmVwbGFjZVJvdy9SZXBsYWNlUm93RGlhbG9nLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvQXV0b0NvbXBsZXRlRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvQ29sb3JFZGl0b3IudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9EYXRlVGltZVBpY2tlckVkaXRvci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9FZGl0b3JzL0VtcHR5TG9va3VwRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvSGFyZENvZGVkTG9va3VwRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvSHRtbFRlbXBsYXRlRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvSnNvblZpZXdlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9FZGl0b3JzL01vbnRoWWVhckVkaXRvci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9FZGl0b3JzL1ByZWZpeGVkU3RyaW5nRWRpdG9yLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvU3RhdGljVGV4dEJsb2NrLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvWWVzTm9FZGl0b3IudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9HcmlkSXRlbVBpY2tlci9HcmlkSXRlbVBpY2tlckVkaXRvci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9Gb3JtYXR0ZXJzL01vbnRoWWVhckZvcm1hdHRlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9NaXhpbnMvQ2FyZFZpZXdNaXhpbi50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9NaXhpbnMvSGVhZGVyRmlsdGVyc01peGluLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L01peGlucy9UcmVlR3JpZE1peGluLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L1JlcG9ydGluZy9FeGNlbEV4cG9ydEhlbHBlci50cyIsIi4uLy4uLy4uL01vZHVsZXMvX0V4dC9SZXBvcnRpbmcvUGRmRXhwb3J0SGVscGVyLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L1JlcG9ydGluZy9SZXBvcnRIZWxwZXIudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvVXRpbHMvRGlhbG9nVXRpbHMudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvVXRpbHMvVXNpbmcudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvX3EvX3EuYXJyYXkudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvX3EvX3EuZGF0ZXRpbWUudHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvX3EvX3EuZWRpdG9yLXV0aWxzLnRzIiwiLi4vLi4vLi4vTW9kdWxlcy9fRXh0L19xL19xLmVudW0udHMiLCIuLi8uLi8uLi9Nb2R1bGVzL19FeHQvX3EvX3EudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSSxxQkFBOEIsQ0FBQztBQUNuQyw0Q0FBNEM7QUFDNUMseURBQXlEO0FBQ3pELGdFQUFnRTtBQUVoRSxJQUFVLENBQUMsQ0EyRFY7QUEzREQsV0FBVSxDQUFDO0lBQ0ksYUFBVyxHQUFHLEVBQUUsQ0FBQztJQUNqQixzQkFBb0IsR0FBVyxJQUFJLENBQUE7SUFDbkMsa0JBQWdCLEdBQVcsY0FBYyxDQUFDO0lBQzFDLDBCQUF3QixHQUFZLElBQUksQ0FBQztJQUV6Qyx3QkFBc0IsR0FBbUI7UUFDaEQsY0FBYyxFQUFFLElBQUk7UUFDcEIsb0JBQW9CLEVBQUUsSUFBSTtRQUMxQixvQ0FBb0MsRUFBRSxJQUFJO1FBQzFDLHVCQUF1QixFQUFFLElBQUk7UUFDN0Isc0JBQXNCLEVBQUUsS0FBSztRQUM3QixvQkFBb0IsRUFBRSxJQUFJO1FBQzFCLHFCQUFxQixFQUFFLEtBQUs7UUFDNUIsbUJBQW1CLEVBQUUsSUFBSTtRQUN6Qiw4QkFBOEIsRUFBRSxLQUFLO1FBQ3JDLGlCQUFpQixFQUFFLElBQUk7UUFDdkIsV0FBVyxFQUFFLEVBQUU7S0FDbEIsQ0FBQztJQUVTLDBCQUF3QixHQUFtQjtRQUNsRCxjQUFjLEVBQUUsSUFBSTtRQUNwQixvQkFBb0IsRUFBRSxJQUFJO1FBQzFCLG9DQUFvQyxFQUFFLElBQUk7UUFDMUMsdUJBQXVCLEVBQUUsSUFBSTtRQUM3QixzQkFBc0IsRUFBRSxJQUFJO1FBQzVCLG9CQUFvQixFQUFFLElBQUk7UUFDMUIscUJBQXFCLEVBQUUsS0FBSztRQUM1Qiw4QkFBOEIsRUFBRSxLQUFLO1FBQ3JDLG1CQUFtQixFQUFFLElBQUk7UUFDekIsaUJBQWlCLEVBQUUsS0FBSztLQUMzQixDQUFDO0lBRVMsNEJBQTBCLEdBQXFCO1FB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UyxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsY0FBYyxFQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxhQUFhLEVBQUMsQ0FBQyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxnQkFBZ0IsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLEVBQUMsY0FBYyxFQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxjQUFjLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLFNBQVMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsRUFBQyxZQUFZLEVBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxFQUFDLG9CQUFvQixFQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLG1CQUFtQixFQUFDLENBQUMsRUFBQyxtQkFBbUIsRUFBQyxDQUFDLEVBQUMsb0JBQW9CLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLGFBQWEsRUFBQyxDQUFDLEVBQUMsa0JBQWtCLEVBQUMsQ0FBQyxFQUFDLGNBQWMsRUFBQyxDQUFDLEVBQUMsd0JBQXdCLEVBQUMsQ0FBQyxFQUFDLGNBQWMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFDLG1CQUFtQixFQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxjQUFjLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxlQUFlLEVBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFDLHNCQUFzQixFQUFDLENBQUMsRUFBQyx3QkFBd0IsRUFBQyxDQUFDLEVBQUMsbUJBQW1CLEVBQUMsQ0FBQyxFQUFDLHNCQUFzQixFQUFDLENBQUMsRUFBQyx3QkFBd0IsRUFBQyxDQUFDLEVBQUMsd0JBQXdCLEVBQUMsQ0FBQyxFQUFDLHVCQUF1QixFQUFDLENBQUMsRUFBQyx3QkFBd0IsRUFBQyxDQUFDLEVBQUMsdUJBQXVCLEVBQUMsQ0FBQyxFQUFDLG9CQUFvQixFQUFDLENBQUMsRUFBQyxvQkFBb0IsRUFBQyxDQUFDLEVBQUMsd0JB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QUMsZ0JBQWdCLEVBQUMsQ0FBQyxFQUFDLG1CQUFtQixFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsc0JBQXNCLEVBQUMsQ0FBQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxnQkFBZ0IsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLEVBQUMsT0FBTyxFQUFDLEVBQUMsbUJBQW1CLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxtQkFBbUIsRUFBQyxDQUFDLEVBQUMsbUJBQW1CLEVBQUMsQ0FBQyxFQUFDLG9CQUFvQixFQUFDLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsYUFBYSxFQUFDLENBQUMsRUFBQyxrQkFBa0IsRUFBQyxDQUFDLEVBQUMsY0FBYyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxFQUFDLFdBQVcsRUFBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsRUFBQyxVQUFVLEVBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLGNBQWMsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxhQUFhLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxlQUFlLEVBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLEVBQUMsT0FBTyxFQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxFQUFDLFNBQVMsRUFBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsaUJBQWlCLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsb0JBQW9CLEVBQUMsQ0FBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsRUFBQyxLQUFLLEVBQUMsRUFBQyxVQUFVLEVBQUMsRUFBQyxjQUFjLEVBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxFQUFDLGNBQWMsRUFBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxFQUFDLEtBQUssRUFBQyxFQUFDLGNBQWMsRUFBQyxDQUFDLEVBQUMsY0FBYyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxFQUFDLGFBQWEsRUFBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxFQUFDLFdBQVcsRUFBQyxDQUFDLEVBQUMsb0JBQW9CLEVBQUMsQ0FBQyxFQUFDLHlCQUF5QixFQUFDLENBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsWUFBWSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxFQUFDLElBQUksRUFBQyxFQUFDLFlBQVksRUFBQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsQ0FBQyxFQUFDLEVBQUMsbUJBQW1CLEVBQUMsRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsRUFBQyxpQkFBaUIsRUFBQyxFQUFDLGtCQUFrQixFQUFDLENBQUMsRUFBQyxnQkFBZ0IsRUFBQyxDQUFDLEVBQUMsa0JBQWtCLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUMsQ0FBQyxFQUFDLG1CQUFtQixFQUFDLENBQUMsRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFDLEVBQUMsU0FBUyxFQUFDLEVBQUMsa0JBQWtCLEVBQUMsQ0FBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLFlBQVksRUFBQyxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFDLFNBQVMsRUFBQyxDQUFDLEVBQUMsY0FBYyxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUMsV0FBVyxFQUFDLENBQUMsRUFBQyxnQkFBZ0IsRUFBQyxDQUFDLEVBQUMs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SyxJQUFJLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFYZSxnQkFBYyxpQkFXN0IsQ0FBQTtBQUVMLENBQUMsRUF0RFMsQ0FBQyxLQUFELENBQUMsUUFzRFYiLCJzb3VyY2VzQ29udGVudCI6WyJcclxudmFyIGlzUGFnZVJlZnJlc2hSZXF1aXJlZDogYm9vbGVhbjtcclxuLy9jb25zdCBuYW1lb2YgPSA8VD4obmFtZToga2V5b2YgVCkgPT4gbmFtZTtcclxuLy9jb25zdCBuYW1lb2ZGYWN0b3J5ID0gPFQ+KCkgPT4gKG5hbWU6IGtleW9mIFQpID0+IG5hbWU7XHJcbi8vdXNhZ2UgY29uc3QgbmFtZW9mID0gbmFtZW9mRmFjdG9yeTxFZG9jLlJldmVudWVSZXBvcnRNb2RlbD4oKTtcclxuXHJcbm5hbWVzcGFjZSBxIHtcclxuICAgIGV4cG9ydCB2YXIgcXVlcnlTdHJpbmcgPSB7fTtcclxuICAgIGV4cG9ydCB2YXIganNQREZIZWFkZXJJbWFnZURhdGE6IHN0cmluZyA9IG51bGxcclxuICAgIGV4cG9ydCB2YXIganNQREZIZWFkZXJUaXRsZTogc3RyaW5nID0gJ1JlcG9ydCBUaXRsZSc7XHJcbiAgICBleHBvcnQgdmFyIHVzZVNlcmVuaXR5SW5saW5lRWRpdG9yczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgZXhwb3J0IHZhciBEZWZhdWx0TWFpbkdyaWRPcHRpb25zOiBFeHRHcmlkT3B0aW9ucyA9IHtcclxuICAgICAgICBBdXRvQ29sdW1uU2l6ZTogdHJ1ZSxcclxuICAgICAgICBGYWRlSW5FZmZlY3RXaGVuSW5pdDogdHJ1ZSxcclxuICAgICAgICBTaG93QW55SW5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWU6IHRydWUsXHJcbiAgICAgICAgU2hvd0lubGluZUFjdGlvbnNDb2x1bW46IHRydWUsXHJcbiAgICAgICAgU2hvd0RlbGV0ZUlubGluZUJ1dHR1bjogZmFsc2UsXHJcbiAgICAgICAgU2hvd0VkaXRJbmxpbmVCdXR0dW46IHRydWUsXHJcbiAgICAgICAgU2hvd1ByaW50SW5saW5lQnV0dHVuOiBmYWxzZSxcclxuICAgICAgICBTaG93Um93TnVtYmVyQ29sdW1uOiB0cnVlLFxyXG4gICAgICAgIFNob3dSb3dTZWxlY3Rpb25DaGVja2JveENvbHVtbjogZmFsc2UsXHJcbiAgICAgICAgRW5hYmxlUXVpY2tTZWFyY2g6IHRydWUsXHJcbiAgICAgICAgUm93c1BlclBhZ2U6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9ydCB2YXIgRGVmYXVsdEVkaXRvckdyaWRPcHRpb25zOiBFeHRHcmlkT3B0aW9ucyA9IHtcclxuICAgICAgICBBdXRvQ29sdW1uU2l6ZTogdHJ1ZSxcclxuICAgICAgICBGYWRlSW5FZmZlY3RXaGVuSW5pdDogdHJ1ZSxcclxuICAgICAgICBTaG93QW55SW5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWU6IHRydWUsXHJcbiAgICAgICAgU2hvd0lubGluZUFjdGlvbnNDb2x1bW46IHRydWUsXHJcbiAgICAgICAgU2hvd0RlbGV0ZUlubGluZUJ1dHR1bjogdHJ1ZSxcclxuICAgICAgICBTaG93RWRpdElubGluZUJ1dHR1bjogdHJ1ZSxcclxuICAgICAgICBTaG93UHJpbnRJbmxpbmVCdXR0dW46IGZhbHNlLFxyXG4gICAgICAgIFNob3dSb3dTZWxlY3Rpb25DaGVja2JveENvbHVtbjogZmFsc2UsXHJcbiAgICAgICAgU2hvd1Jvd051bWJlckNvbHVtbjogdHJ1ZSxcclxuICAgICAgICBFbmFibGVRdWlja1NlYXJjaDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgZXhwb3J0IHZhciBEZWZhdWx0RW50aXR5RGlhbG9nT3B0aW9uczogRXh0RGlhbG9nT3B0aW9ucyA9IHtcclxuICAgICAgICBBdXRvRml0Q29udGVudEFyZWE6IHRydWUsXHJcbiAgICAgICAgSGlkZUNhdGVnb3lMaW5rc0JhcjogdHJ1ZSxcclxuICAgICAgICBQZW5kaW5nQ2hhbmdlc0NvbmZpcm1hdGlvbjogdHJ1ZSxcclxuICAgICAgICBTaG93U2F2ZUFuZE5ld0J1dHRvbkluVG9vbGJhcjogZmFsc2UsXHJcbiAgICAgICAgU2hvd0Nsb3NlQnV0dG9uSW5Ub29sYmFyOiBmYWxzZSxcclxuICAgICAgICBTaG93UmVmcmVzaEJ1dHRvbkluVG9vbGJhcjogZmFsc2UsXHJcbiAgICAgICAgU2hvd0NoYW5nZUxvZ0J1dHRvbkluVG9vbGJhcjogdHJ1ZSxcclxuICAgICAgICBTaG93UmVwbGFjZVJvd0J1dHRvbkluVG9vbGJhcjogZmFsc2VcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9ydCB2YXIgRGVmYXVsdEVkaXRvckRpYWxvZ09wdGlvbnM6IEV4dERpYWxvZ09wdGlvbnMgPSB7XHJcbiAgICAgICAgQXV0b0ZpdENvbnRlbnRBcmVhOiBmYWxzZSxcclxuICAgICAgICBIaWRlQ2F0ZWdveUxpbmtzQmFyOiB0cnVlLFxyXG4gICAgICAgIFBlbmRpbmdDaGFuZ2VzQ29uZmlybWF0aW9uOiB0cnVlLFxyXG4gICAgICAgIFNob3dTYXZlQW5kTmV3QnV0dG9uSW5Ub29sYmFyOiBmYWxzZSxcclxuICAgICAgICBTaG93Q2xvc2VCdXR0b25JblRvb2xiYXI6IGZhbHNlLFxyXG4gICAgICAgIFNob3dSZWZyZXNoQnV0dG9uSW5Ub29sYmFyOiBmYWxzZSxcclxuICAgICAgICBTaG93Q2hhbmdlTG9nQnV0dG9uSW5Ub29sYmFyOiBmYWxzZSxcclxuICAgICAgICBTaG93UmVwbGFjZVJvd0J1dHRvbkluVG9vbGJhcjogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLy9kYXRlIHRpbWVcclxuICAgIGV4cG9ydCB2YXIgZmlzY2FsWWVhck1vbnRocyA9IFs2LCA3LCA4LCA5LCAxMCwgMTEsIDAsIDEsIDIsIDMsIDQsIDVdXHJcblxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9fcS9fcS5kLnRzXCIgLz5cclxubmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmZpbHRlcmFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEdyaWRCYXNlPFRJdGVtLCBUT3B0aW9ucz5cclxuICAgICAgICAvL3RoaXMgY29tbWVudCBpcyBmb3IgcHJldmVudGluZyByZXBsYWNlbWVudCBcclxuICAgICAgICBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8VEl0ZW0sIFRPcHRpb25zPiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFJvd1R5cGUoKTogeyBpZFByb3BlcnR5Pzogc3RyaW5nLCBsb2NhbFRleHRQcmVmaXg/OiBzdHJpbmcsIG5hbWVQcm9wZXJ0eT86IHN0cmluZywgaW5zZXJ0UGVybWlzc2lvbj86IHN0cmluZywgdXBkYXRlUGVybWlzc2lvbj86IHN0cmluZywgZGVsZXRlUGVybWlzc2lvbj86IHN0cmluZywgfSB7IHJldHVybiB7fTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gdGhpcy5nZXRSb3dUeXBlKCkuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gdGhpcy5nZXRSb3dUeXBlKCkubmFtZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEluc2VydFBlcm1pc3Npb24oKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS5pbnNlcnRQZXJtaXNzaW9uOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFVwZGF0ZVBlcm1pc3Npb24oKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS51cGRhdGVQZXJtaXNzaW9uOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERlbGV0ZVBlcm1pc3Npb24oKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS5kZWxldGVQZXJtaXNzaW9uOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRfRXh0R3JpZE9wdGlvbnMoKTogRXh0R3JpZE9wdGlvbnMgeyByZXR1cm4gUS5kZWVwQ2xvbmUocS5EZWZhdWx0TWFpbkdyaWRPcHRpb25zKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc1BpY2tlck1vZGUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoJ1Jvd1NlbGVjdGlvbkNoZWNrR3JpZCcpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEdyb3VwaW5nKCk6IFNsaWNrLkdyb3VwSW5mbzxUSXRlbT5bXSB7IHJldHVybiBbXTsgfVxyXG5cclxuICAgICAgICBpc1JlYWRPbmx5OiBib29sZWFuO1xyXG4gICAgICAgIGlzUmVxdWlyZWQ6IGJvb2xlYW47XHJcbiAgICAgICAgaXNBdXRvc2l6ZWQgPSBmYWxzZTtcclxuICAgICAgICBpc0NoaWxkR3JpZCA9IGZhbHNlO1xyXG4gICAgICAgIG5leHRSb3dOdW1iZXIgPSAxO1xyXG4gICAgICAgIHB1YmxpYyBhdXRvQ29sdW1uU2l6ZVBsdWdpbjtcclxuXHJcbiAgICAgICAgcHVibGljIHJvd1NlbGVjdGlvbiA9IG5ldyBTZXJlbml0eS5HcmlkUm93U2VsZWN0aW9uTWl4aW4odGhpcyk7XHJcbiAgICAgICAgcHVibGljIHBpY2tlckRpYWxvZzogR3JpZEl0ZW1QaWNrZXJEaWFsb2c7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zPzogVE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5zbGlja0NvbnRhaW5lci5mYWRlVG8oMCwgMCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZ3JvdXBpbmcgPSB0aGlzLmdldEdyb3VwaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChncm91cGluZy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRHcm91cGluZyhncm91cGluZyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG1hcmt1cFJlYWR5KCk6IHZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5tYXJrdXBSZWFkeSgpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0F1dG9zaXplZCA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldF9FeHRHcmlkT3B0aW9ucygpLkF1dG9Db2x1bW5TaXplID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVBbGxDdWx1bW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlja0NvbnRhaW5lci5mYWRlVG8oMTAwLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIGxldCByZXBvcnRSZXF1ZXN0ID0gdGhpcy5nZXRSZXBvcnRSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVwb3J0UmVxdWVzdC5MaXN0RXhjZWxTZXJ2aWNlTWV0aG9kTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKEV4Y2VsRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZTogdGhpcy5nZXRTZXJ2aWNlKCkgKyAnLycgKyByZXBvcnRSZXF1ZXN0Lkxpc3RFeGNlbFNlcnZpY2VNZXRob2ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uVmlld1N1Ym1pdDogKCkgPT4gdGhpcy5vblZpZXdTdWJtaXQoKSxcclxuICAgICAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlcG9ydFJlcXVlc3QuUmVwb3J0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXhwb3J0IHRvIFBERicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWZpbGUtcGRmLW8nLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVwb3J0SGVscGVyLmV4ZWN1dGUoeyByZXBvcnRLZXk6IHJlcG9ydFJlcXVlc3QuUmVwb3J0S2V5LCBwYXJhbXM6IHsgcmVxdWVzdDogdGhpcy5nZXRSZXBvcnRSZXF1ZXN0KCkgfSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVmlldyBhcyBSZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1odG1sNScsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdCA9IHRoaXMuZ2V0UmVwb3J0UmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcG9ydEhlbHBlci5leGVjdXRlKHsgcmVwb3J0S2V5OiByZXBvcnRSZXF1ZXN0LlJlcG9ydEtleSwgcGFyYW1zOiB7IHJlcXVlc3Q6IHJlcXVlc3QgfSwgZXh0ZW5zaW9uOiAnaHRtbCcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlcG9ydFJlcXVlc3QuUmVwb3J0U2VydmljZU1ldGhvZE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdWaWV3IGFzIFJlcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWV5ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBRLnBvc3RUb1NlcnZpY2UoeyBzZXJ2aWNlOiBRLnJlc29sdmVVcmwodGhpcy5nZXRTZXJ2aWNlKCkgKyAnLycgKyByZXBvcnRSZXF1ZXN0LlJlcG9ydFNlcnZpY2VNZXRob2ROYW1lKSwgcmVxdWVzdDogdGhpcy5nZXRSZXBvcnRSZXF1ZXN0KCksIHRhcmdldDogJ19ibGFuaycgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9idXR0b25zLnB1c2goUGRmRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIC8vICAgIHRhYmxlT3B0aW9uczogeyB0aGVtZTogJ2dyaWQnIH0sXHJcbiAgICAgICAgICAgICAgICAvLyAgICBvblZpZXdTdWJtaXQ6ICgpID0+IHRoaXMub25WaWV3U3VibWl0KClcclxuICAgICAgICAgICAgICAgIC8vfSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZXBvcnRSZXF1ZXN0KCk6IF9FeHQuTGlzdFJlcG9ydFJlcXVlc3Qge1xyXG4gICAgICAgICAgICBsZXQgdmlldyA9IHRoaXMuZ2V0VmlldygpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBRLmRlZXBDbG9uZSh2aWV3ID8gdmlldy5wYXJhbXMgOiB7fSkgLy9hcyBfRXh0LlJlcG9ydFJlcXVlc3Q7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuUmVwb3J0U2VydmljZU1ldGhvZE5hbWUgPSBudWxsOyAgICAgLy8gaWYgc29tZSB2YWx1ZSBmb3VuZCBpbiB0aGlzIHByb3BlcnR5IHRoZW4gXCJ2aWV3IGFzIHJlcG9ydFwiIGJ1dHRvbiB3aWxsIGFwcGVhclxyXG4gICAgICAgICAgICByZXF1ZXN0LlJlcG9ydEtleSA9IG51bGw7ICAgICAgICAgICAgICAgICAgIC8vIGlmIHNvbWUgdmFsdWUgZm91bmQgaW4gdGhpcyBwcm9wZXJ0eSB0aGVuIFwiZXhwb3J0IHRvIHBkZlwiIGJ1dHRvbiB3aWxsIGFwcGVhclxyXG4gICAgICAgICAgICByZXF1ZXN0Lkxpc3RFeGNlbFNlcnZpY2VNZXRob2ROYW1lID0gbnVsbDsgIC8vIGlmIHNvbWUgdmFsdWUgZm91bmQgaW4gdGhpcyBwcm9wZXJ0eSB0aGVuIFwiZXhwb3J0IHRvIHhsc1wiIGJ1dHRvbiB3aWxsIGFwcGVhclxyXG4gICAgICAgICAgICByZXF1ZXN0LkVxdWFsaXR5RmlsdGVyV2l0aFRleHRWYWx1ZSA9IHt9O1xyXG4gICAgICAgICAgICByZXF1ZXN0LkN1c3RvbVBhcmFtZXRlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2aWV3KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcXVpY2tGaWx0ZXJzID0gdGhpcy5nZXRRdWlja0ZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBxdWlja0ZpbHRlciBvZiBxdWlja0ZpbHRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyVmFsdWUgPSByZXF1ZXN0LkVxdWFsaXR5RmlsdGVyW3F1aWNrRmlsdGVyLmZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyVmFsdWUgJiYgZmlsdGVyVmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVpY2tGaWx0ZXIub3B0aW9ucy5sb29rdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb29rdXAgPSBRLmdldExvb2t1cChxdWlja0ZpbHRlci5vcHRpb25zLmxvb2t1cEtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LkVxdWFsaXR5RmlsdGVyV2l0aFRleHRWYWx1ZVtxdWlja0ZpbHRlci50aXRsZV0gPSBsb29rdXAuaXRlbUJ5SWRbZmlsdGVyVmFsdWVdW2xvb2t1cC50ZXh0RmllbGRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHF1aWNrRmlsdGVyLm9wdGlvbnMuZW51bUtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudW1LZXkgPSBxdWlja0ZpbHRlci5vcHRpb25zLmVudW1LZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW51bVZhbHVlID0gUS50b0lkKGZpbHRlclZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuRXF1YWxpdHlGaWx0ZXJXaXRoVGV4dFZhbHVlW3F1aWNrRmlsdGVyLnRpdGxlXSA9IFNlcmVuaXR5LkVudW1Gb3JtYXR0ZXIuZm9ybWF0KFNlcmVuaXR5LkVudW1UeXBlUmVnaXN0cnkuZ2V0KGVudW1LZXkpLCBlbnVtVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHF1aWNrRmlsdGVyLnR5cGUgPT0gR3JpZEl0ZW1QaWNrZXJFZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21GaWx0ZXIgPSB0aGlzLmZpbmRRdWlja0ZpbHRlcihHcmlkSXRlbVBpY2tlckVkaXRvciwgcXVpY2tGaWx0ZXIuZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWVbcXVpY2tGaWx0ZXIudGl0bGVdID0gY3VzdG9tRmlsdGVyLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWVbcXVpY2tGaWx0ZXIudGl0bGVdID0gZmlsdGVyVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHF1aWNrRmlsdGVyLnR5cGUgPT0gU2VyZW5pdHkuRGF0ZUVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcWYgPSB0aGlzLmZpbmRRdWlja0ZpbHRlcihTZXJlbml0eS5EYXRlRWRpdG9yLCBxdWlja0ZpbHRlci5maWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlRnJvbSA9IHFmLmVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlVG8gPSBxZi5lbGVtZW50LnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVyVGV4dCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFRLmlzRW1wdHlPck51bGwoZGF0ZUZyb20pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCA9IFEuZm9ybWF0KHEudGV4dCgnQ29udHJvbHMuRnJvbURhdGUnLCAnRnJvbSB7MH0nKSwgZGF0ZUZyb20pICsgJyAnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFRLmlzRW1wdHlPck51bGwoZGF0ZVRvKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQgPSBmaWx0ZXJUZXh0ICsgUS5mb3JtYXQocS50ZXh0KCdDb250cm9scy5Ub0RhdGUnLCAnVG8gezB9JyksIGRhdGVUbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVEuaXNFbXB0eU9yTnVsbChmaWx0ZXJUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWVbcXVpY2tGaWx0ZXIudGl0bGVdID0gZmlsdGVyVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZ2V0X0V4dEdyaWRPcHRpb25zKCkuU2hvd0FueUluRXF1YWxpdHlGaWx0ZXJXaXRoVGV4dFZhbHVlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuRXF1YWxpdHlGaWx0ZXJXaXRoVGV4dFZhbHVlW3F1aWNrRmlsdGVyLnRpdGxlXSA9IHEudGV4dCgnQ29udHJvbHMuQWxsJywgJ2FsbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0X0V4dEdyaWRPcHRpb25zKCkuU2hvd0FueUluRXF1YWxpdHlGaWx0ZXJXaXRoVGV4dFZhbHVlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5FcXVhbGl0eUZpbHRlcldpdGhUZXh0VmFsdWVbcXVpY2tGaWx0ZXIudGl0bGVdID0gcS50ZXh0KCdDb250cm9scy5BbGwnLCAnYWxsJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCk6IFNsaWNrLkNvbHVtbltdIHtcclxuICAgICAgICAgICAgbGV0IGNvbHVtbnMgPSBzdXBlci5nZXRDb2x1bW5zKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaXNFZGl0YWJsZSA9IHRoaXMuZ2V0U2xpY2tPcHRpb25zKCkuZWRpdGFibGU7XHJcbiAgICAgICAgICAgIGxldCBleHRPcHRpb25zID0gdGhpcy5nZXRfRXh0R3JpZE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc0VkaXRhYmxlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHVzaW5nU2xpY2tHcmlkRWRpdG9ycygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChleHRPcHRpb25zLkF1dG9Db2x1bW5TaXplID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4ud2lkdGggPSBjb2x1bW4ubWluV2lkdGggfHwgY29sdW1uLndpZHRoIHx8IDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jc3NDbGFzcyA9IGNvbHVtbi5jc3NDbGFzcyB8fCAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnNvdXJjZUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybWF0dGVyVHlwZSA9IGNvbHVtbi5zb3VyY2VJdGVtLmZvcm1hdHRlclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy93aWR0aCBhbmQgY3NzQ2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnNvdXJjZUl0ZW0uZmlsdGVyaW5nVHlwZSA9PSBcIkxvb2t1cFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jc3NDbGFzcyArPSAnIGFsaWduLWxlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4ud2lkdGggPSBjb2x1bW4ubWluV2lkdGggPiAxMDAgPyBjb2x1bW4ubWluV2lkdGggOiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtYXR0ZXJUeXBlID09IFwiRW51bVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi53aWR0aCA9IGNvbHVtbi5taW5XaWR0aCA+IDEwMCA/IGNvbHVtbi5taW5XaWR0aCA6IDEwMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdHRlclR5cGUgPT0gXCJEYXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNzc0NsYXNzICs9ICcgYWxpZ24tY2VudGVyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLndpZHRoID0gY29sdW1uLm1pbldpZHRoID4gOTkgPyBjb2x1bW4ubWluV2lkdGggOiA5OTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdHRlclR5cGUgPT0gXCJEYXRlVGltZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jc3NDbGFzcyArPSAnIGFsaWduLWNlbnRlcic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi53aWR0aCA9IGNvbHVtbi5taW5XaWR0aCA+IDE0MCA/IGNvbHVtbi5taW5XaWR0aCA6IDE0MDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdHRlclR5cGUgPT0gXCJOdW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY3NzQ2xhc3MgKz0gJyBhbGlnbi1yaWdodCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0dGVyVHlwZSA9PSBcIkNoZWNrYm94XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNzc0NsYXNzICs9ICcgYWxpZ24tY2VudGVyJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY3NzQ2xhc3MgKz0gJyBhbGlnbi1sZWZ0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLndpZHRoID0gY29sdW1uLm1pbldpZHRoID4gOTkgPyBjb2x1bW4ubWluV2lkdGggOiA5OTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0dGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclR5cGUgPT0gXCJMb29rdXBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclBhcmFtcy5hdXRvQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb2x1bW4gYXMgYW55KS5sb29rdXAgPSBRLmdldExvb2t1cChjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JQYXJhbXMubG9va3VwS2V5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmZvcm1hdHRlciA9IChyb3csIGNlbGwsIHZhbHVlLCBjb2x1bW5EZWY6IGFueSwgZGF0YUNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uRGVmLnNvdXJjZUl0ZW0uZWRpdG9yUGFyYW1zLm11bHRpcGxlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSB2YWx1ZS5tYXAobSA9PiBjb2x1bW5EZWYubG9va3VwLml0ZW1CeUlkW21dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0cyA9IGl0ZW1zLm1hcChtID0+IG1bY29sdW1uRGVmLmxvb2t1cC50ZXh0RmllbGRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHMubGVuZ3RoID4gMCA/IHRleHRzLmpvaW4oJywgJykgOiAnLSc7O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBjb2x1bW5EZWYubG9va3VwLml0ZW1CeUlkW3ZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHJldHVybiBpdGVtW2NvbHVtbkRlZi5sb29rdXAudGV4dEZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gJy0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclR5cGUgPT0gXCJTZXJ2aWNlTG9va3VwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JQYXJhbXMuYXV0b0NvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29sdW1uIGFzIGFueSkudGV4dEZpZWxkSW5UaGlzUm93ID0gY29sdW1uLnNvdXJjZUl0ZW0uZWRpdG9yUGFyYW1zLnRleHRGaWVsZEluVGhpc1JvdyB8fCBjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JQYXJhbXMudGV4dEZpZWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmZvcm1hdHRlciA9IChyb3csIGNlbGwsIHZhbHVlLCBjb2x1bW5EZWY6IGFueSwgZGF0YUNvbnRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUNvbnRleHQpIHJldHVybiBkYXRhQ29udGV4dFtjb2x1bW5EZWYudGV4dEZpZWxkSW5UaGlzUm93XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiAnLSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtYXR0ZXJUeXBlID09IFwiRW51bVwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uZm9ybWF0dGVyID0gKHJvdywgY2VsbCwgdmFsdWUsIGNvbHVtbkRlZjogYW55LCBkYXRhQ29udGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudW1LZXkgPSBjb2x1bW5EZWYuc291cmNlSXRlbS5lZGl0b3JQYXJhbXMuZW51bUtleVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBTZXJlbml0eS5FbnVtRm9ybWF0dGVyLmZvcm1hdChTZXJlbml0eS5FbnVtVHlwZVJlZ2lzdHJ5LmdldChlbnVtS2V5KSwgUS50b0lkKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiAnLSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JUeXBlID09IFwiRGVjaW1hbFwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybWF0U3J0ID0gJyMsIyMwLjAwJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWNpbWFscyA9IGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclBhcmFtc1snZGVjaW1hbHMnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWNpbWFscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFNydCA9ICcjLCMjMC4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWNpbWFsczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFNydCArPSAnMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JQYXJhbXNbJ21pblZhbHVlJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXRlZE1pblZhbHVlID0gKGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclBhcmFtc1snbWluVmFsdWUnXSBhcyBzdHJpbmcpLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0ZWRNaW5WYWx1ZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFNydCA9ICcjLCMjMC4nICsgc3BsaXRlZE1pblZhbHVlWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFNydCA9ICcjLCMjMCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmZvcm1hdCA9IGN0eCA9PiBTZXJlbml0eS5OdW1iZXJGb3JtYXR0ZXIuZm9ybWF0KGN0eC52YWx1ZSwgZm9ybWF0U3J0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWRpdGFibGUgPT0gdHJ1ZSAmJiBjb2x1bW4uc291cmNlSXRlbS5yZWFkT25seSAhPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxLnVzZVNlcmVuaXR5SW5saW5lRWRpdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVkaXRvciA9IFNlcmVuaXR5SW5saW5lRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVkaXRvclR5cGUgPSBjb2x1bW4uc291cmNlSXRlbS5lZGl0b3JUeXBlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JUeXBlID09IFwiTG9va3VwXCIgfHwgZWRpdG9yVHlwZSA9PSBcIkVudW1cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5lZGl0b3IgPSBTbGlja1snRWRpdG9ycyddWydTZWxlY3QyJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLndpZHRoID0gY29sdW1uLm1pbldpZHRoID4gMTYwID8gY29sdW1uLm1pbldpZHRoIDogMTYwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3JUeXBlID09IFwiRGF0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVkaXRvciA9IFNsaWNrWydFZGl0b3JzJ11bJ0RhdGUnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yVHlwZSA9PSBcIkJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5lZGl0b3IgPSBTbGlja1snRWRpdG9ycyddWydDaGVja2JveCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3JUeXBlID09IFwiSW50ZWdlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVkaXRvciA9IFNsaWNrWydFZGl0b3JzJ11bJ0ludGVnZXInXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yVHlwZSA9PSBcIkRlY2ltYWxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5lZGl0b3IgPSBTbGlja1snRWRpdG9ycyddWydGbG9hdCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3JUeXBlID09IFwiWWVzTm9TZWxlY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5lZGl0b3IgPSBTbGlja1snRWRpdG9ycyddWydZZXNOb1NlbGVjdCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3JUeXBlID09IFwiUGVyY2VudENvbXBsZXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uZWRpdG9yID0gU2xpY2tbJ0VkaXRvcnMnXVsnUGVyY2VudENvbXBsZXRlJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVkaXRvclR5cGUgPT0gXCJMb25nVGV4dFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmVkaXRvciA9IFNsaWNrWydFZGl0b3JzJ11bJ0xvbmdUZXh0J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5lZGl0b3IgPSBTbGlja1snRWRpdG9ycyddWydUZXh0J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnUm93TnVtJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6ICcjJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAncm93bnVtLWNvbHVtbicsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJDc3NDbGFzczogJ2FsaWduLWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogNDAsXHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogNDAsXHJcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBleHRPcHRpb25zLlNob3dSb3dOdW1iZXJDb2x1bW4sXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGN0eCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHguaXRlbS5Sb3dOdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lml0ZW0uUm93TnVtID0gdGhpcy5uZXh0Um93TnVtYmVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoY3R4Lml0ZW0uUm93TnVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXh0T3B0aW9ucy5TaG93SW5saW5lQWN0aW9uc0NvbHVtbiA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5saW5lQWN0aW9uc0NvbHVtbldpZHRoID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBpbmxpbmVBY3Rpb25zQ29sdW1uQ29udGVudCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChleHRPcHRpb25zLlNob3dFZGl0SW5saW5lQnV0dHVuID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVBY3Rpb25zQ29sdW1uV2lkdGggKz0gMzI7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5pc1JlYWRPbmx5ID8gcS50ZXh0KCdDb250cm9scy5WaWV3JywgJ1ZpZXcgRGV0YWlscycpIDogcS50ZXh0KCdDb250cm9scy5FZGl0JywgJ0VkaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVBY3Rpb25zQ29sdW1uQ29udGVudCArPSBgPGEgY2xhc3M9XCJpbmxpbmUtYWN0aW9ucyB2aWV3LWRldGFpbHNcIiB0aXRsZT1cIiR7dGl0bGV9XCIgc3R5bGU9XCJwYWRkaW5nOiAwIDVweDtcIj48aSBjbGFzcz1cInZpZXctZGV0YWlscyBmYSBmYS1wZW5jaWwtc3F1YXJlLW9cIj48L2k+PC9hPmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV4dE9wdGlvbnMuU2hvd0RlbGV0ZUlubGluZUJ1dHR1biA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lQWN0aW9uc0NvbHVtbldpZHRoICs9IDIyO1xyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZUFjdGlvbnNDb2x1bW5Db250ZW50ICs9IGA8YSBjbGFzcz1cImlubGluZS1hY3Rpb25zIGRlbGV0ZS1yb3dcIiB0aXRsZT1cIiR7cS50ZXh0KCdDb250cm9scy5EZWxldGUnLCAnRGVsZXRlJyl9XCIgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDVweDtcIj48aSBjbGFzcz1cImRlbGV0ZS1yb3cgZmEgZmEtdHJhc2gtbyB0ZXh0LXJlZFwiPjwvaT48L2E+YDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0T3B0aW9ucy5TaG93UHJpbnRJbmxpbmVCdXR0dW4gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlubGluZUFjdGlvbnNDb2x1bW5XaWR0aCArPSAyNTtcclxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVBY3Rpb25zQ29sdW1uQ29udGVudCArPSBgPGEgY2xhc3M9XCJpbmxpbmUtYWN0aW9ucyBwcmludC1yb3dcIiB0aXRsZT1cIiR7cS50ZXh0KCdDb250cm9scy5QcmludCcsICdQcmludCcpfVwiIHN0eWxlPVwicGFkZGluZy1sZWZ0OiA1cHg7XCI+PGkgY2xhc3M9XCJwcmludC1yb3cgZmEgZmEtcHJpbnRcIj48L2k+PC9hPmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ2lubGluZS1hY3Rpb25zJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2lubGluZS1hY3Rpb25zLWNvbHVtbicsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGlubGluZUFjdGlvbnNDb2x1bW5XaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogaW5saW5lQWN0aW9uc0NvbHVtbldpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBpbmxpbmVBY3Rpb25zQ29sdW1uV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBjdHggPT4gaW5saW5lQWN0aW9uc0NvbHVtbkNvbnRlbnRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXh0T3B0aW9ucy5TaG93Um93U2VsZWN0aW9uQ2hlY2tib3hDb2x1bW4gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvd1NlbGVjdGlvbkNvbCA9IFNlcmVuaXR5LkdyaWRSb3dTZWxlY3Rpb25NaXhpbi5jcmVhdGVTZWxlY3RDb2x1bW4oKCkgPT4gdGhpcy5yb3dTZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uQ29sLndpZHRoID0gcm93U2VsZWN0aW9uQ29sLm1pbldpZHRoID0gcm93U2VsZWN0aW9uQ29sLm1heFdpZHRoID0gMjdcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMudW5zaGlmdChyb3dTZWxlY3Rpb25Db2wpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BpY2tlck1vZGUoKSkgeyAvL3Nob3cgY2hlY2tib3ggY29sdW1uIGluIHBpY2tlciBtb2RlXHJcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9ICh0aGlzLm9wdGlvbnMgYXMgYW55KSBhcyBHcmlkSXRlbVBpY2tlckVkaXRvck9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMubXVsdGlwbGUgJiYgIW9wdGlvbnMuZ3JpZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeVdhcm5pbmcoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIG11bHRpcGxlL3NpbmdsZS4gUHJvYmFibHkgdGhlcmUgaXMgbm8gJ29wdGlvbnMnIHBhcmFtZXRlciBpbiBncmlkJ3MgY29uc3RydWN0b3IuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vcmVtb3ZlIGVkaXQgbGluayBpbiBwaWNrZXIgbW9kZVxyXG4gICAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5zb3VyY2VJdGVtICYmIGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRMaW5rKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uZm9ybWF0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubXVsdGlwbGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByb3dTZWxlY3Rpb25Db2wgPSBTZXJlbml0eS5HcmlkUm93U2VsZWN0aW9uTWl4aW4uY3JlYXRlU2VsZWN0Q29sdW1uKCgpID0+IHRoaXMucm93U2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb25Db2wud2lkdGggPSByb3dTZWxlY3Rpb25Db2wubWluV2lkdGggPSByb3dTZWxlY3Rpb25Db2wubWF4V2lkdGggPSAyN1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMudW5zaGlmdChyb3dTZWxlY3Rpb25Db2wpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogJ3Jvdy1zZWxlY3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdpbmxpbmUtYWN0aW9ucy1jb2x1bW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiA2NixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDY2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGN0eCA9PiAnPGEgY2xhc3M9XCJpbmxpbmUtYWN0aW9ucyBzZWxlY3Qtcm93XCI+PGkgY2xhc3M9XCJzZWxlY3Qtcm93IGZhIGZhLWNoZWNrXCI+PC9pPiBTZWxlY3Q8L2E+J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNsaWNrR3JpZCgpIHtcclxuICAgICAgICAgICAgdmFyIGdyaWQgPSBzdXBlci5jcmVhdGVTbGlja0dyaWQoKTtcclxuXHJcbiAgICAgICAgICAgIHVzaW5nU2xpY2tBdXRvQ29sdW1uU2l6ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKFNsaWNrLkF1dG9Db2x1bW5TaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9Db2x1bW5TaXplUGx1Z2luID0gbmV3IFNsaWNrLkF1dG9Db2x1bW5TaXplKCk7XHJcbiAgICAgICAgICAgICAgICBncmlkLnJlZ2lzdGVyUGx1Z2luKHRoaXMuYXV0b0NvbHVtblNpemVQbHVnaW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdyaWQucmVnaXN0ZXJQbHVnaW4obmV3IFNsaWNrLkRhdGEuR3JvdXBJdGVtTWV0YWRhdGFQcm92aWRlcigpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBncmlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHJlc2V0Q29sdW1ucyhjb2x1bW5zOiBTbGljay5Db2x1bW5bXSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zbGlja0NvbnRhaW5lci5mYWRlVG8oMCwgMCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNsaWNrR3JpZC5zZXRDb2x1bW5zKGNvbHVtbnMpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRfRXh0R3JpZE9wdGlvbnMoKS5BdXRvQ29sdW1uU2l6ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVBbGxDdWx1bW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpY2tDb250YWluZXIuZmFkZVRvKDEwMCwgMSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHJlc2l6ZUFsbEN1bHVtbigpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG9zaXplZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgZ3JpZENvbnRhaW5lcldpZHRoID0gdGhpcy5zbGlja0NvbnRhaW5lci53aWR0aCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyaWRDb250YWluZXJXaWR0aCA+IDApIHsgfSBlbHNlIHsgZ3JpZENvbnRhaW5lcldpZHRoID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoJy5zLURpYWxvZycpLndpZHRoKCkgLSA1NTsgfVxyXG4gICAgICAgICAgICBpZiAoZ3JpZENvbnRhaW5lcldpZHRoID4gMCkgeyB9IGVsc2UgeyBncmlkQ29udGFpbmVyV2lkdGggPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCgnLnMtUGFuZWwnKS53aWR0aCgpIC0gNTU7IH1cclxuICAgICAgICAgICAgaWYgKGdyaWRDb250YWluZXJXaWR0aCA+IDApIHsgfSBlbHNlIHsgZ3JpZENvbnRhaW5lcldpZHRoID0gJCgnc2VjdGlvbi5jb250ZW50Jykud2lkdGgoKSAtIDc1OyB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNsaWNrR3JpZC5zZXRPcHRpb25zKHsgZm9yY2VGaXRDb2x1bW5zOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhbGxWaXNpYmxlQ29sdW1ucyA9IHRoaXMuYXV0b0NvbHVtblNpemVQbHVnaW4ucmVzaXplQWxsQ29sdW1ucygpLmZpbHRlcihmID0+IGYudmlzaWJsZSAhPSBmYWxzZSkgYXMgU2xpY2suQ29sdW1uW107Ly8gdGhpcy5hbGxDb2x1bW5zO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBhbGxWaXNpYmxlQ29sdW1uV2lkdGggPSAwO1xyXG4gICAgICAgICAgICBhbGxWaXNpYmxlQ29sdW1ucy5tYXAobSA9PiBtLndpZHRoKS5mb3JFYWNoKGUgPT4gYWxsVmlzaWJsZUNvbHVtbldpZHRoICs9IGUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChhbGxWaXNpYmxlQ29sdW1uV2lkdGggPiBncmlkQ29udGFpbmVyV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0b0NvbHVtblNpemVQbHVnaW4ucmVzaXplQWxsQ29sdW1ucygpXHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsbFZpc2libGVDb2x1bW5XaWR0aCA8IGdyaWRDb250YWluZXJXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvQ29sdW1uU2l6ZVBsdWdpbi5yZXNpemVBbGxDb2x1bW5zKClcclxuICAgICAgICAgICAgICAgIGxldCBmaXhlZFNpemVDb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzaXphYmxlQ29sdW1ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIGFsbFZpc2libGVDb2x1bW5zLmZvckVhY2goYyA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm1pbldpZHRoID09IGMubWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucy5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLndpZHRoID0gYy5tYXhXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGMuc291cmNlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYy5zb3VyY2VJdGVtLmZvcm1hdHRlclR5cGUgPT0gU3RyaW5nKFwiTnVtYmVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhlZFNpemVDb2x1bW5zLnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYy5zb3VyY2VJdGVtLmZpbHRlcmluZ1R5cGUgPT0gU3RyaW5nKFwiRW51bVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucy5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMud2lkdGggPCA4MCkgYy53aWR0aCA9IDgwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYy5zb3VyY2VJdGVtLmZvcm1hdHRlclR5cGUgPT0gU3RyaW5nKFwiRGF0ZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucy5wdXNoKGMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjLndpZHRoIDwgODApIGMud2lkdGggPSA4MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGMuc291cmNlSXRlbS5mb3JtYXR0ZXJUeXBlID09IFN0cmluZyhcIkRhdGVUaW1lXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhlZFNpemVDb2x1bW5zLnB1c2goYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMud2lkdGggPCAxNDApIGMud2lkdGggPSAxNDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjLnNvdXJjZUl0ZW0uZm9ybWF0dGVyVHlwZSA9PSBTdHJpbmcoXCJDaGVja2JveFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucy5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlQ29sdW1ucy5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGVDb2x1bW5zLnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXNpemFibGVDb2x1bW5zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZUNvbHVtbnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWxsVmlzaWJsZUNvbHVtbnMuZm9yRWFjaChjID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjLm1pbldpZHRoID09IGMubWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkU2l6ZUNvbHVtbnMucHVzaChjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMud2lkdGggPSBjLm1heFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlQ29sdW1ucy5wdXNoKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmaXhlZFNpemVDb2x1bW5zV2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgZml4ZWRTaXplQ29sdW1ucy5tYXAobSA9PiBtLndpZHRoKS5mb3JFYWNoKGUgPT4gZml4ZWRTaXplQ29sdW1uc1dpZHRoICs9IGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdHJldGNoYWJsZUdyaWRBcmVhV2lkdGggPSBncmlkQ29udGFpbmVyV2lkdGggLSBmaXhlZFNpemVDb2x1bW5zV2lkdGggLSAodGhpcy5pc0NoaWxkR3JpZCA/IDQ4IDogMTgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByZXNpemFibGVDb2x1bW5zV2lkdGggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzaXphYmxlQ29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAobSA9PiBtLndpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGUgPT4gcmVzaXphYmxlQ29sdW1uc1dpZHRoICs9IGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc2l6YWJsZUNvbHVtbnMuZm9yRWFjaChjID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGhNdWx0aXBseWluZ0ZhY3RvciA9IHN0cmV0Y2hhYmxlR3JpZEFyZWFXaWR0aCAvIHJlc2l6YWJsZUNvbHVtbnNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3V2lkdGggPSBjLndpZHRoICogd2lkdGhNdWx0aXBseWluZ0ZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5jcmVtZW50ID0gbmV3V2lkdGggLSBjLndpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lmIChpbmNyZW1lbnQgPD0gMjAwKSAvLyBtYXhpbXVtIHN0cmVjaGluZyBpcyAyMDBcclxuICAgICAgICAgICAgICAgICAgICBjLndpZHRoID0gbmV3V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbHNlIGMud2lkdGggPSBjLndpZHRoICsgMjAwO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLnNldENvbHVtbnMoYWxsVmlzaWJsZUNvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlja0dyaWQub25Db2x1bW5zUmVzaXplZC5ub3RpZnkoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRJdGVtcyh0aGlzLmdldEl0ZW1zKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNsaWNrT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgbGV0IG9wdCA9IHN1cGVyLmdldFNsaWNrT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRfRXh0R3JpZE9wdGlvbnMoKS5BdXRvQ29sdW1uU2l6ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBvcHQuZm9yY2VGaXRDb2x1bW5zID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0LmVuYWJsZVRleHRTZWxlY3Rpb25PbkNlbGxzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG9wdC5lbmFibGVDZWxsTmF2aWdhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIG9wdC5hc3luY0VkaXRvckxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgb3B0LmF1dG9FZGl0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFZpZXdPcHRpb25zKCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gc3VwZXIuZ2V0Vmlld09wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIG9wdC5yb3dzUGVyUGFnZSA9IHEuRGVmYXVsdE1haW5HcmlkT3B0aW9ucy5Sb3dzUGVyUGFnZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UHJpbnRSb3dTZXJ2aWNlTWV0aG9kKCkgeyByZXR1cm4gJ1ByaW50JyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uQ2xpY2soZSwgcm93LCBjZWxsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1BdChyb3cpIGFzIFRJdGVtO1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkSWQgPSBpdGVtW3RoaXMuZ2V0SWRQcm9wZXJ0eSgpXTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdXNlciBjbGlja3MgXCJpXCIgZWxlbWVudCwgZS5nLiBpY29uXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQucGFyZW50KCkuaGFzQ2xhc3MoJ2lubGluZS1hY3Rpb24nKSB8fCB0YXJnZXQucGFyZW50KCkuaGFzQ2xhc3MoJ2lubGluZS1hY3Rpb25zJykgfHwgdGFyZ2V0LnBhcmVudCgpLmhhc0NsYXNzKCdpbmxpbmUtYnRuJykpXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdpbmxpbmUtYWN0aW9uJykgfHwgdGFyZ2V0Lmhhc0NsYXNzKCdpbmxpbmUtYWN0aW9ucycpIHx8IHRhcmdldC5oYXNDbGFzcygnaW5saW5lLWJ0bicpKSB7XHJcbiAgICAgICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSW5saW5lQWN0aW9uQ2xpY2sodGFyZ2V0LCByZWNvcmRJZCwgaXRlbSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25JbmxpbmVBY3Rpb25DbGljayh0YXJnZXQ6IEpRdWVyeSwgcmVjb3JkSWQsIGl0ZW06IFRJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ2RlbGV0ZS1yb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWFkT25seSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlXYXJuaW5nKCdSZWFkIG9ubHkgcmVjb3JkcyBjb3VsZCBub3QgYmUgZGVsZXRlZCEnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5jb25maXJtKCdEZWxldGUgcmVjb3JkPycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSB0aGlzIGFzIGFueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uZGVsZXRlRW50aXR5KSB7IC8vZm9yIGluLW1lbW9yeSBncmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmRlbGV0ZUVudGl0eShyZWNvcmRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLnNlcnZpY2VSZXF1ZXN0KHRoaXMuZ2V0U2VydmljZSgpICsgJy9EZWxldGUnLCB7IEVudGl0eUlkOiByZWNvcmRJZCB9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldC5oYXNDbGFzcygndmlldy1kZXRhaWxzJykpIHtcclxuICAgICAgICAgICAgICAgICh0aGlzLnNsaWNrR3JpZCBhcyBhbnkpLmdldEVkaXRDb250cm9sbGVyKCkuY29tbWl0Q3VycmVudEVkaXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRJdGVtKHJlY29yZElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ3ByaW50LXJvdycpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdDogU2VyZW5pdHkuUmV0cmlldmVSZXF1ZXN0ID0geyBFbnRpdHlJZDogcmVjb3JkSWQgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBRLnBvc3RUb1NlcnZpY2UoeyBzZXJ2aWNlOiBRLnJlc29sdmVVcmwodGhpcy5nZXRTZXJ2aWNlKCkgKyAnLycgKyB0aGlzLmdldFByaW50Um93U2VydmljZU1ldGhvZCgpKSwgcmVxdWVzdDogcmVxdWVzdCwgdGFyZ2V0OiAnX2JsYW5rJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ3NlbGVjdC1yb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dTZWxlY3Rpb24uc2V0U2VsZWN0ZWRLZXlzKFtyZWNvcmRJZF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZXJEaWFsb2cub25TdWNjZXNzKHRoaXMuc2VsZWN0ZWRJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tlckRpYWxvZy5kaWFsb2dDbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcmVzZXRSb3dOdW1iZXIoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFJvd051bWJlciA9IDE7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBncm91cGluZ19maWVsZHMgPSB0aGlzLnZpZXcuZ2V0R3JvdXBpbmcoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChncm91cGluZ19maWVsZHMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAoaXRlbXNbaV0gYXMgYW55KS5Sb3dOdW0gPSBpICsgMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChncm91cGluZ19maWVsZHMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBnZW5lcmF0ZVJvd051bWJlciA9IChncm91cHM6IFNsaWNrLkdyb3VwPGFueT5bXSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBnaSA9IDA7IGdpIDwgZ3JvdXBzLmxlbmd0aDsgZ2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ViR3JvdXBzID0gZ3JvdXBzW2dpXS5ncm91cHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJHcm91cHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlUm93TnVtYmVyKHN1Ykdyb3Vwcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm93cyA9IGdyb3Vwc1tnaV0ucm93cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3NbaV0uUm93TnVtID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBncm91cHMgPSB0aGlzLnZpZXcuZ2V0R3JvdXBzKCk7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVJvd051bWJlcihncm91cHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldEl0ZW1zKGl0ZW1zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vb3ZlcnJpZGUgZ2V0R3JvdXBpbmcgaW5zdGVhZCBvZiBjYWxsaW5nIHNldEdyb3VwaW5nXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRHcm91cGluZyhncm91cEluZm86IFNsaWNrLkdyb3VwSW5mbzxUSXRlbT5bXSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2V0R3JvdXBpbmcoZ3JvdXBJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJvd051bWJlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEluY2x1ZGVDb2x1bW5zKGluY2x1ZGU6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbjsgfSkge1xyXG4gICAgICAgICAgICBzdXBlci5nZXRJbmNsdWRlQ29sdW1ucyhpbmNsdWRlKTtcclxuICAgICAgICAgICAgbGV0IGdyb3VwaW5nID0gdGhpcy5nZXRHcm91cGluZygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyb3VwaW5nLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICBncm91cGluZy5mb3JFYWNoKGYgPT4gaW5jbHVkZVtmLmdldHRlcl0gPSB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREZWZhdWx0U29ydEJ5KCkge1xyXG4gICAgICAgICAgICBsZXQgc29ydEJ5ID0gc3VwZXIuZ2V0RGVmYXVsdFNvcnRCeSgpO1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXBpbmcgPSB0aGlzLmdldEdyb3VwaW5nKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ3JvdXBpbmcubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIGdyb3VwaW5nLmZvckVhY2goZiA9PiBzb3J0QnkudW5zaGlmdChmLmdldHRlcikpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNvcnRCeTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdQcm9jZXNzRGF0YShyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFRJdGVtPik6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxUSXRlbT4ge1xyXG4gICAgICAgICAgICBsZXQgciA9IHN1cGVyLm9uVmlld1Byb2Nlc3NEYXRhKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldF9FeHRHcmlkT3B0aW9ucygpLlNob3dSb3dOdW1iZXJDb2x1bW4gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMucmVzZXRSb3dOdW1iZXIoKSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpbml0RGlhbG9nKGRpYWxvZzogRGlhbG9nQmFzZTxUSXRlbSwgYW55Pik6IHZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5pbml0RGlhbG9nKGRpYWxvZyk7XHJcblxyXG4gICAgICAgICAgICBkaWFsb2cucGFyZW50R3JpZCA9IHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgc2VsZWN0ZWRJdGVtcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm93U2VsZWN0aW9uLmdldFNlbGVjdGVkS2V5cygpLm1hcChtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy52aWV3LmdldEl0ZW1CeUlkKG0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB7fSBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVt0aGlzLmdldElkUHJvcGVydHkoKV0gPSBtXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldCBzZWxlY3RlZEtleXModmFsdWU6IGFueVtdKSB7XHJcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0gKHRoaXMub3B0aW9ucyBhcyBhbnkpIGFzIEdyaWRJdGVtUGlja2VyRWRpdG9yT3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubXVsdGlwbGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dTZWxlY3Rpb24uc2V0U2VsZWN0ZWRLZXlzKHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdTdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIGlmICghc3VwZXIub25WaWV3U3VibWl0KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLnZpZXcucGFyYW1zIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG5cclxuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSAodGhpcy5vcHRpb25zIGFzIGFueSkgYXMgR3JpZEl0ZW1QaWNrZXJFZGl0b3JPcHRpb25zO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmlsdGVyaW5nQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQocmVxdWVzdC5Dcml0ZXJpYSwgb3B0aW9ucy5maWx0ZXJpbmdDcml0ZXJpYSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZpbHRlckZpZWxkICYmIFEuaXNWYWx1ZShvcHRpb25zLmZpbHRlclZhbHVlKSlcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQocmVxdWVzdC5Dcml0ZXJpYSwgW1tvcHRpb25zLmZpbHRlckZpZWxkXSwgJz0nLCBvcHRpb25zLmZpbHRlclZhbHVlXSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2FzY2FkZUZpZWxkID0gb3B0aW9ucy5jYXNjYWRlRmllbGQgfHwgb3B0aW9ucy5jYXNjYWRlRnJvbTtcclxuICAgICAgICAgICAgaWYgKGNhc2NhZGVGaWVsZCAmJiBRLmlzVmFsdWUob3B0aW9ucy5jYXNjYWRlVmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5Dcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmFuZChyZXF1ZXN0LkNyaXRlcmlhLCBbW2Nhc2NhZGVGaWVsZF0sICc9Jywgb3B0aW9ucy5jYXNjYWRlVmFsdWVdKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZmlsdGVyYWJsZSgpXHJcbiAgICBleHBvcnQgY2xhc3MgUmVwb3J0R3JpZEJhc2U8VEl0ZW0sIFRPcHRpb25zPlxyXG4gICAgICAgIC8vdGhpcyBjb21tZW50IGlzIGZvciBwcmV2ZW50aW5nIHJlcGxhY2VtZW50IFxyXG4gICAgICAgIGV4dGVuZHMgX0V4dC5HcmlkQmFzZTxUSXRlbSwgVE9wdGlvbnM+IHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBidXR0b25zID0gc3VwZXIuZ2V0QnV0dG9ucygpO1xyXG4gICAgICAgICAgICBidXR0b25zLnNwbGljZSgwLCAxKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidXR0b25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnMoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb2x1bW5zID0gc3VwZXIuZ2V0Q29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy5zcGxpY2UoMCwgMSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBSZXBvcnRQYW5lbEJhc2U8VFJlcXVlc3Q+IGV4dGVuZHMgU2VyZW5pdHkuUHJvcGVydHlQYW5lbDxUUmVxdWVzdCwgYW55PiB7XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0VGVtcGxhdGVOYW1lKCkgeyByZXR1cm4gJ1JlcG9ydFBhbmVsJzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZXBvcnRUaXRsZSgpIHsgcmV0dXJuICdSZXBvcnQgVGl0bGUnOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFJlcG9ydEtleSgpIHsgcmV0dXJuICdSZXBvcnQuS2V5JzsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVwb3J0UmVxdWVzdCgpIHsgcmV0dXJuIHRoaXMuZ2V0U2F2ZUVudGl0eSgpOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHQ/KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lciwgb3B0KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnUGFuZWxUaXRsZScpLnRleHQodGhpcy5nZXRSZXBvcnRUaXRsZSgpKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZENsYXNzKCdzLURhdGFHcmlkJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5SWQoJ1N1Ym1pdEJ1dHRvbicpLmNsaWNrKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfRXh0LlJlcG9ydEhlbHBlci5leGVjdXRlKHsgcmVwb3J0S2V5OiB0aGlzLmdldFJlcG9ydEtleSgpLCBwYXJhbXM6IHsgUmVxdWVzdDogdGhpcy5nZXRSZXBvcnRSZXF1ZXN0KCkgfSwgZXh0ZW5zaW9uOiAnaHRtbCcgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnRG93bmxvYWRQZGZCdXR0b24nKS5jbGljayhlID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVGb3JtKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX0V4dC5SZXBvcnRIZWxwZXIuZXhlY3V0ZSh7IHJlcG9ydEtleTogdGhpcy5nZXRSZXBvcnRLZXkoKSwgcGFyYW1zOiB7IFJlcXVlc3Q6IHRoaXMuZ2V0UmVwb3J0UmVxdWVzdCgpIH0sIGV4dGVuc2lvbjogJ3BkZicgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRlbXBsYXRlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYFxyXG4gICAgPGRpdiBjbGFzcz1cInBhZ2UtdGl0bGUgZ3JpZC10aXRsZVwiIGlkPVwifl9QYW5lbFRpdGxlXCI+UmVwb3J0IFRpdGxlPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cInMtRm9ybSBmbGV4LWxheW91dFwiPlxyXG4gICAgICAgIDxmb3JtIGlkPVwifl9Gb3JtXCIgYWN0aW9uPVwiXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZHNldCB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIn5fUHJvcGVydHlHcmlkXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxiciAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b25zIGFsaWduLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwifl9TdWJtaXRCdXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiPjxpIGNsYXNzPVwiZmEgZmEtc2VhcmNoIG1hcmdpbi1yLTVcIj48L2k+IFNob3c8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIn5fRG93bmxvYWRQZGZCdXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiPjxpIGNsYXNzPVwiZmEgZmEtZmlsZS1wZGYtbyBtYXJnaW4tci01XCI+PC9pPiBEb3dubG9hZCBQREY8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlc3BvbnNpdmUoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMubWF4aW1pemFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIERpYWxvZ0Jhc2U8VEVudGl0eSwgVE9wdGlvbnM+XHJcbiAgICAgICAgLy90aGlzIGNvbW1lbnQgaXMgZm9yIHByZXZlbnRpbmcgcmVwbGFjZW1lbnQgXHJcbiAgICAgICAgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlEaWFsb2c8VEVudGl0eSwgVE9wdGlvbnM+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Um93VHlwZSgpOiB7IGlkUHJvcGVydHk/OiBzdHJpbmcsIGxvY2FsVGV4dFByZWZpeD86IHN0cmluZywgbmFtZVByb3BlcnR5Pzogc3RyaW5nLCBpbnNlcnRQZXJtaXNzaW9uPzogc3RyaW5nLCB1cGRhdGVQZXJtaXNzaW9uPzogc3RyaW5nLCBkZWxldGVQZXJtaXNzaW9uPzogc3RyaW5nLCB9IHsgcmV0dXJuIHt9OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIHRoaXMuZ2V0Um93VHlwZSgpLmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiB0aGlzLmdldFJvd1R5cGUoKS5uYW1lUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SW5zZXJ0UGVybWlzc2lvbigpIHsgcmV0dXJuIHRoaXMuZ2V0Um93VHlwZSgpLmluc2VydFBlcm1pc3Npb247IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VXBkYXRlUGVybWlzc2lvbigpIHsgcmV0dXJuIHRoaXMuZ2V0Um93VHlwZSgpLnVwZGF0ZVBlcm1pc3Npb247IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVsZXRlUGVybWlzc2lvbigpIHsgcmV0dXJuIHRoaXMuZ2V0Um93VHlwZSgpLmRlbGV0ZVBlcm1pc3Npb247IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldF9FeHREaWFsb2dPcHRpb25zKCk6IEV4dERpYWxvZ09wdGlvbnMgeyByZXR1cm4gUS5kZWVwQ2xvbmUocS5EZWZhdWx0RW50aXR5RGlhbG9nT3B0aW9ucyk7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2FkZWRTdGF0ZTogc3RyaW5nO1xyXG4gICAgICAgIGlzUmVhZE9ubHk6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybTogYW55O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihvcHQ/KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKG9wdCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5lbGVtZW50LmZhZGVUbygwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldF9FeHREaWFsb2dPcHRpb25zKCkuUGVuZGluZ0NoYW5nZXNDb25maXJtYXRpb24gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgX0V4dC5EaWFsb2dVdGlscy5wZW5kaW5nQ2hhbmdlc0NvbmZpcm1hdGlvbih0aGlzLmVsZW1lbnQsICgpID0+IHRoaXMuZ2V0U2F2ZVN0YXRlKCkgIT0gdGhpcy5sb2FkZWRTdGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUludGVyZmFjZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRSZWFkT25seSh0aGlzLmlzUmVhZE9ubHkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0X0V4dERpYWxvZ09wdGlvbnMoKS5IaWRlQ2F0ZWdveUxpbmtzQmFyID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5maW5kKCcuY2F0ZWdvcnktbGlua3MnKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0ICRGaXJzdENhdGVnb3J5ID0gdGhpcy5lbGVtZW50LmZpbmQoJy5maXJzdC1jYXRlZ29yeSA+IC5jYXRlZ29yeS10aXRsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChRLmlzRW1wdHlPck51bGwoJEZpcnN0Q2F0ZWdvcnkuZmluZCgnLmNhdGVnb3J5LWFuY2hvcicpLnRleHQoKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgJEZpcnN0Q2F0ZWdvcnkuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90aGlzLmVsZW1lbnQuZmFkZVRvKDEwMCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3RlY3RlZCBvbkRpYWxvZ09wZW4oKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uRGlhbG9nT3BlbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0X0V4dERpYWxvZ09wdGlvbnMoKS5BdXRvRml0Q29udGVudEFyZWEgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxsQ29udGVudEFyZWEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90ZW1wb3JhcnkgZml4IGZvciBzZXQgZ3JpZCBlZGl0b3IgaGVpZ2h0XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLm9uQWZ0ZXJTZXREaWFsb2dTaXplKCk7IH0sIDIwMClcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25EaWFsb2dDbG9zZSgpIHtcclxuICAgICAgICAgICAgc3VwZXIub25EaWFsb2dDbG9zZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkFmdGVyRGlhbG9nQ2xvc2UodGhpcy5nZXRTYXZlRW50aXR5KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNldFJlYWRPbmx5KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVhZE9ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5pc1JlYWRPbmx5ID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1JlYWRPbmx5ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUFuZENsb3NlQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHRoaXMuaXNSZWFkT25seSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q2hhbmdlc0J1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCB0aGlzLmlzUmVhZE9ubHkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgdGhpcy5pc1JlYWRPbmx5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmVCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgdGhpcy5pc1JlYWRPbmx5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5kZWxldGVCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgdGhpcy5pc1JlYWRPbmx5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKCdidG4tc2F2ZS1hbmQtY2xvc2UnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKCdidG4tc2F2ZS1hbmQtbmV3JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIuZmluZEJ1dHRvbignYnRuLXJlcGxhY2Utcm93JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIuZmluZEJ1dHRvbignYnRuLWhpc3RvcnknKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKCdidG4tY3VzdG9tJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHJlcXVpcmVkIGFzdGVyaXNrICgqKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJ3N1cCcpLnRvZ2dsZSh0aGlzLmlzUmVhZE9ubHkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZWRpdG9yIGluIHRoaXMuZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1bZWRpdG9yXS53aWRnZXROYW1lKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VyZW5pdHkuRWRpdG9yVXRpbHMuc2V0UmVhZE9ubHkodGhpcy5mb3JtW2VkaXRvcl0sIHRoaXMuaXNSZWFkT25seSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2h7IH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VG9vbGJhckJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBzdXBlci5nZXRUb29sYmFyQnV0dG9ucygpO1xyXG4gICAgICAgICAgICBsZXQgZXh0T3B0aW9ucyA9IHRoaXMuZ2V0X0V4dERpYWxvZ09wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleHRPcHRpb25zLlNob3dTYXZlQW5kTmV3QnV0dG9uSW5Ub29sYmFyID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBxLnRleHQoJ0NvbnRyb2xzLkVudGl0eURpYWxvZy5TYXZlQW5kTmV3JywgJ1NhdmUgJiBOZXcnKSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdidG4tc2F2ZS1hbmQtbmV3JyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TYXZlQW5kTmV3QnV0dG9uQ2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleHRPcHRpb25zLlNob3dDbG9zZUJ1dHRvbkluVG9vbGJhciA9PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcS50ZXh0KCdDb250cm9scy5FbnRpdHlEaWFsb2cuQ2xvc2UnLCAnQ2xvc2UnKSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtY2xvc2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnYnRuLWNsb3NlJyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleHRPcHRpb25zLlNob3dSZWZyZXNoQnV0dG9uSW5Ub29sYmFyID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBxLnRleHQoJ0NvbnRyb2xzLkVudGl0eURpYWxvZy5SZWZyZXNoJywgJ1JlZnJlc2gnKSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVmcmVzaENsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dE9wdGlvbnMuU2hvd1JlcGxhY2VSb3dCdXR0b25JblRvb2xiYXIgPT0gdHJ1ZSAmJiBRLkF1dGhvcml6YXRpb24uaGFzUGVybWlzc2lvbignQWRtaW5pc3RyYXRpb246UmVwbGFjZVJvdycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbCh0aGlzLmdldFNlcnZpY2UoKSkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmVwbGFjZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdHJhc2gtbycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2J0bi1yZXBsYWNlLXJvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkUHJvcGVydHkgPSB0aGlzLmdldElkUHJvcGVydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZVByb3BlcnR5ID0gdGhpcy5nZXROYW1lUHJvcGVydHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXR5SWQgPSB0aGlzLmVudGl0eVtpZFByb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXR5TmFtZSA9IHRoaXMuZW50aXR5W25hbWVQcm9wZXJ0eV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlJZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5zZXJ2aWNlUmVxdWVzdCh0aGlzLmdldFNlcnZpY2UoKSArICcvTGlzdCcsIHt9LCAocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxhbnk+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXR5TGlzdCA9IHJlc3BvbnNlLkVudGl0aWVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkbGcgPSBuZXcgUmVwbGFjZVJvd0RpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9ybUtleTogdGhpcy5nZXRGb3JtS2V5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWRQcm9wZXJ0eTogaWRQcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lUHJvcGVydHk6IG5hbWVQcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbnRpdHlUeXBlVGl0bGU6IHRoaXMuZ2V0RW50aXR5U2luZ3VsYXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVkRW50aXR5TmFtZTogZW50aXR5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVkRW50aXR5SWQ6IGVudGl0eUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlMaXN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbGcuZGlhbG9nT3BlbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0T3B0aW9ucy5TaG93Q2hhbmdlTG9nQnV0dG9uSW5Ub29sYmFyID09IHRydWUgJiYgUS5BdXRob3JpemF0aW9uLmhhc1Blcm1pc3Npb24oJ0FkbWluaXN0cmF0aW9uOkF1ZGl0TG9nJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdidG4taGlzdG9yeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1oaXN0b3J5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudGl0eUlkID0gdGhpcy5lbnRpdHlbdGhpcy5nZXRJZFByb3BlcnR5KCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRsZyA9IG5ldyBBdWRpdExvZ1ZpZXdlckRpYWxvZyh7IEZvcm1LZXk6IHRoaXMuZ2V0Rm9ybUtleSgpLCBFbnRpdHlJZDogZW50aXR5SWQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRsZy5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFEuYWxlcnQoJ05vIGNoYW5nZSBsb2cgZm91bmQgZm9yIHRoaXMgZW50aXR5LicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2Nsb25lIGJ1dHRvbiBjbGljayBldmVudCBjdXN0b21pemF0aW9uXHJcbiAgICAgICAgICAgICAgICBsZXQgY2xvbmVCdXR0b24gPSBRLnRyeUZpcnN0KGJ1dHRvbnMsIHggPT4geC5jc3NDbGFzcyA9PSAnY2xvbmUtYnV0dG9uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xvbmVCdXR0b24ub25DbGljayA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRWRpdE1vZGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvbmVFbnRpdHkgPSB0aGlzLmdldENsb25pbmdFbnRpdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgU2VyZW5pdHkuV2lkZ2V0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFEuZ2V0SW5zdGFuY2VUeXBlKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0OiAoZGxnOiBEaWFsb2dCYXNlPGFueSwgYW55PikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRHcmlkLmluaXREaWFsb2coZGxnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRsZy5sb2FkRW50aXR5QW5kT3BlbkRpYWxvZyhjbG9uZUVudGl0eSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidXR0b25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uUmVmcmVzaENsaWNrKCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZEJ5SWQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblNhdmVBbmROZXdCdXR0b25DbGljaygpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEVudGl0eSh7fSBhcyBhbnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYXZlU3RhdGUoKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC50b0pTT04odGhpcy5nZXRTYXZlRW50aXR5KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uU2F2ZVN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgc3VwZXIub25TYXZlU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGlzUGFnZVJlZnJlc2hSZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vUS5yZWxvYWRMb29rdXAodGhpcy5nZXRMb29rdXBLZXkoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2FkUmVzcG9uc2UoZGF0YSkge1xyXG4gICAgICAgICAgICBzdXBlci5sb2FkUmVzcG9uc2UoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRfRXh0RGlhbG9nT3B0aW9ucygpLlBlbmRpbmdDaGFuZ2VzQ29uZmlybWF0aW9uID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkU3RhdGUgPSB0aGlzLmdldFNhdmVTdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYXhpbWl6ZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktZGlhbG9nXCIpLmZpbmQoXCIudWktZGlhbG9nLXRpdGxlYmFyLW1heGltaXplXCIpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBkaWFsb2dFbGVtZW50ID0gdGhpcy5lbGVtZW50ID8gdGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktZGlhbG9nXCIpIDogJChcIi51aS1kaWFsb2dcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRpYWxvZ0hlaWdodCA9IGRpYWxvZ0VsZW1lbnQuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGVCYXJIZWlnaHQgPSBkaWFsb2dFbGVtZW50LmZpbmQoJy51aS1kaWFsb2ctdGl0bGUnKS5oZWlnaHQoKSB8fCAyMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgJGNhdGVnb3JpZXMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmNhdGVnb3JpZXMnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzVG9wID0gJGNhdGVnb3JpZXMucG9zaXRpb24oKS50b3A7XHJcblxyXG4gICAgICAgICAgICAgICAgJGNhdGVnb3JpZXMuaGVpZ2h0KGRpYWxvZ0hlaWdodCAtIHRpdGxlQmFySGVpZ2h0IC0gY2F0ZWdvcmllc1RvcCAtIDIwKTtcclxuXHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVsbENvbnRlbnRBcmVhKCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldERpYWxvZ1NpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IHRoZSBkaWFsb2cgc2l6ZSByZWxhdGl2ZSB0byBjb250ZW50IGFyZWEgKHRvIHNocmluayB1c2UgbmVnYXRpdmUgdmFsdWUpXHJcbiAgICAgICAgc2V0RGlhbG9nU2l6ZSh3aWR0aD8sIGhlaWdodD8sIHRvcD8sIGxlZnQ/LCAkY29udGVudD8pIHtcclxuICAgICAgICAgICAgaWYgKCEkY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgJGNvbnRlbnQgPSAkKCdzZWN0aW9uLmNvbnRlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJGNvbnRlbnQubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICRjb250ZW50ID0gJCgnLmNvbnRlbnQtd3JhcHBlcicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlhbG9nRWxlbWVudCA9IHRoaXMuZWxlbWVudCA/IHRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLWRpYWxvZ1wiKSA6ICQoXCIudWktZGlhbG9nXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRjb250ZW50Lmxlbmd0aCA+IDAgJiYgZGlhbG9nRWxlbWVudC5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRpYWxvZ1dpZHRoID0gJGNvbnRlbnQud2lkdGgoKSArIDMwICsgKHdpZHRoIHx8IDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpYWxvZ0hlaWdodCA9ICRjb250ZW50LmhlaWdodCgpICsgKGhlaWdodCB8fCAzMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpYWxvZyhcIm9wdGlvblwiLCBcIndpZHRoXCIsIGRpYWxvZ1dpZHRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaWFsb2coXCJvcHRpb25cIiwgXCJoZWlnaHRcIiwgZGlhbG9nSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGVCYXJIZWlnaHQgPSBkaWFsb2dFbGVtZW50LmZpbmQoJy51aS1kaWFsb2ctdGl0bGUnKS5oZWlnaHQoKSB8fCAyMDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgJGNhdGVnb3JpZXMgPSB0aGlzLmVsZW1lbnQuZmluZCgnLmNhdGVnb3JpZXMnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzVG9wID0gJGNhdGVnb3JpZXMucG9zaXRpb24oKS50b3A7XHJcblxyXG4gICAgICAgICAgICAgICAgJGNhdGVnb3JpZXMuaGVpZ2h0KGRpYWxvZ0hlaWdodCAtIHRpdGxlQmFySGVpZ2h0IC0gY2F0ZWdvcmllc1RvcCAtIDIwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaWFsb2dFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJGNvbnRlbnQucG9zaXRpb24oKS5sZWZ0ICsgKGxlZnQgfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAodG9wIHx8IDUwKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25BZnRlclNldERpYWxvZ1NpemUoKTtcclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvbkFmdGVyU2V0RGlhbG9nU2l6ZSgpIHsgfVxyXG4gICAgICAgIG9uQWZ0ZXJEaWFsb2dDbG9zZShlbnRpdHk6IFRFbnRpdHkpIHsgfVxyXG5cclxuICAgICAgICBwYXJlbnRHcmlkOiBHcmlkQmFzZTxURW50aXR5LCBhbnk+O1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEdyaWRJdGVtUGlja2VyRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nPEdyaWRJdGVtUGlja2VyRWRpdG9yT3B0aW9ucz4ge1xyXG4gICAgICAgIGdldFRlbXBsYXRlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgaWQ9XCJ+X1Jvd1NlbGVjdGlvbkNoZWNrR3JpZFwiIFxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJSb3dTZWxlY3Rpb25DaGVja0dyaWQgJHt0aGlzLm9wdGlvbnMubXVsdGlwbGUgPT0gdHJ1ZSA/ICdtdWx0aS1zZWxlY3QnIDogJ3NpbmdsZS1zZWxlY3QnfVwiIFxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBcIm1hcmdpbjogMTVweCAxNXB4IDAgMTVweDtcIiA+XHJcbiAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNoZWNrR3JpZDogR3JpZEJhc2U8YW55LCBHcmlkSXRlbVBpY2tlckVkaXRvck9wdGlvbnM+O1xyXG4gICAgICAgIGdldCBzZWxlY3RlZEl0ZW1zKCkgeyByZXR1cm4gdGhpcy5jaGVja0dyaWQuc2VsZWN0ZWRJdGVtcyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEdyaWRJdGVtUGlja2VyRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBncmlkVHlwZSA9IG9wdGlvbnMuZ3JpZFR5cGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWdyaWRUeXBlLnByb3RvdHlwZSlcclxuICAgICAgICAgICAgICAgIGdyaWRUeXBlID0gUS5nZXRUeXBlKG9wdGlvbnMuZ3JpZFR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tHcmlkID0gbmV3IGdyaWRUeXBlKHRoaXMuYnlJZChcIlJvd1NlbGVjdGlvbkNoZWNrR3JpZFwiKSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcmVTZWxlY3RlZEtleXMpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0dyaWQuc2VsZWN0ZWRLZXlzID0gb3B0aW9ucy5wcmVTZWxlY3RlZEtleXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9IHEudGV4dCgnQ29udHJvbHMuU2VsZWN0JywgXCJTZWxlY3RcIikgKyBcIiAtIFwiICsgdGhpcy5jaGVja0dyaWQuZ2V0VGl0bGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tHcmlkLnNldFRpdGxlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0dyaWQuZWxlbWVudC5oZWlnaHQoNTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrR3JpZC5waWNrZXJEaWFsb2cgPSB0aGlzO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgaW50aWFsaXplICcgKyBvcHRpb25zLmdyaWRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb25TdWNjZXNzID0gKHNlbGVjdGVkSXRlbXMpID0+IHsgfVxyXG5cclxuICAgICAgICBnZXREaWFsb2dPcHRpb25zKCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBvcHQuYnV0dG9ucyA9IFt7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBRLnRleHQoXCJEaWFsb2dzLk9rQnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRJdGVtcyA9IHRoaXMuY2hlY2tHcmlkLnNlbGVjdGVkSXRlbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZEl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeVdhcm5pbmcoXCJQbGVhc2Ugc2VsZWN0IHNvbWUgaXRlbXMhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN1Y2Nlc3Moc2VsZWN0ZWRJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBRLnRleHQoXCJEaWFsb2dzLkNhbmNlbEJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1dO1xyXG5cclxuICAgICAgICAgICAgb3B0LmhlaWdodCA9IDUwMDtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL0Jhc2VzL0RpYWxvZ0Jhc2UudHNcIiAvPlxyXG5uYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgRWRpdG9yRGlhbG9nQmFzZTxURW50aXR5PiBleHRlbmRzIERpYWxvZ0Jhc2U8VEVudGl0eSwgYW55PiB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRfRXh0RGlhbG9nT3B0aW9ucygpIDogRXh0RGlhbG9nT3B0aW9ucyB7IHJldHVybiBxLkRlZmF1bHRFZGl0b3JEaWFsb2dPcHRpb25zOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gXCJfX2lkXCI7IH1cclxuXHJcbiAgICAgICAgcHVibGljIG9uU2F2ZTogKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlNhdmVSZXNwb25zZT4sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCkgPT4gdm9pZDtcclxuXHJcbiAgICAgICAgcHVibGljIG9uRGVsZXRlOiAob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuRGVsZXRlUmVzcG9uc2U+LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCkgPT4gdm9pZDtcclxuXHJcbiAgICAgICAgcHVibGljIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TYXZlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5vbkRlbGV0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUludGVyZmFjZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVBbmRDbG9zZUJ1dHRvbi5maW5kKCcuYnV0dG9uLWlubmVyJykudGV4dCh0aGlzLmlzTmV3KCkgPyAoUS50cnlHZXRUZXh0KCdDb250cm9scy5BZGRCdXR0b24nKSB8fCAnQWRkJykgOiAoUS50cnlHZXRUZXh0KCdDb250cm9scy5BcHBseUJ1dHRvbicpIHx8ICdBcHBseScpKTtcclxuICAgICAgICAgICAgLy8gYXBwbHkgY2hhbmdlcyBidXR0b24gZG9lc24ndCB3b3JrIHByb3Blcmx5IHdpdGggaW4tbWVtb3J5IGdyaWRzIHlldFxyXG4gICAgICAgICAgICBpZiAodGhpcy5hcHBseUNoYW5nZXNCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzQnV0dG9uLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RWRpdG9yICYmIHRoaXMucGFyZW50RWRpdG9yLmlzUmVhZE9ubHkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlQW5kQ2xvc2VCdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRSZWFkb25seSh0aGlzLmVsZW1lbnQuZmluZCgnLmVkaXRvcicpLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgcmVxdWlyZWQgYXN0ZXJpc2sgKCopXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnc3VwJykuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNhdmVIYW5kbGVyKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlNhdmVSZXNwb25zZT4sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLm9uU2F2ZSAmJiB0aGlzLm9uU2F2ZShvcHRpb25zLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZGVsZXRlSGFuZGxlcihvcHRpb25zOiBTZXJlbml0eS5TZXJ2aWNlT3B0aW9uczxTZXJlbml0eS5EZWxldGVSZXNwb25zZT4sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZWxldGUgJiYgdGhpcy5vbkRlbGV0ZShvcHRpb25zLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXJlbnRFZGl0b3I6IEdyaWRFZGl0b3JCYXNlPFRFbnRpdHk+O1xyXG5cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9CYXNlcy9HcmlkQmFzZS50c1wiIC8+XHJcbm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKFtTZXJlbml0eS5JR2V0RWRpdFZhbHVlLCBTZXJlbml0eS5JU2V0RWRpdFZhbHVlLCBTZXJlbml0eS5JUmVhZE9ubHldKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWRpdG9yKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmVsZW1lbnQoXCI8ZGl2Lz5cIilcclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkRWRpdG9yQmFzZTxURW50aXR5PiBleHRlbmRzIF9FeHQuR3JpZEJhc2U8VEVudGl0eSwgYW55PlxyXG4gICAgICAgIGltcGxlbWVudHMgU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVJlYWRPbmx5IHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldF9FeHRHcmlkT3B0aW9ucygpOiBFeHRHcmlkT3B0aW9ucyB7IHJldHVybiBRLmRlZXBDbG9uZShxLkRlZmF1bHRFZGl0b3JHcmlkT3B0aW9ucyk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBcIl9faWRcIjsgfVxyXG5cclxuICAgICAgICBpc0NoaWxkR3JpZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBuZXh0SWQgPSAxO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zbGlja0dyaWQub25Tb3J0LnN1YnNjcmliZSgoZSwgYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0R3JpZEZ1bmN0aW9uKChhcmdzLmdyaWQgYXMgU2xpY2suR3JpZCksIGFyZ3Muc29ydENvbHNbMF0sIGFyZ3Muc29ydENvbHNbMF0uc29ydENvbC5maWVsZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8oYXJncy5ncmlkIGFzIFNsaWNrLkdyaWQpLmluaXQoKTtcclxuICAgICAgICAgICAgICAgIChhcmdzLmdyaWQgYXMgU2xpY2suR3JpZCkuaW52YWxpZGF0ZUFsbFJvd3MoKTtcclxuICAgICAgICAgICAgICAgIChhcmdzLmdyaWQgYXMgU2xpY2suR3JpZCkuaW52YWxpZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgKGFyZ3MuZ3JpZCBhcyBTbGljay5HcmlkKS5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIChhcmdzLmdyaWQgYXMgU2xpY2suR3JpZCkucmVzaXplQ2FudmFzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc29ydEdyaWRGdW5jdGlvbihncmlkOiBTbGljay5HcmlkLCBjb2x1bW46IGFueSwgZmllbGQ6IGFueSkge1xyXG4gICAgICAgICAgICBncmlkLmdldERhdGEoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYVtmaWVsZF0gPiBiW2ZpZWxkXSA/IDEgOlxyXG4gICAgICAgICAgICAgICAgICAgIGFbZmllbGRdIDwgYltmaWVsZF0gPyAtMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLnNvcnRBc2MgPyByZXN1bHQgOiAtcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRRdWlja0ZpbHRlcnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpZChlbnRpdHk6IFRFbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChlbnRpdHkgYXMgYW55KVt0aGlzLmdldElkUHJvcGVydHkoKV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZShvcHQ6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPGFueT4sIGNhbGxiYWNrOiAocjogU2VyZW5pdHkuU2VydmljZVJlc3BvbnNlKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gb3B0LnJlcXVlc3QgYXMgU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8VEVudGl0eT47XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBRLmRlZXBDbG9uZShyZXF1ZXN0LkVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmlkKHJvdyk7XHJcbiAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByb3dbdGhpcy5nZXRJZFByb3BlcnR5KCldID0gXCJgXCIgKyB0aGlzLm5leHRJZCsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVFbnRpdHkocm93LCBpZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy52aWV3LmdldEl0ZW1zKCkuc2xpY2UoKTtcclxuICAgICAgICAgICAgaWYgKGlkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2gocm93KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IFEuaW5kZXhPZihpdGVtcywgeCA9PiB0aGlzLmlkKHgpID09PSBpZCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1tpbmRleF0gPSBRLmRlZXBDbG9uZSh7fSBhcyBURW50aXR5LCBpdGVtc1tpbmRleF0sIHJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBpdGVtcztcclxuICAgICAgICAgICAgY2FsbGJhY2soe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGRlbGV0ZUVudGl0eShpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5kZWxldGVJdGVtKGlkKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSXRlbXNDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Um93TnVtYmVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB2YWxpZGF0ZUVudGl0eShyb3c6IFRFbnRpdHksIGlkOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmV3RW50aXR5KCk6IFRFbnRpdHkge1xyXG4gICAgICAgICAgICByZXR1cm4ge30gYXMgVEVudGl0eTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCdXR0b25zKCk6IFNlcmVuaXR5LlRvb2xCdXR0b25bXSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0SXRlbU5hbWUoKSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnYWRkLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7IHRoaXMuYWRkQnV0dG9uQ2xpY2soKSB9XHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFkZEJ1dHRvbkNsaWNrKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVudGl0eURpYWxvZyh0aGlzLmdldEl0ZW1UeXBlKCksIGRsZyA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0gZGxnIGFzIEVkaXRvckRpYWxvZ0Jhc2U8VEVudGl0eT47XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucGFyZW50RWRpdG9yID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5vblNhdmUgPSAob3B0LCBjYWxsYmFjaykgPT4gdGhpcy5zYXZlKG9wdCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLmxvYWRFbnRpdHlBbmRPcGVuRGlhbG9nKHRoaXMuZ2V0TmV3RW50aXR5KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBlZGl0SXRlbShlbnRpdHlPcklkOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBpZCA9IGVudGl0eU9ySWQ7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy52aWV3LmdldEl0ZW1CeUlkKGlkKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVFbnRpdHlEaWFsb2codGhpcy5nZXRJdGVtVHlwZSgpLCBkbGcgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGRsZyBhcyBFZGl0b3JEaWFsb2dCYXNlPFRFbnRpdHk+O1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLm9uRGVsZXRlID0gKG9wdCwgY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVsZXRlRW50aXR5KGlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHt9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucGFyZW50RWRpdG9yID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5vblNhdmUgPSAob3B0LCBjYWxsYmFjaykgPT4gdGhpcy5zYXZlKG9wdCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLmxvYWRFbnRpdHlBbmRPcGVuRGlhbG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICB9KTs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0RWRpdFZhbHVlKHByb3BlcnR5LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0W3Byb3BlcnR5Lm5hbWVdID0gdGhpcy52YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRFZGl0VmFsdWUoc291cmNlLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gc291cmNlW3Byb3BlcnR5Lm5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBURW50aXR5W10ge1xyXG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZ2V0SWRQcm9wZXJ0eSgpO1xyXG5cclxuICAgICAgICAgICAgKHRoaXMuc2xpY2tHcmlkIGFzIGFueSkuZ2V0RWRpdENvbnRyb2xsZXIoKS5jb21taXRDdXJyZW50RWRpdCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy52aWV3LmdldEl0ZW1zKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uQmVmb3JlR2V0VmFsdWUoaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gUS5kZWVwQ2xvbmUoeCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSB5W3BdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkICYmIGlkLnRvU3RyaW5nKCkuY2hhckF0KDApID09ICdgJylcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgeVtwXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeVsnUm93TnVtJ10pXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHlbJ1Jvd051bSddO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWx1ZTogVEVudGl0eVtdKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0SWRQcm9wZXJ0eSgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhbCA9IHZhbHVlIHx8IFtdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gdmFsLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gUS5kZWVwQ2xvbmUoeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHkgYXMgYW55KVtpZF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICh5IGFzIGFueSlbaWRdID0gXCJgXCIgKyB0aGlzLm5leHRJZCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IHIgPSB0aGlzLm9uVmlld1Byb2Nlc3NEYXRhKHsgRW50aXRpZXM6IGl0ZW1zIH0pXHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zZXRJdGVtcyhyLkVudGl0aWVzLCB0cnVlKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSXRlbXNDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0Um93TnVtYmVyKCk7IC8vIHRvIGdlbmVyYXRlIHNlcmlhbCBuby5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRHcmlkQ2FuTG9hZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVzZVBhZ2VyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SW5pdGlhbFRpdGxlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2VhcmNoVGV4dDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vc3VwZXIuY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0X0V4dEdyaWRPcHRpb25zKCkuRW5hYmxlUXVpY2tTZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIFNlcmVuaXR5LkdyaWRVdGlscy5hZGRRdWlja1NlYXJjaElucHV0Q3VzdG9tKHRoaXMudG9vbGJhci5lbGVtZW50LCAoZmllbGQsIHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKFEudHJpbVRvTnVsbCh0ZXh0KSB8fCAnJykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0SXRlbXModGhpcy52aWV3LmdldEl0ZW1zKCksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdGaWx0ZXIocm93KTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGlmICghc3VwZXIub25WaWV3RmlsdGVyKHJvdykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0Y2hDb250YWlucyhyb3cpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbWF0Y2hDb250YWlucyhpdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IHByb3AgaW4gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gU2VsZWN0Mi51dGlsLnN0cmlwRGlhY3JpdGljcyhTdHJpbmcoaXRlbVtwcm9wXSB8fCAnJykpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaFRleHQpID49IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBlbmFibGVGaWx0ZXJpbmcoKTogYm9vbGVhbiB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3U3VibWl0KCkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbiAgICAgICAgZ2V0X3JlYWRPbmx5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1JlYWRPbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRfcmVhZE9ubHkodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlYWRPbmx5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnLmFkZC1idXR0b24nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBvcHQgPSB0aGlzLnNsaWNrR3JpZC5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICBvcHQuZWRpdGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWNrR3JpZC5zZXRPcHRpb25zKG9wdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnLmFkZC1idXR0b24nKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTbGlja09wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSBzdXBlci5nZXRTbGlja09wdGlvbnMoKTtcclxuICAgICAgICAgICAgb3B0LmZvcmNlRml0Q29sdW1ucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL29wdC5hdXRvSGVpZ2h0ID0gdHJ1ZTsgLy8gSWYgeW91IG5lZWQgdG8gc2hvdyBmb290ZXIsIHlvdSBoYXZlIHRvIGRvIG9wdC5hdXRvSGVpZ2h0ID0gZmFsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudERpYWxvZzogRGlhbG9nQmFzZTxhbnksIGFueT47XHJcblxyXG4gICAgICAgIC8vY3VzdG9tIGV2ZW50c1xyXG4gICAgICAgIG9uSXRlbXNDaGFuZ2VkKCkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgb25CZWZvcmVHZXRWYWx1ZShpdGVtczogVEVudGl0eVtdKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBKc29uR3JpZEVkaXRvckJhc2U8VEVudGl0eT4gZXh0ZW5kcyBfRXh0LkdyaWRFZGl0b3JCYXNlPFRFbnRpdHk+IHtcclxuXHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUgfHwgW10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldEVkaXRWYWx1ZShzb3VyY2UsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBKU09OLnBhcnNlKHNvdXJjZVtwcm9wZXJ0eS5uYW1lXSB8fCAnW10nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9zZXJlbml0eS9TZXJlbml0eS5Db3JlTGliLmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9qc3BkZi9qc3BkZi5hdXRvdGFibGUuZC50c1wiIC8+XHJcblxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vTW9kdWxlcy9fRXh0L19xL19xLnZhci50c1wiIC8+XHJcblxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vTW9kdWxlcy9fRXh0L0Jhc2VzL0dyaWRCYXNlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL01vZHVsZXMvX0V4dC9CYXNlcy9SZXBvcnRHcmlkQmFzZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Nb2R1bGVzL19FeHQvQmFzZXMvUmVwb3J0UGFuZWxCYXNlLnRzXCIgLz5cclxuXHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Nb2R1bGVzL19FeHQvQmFzZXMvRGlhbG9nQmFzZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9HcmlkSXRlbVBpY2tlci9HcmlkSXRlbVBpY2tlckRpYWxvZy50c1wiIC8+XHJcblxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvRWRpdG9yRGlhbG9nQmFzZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Nb2R1bGVzL19FeHQvRWRpdG9ycy9HcmlkRWRpdG9yQmFzZS50c1wiIC8+XHJcblxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vTW9kdWxlcy9fRXh0L0VkaXRvcnMvSnNvbkdyaWRFZGl0b3JCYXNlLnRzXCIgLz5cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTGFuZ3VhZ2VGb3JtIHtcclxuICAgICAgICBMYW5ndWFnZUlkOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgTGFuZ3VhZ2VOYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExhbmd1YWdlRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2UnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUxhbmd1YWdlRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgTGFuZ3VhZ2VGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShMYW5ndWFnZUZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnTGFuZ3VhZ2VJZCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdMYW5ndWFnZU5hbWUnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIExhbmd1YWdlUm93IHtcclxuICAgICAgICBJZD86IG51bWJlcjtcclxuICAgICAgICBMYW5ndWFnZUlkPzogc3RyaW5nO1xyXG4gICAgICAgIExhbmd1YWdlTmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIExhbmd1YWdlUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdMYW5ndWFnZU5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2UnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb29rdXBLZXkgPSAnQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2UnO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPExhbmd1YWdlUm93PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmdldExvb2t1cDxMYW5ndWFnZVJvdz4oJ0FkbWluaXN0cmF0aW9uLkxhbmd1YWdlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlRyYW5zbGF0aW9uJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpUcmFuc2xhdGlvbic7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlRyYW5zbGF0aW9uJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpUcmFuc2xhdGlvbic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgSWQgPSBcIklkXCIsXHJcbiAgICAgICAgICAgIExhbmd1YWdlSWQgPSBcIkxhbmd1YWdlSWRcIixcclxuICAgICAgICAgICAgTGFuZ3VhZ2VOYW1lID0gXCJMYW5ndWFnZU5hbWVcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgTGFuZ3VhZ2VTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdBZG1pbmlzdHJhdGlvbi9MYW5ndWFnZSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxMYW5ndWFnZVJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gVXBkYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PExhbmd1YWdlUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPExhbmd1YWdlUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPExhbmd1YWdlUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBDcmVhdGUgPSBcIkFkbWluaXN0cmF0aW9uL0xhbmd1YWdlL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL0xhbmd1YWdlL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBEZWxldGUgPSBcIkFkbWluaXN0cmF0aW9uL0xhbmd1YWdlL0RlbGV0ZVwiLFxyXG4gICAgICAgICAgICBSZXRyaWV2ZSA9IFwiQWRtaW5pc3RyYXRpb24vTGFuZ3VhZ2UvUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiQWRtaW5pc3RyYXRpb24vTGFuZ3VhZ2UvTGlzdFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdDcmVhdGUnLCBcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnRGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55Pkxhbmd1YWdlU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZGVjbGFyZSBuYW1lc3BhY2UgUGVybWlzc2lvbktleXMge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBTZWN1cml0eSA9IFwiQWRtaW5pc3RyYXRpb246U2VjdXJpdHlcIjtcclxuICAgICAgICBleHBvcnQgY29uc3QgVHJhbnNsYXRpb24gPSBcIkFkbWluaXN0cmF0aW9uOlRyYW5zbGF0aW9uXCI7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSb2xlRm9ybSB7XHJcbiAgICAgICAgUm9sZU5hbWU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUm9sZUZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ0FkbWluaXN0cmF0aW9uLlJvbGUnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVJvbGVGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBSb2xlRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoUm9sZUZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnUm9sZU5hbWUnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFJvbGVQZXJtaXNzaW9uTGlzdFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgUm9sZUlEPzogbnVtYmVyO1xyXG4gICAgICAgIE1vZHVsZT86IHN0cmluZztcclxuICAgICAgICBTdWJtb2R1bGU/OiBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSb2xlUGVybWlzc2lvbkxpc3RSZXNwb25zZSBleHRlbmRzIFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxzdHJpbmc+IHtcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFJvbGVQZXJtaXNzaW9uUm93IHtcclxuICAgICAgICBSb2xlUGVybWlzc2lvbklkPzogbnVtYmVyO1xyXG4gICAgICAgIFJvbGVJZD86IG51bWJlcjtcclxuICAgICAgICBQZXJtaXNzaW9uS2V5Pzogc3RyaW5nO1xyXG4gICAgICAgIFJvbGVSb2xlTmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFJvbGVQZXJtaXNzaW9uUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdSb2xlUGVybWlzc2lvbklkJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ1Blcm1pc3Npb25LZXknO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnQWRtaW5pc3RyYXRpb24uUm9sZVBlcm1pc3Npb24nO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgUm9sZVBlcm1pc3Npb25JZCA9IFwiUm9sZVBlcm1pc3Npb25JZFwiLFxyXG4gICAgICAgICAgICBSb2xlSWQgPSBcIlJvbGVJZFwiLFxyXG4gICAgICAgICAgICBQZXJtaXNzaW9uS2V5ID0gXCJQZXJtaXNzaW9uS2V5XCIsXHJcbiAgICAgICAgICAgIFJvbGVSb2xlTmFtZSA9IFwiUm9sZVJvbGVOYW1lXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFJvbGVQZXJtaXNzaW9uU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnQWRtaW5pc3RyYXRpb24vUm9sZVBlcm1pc3Npb24nO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogUm9sZVBlcm1pc3Npb25VcGRhdGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogUm9sZVBlcm1pc3Npb25MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBSb2xlUGVybWlzc2lvbkxpc3RSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL1JvbGVQZXJtaXNzaW9uL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJBZG1pbmlzdHJhdGlvbi9Sb2xlUGVybWlzc2lvbi9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlJvbGVQZXJtaXNzaW9uU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSb2xlUGVybWlzc2lvblVwZGF0ZVJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgUm9sZUlEPzogbnVtYmVyO1xyXG4gICAgICAgIE1vZHVsZT86IHN0cmluZztcclxuICAgICAgICBTdWJtb2R1bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgUGVybWlzc2lvbnM/OiBzdHJpbmdbXTtcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFJvbGVSb3cge1xyXG4gICAgICAgIFJvbGVJZD86IG51bWJlcjtcclxuICAgICAgICBSb2xlTmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFJvbGVSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ1JvbGVJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdSb2xlTmFtZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdBZG1pbmlzdHJhdGlvbi5Sb2xlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9va3VwS2V5ID0gJ0FkbWluaXN0cmF0aW9uLlJvbGUnO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPFJvbGVSb3c+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFEuZ2V0TG9va3VwPFJvbGVSb3c+KCdBZG1pbmlzdHJhdGlvbi5Sb2xlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgUm9sZUlkID0gXCJSb2xlSWRcIixcclxuICAgICAgICAgICAgUm9sZU5hbWUgPSBcIlJvbGVOYW1lXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFJvbGVTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdBZG1pbmlzdHJhdGlvbi9Sb2xlJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gQ3JlYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PFJvbGVSb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFVwZGF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxSb2xlUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPFJvbGVSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBTZXJlbml0eS5MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8Um9sZVJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgQ3JlYXRlID0gXCJBZG1pbmlzdHJhdGlvbi9Sb2xlL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL1JvbGUvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiQWRtaW5pc3RyYXRpb24vUm9sZS9EZWxldGVcIixcclxuICAgICAgICAgICAgUmV0cmlldmUgPSBcIkFkbWluaXN0cmF0aW9uL1JvbGUvUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiQWRtaW5pc3RyYXRpb24vUm9sZS9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+Um9sZVNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2VyZ2VuQ29ubmVjdGlvbiB7XHJcbiAgICAgICAgS2V5Pzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTZXJnZW5HZW5lcmF0ZU9wdGlvbnMge1xyXG4gICAgICAgIFJvdz86IGJvb2xlYW47XHJcbiAgICAgICAgU2VydmljZT86IGJvb2xlYW47XHJcbiAgICAgICAgVUk/OiBib29sZWFuO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTZXJnZW5HZW5lcmF0ZVJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgQ29ubmVjdGlvbktleT86IHN0cmluZztcclxuICAgICAgICBUYWJsZT86IFNlcmdlblRhYmxlO1xyXG4gICAgICAgIEdlbmVyYXRlT3B0aW9ucz86IFNlcmdlbkdlbmVyYXRlT3B0aW9ucztcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2VyZ2VuTGlzdFRhYmxlc1JlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgQ29ubmVjdGlvbktleT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgU2VyZ2VuU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnQWRtaW5pc3RyYXRpb24vU2VyZ2VuJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdENvbm5lY3Rpb25zKHJlcXVlc3Q6IFNlcmVuaXR5LlNlcnZpY2VSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxTZXJnZW5Db25uZWN0aW9uPikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3RUYWJsZXMocmVxdWVzdDogU2VyZ2VuTGlzdFRhYmxlc1JlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFNlcmdlblRhYmxlPikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIEdlbmVyYXRlKHJlcXVlc3Q6IFNlcmdlbkdlbmVyYXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TZXJ2aWNlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgTGlzdENvbm5lY3Rpb25zID0gXCJBZG1pbmlzdHJhdGlvbi9TZXJnZW4vTGlzdENvbm5lY3Rpb25zXCIsXHJcbiAgICAgICAgICAgIExpc3RUYWJsZXMgPSBcIkFkbWluaXN0cmF0aW9uL1Nlcmdlbi9MaXN0VGFibGVzXCIsXHJcbiAgICAgICAgICAgIEdlbmVyYXRlID0gXCJBZG1pbmlzdHJhdGlvbi9TZXJnZW4vR2VuZXJhdGVcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnTGlzdENvbm5lY3Rpb25zJywgXHJcbiAgICAgICAgICAgICdMaXN0VGFibGVzJywgXHJcbiAgICAgICAgICAgICdHZW5lcmF0ZSdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlNlcmdlblNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2VyZ2VuVGFibGUge1xyXG4gICAgICAgIFRhYmxlbmFtZT86IHN0cmluZztcclxuICAgICAgICBJZGVudGlmaWVyPzogc3RyaW5nO1xyXG4gICAgICAgIE1vZHVsZT86IHN0cmluZztcclxuICAgICAgICBQZXJtaXNzaW9uS2V5Pzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBUcmFuc2xhdGlvbkl0ZW0ge1xyXG4gICAgICAgIEtleT86IHN0cmluZztcclxuICAgICAgICBTb3VyY2VUZXh0Pzogc3RyaW5nO1xyXG4gICAgICAgIFRhcmdldFRleHQ/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tVGV4dD86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uTGlzdFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5MaXN0UmVxdWVzdCB7XHJcbiAgICAgICAgU291cmNlTGFuZ3VhZ2VJRD86IHN0cmluZztcclxuICAgICAgICBUYXJnZXRMYW5ndWFnZUlEPzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVHJhbnNsYXRpb25TZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdBZG1pbmlzdHJhdGlvbi9UcmFuc2xhdGlvbic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogVHJhbnNsYXRpb25MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8VHJhbnNsYXRpb25JdGVtPikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFVwZGF0ZShyZXF1ZXN0OiBUcmFuc2xhdGlvblVwZGF0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIExpc3QgPSBcIkFkbWluaXN0cmF0aW9uL1RyYW5zbGF0aW9uL0xpc3RcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJBZG1pbmlzdHJhdGlvbi9UcmFuc2xhdGlvbi9VcGRhdGVcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnTGlzdCcsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJ1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+VHJhbnNsYXRpb25TZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uVXBkYXRlUmVxdWVzdCBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXF1ZXN0IHtcclxuICAgICAgICBUYXJnZXRMYW5ndWFnZUlEPzogc3RyaW5nO1xyXG4gICAgICAgIFRyYW5zbGF0aW9ucz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlckZvcm0ge1xyXG4gICAgICAgIFVzZXJuYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgRGlzcGxheU5hbWU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBFbWFpbDogU2VyZW5pdHkuRW1haWxFZGl0b3I7XHJcbiAgICAgICAgVXNlckltYWdlOiBTZXJlbml0eS5JbWFnZVVwbG9hZEVkaXRvcjtcclxuICAgICAgICBQYXNzd29yZDogU2VyZW5pdHkuUGFzc3dvcmRFZGl0b3I7XHJcbiAgICAgICAgUGFzc3dvcmRDb25maXJtOiBTZXJlbml0eS5QYXNzd29yZEVkaXRvcjtcclxuICAgICAgICBTb3VyY2U6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXNlckZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ0FkbWluaXN0cmF0aW9uLlVzZXInO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVVzZXJGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBVc2VyRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkVtYWlsRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcyID0gcy5JbWFnZVVwbG9hZEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MyA9IHMuUGFzc3dvcmRFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoVXNlckZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnVXNlcm5hbWUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnRGlzcGxheU5hbWUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnRW1haWwnLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnVXNlckltYWdlJywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bhc3N3b3JkJywgdzMsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bhc3N3b3JkQ29uZmlybScsIHczLFxyXG4gICAgICAgICAgICAgICAgICAgICdTb3VyY2UnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFVzZXJQZXJtaXNzaW9uTGlzdFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgVXNlcklEPzogbnVtYmVyO1xyXG4gICAgICAgIE1vZHVsZT86IHN0cmluZztcclxuICAgICAgICBTdWJtb2R1bGU/OiBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUGVybWlzc2lvblJvdyB7XHJcbiAgICAgICAgVXNlclBlcm1pc3Npb25JZD86IG51bWJlcjtcclxuICAgICAgICBVc2VySWQ/OiBudW1iZXI7XHJcbiAgICAgICAgUGVybWlzc2lvbktleT86IHN0cmluZztcclxuICAgICAgICBHcmFudGVkPzogYm9vbGVhbjtcclxuICAgICAgICBVc2VybmFtZT86IHN0cmluZztcclxuICAgICAgICBVc2VyPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVXNlclBlcm1pc3Npb25Sb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ1VzZXJQZXJtaXNzaW9uSWQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnUGVybWlzc2lvbktleSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdBZG1pbmlzdHJhdGlvbi5Vc2VyUGVybWlzc2lvbic7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246U2VjdXJpdHknO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246U2VjdXJpdHknO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBVc2VyUGVybWlzc2lvbklkID0gXCJVc2VyUGVybWlzc2lvbklkXCIsXHJcbiAgICAgICAgICAgIFVzZXJJZCA9IFwiVXNlcklkXCIsXHJcbiAgICAgICAgICAgIFBlcm1pc3Npb25LZXkgPSBcIlBlcm1pc3Npb25LZXlcIixcclxuICAgICAgICAgICAgR3JhbnRlZCA9IFwiR3JhbnRlZFwiLFxyXG4gICAgICAgICAgICBVc2VybmFtZSA9IFwiVXNlcm5hbWVcIixcclxuICAgICAgICAgICAgVXNlciA9IFwiVXNlclwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBVc2VyUGVybWlzc2lvblNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ0FkbWluaXN0cmF0aW9uL1VzZXJQZXJtaXNzaW9uJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gVXBkYXRlKHJlcXVlc3Q6IFVzZXJQZXJtaXNzaW9uVXBkYXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBMaXN0KHJlcXVlc3Q6IFVzZXJQZXJtaXNzaW9uTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFVzZXJQZXJtaXNzaW9uUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3RSb2xlUGVybWlzc2lvbnMocmVxdWVzdDogVXNlclBlcm1pc3Npb25MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8c3RyaW5nPikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3RQZXJtaXNzaW9uS2V5cyhyZXF1ZXN0OiBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8c3RyaW5nPikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXJQZXJtaXNzaW9uL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJBZG1pbmlzdHJhdGlvbi9Vc2VyUGVybWlzc2lvbi9MaXN0XCIsXHJcbiAgICAgICAgICAgIExpc3RSb2xlUGVybWlzc2lvbnMgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXJQZXJtaXNzaW9uL0xpc3RSb2xlUGVybWlzc2lvbnNcIixcclxuICAgICAgICAgICAgTGlzdFBlcm1pc3Npb25LZXlzID0gXCJBZG1pbmlzdHJhdGlvbi9Vc2VyUGVybWlzc2lvbi9MaXN0UGVybWlzc2lvbktleXNcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdMaXN0JywgXHJcbiAgICAgICAgICAgICdMaXN0Um9sZVBlcm1pc3Npb25zJywgXHJcbiAgICAgICAgICAgICdMaXN0UGVybWlzc2lvbktleXMnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5Vc2VyUGVybWlzc2lvblNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlclBlcm1pc3Npb25VcGRhdGVSZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIFVzZXJJRD86IG51bWJlcjtcclxuICAgICAgICBNb2R1bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VibW9kdWxlPzogc3RyaW5nO1xyXG4gICAgICAgIFBlcm1pc3Npb25zPzogVXNlclBlcm1pc3Npb25Sb3dbXTtcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFVzZXJSb2xlTGlzdFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgVXNlcklEPzogbnVtYmVyO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlclJvbGVMaXN0UmVzcG9uc2UgZXh0ZW5kcyBTZXJlbml0eS5MaXN0UmVzcG9uc2U8bnVtYmVyPiB7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUm9sZVJvdyB7XHJcbiAgICAgICAgVXNlclJvbGVJZD86IG51bWJlcjtcclxuICAgICAgICBVc2VySWQ/OiBudW1iZXI7XHJcbiAgICAgICAgUm9sZUlkPzogbnVtYmVyO1xyXG4gICAgICAgIFVzZXJuYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFVzZXI/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBVc2VyUm9sZVJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnVXNlclJvbGVJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdBZG1pbmlzdHJhdGlvbi5Vc2VyUm9sZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246U2VjdXJpdHknO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246U2VjdXJpdHknO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBVc2VyUm9sZUlkID0gXCJVc2VyUm9sZUlkXCIsXHJcbiAgICAgICAgICAgIFVzZXJJZCA9IFwiVXNlcklkXCIsXHJcbiAgICAgICAgICAgIFJvbGVJZCA9IFwiUm9sZUlkXCIsXHJcbiAgICAgICAgICAgIFVzZXJuYW1lID0gXCJVc2VybmFtZVwiLFxyXG4gICAgICAgICAgICBVc2VyID0gXCJVc2VyXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFVzZXJSb2xlU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnQWRtaW5pc3RyYXRpb24vVXNlclJvbGUnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogVXNlclJvbGVVcGRhdGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogVXNlclJvbGVMaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBVc2VyUm9sZUxpc3RSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXJSb2xlL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJBZG1pbmlzdHJhdGlvbi9Vc2VyUm9sZS9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlVzZXJSb2xlU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUm9sZVVwZGF0ZVJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgVXNlcklEPzogbnVtYmVyO1xyXG4gICAgICAgIFJvbGVzPzogbnVtYmVyW107XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUm93IHtcclxuICAgICAgICBVc2VySWQ/OiBudW1iZXI7XHJcbiAgICAgICAgVXNlcm5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgU291cmNlPzogc3RyaW5nO1xyXG4gICAgICAgIFBhc3N3b3JkSGFzaD86IHN0cmluZztcclxuICAgICAgICBQYXNzd29yZFNhbHQ/OiBzdHJpbmc7XHJcbiAgICAgICAgRGlzcGxheU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1haWw/OiBzdHJpbmc7XHJcbiAgICAgICAgVXNlckltYWdlPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3REaXJlY3RvcnlVcGRhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgSXNBY3RpdmU/OiBudW1iZXI7XHJcbiAgICAgICAgUGFzc3dvcmQ/OiBzdHJpbmc7XHJcbiAgICAgICAgUGFzc3dvcmRDb25maXJtPzogc3RyaW5nO1xyXG4gICAgICAgIEluc2VydFVzZXJJZD86IG51bWJlcjtcclxuICAgICAgICBJbnNlcnREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIFVwZGF0ZVVzZXJJZD86IG51bWJlcjtcclxuICAgICAgICBVcGRhdGVEYXRlPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVXNlclJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnVXNlcklkJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaXNBY3RpdmVQcm9wZXJ0eSA9ICdJc0FjdGl2ZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdVc2VybmFtZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdBZG1pbmlzdHJhdGlvbi5Vc2VyJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9va3VwS2V5ID0gJ0FkbWluaXN0cmF0aW9uLlVzZXInO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPFVzZXJSb3c+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFEuZ2V0TG9va3VwPFVzZXJSb3c+KCdBZG1pbmlzdHJhdGlvbi5Vc2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOlNlY3VyaXR5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdBZG1pbmlzdHJhdGlvbjpTZWN1cml0eSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgVXNlcklkID0gXCJVc2VySWRcIixcclxuICAgICAgICAgICAgVXNlcm5hbWUgPSBcIlVzZXJuYW1lXCIsXHJcbiAgICAgICAgICAgIFNvdXJjZSA9IFwiU291cmNlXCIsXHJcbiAgICAgICAgICAgIFBhc3N3b3JkSGFzaCA9IFwiUGFzc3dvcmRIYXNoXCIsXHJcbiAgICAgICAgICAgIFBhc3N3b3JkU2FsdCA9IFwiUGFzc3dvcmRTYWx0XCIsXHJcbiAgICAgICAgICAgIERpc3BsYXlOYW1lID0gXCJEaXNwbGF5TmFtZVwiLFxyXG4gICAgICAgICAgICBFbWFpbCA9IFwiRW1haWxcIixcclxuICAgICAgICAgICAgVXNlckltYWdlID0gXCJVc2VySW1hZ2VcIixcclxuICAgICAgICAgICAgTGFzdERpcmVjdG9yeVVwZGF0ZSA9IFwiTGFzdERpcmVjdG9yeVVwZGF0ZVwiLFxyXG4gICAgICAgICAgICBJc0FjdGl2ZSA9IFwiSXNBY3RpdmVcIixcclxuICAgICAgICAgICAgUGFzc3dvcmQgPSBcIlBhc3N3b3JkXCIsXHJcbiAgICAgICAgICAgIFBhc3N3b3JkQ29uZmlybSA9IFwiUGFzc3dvcmRDb25maXJtXCIsXHJcbiAgICAgICAgICAgIEluc2VydFVzZXJJZCA9IFwiSW5zZXJ0VXNlcklkXCIsXHJcbiAgICAgICAgICAgIEluc2VydERhdGUgPSBcIkluc2VydERhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlVXNlcklkID0gXCJVcGRhdGVVc2VySWRcIixcclxuICAgICAgICAgICAgVXBkYXRlRGF0ZSA9IFwiVXBkYXRlRGF0ZVwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBVc2VyU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnQWRtaW5pc3RyYXRpb24vVXNlcic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxVc2VyUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8VXNlclJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gRGVsZXRlKHJlcXVlc3Q6IFNlcmVuaXR5LkRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVbmRlbGV0ZShyZXF1ZXN0OiBTZXJlbml0eS5VbmRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPFVzZXJSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBTZXJlbml0eS5MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8VXNlclJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgQ3JlYXRlID0gXCJBZG1pbmlzdHJhdGlvbi9Vc2VyL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXIvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiQWRtaW5pc3RyYXRpb24vVXNlci9EZWxldGVcIixcclxuICAgICAgICAgICAgVW5kZWxldGUgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXIvVW5kZWxldGVcIixcclxuICAgICAgICAgICAgUmV0cmlldmUgPSBcIkFkbWluaXN0cmF0aW9uL1VzZXIvUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiQWRtaW5pc3RyYXRpb24vVXNlci9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1VuZGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlVzZXJTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBCYXNpY1NhbXBsZXNTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdCYXNpY1NhbXBsZXMvQmFzaWNTYW1wbGVzJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gT3JkZXJzQnlTaGlwcGVyKHJlcXVlc3Q6IE9yZGVyc0J5U2hpcHBlclJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogT3JkZXJzQnlTaGlwcGVyUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBPcmRlckJ1bGtBY3Rpb24ocmVxdWVzdDogT3JkZXJCdWxrQWN0aW9uUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TZXJ2aWNlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgT3JkZXJzQnlTaGlwcGVyID0gXCJCYXNpY1NhbXBsZXMvQmFzaWNTYW1wbGVzL09yZGVyc0J5U2hpcHBlclwiLFxyXG4gICAgICAgICAgICBPcmRlckJ1bGtBY3Rpb24gPSBcIkJhc2ljU2FtcGxlcy9CYXNpY1NhbXBsZXMvT3JkZXJCdWxrQWN0aW9uXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ09yZGVyc0J5U2hpcHBlcicsIFxyXG4gICAgICAgICAgICAnT3JkZXJCdWxrQWN0aW9uJ1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+QmFzaWNTYW1wbGVzU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ2hhbmdpbmdMb29rdXBUZXh0Rm9ybSB7XHJcbiAgICAgICAgUHJvZHVjdElEOiBDaGFuZ2luZ0xvb2t1cFRleHRFZGl0b3I7XHJcbiAgICAgICAgVW5pdFByaWNlOiBTZXJlbml0eS5EZWNpbWFsRWRpdG9yO1xyXG4gICAgICAgIFF1YW50aXR5OiBTZXJlbml0eS5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgICAgIERpc2NvdW50OiBTZXJlbml0eS5EZWNpbWFsRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBDaGFuZ2luZ0xvb2t1cFRleHRGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdCYXNpY1NhbXBsZXMuQ2hhbmdpbmdMb29rdXBUZXh0JztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDaGFuZ2luZ0xvb2t1cFRleHRGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBDaGFuZ2luZ0xvb2t1cFRleHRGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBDaGFuZ2luZ0xvb2t1cFRleHRFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkRlY2ltYWxFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzIgPSBzLkludGVnZXJFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoQ2hhbmdpbmdMb29rdXBUZXh0Rm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdQcm9kdWN0SUQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnVW5pdFByaWNlJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1F1YW50aXR5JywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Rpc2NvdW50JywgdzFcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDdXN0b21lckdyb3NzU2FsZXNMaXN0UmVxdWVzdCBleHRlbmRzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0IHtcclxuICAgICAgICBTdGFydERhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW5kRGF0ZT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBDdXN0b21lckdyb3NzU2FsZXNTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdCYXNpY1NhbXBsZXMvQ3VzdG9tZXJHcm9zc1NhbGVzJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBDdXN0b21lckdyb3NzU2FsZXNMaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8Tm9ydGh3aW5kLkN1c3RvbWVyR3Jvc3NTYWxlc1Jvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgTGlzdCA9IFwiQmFzaWNTYW1wbGVzL0N1c3RvbWVyR3Jvc3NTYWxlcy9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0xpc3QnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5DdXN0b21lckdyb3NzU2FsZXNTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIERyYWdEcm9wU2FtcGxlRm9ybSB7XHJcbiAgICAgICAgVGl0bGU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRHJhZ0Ryb3BTYW1wbGVGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdCYXNpY1NhbXBsZXMuRHJhZ0Ryb3BTYW1wbGUnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIURyYWdEcm9wU2FtcGxlRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgRHJhZ0Ryb3BTYW1wbGVGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShEcmFnRHJvcFNhbXBsZUZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnVGl0bGUnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBEcmFnRHJvcFNhbXBsZVJvdyB7XHJcbiAgICAgICAgSWQ/OiBudW1iZXI7XHJcbiAgICAgICAgUGFyZW50SWQ/OiBudW1iZXI7XHJcbiAgICAgICAgVGl0bGU/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBEcmFnRHJvcFNhbXBsZVJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnSWQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnVGl0bGUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkRyYWdEcm9wU2FtcGxlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIElkID0gXCJJZFwiLFxyXG4gICAgICAgICAgICBQYXJlbnRJZCA9IFwiUGFyZW50SWRcIixcclxuICAgICAgICAgICAgVGl0bGUgPSBcIlRpdGxlXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBEcmFnRHJvcFNhbXBsZVNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ0Jhc2ljU2FtcGxlcy9EcmFnRHJvcFNhbXBsZSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxEcmFnRHJvcFNhbXBsZVJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gVXBkYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PERyYWdEcm9wU2FtcGxlUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPERyYWdEcm9wU2FtcGxlUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPERyYWdEcm9wU2FtcGxlUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBDcmVhdGUgPSBcIkJhc2ljU2FtcGxlcy9EcmFnRHJvcFNhbXBsZS9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJCYXNpY1NhbXBsZXMvRHJhZ0Ryb3BTYW1wbGUvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiQmFzaWNTYW1wbGVzL0RyYWdEcm9wU2FtcGxlL0RlbGV0ZVwiLFxyXG4gICAgICAgICAgICBSZXRyaWV2ZSA9IFwiQmFzaWNTYW1wbGVzL0RyYWdEcm9wU2FtcGxlL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIkJhc2ljU2FtcGxlcy9EcmFnRHJvcFNhbXBsZS9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+RHJhZ0Ryb3BTYW1wbGVTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBGaWx0ZXJlZExvb2t1cEluRGV0YWlsRm9ybSB7XHJcbiAgICAgICAgQ3VzdG9tZXJJRDogTm9ydGh3aW5kLkN1c3RvbWVyRWRpdG9yO1xyXG4gICAgICAgIE9yZGVyRGF0ZTogU2VyZW5pdHkuRGF0ZUVkaXRvcjtcclxuICAgICAgICBDYXRlZ29yeUlEOiBTZXJlbml0eS5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgRGV0YWlsTGlzdDogRmlsdGVyZWRMb29rdXBEZXRhaWxFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEZpbHRlcmVkTG9va3VwSW5EZXRhaWxGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdCYXNpY1NhbXBsZXMuRmlsdGVyZWRMb29rdXBJbkRldGFpbCc7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghRmlsdGVyZWRMb29rdXBJbkRldGFpbEZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIEZpbHRlcmVkTG9va3VwSW5EZXRhaWxGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBOb3J0aHdpbmQuQ3VzdG9tZXJFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkRhdGVFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzIgPSBzLkxvb2t1cEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MyA9IEZpbHRlcmVkTG9va3VwRGV0YWlsRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKEZpbHRlcmVkTG9va3VwSW5EZXRhaWxGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0N1c3RvbWVySUQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnT3JkZXJEYXRlJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NhdGVnb3J5SUQnLCB3MixcclxuICAgICAgICAgICAgICAgICAgICAnRGV0YWlsTGlzdCcsIHczXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEhhcmRjb2RlZFZhbHVlc0Zvcm0ge1xyXG4gICAgICAgIFNvbWVWYWx1ZTogSGFyZGNvZGVkVmFsdWVzRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBIYXJkY29kZWRWYWx1ZXNGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdCYXNpY1NhbXBsZXMuSGFyY29kZWRWYWx1ZXMnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUhhcmRjb2RlZFZhbHVlc0Zvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIEhhcmRjb2RlZFZhbHVlc0Zvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IEhhcmRjb2RlZFZhbHVlc0VkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShIYXJkY29kZWRWYWx1ZXNGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1NvbWVWYWx1ZScsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTG9va3VwRmlsdGVyQnlNdWx0aXBsZUZvcm0ge1xyXG4gICAgICAgIFByb2R1Y3ROYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgUHJvZHVjdEltYWdlOiBTZXJlbml0eS5JbWFnZVVwbG9hZEVkaXRvcjtcclxuICAgICAgICBEaXNjb250aW51ZWQ6IFNlcmVuaXR5LkJvb2xlYW5FZGl0b3I7XHJcbiAgICAgICAgU3VwcGxpZXJJRDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIENhdGVnb3J5SUQ6IFByb2R1Y2VTZWFmb29kQ2F0ZWdvcnlFZGl0b3I7XHJcbiAgICAgICAgUXVhbnRpdHlQZXJVbml0OiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgVW5pdFByaWNlOiBTZXJlbml0eS5EZWNpbWFsRWRpdG9yO1xyXG4gICAgICAgIFVuaXRzSW5TdG9jazogU2VyZW5pdHkuSW50ZWdlckVkaXRvcjtcclxuICAgICAgICBVbml0c09uT3JkZXI6IFNlcmVuaXR5LkludGVnZXJFZGl0b3I7XHJcbiAgICAgICAgUmVvcmRlckxldmVsOiBTZXJlbml0eS5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBMb29rdXBGaWx0ZXJCeU11bHRpcGxlRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnQmFzaWNTYW1wbGVzLkxvb2t1cEZpbHRlckJ5TXVsdGlwbGUnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUxvb2t1cEZpbHRlckJ5TXVsdGlwbGVGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBMb29rdXBGaWx0ZXJCeU11bHRpcGxlRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkltYWdlVXBsb2FkRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcyID0gcy5Cb29sZWFuRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHczID0gcy5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzQgPSBQcm9kdWNlU2VhZm9vZENhdGVnb3J5RWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHc1ID0gcy5EZWNpbWFsRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHc2ID0gcy5JbnRlZ2VyRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKExvb2t1cEZpbHRlckJ5TXVsdGlwbGVGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Byb2R1Y3ROYW1lJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Byb2R1Y3RJbWFnZScsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdEaXNjb250aW51ZWQnLCB3MixcclxuICAgICAgICAgICAgICAgICAgICAnU3VwcGxpZXJJRCcsIHczLFxyXG4gICAgICAgICAgICAgICAgICAgICdDYXRlZ29yeUlEJywgdzQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1F1YW50aXR5UGVyVW5pdCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdVbml0UHJpY2UnLCB3NSxcclxuICAgICAgICAgICAgICAgICAgICAnVW5pdHNJblN0b2NrJywgdzYsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1VuaXRzT25PcmRlcicsIHc2LFxyXG4gICAgICAgICAgICAgICAgICAgICdSZW9yZGVyTGV2ZWwnLCB3NlxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBPcmRlckJ1bGtBY3Rpb25SZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIE9yZGVySURzPzogbnVtYmVyW107XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgT3JkZXJzQnlTaGlwcGVyUmVxdWVzdCBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXF1ZXN0IHtcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBPcmRlcnNCeVNoaXBwZXJSZXNwb25zZSBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXNwb25zZSB7XHJcbiAgICAgICAgVmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfVtdO1xyXG4gICAgICAgIFNoaXBwZXJLZXlzPzogc3RyaW5nW107XHJcbiAgICAgICAgU2hpcHBlckxhYmVscz86IHN0cmluZ1tdO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFBvcHVsYXRlTGlua2VkRGF0YUZvcm0ge1xyXG4gICAgICAgIEN1c3RvbWVySUQ6IE5vcnRod2luZC5DdXN0b21lckVkaXRvcjtcclxuICAgICAgICBDdXN0b21lckNvbnRhY3ROYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQ3VzdG9tZXJDb250YWN0VGl0bGU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBDdXN0b21lckNpdHk6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBDdXN0b21lclJlZ2lvbjogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIEN1c3RvbWVyQ291bnRyeTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIEN1c3RvbWVyUGhvbmU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBDdXN0b21lckZheDogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIE9yZGVyRGF0ZTogU2VyZW5pdHkuRGF0ZUVkaXRvcjtcclxuICAgICAgICBSZXF1aXJlZERhdGU6IFNlcmVuaXR5LkRhdGVFZGl0b3I7XHJcbiAgICAgICAgRW1wbG95ZWVJRDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIERldGFpbExpc3Q6IE5vcnRod2luZC5PcmRlckRldGFpbHNFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFBvcHVsYXRlTGlua2VkRGF0YUZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ0Jhc2ljU2FtcGxlcy5Qb3B1bGF0ZUxpbmtlZERhdGEnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVBvcHVsYXRlTGlua2VkRGF0YUZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIFBvcHVsYXRlTGlua2VkRGF0YUZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IE5vcnRod2luZC5DdXN0b21lckVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MSA9IHMuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcyID0gcy5EYXRlRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHczID0gcy5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzQgPSBOb3J0aHdpbmQuT3JkZXJEZXRhaWxzRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKFBvcHVsYXRlTGlua2VkRGF0YUZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJJRCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdDdXN0b21lckNvbnRhY3ROYW1lJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0N1c3RvbWVyQ29udGFjdFRpdGxlJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0N1c3RvbWVyQ2l0eScsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdDdXN0b21lclJlZ2lvbicsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdDdXN0b21lckNvdW50cnknLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJQaG9uZScsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdDdXN0b21lckZheCcsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdPcmRlckRhdGUnLCB3MixcclxuICAgICAgICAgICAgICAgICAgICAnUmVxdWlyZWREYXRlJywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0VtcGxveWVlSUQnLCB3MyxcclxuICAgICAgICAgICAgICAgICAgICAnRGV0YWlsTGlzdCcsIHc0XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RFeGNlbEltcG9ydEZvcm0ge1xyXG4gICAgICAgIEZpbGVOYW1lOiBTZXJlbml0eS5JbWFnZVVwbG9hZEVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZHVjdEV4Y2VsSW1wb3J0Rm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnQmFzaWNTYW1wbGVzLlByb2R1Y3RFeGNlbEltcG9ydCc7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghUHJvZHVjdEV4Y2VsSW1wb3J0Rm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgUHJvZHVjdEV4Y2VsSW1wb3J0Rm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5JbWFnZVVwbG9hZEVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShQcm9kdWN0RXhjZWxJbXBvcnRGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZpbGVOYW1lJywgdzBcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUHJvZHVjdEV4Y2VsSW1wb3J0U2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnQmFzaWNTYW1wbGVzL1Byb2R1Y3RFeGNlbEltcG9ydCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIEV4Y2VsSW1wb3J0KHJlcXVlc3Q6IEV4Y2VsSW1wb3J0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBFeGNlbEltcG9ydFJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIEV4Y2VsSW1wb3J0ID0gXCJCYXNpY1NhbXBsZXMvUHJvZHVjdEV4Y2VsSW1wb3J0L0V4Y2VsSW1wb3J0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0V4Y2VsSW1wb3J0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+UHJvZHVjdEV4Y2VsSW1wb3J0U2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljVGV4dEJsb2NrRm9ybSB7XHJcbiAgICAgICAgU3RhdGljVGV4dDogU3RhdGljVGV4dEJsb2NrO1xyXG4gICAgICAgIFNvbWVJbnB1dDogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIEh0bWxMaXN0OiBTdGF0aWNUZXh0QmxvY2s7XHJcbiAgICAgICAgRnJvbUxvY2FsVGV4dDogU3RhdGljVGV4dEJsb2NrO1xyXG4gICAgICAgIERpc3BsYXlGaWVsZFZhbHVlOiBTdGF0aWNUZXh0QmxvY2s7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFN0YXRpY1RleHRCbG9ja0Zvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ0Jhc2ljU2FtcGxlcy5TdGF0aWNUZXh0QmxvY2snO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVN0YXRpY1RleHRCbG9ja0Zvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIFN0YXRpY1RleHRCbG9ja0Zvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IFN0YXRpY1RleHRCbG9jaztcclxuICAgICAgICAgICAgICAgIHZhciB3MSA9IHMuU3RyaW5nRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKFN0YXRpY1RleHRCbG9ja0Zvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnU3RhdGljVGV4dCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdTb21lSW5wdXQnLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnSHRtbExpc3QnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnRnJvbUxvY2FsVGV4dCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdEaXNwbGF5RmllbGRWYWx1ZScsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFVzZXJQcmVmZXJlbmNlUmV0cmlldmVSZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIFByZWZlcmVuY2VUeXBlPzogc3RyaW5nO1xyXG4gICAgICAgIE5hbWU/OiBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlclByZWZlcmVuY2VSZXRyaWV2ZVJlc3BvbnNlIGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlc3BvbnNlIHtcclxuICAgICAgICBWYWx1ZT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Db21tb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlZmVyZW5jZVJvdyB7XHJcbiAgICAgICAgVXNlclByZWZlcmVuY2VJZD86IG51bWJlcjtcclxuICAgICAgICBVc2VySWQ/OiBudW1iZXI7XHJcbiAgICAgICAgUHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XHJcbiAgICAgICAgTmFtZT86IHN0cmluZztcclxuICAgICAgICBWYWx1ZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFVzZXJQcmVmZXJlbmNlUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdVc2VyUHJlZmVyZW5jZUlkJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ05hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnQ29tbW9uLlVzZXJQcmVmZXJlbmNlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICcnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBVc2VyUHJlZmVyZW5jZUlkID0gXCJVc2VyUHJlZmVyZW5jZUlkXCIsXHJcbiAgICAgICAgICAgIFVzZXJJZCA9IFwiVXNlcklkXCIsXHJcbiAgICAgICAgICAgIFByZWZlcmVuY2VUeXBlID0gXCJQcmVmZXJlbmNlVHlwZVwiLFxyXG4gICAgICAgICAgICBOYW1lID0gXCJOYW1lXCIsXHJcbiAgICAgICAgICAgIFZhbHVlID0gXCJWYWx1ZVwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVXNlclByZWZlcmVuY2VTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdDb21tb24vVXNlclByZWZlcmVuY2UnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogVXNlclByZWZlcmVuY2VVcGRhdGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNlcnZpY2VSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFVzZXJQcmVmZXJlbmNlUmV0cmlldmVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFVzZXJQcmVmZXJlbmNlUmV0cmlldmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIkNvbW1vbi9Vc2VyUHJlZmVyZW5jZS9VcGRhdGVcIixcclxuICAgICAgICAgICAgUmV0cmlldmUgPSBcIkNvbW1vbi9Vc2VyUHJlZmVyZW5jZS9SZXRyaWV2ZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdVcGRhdGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJ1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+VXNlclByZWZlcmVuY2VTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Db21tb24ge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlZmVyZW5jZVVwZGF0ZVJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgUHJlZmVyZW5jZVR5cGU/OiBzdHJpbmc7XHJcbiAgICAgICAgTmFtZT86IHN0cmluZztcclxuICAgICAgICBWYWx1ZT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEV4Y2VsSW1wb3J0UmVxdWVzdCBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXF1ZXN0IHtcclxuICAgICAgICBGaWxlTmFtZT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEV4Y2VsSW1wb3J0UmVzcG9uc2UgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVzcG9uc2Uge1xyXG4gICAgICAgIEluc2VydGVkPzogbnVtYmVyO1xyXG4gICAgICAgIFVwZGF0ZWQ/OiBudW1iZXI7XHJcbiAgICAgICAgRXJyb3JMaXN0Pzogc3RyaW5nW107XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuRXh0cmFTYW1wbGVzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgT3JkZXJzQnlDdXN0b21lclJlcG9ydFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgQ3VzdG9tZXJJZD86IHN0cmluZztcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkV4dHJhU2FtcGxlcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9yZGVyc0J5Q3VzdG9tZXJSZXBvcnRSZXF1ZXN0Rm9ybSB7XHJcbiAgICAgICAgQ3VzdG9tZXJJZDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBPcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ0V4dHJhU2FtcGxlcy5PcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0nO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIU9yZGVyc0J5Q3VzdG9tZXJSZXBvcnRSZXF1ZXN0Rm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgT3JkZXJzQnlDdXN0b21lclJlcG9ydFJlcXVlc3RGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLkxvb2t1cEVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShPcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJJZCcsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgR2V0TmV4dE51bWJlclJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgUHJlZml4Pzogc3RyaW5nO1xyXG4gICAgICAgIExlbmd0aD86IG51bWJlcjtcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEdldE5leHROdW1iZXJSZXNwb25zZSBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXNwb25zZSB7XHJcbiAgICAgICAgTnVtYmVyPzogbnVtYmVyO1xyXG4gICAgICAgIFNlcmlhbD86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ2hhbmdlUGFzc3dvcmRGb3JtIHtcclxuICAgICAgICBPbGRQYXNzd29yZDogU2VyZW5pdHkuUGFzc3dvcmRFZGl0b3I7XHJcbiAgICAgICAgTmV3UGFzc3dvcmQ6IFNlcmVuaXR5LlBhc3N3b3JkRWRpdG9yO1xyXG4gICAgICAgIENvbmZpcm1QYXNzd29yZDogU2VyZW5pdHkuUGFzc3dvcmRFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIENoYW5nZVBhc3N3b3JkRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTWVtYmVyc2hpcC5DaGFuZ2VQYXNzd29yZCc7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghQ2hhbmdlUGFzc3dvcmRGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBDaGFuZ2VQYXNzd29yZEZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IHMuUGFzc3dvcmRFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoQ2hhbmdlUGFzc3dvcmRGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ09sZFBhc3N3b3JkJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ05ld1Bhc3N3b3JkJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbmZpcm1QYXNzd29yZCcsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk1lbWJlcnNoaXAge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQYXNzd29yZFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgT2xkUGFzc3dvcmQ/OiBzdHJpbmc7XHJcbiAgICAgICAgTmV3UGFzc3dvcmQ/OiBzdHJpbmc7XHJcbiAgICAgICAgQ29uZmlybVBhc3N3b3JkPzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk1lbWJlcnNoaXAge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBGb3Jnb3RQYXNzd29yZEZvcm0ge1xyXG4gICAgICAgIEVtYWlsOiBTZXJlbml0eS5FbWFpbEVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRm9yZ290UGFzc3dvcmRGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdNZW1iZXJzaGlwLkZvcmdvdFBhc3N3b3JkJztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFGb3Jnb3RQYXNzd29yZEZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIEZvcmdvdFBhc3N3b3JkRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5FbWFpbEVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShGb3Jnb3RQYXNzd29yZEZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnRW1haWwnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRm9yZ290UGFzc3dvcmRSZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIEVtYWlsPzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk1lbWJlcnNoaXAge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBMb2dpbkZvcm0ge1xyXG4gICAgICAgIFVzZXJuYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgUGFzc3dvcmQ6IFNlcmVuaXR5LlBhc3N3b3JkRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBMb2dpbkZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ01lbWJlcnNoaXAuTG9naW4nO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUxvZ2luRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgTG9naW5Gb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MSA9IHMuUGFzc3dvcmRFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoTG9naW5Gb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ1VzZXJuYW1lJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bhc3N3b3JkJywgdzFcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTWVtYmVyc2hpcCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIExvZ2luUmVxdWVzdCBleHRlbmRzIFNlcmVuaXR5LlNlcnZpY2VSZXF1ZXN0IHtcclxuICAgICAgICBVc2VybmFtZT86IHN0cmluZztcclxuICAgICAgICBQYXNzd29yZD86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVzZXRQYXNzd29yZEZvcm0ge1xyXG4gICAgICAgIE5ld1Bhc3N3b3JkOiBTZXJlbml0eS5QYXNzd29yZEVkaXRvcjtcclxuICAgICAgICBDb25maXJtUGFzc3dvcmQ6IFNlcmVuaXR5LlBhc3N3b3JkRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTWVtYmVyc2hpcC5SZXNldFBhc3N3b3JkJztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFSZXNldFBhc3N3b3JkRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgUmVzZXRQYXNzd29yZEZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IHMuUGFzc3dvcmRFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoUmVzZXRQYXNzd29yZEZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnTmV3UGFzc3dvcmQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnQ29uZmlybVBhc3N3b3JkJywgdzBcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTWVtYmVyc2hpcCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFJlc2V0UGFzc3dvcmRSZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIFRva2VuPzogc3RyaW5nO1xyXG4gICAgICAgIE5ld1Bhc3N3b3JkPzogc3RyaW5nO1xyXG4gICAgICAgIENvbmZpcm1QYXNzd29yZD86IHN0cmluZztcclxuICAgIH1cclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2lnblVwRm9ybSB7XHJcbiAgICAgICAgRGlzcGxheU5hbWU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBFbWFpbDogU2VyZW5pdHkuRW1haWxFZGl0b3I7XHJcbiAgICAgICAgQ29uZmlybUVtYWlsOiBTZXJlbml0eS5FbWFpbEVkaXRvcjtcclxuICAgICAgICBQYXNzd29yZDogU2VyZW5pdHkuUGFzc3dvcmRFZGl0b3I7XHJcbiAgICAgICAgQ29uZmlybVBhc3N3b3JkOiBTZXJlbml0eS5QYXNzd29yZEVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgU2lnblVwRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTWVtYmVyc2hpcC5TaWduVXAnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVNpZ25VcEZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIFNpZ25VcEZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IHMuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcxID0gcy5FbWFpbEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MiA9IHMuUGFzc3dvcmRFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoU2lnblVwRm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdEaXNwbGF5TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdFbWFpbCcsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb25maXJtRW1haWwnLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnUGFzc3dvcmQnLCB3MixcclxuICAgICAgICAgICAgICAgICAgICAnQ29uZmlybVBhc3N3b3JkJywgdzJcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTWVtYmVyc2hpcCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFNpZ25VcFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgRGlzcGxheU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1haWw/OiBzdHJpbmc7XHJcbiAgICAgICAgUGFzc3dvcmQ/OiBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeUZvcm0ge1xyXG4gICAgICAgIENhdGVnb3J5TmFtZTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIERlc2NyaXB0aW9uOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIENhdGVnb3J5Rm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTm9ydGh3aW5kLkNhdGVnb3J5JztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDYXRlZ29yeUZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIENhdGVnb3J5Rm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoQ2F0ZWdvcnlGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0NhdGVnb3J5TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdEZXNjcmlwdGlvbicsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIENhdGVnb3J5TGFuZ1JvdyB7XHJcbiAgICAgICAgSWQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ2F0ZWdvcnlJZD86IG51bWJlcjtcclxuICAgICAgICBMYW5ndWFnZUlkPzogbnVtYmVyO1xyXG4gICAgICAgIENhdGVnb3J5TmFtZT86IHN0cmluZztcclxuICAgICAgICBEZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIENhdGVnb3J5TGFuZ1JvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnSWQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnQ2F0ZWdvcnlOYW1lJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5DYXRlZ29yeUxhbmcnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgSWQgPSBcIklkXCIsXHJcbiAgICAgICAgICAgIENhdGVnb3J5SWQgPSBcIkNhdGVnb3J5SWRcIixcclxuICAgICAgICAgICAgTGFuZ3VhZ2VJZCA9IFwiTGFuZ3VhZ2VJZFwiLFxyXG4gICAgICAgICAgICBDYXRlZ29yeU5hbWUgPSBcIkNhdGVnb3J5TmFtZVwiLFxyXG4gICAgICAgICAgICBEZXNjcmlwdGlvbiA9IFwiRGVzY3JpcHRpb25cIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIENhdGVnb3J5TGFuZ1NlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ05vcnRod2luZC9DYXRlZ29yeUxhbmcnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBDcmVhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8Q2F0ZWdvcnlMYW5nUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8Q2F0ZWdvcnlMYW5nUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPENhdGVnb3J5TGFuZ1Jvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBMaXN0KHJlcXVlc3Q6IFNlcmVuaXR5Lkxpc3RSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxDYXRlZ29yeUxhbmdSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL0NhdGVnb3J5TGFuZy9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJOb3J0aHdpbmQvQ2F0ZWdvcnlMYW5nL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBEZWxldGUgPSBcIk5vcnRod2luZC9DYXRlZ29yeUxhbmcvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvQ2F0ZWdvcnlMYW5nL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIk5vcnRod2luZC9DYXRlZ29yeUxhbmcvTGlzdFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdDcmVhdGUnLCBcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnRGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PkNhdGVnb3J5TGFuZ1NlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIENhdGVnb3J5Um93IHtcclxuICAgICAgICBDYXRlZ29yeUlEPzogbnVtYmVyO1xyXG4gICAgICAgIENhdGVnb3J5TmFtZT86IHN0cmluZztcclxuICAgICAgICBEZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgICAgICBQaWN0dXJlPzogbnVtYmVyW107XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBDYXRlZ29yeVJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnQ2F0ZWdvcnlJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdDYXRlZ29yeU5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkNhdGVnb3J5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9va3VwS2V5ID0gJ05vcnRod2luZC5DYXRlZ29yeSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRMb29rdXAoKTogUS5Mb29rdXA8Q2F0ZWdvcnlSb3c+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFEuZ2V0TG9va3VwPENhdGVnb3J5Um93PignTm9ydGh3aW5kLkNhdGVnb3J5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgQ2F0ZWdvcnlJRCA9IFwiQ2F0ZWdvcnlJRFwiLFxyXG4gICAgICAgICAgICBDYXRlZ29yeU5hbWUgPSBcIkNhdGVnb3J5TmFtZVwiLFxyXG4gICAgICAgICAgICBEZXNjcmlwdGlvbiA9IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgUGljdHVyZSA9IFwiUGljdHVyZVwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQ2F0ZWdvcnlTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdOb3J0aHdpbmQvQ2F0ZWdvcnknO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBDcmVhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8Q2F0ZWdvcnlSb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFVwZGF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxDYXRlZ29yeVJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gRGVsZXRlKHJlcXVlc3Q6IFNlcmVuaXR5LkRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBSZXRyaWV2ZShyZXF1ZXN0OiBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxDYXRlZ29yeVJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBMaXN0KHJlcXVlc3Q6IFNlcmVuaXR5Lkxpc3RSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxDYXRlZ29yeVJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgQ3JlYXRlID0gXCJOb3J0aHdpbmQvQ2F0ZWdvcnkvQ3JlYXRlXCIsXHJcbiAgICAgICAgICAgIFVwZGF0ZSA9IFwiTm9ydGh3aW5kL0NhdGVnb3J5L1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBEZWxldGUgPSBcIk5vcnRod2luZC9DYXRlZ29yeS9EZWxldGVcIixcclxuICAgICAgICAgICAgUmV0cmlldmUgPSBcIk5vcnRod2luZC9DYXRlZ29yeS9SZXRyaWV2ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJOb3J0aHdpbmQvQ2F0ZWdvcnkvTGlzdFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdDcmVhdGUnLCBcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnRGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PkNhdGVnb3J5U2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDdXN0b21lckN1c3RvbWVyRGVtb1JvdyB7XHJcbiAgICAgICAgSUQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ3VzdG9tZXJJRD86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lclR5cGVJRD86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lckNvbXBhbnlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIEN1c3RvbWVyQ29udGFjdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJDb250YWN0VGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIEN1c3RvbWVyQ2l0eT86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lclJlZ2lvbj86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lclBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgICAgIEN1c3RvbWVyUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJGYXg/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJUeXBlQ3VzdG9tZXJEZXNjPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQ3VzdG9tZXJDdXN0b21lckRlbW9Sb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ0lEJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ0N1c3RvbWVySUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkN1c3RvbWVyQ3VzdG9tZXJEZW1vJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIElEID0gXCJJRFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lcklEID0gXCJDdXN0b21lcklEXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyVHlwZUlEID0gXCJDdXN0b21lclR5cGVJRFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lckNvbXBhbnlOYW1lID0gXCJDdXN0b21lckNvbXBhbnlOYW1lXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyQ29udGFjdE5hbWUgPSBcIkN1c3RvbWVyQ29udGFjdE5hbWVcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJDb250YWN0VGl0bGUgPSBcIkN1c3RvbWVyQ29udGFjdFRpdGxlXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyQWRkcmVzcyA9IFwiQ3VzdG9tZXJBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyQ2l0eSA9IFwiQ3VzdG9tZXJDaXR5XCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyUmVnaW9uID0gXCJDdXN0b21lclJlZ2lvblwiLFxyXG4gICAgICAgICAgICBDdXN0b21lclBvc3RhbENvZGUgPSBcIkN1c3RvbWVyUG9zdGFsQ29kZVwiLFxyXG4gICAgICAgICAgICBDdXN0b21lckNvdW50cnkgPSBcIkN1c3RvbWVyQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBDdXN0b21lclBob25lID0gXCJDdXN0b21lclBob25lXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyRmF4ID0gXCJDdXN0b21lckZheFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lclR5cGVDdXN0b21lckRlc2MgPSBcIkN1c3RvbWVyVHlwZUN1c3RvbWVyRGVzY1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tZXJEZW1vZ3JhcGhpY1JvdyB7XHJcbiAgICAgICAgSUQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ3VzdG9tZXJUeXBlSUQ/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJEZXNjPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQ3VzdG9tZXJEZW1vZ3JhcGhpY1JvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnSUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnQ3VzdG9tZXJUeXBlSUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkN1c3RvbWVyRGVtb2dyYXBoaWMnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgSUQgPSBcIklEXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyVHlwZUlEID0gXCJDdXN0b21lclR5cGVJRFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lckRlc2MgPSBcIkN1c3RvbWVyRGVzY1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tZXJEZXRhaWxzUm93IHtcclxuICAgICAgICBJZD86IG51bWJlcjtcclxuICAgICAgICBMYXN0Q29udGFjdERhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5PzogbnVtYmVyO1xyXG4gICAgICAgIEVtYWlsPzogc3RyaW5nO1xyXG4gICAgICAgIFNlbmRCdWxsZXRpbj86IGJvb2xlYW47XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5TGFzdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5Rmlyc3ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeVRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeVRpdGxlT2ZDb3VydGVzeT86IHN0cmluZztcclxuICAgICAgICBMYXN0Q29udGFjdGVkQnlCaXJ0aERhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5SGlyZURhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5QWRkcmVzcz86IHN0cmluZztcclxuICAgICAgICBMYXN0Q29udGFjdGVkQnlDaXR5Pzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeVJlZ2lvbj86IHN0cmluZztcclxuICAgICAgICBMYXN0Q29udGFjdGVkQnlQb3N0YWxDb2RlPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeUNvdW50cnk/OiBzdHJpbmc7XHJcbiAgICAgICAgTGFzdENvbnRhY3RlZEJ5SG9tZVBob25lPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeUV4dGVuc2lvbj86IHN0cmluZztcclxuICAgICAgICBMYXN0Q29udGFjdGVkQnlQaG90bz86IG51bWJlcltdO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeU5vdGVzPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeVJlcG9ydHNUbz86IG51bWJlcjtcclxuICAgICAgICBMYXN0Q29udGFjdGVkQnlQaG90b1BhdGg/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBDdXN0b21lckRldGFpbHNSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ0lkJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ0VtYWlsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5DdXN0b21lckRldGFpbHMnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgSWQgPSBcIklkXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0RGF0ZSA9IFwiTGFzdENvbnRhY3REYXRlXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeSA9IFwiTGFzdENvbnRhY3RlZEJ5XCIsXHJcbiAgICAgICAgICAgIEVtYWlsID0gXCJFbWFpbFwiLFxyXG4gICAgICAgICAgICBTZW5kQnVsbGV0aW4gPSBcIlNlbmRCdWxsZXRpblwiLFxyXG4gICAgICAgICAgICBMYXN0Q29udGFjdGVkQnlMYXN0TmFtZSA9IFwiTGFzdENvbnRhY3RlZEJ5TGFzdE5hbWVcIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5Rmlyc3ROYW1lID0gXCJMYXN0Q29udGFjdGVkQnlGaXJzdE5hbWVcIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5VGl0bGUgPSBcIkxhc3RDb250YWN0ZWRCeVRpdGxlXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeVRpdGxlT2ZDb3VydGVzeSA9IFwiTGFzdENvbnRhY3RlZEJ5VGl0bGVPZkNvdXJ0ZXN5XCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeUJpcnRoRGF0ZSA9IFwiTGFzdENvbnRhY3RlZEJ5QmlydGhEYXRlXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeUhpcmVEYXRlID0gXCJMYXN0Q29udGFjdGVkQnlIaXJlRGF0ZVwiLFxyXG4gICAgICAgICAgICBMYXN0Q29udGFjdGVkQnlBZGRyZXNzID0gXCJMYXN0Q29udGFjdGVkQnlBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeUNpdHkgPSBcIkxhc3RDb250YWN0ZWRCeUNpdHlcIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5UmVnaW9uID0gXCJMYXN0Q29udGFjdGVkQnlSZWdpb25cIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5UG9zdGFsQ29kZSA9IFwiTGFzdENvbnRhY3RlZEJ5UG9zdGFsQ29kZVwiLFxyXG4gICAgICAgICAgICBMYXN0Q29udGFjdGVkQnlDb3VudHJ5ID0gXCJMYXN0Q29udGFjdGVkQnlDb3VudHJ5XCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeUhvbWVQaG9uZSA9IFwiTGFzdENvbnRhY3RlZEJ5SG9tZVBob25lXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeUV4dGVuc2lvbiA9IFwiTGFzdENvbnRhY3RlZEJ5RXh0ZW5zaW9uXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeVBob3RvID0gXCJMYXN0Q29udGFjdGVkQnlQaG90b1wiLFxyXG4gICAgICAgICAgICBMYXN0Q29udGFjdGVkQnlOb3RlcyA9IFwiTGFzdENvbnRhY3RlZEJ5Tm90ZXNcIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5UmVwb3J0c1RvID0gXCJMYXN0Q29udGFjdGVkQnlSZXBvcnRzVG9cIixcclxuICAgICAgICAgICAgTGFzdENvbnRhY3RlZEJ5UGhvdG9QYXRoID0gXCJMYXN0Q29udGFjdGVkQnlQaG90b1BhdGhcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyRm9ybSB7XHJcbiAgICAgICAgQ3VzdG9tZXJJRDogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIENvbXBhbnlOYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQ29udGFjdE5hbWU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBDb250YWN0VGl0bGU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBSZXByZXNlbnRhdGl2ZXM6IFNlcmVuaXR5Lkxvb2t1cEVkaXRvcjtcclxuICAgICAgICBBZGRyZXNzOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQ291bnRyeTogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIENpdHk6IFNlcmVuaXR5Lkxvb2t1cEVkaXRvcjtcclxuICAgICAgICBSZWdpb246IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBQb3N0YWxDb2RlOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgUGhvbmU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBGYXg6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBOb3RlTGlzdDogTm90ZXNFZGl0b3I7XHJcbiAgICAgICAgTGFzdENvbnRhY3REYXRlOiBTZXJlbml0eS5EYXRlRWRpdG9yO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeTogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIEVtYWlsOiBTZXJlbml0eS5FbWFpbEVkaXRvcjtcclxuICAgICAgICBTZW5kQnVsbGV0aW46IFNlcmVuaXR5LkJvb2xlYW5FZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbWVyRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTm9ydGh3aW5kLkN1c3RvbWVyJztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFDdXN0b21lckZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIEN1c3RvbWVyRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkxvb2t1cEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MiA9IE5vdGVzRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHczID0gcy5EYXRlRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHc0ID0gcy5FbWFpbEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3NSA9IHMuQm9vbGVhbkVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShDdXN0b21lckZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJJRCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb21wYW55TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb250YWN0TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb250YWN0VGl0bGUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnUmVwcmVzZW50YXRpdmVzJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FkZHJlc3MnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnQ291bnRyeScsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdDaXR5JywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1JlZ2lvbicsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdQb3N0YWxDb2RlJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bob25lJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZheCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdOb3RlTGlzdCcsIHcyLFxyXG4gICAgICAgICAgICAgICAgICAgICdMYXN0Q29udGFjdERhdGUnLCB3MyxcclxuICAgICAgICAgICAgICAgICAgICAnTGFzdENvbnRhY3RlZEJ5JywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0VtYWlsJywgdzQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1NlbmRCdWxsZXRpbicsIHc1XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyR3Jvc3NTYWxlc1JvdyB7XHJcbiAgICAgICAgQ3VzdG9tZXJJZD86IHN0cmluZztcclxuICAgICAgICBDb250YWN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBQcm9kdWN0SWQ/OiBudW1iZXI7XHJcbiAgICAgICAgUHJvZHVjdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgR3Jvc3NBbW91bnQ/OiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBDdXN0b21lckdyb3NzU2FsZXNSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnQ29udGFjdE5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkN1c3RvbWVyR3Jvc3NTYWxlcyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBDdXN0b21lcklkID0gXCJDdXN0b21lcklkXCIsXHJcbiAgICAgICAgICAgIENvbnRhY3ROYW1lID0gXCJDb250YWN0TmFtZVwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0SWQgPSBcIlByb2R1Y3RJZFwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0TmFtZSA9IFwiUHJvZHVjdE5hbWVcIixcclxuICAgICAgICAgICAgR3Jvc3NBbW91bnQgPSBcIkdyb3NzQW1vdW50XCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDdXN0b21lclJlcHJlc2VudGF0aXZlc1JvdyB7XHJcbiAgICAgICAgUmVwcmVzZW50YXRpdmVJZD86IG51bWJlcjtcclxuICAgICAgICBDdXN0b21lcklkPzogbnVtYmVyO1xyXG4gICAgICAgIEVtcGxveWVlSWQ/OiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBDdXN0b21lclJlcHJlc2VudGF0aXZlc1JvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnUmVwcmVzZW50YXRpdmVJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuQ3VzdG9tZXJSZXByZXNlbnRhdGl2ZXMnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpDdXN0b21lcjpWaWV3JztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6Q3VzdG9tZXI6Vmlldyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpDdXN0b21lcjpWaWV3JztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6Q3VzdG9tZXI6Vmlldyc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgUmVwcmVzZW50YXRpdmVJZCA9IFwiUmVwcmVzZW50YXRpdmVJZFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lcklkID0gXCJDdXN0b21lcklkXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlSWQgPSBcIkVtcGxveWVlSWRcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyUm93IHtcclxuICAgICAgICBJRD86IG51bWJlcjtcclxuICAgICAgICBDdXN0b21lcklEPzogc3RyaW5nO1xyXG4gICAgICAgIENvbXBhbnlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIENvbnRhY3ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIENvbnRhY3RUaXRsZT86IHN0cmluZztcclxuICAgICAgICBBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIENpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVnaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ291bnRyeT86IHN0cmluZztcclxuICAgICAgICBQaG9uZT86IHN0cmluZztcclxuICAgICAgICBGYXg/OiBzdHJpbmc7XHJcbiAgICAgICAgTm90ZUxpc3Q/OiBOb3RlUm93W107XHJcbiAgICAgICAgUmVwcmVzZW50YXRpdmVzPzogbnVtYmVyW107XHJcbiAgICAgICAgTGFzdENvbnRhY3REYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIExhc3RDb250YWN0ZWRCeT86IG51bWJlcjtcclxuICAgICAgICBFbWFpbD86IHN0cmluZztcclxuICAgICAgICBTZW5kQnVsbGV0aW4/OiBib29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQ3VzdG9tZXJSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ0lEJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ0NvbXBhbnlOYW1lJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5DdXN0b21lcic7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvb2t1cEtleSA9ICdOb3J0aHdpbmQuQ3VzdG9tZXInO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPEN1c3RvbWVyUm93PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmdldExvb2t1cDxDdXN0b21lclJvdz4oJ05vcnRod2luZC5DdXN0b21lcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6Q3VzdG9tZXI6RGVsZXRlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6Q3VzdG9tZXI6TW9kaWZ5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkN1c3RvbWVyOlZpZXcnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpDdXN0b21lcjpNb2RpZnknO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIElEID0gXCJJRFwiLFxyXG4gICAgICAgICAgICBDdXN0b21lcklEID0gXCJDdXN0b21lcklEXCIsXHJcbiAgICAgICAgICAgIENvbXBhbnlOYW1lID0gXCJDb21wYW55TmFtZVwiLFxyXG4gICAgICAgICAgICBDb250YWN0TmFtZSA9IFwiQ29udGFjdE5hbWVcIixcclxuICAgICAgICAgICAgQ29udGFjdFRpdGxlID0gXCJDb250YWN0VGl0bGVcIixcclxuICAgICAgICAgICAgQWRkcmVzcyA9IFwiQWRkcmVzc1wiLFxyXG4gICAgICAgICAgICBDaXR5ID0gXCJDaXR5XCIsXHJcbiAgICAgICAgICAgIFJlZ2lvbiA9IFwiUmVnaW9uXCIsXHJcbiAgICAgICAgICAgIFBvc3RhbENvZGUgPSBcIlBvc3RhbENvZGVcIixcclxuICAgICAgICAgICAgQ291bnRyeSA9IFwiQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBQaG9uZSA9IFwiUGhvbmVcIixcclxuICAgICAgICAgICAgRmF4ID0gXCJGYXhcIixcclxuICAgICAgICAgICAgTm90ZUxpc3QgPSBcIk5vdGVMaXN0XCIsXHJcbiAgICAgICAgICAgIFJlcHJlc2VudGF0aXZlcyA9IFwiUmVwcmVzZW50YXRpdmVzXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0RGF0ZSA9IFwiTGFzdENvbnRhY3REYXRlXCIsXHJcbiAgICAgICAgICAgIExhc3RDb250YWN0ZWRCeSA9IFwiTGFzdENvbnRhY3RlZEJ5XCIsXHJcbiAgICAgICAgICAgIEVtYWlsID0gXCJFbWFpbFwiLFxyXG4gICAgICAgICAgICBTZW5kQnVsbGV0aW4gPSBcIlNlbmRCdWxsZXRpblwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQ3VzdG9tZXJTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdOb3J0aHdpbmQvQ3VzdG9tZXInO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBDcmVhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8Q3VzdG9tZXJSb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFVwZGF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxDdXN0b21lclJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gRGVsZXRlKHJlcXVlc3Q6IFNlcmVuaXR5LkRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBHZXROZXh0TnVtYmVyKHJlcXVlc3Q6IEdldE5leHROdW1iZXJSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IEdldE5leHROdW1iZXJSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPEN1c3RvbWVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPEN1c3RvbWVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBDcmVhdGUgPSBcIk5vcnRod2luZC9DdXN0b21lci9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJOb3J0aHdpbmQvQ3VzdG9tZXIvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiTm9ydGh3aW5kL0N1c3RvbWVyL0RlbGV0ZVwiLFxyXG4gICAgICAgICAgICBHZXROZXh0TnVtYmVyID0gXCJOb3J0aHdpbmQvQ3VzdG9tZXIvR2V0TmV4dE51bWJlclwiLFxyXG4gICAgICAgICAgICBSZXRyaWV2ZSA9IFwiTm9ydGh3aW5kL0N1c3RvbWVyL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIk5vcnRod2luZC9DdXN0b21lci9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ0dldE5leHROdW1iZXInLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+Q3VzdG9tZXJTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZVJvdyB7XHJcbiAgICAgICAgRW1wbG95ZWVJRD86IG51bWJlcjtcclxuICAgICAgICBMYXN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBGaXJzdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgRnVsbE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgVGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgVGl0bGVPZkNvdXJ0ZXN5Pzogc3RyaW5nO1xyXG4gICAgICAgIEJpcnRoRGF0ZT86IHN0cmluZztcclxuICAgICAgICBIaXJlRGF0ZT86IHN0cmluZztcclxuICAgICAgICBBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIENpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVnaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ291bnRyeT86IHN0cmluZztcclxuICAgICAgICBIb21lUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgRXh0ZW5zaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFBob3RvPzogbnVtYmVyW107XHJcbiAgICAgICAgTm90ZXM/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvPzogbnVtYmVyO1xyXG4gICAgICAgIFBob3RvUGF0aD86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9GdWxsTmFtZT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9MYXN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9GaXJzdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvVGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvVGl0bGVPZkNvdXJ0ZXN5Pzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydHNUb0JpcnRoRGF0ZT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9IaXJlRGF0ZT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9BZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydHNUb0NpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvUmVnaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydHNUb1Bvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvQ291bnRyeT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRzVG9Ib21lUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvRXh0ZW5zaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydHNUb1Bob3RvPzogbnVtYmVyW107XHJcbiAgICAgICAgUmVwb3J0c1RvTm90ZXM/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVwb3J0c1RvUmVwb3J0c1RvPzogbnVtYmVyO1xyXG4gICAgICAgIFJlcG9ydHNUb1Bob3RvUGF0aD86IHN0cmluZztcclxuICAgICAgICBHZW5kZXI/OiBHZW5kZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBFbXBsb3llZVJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnRW1wbG95ZWVJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdGdWxsTmFtZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuRW1wbG95ZWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb29rdXBLZXkgPSAnTm9ydGh3aW5kLkVtcGxveWVlJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGdldExvb2t1cCgpOiBRLkxvb2t1cDxFbXBsb3llZVJvdz4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5nZXRMb29rdXA8RW1wbG95ZWVSb3c+KCdOb3J0aHdpbmQuRW1wbG95ZWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBFbXBsb3llZUlEID0gXCJFbXBsb3llZUlEXCIsXHJcbiAgICAgICAgICAgIExhc3ROYW1lID0gXCJMYXN0TmFtZVwiLFxyXG4gICAgICAgICAgICBGaXJzdE5hbWUgPSBcIkZpcnN0TmFtZVwiLFxyXG4gICAgICAgICAgICBGdWxsTmFtZSA9IFwiRnVsbE5hbWVcIixcclxuICAgICAgICAgICAgVGl0bGUgPSBcIlRpdGxlXCIsXHJcbiAgICAgICAgICAgIFRpdGxlT2ZDb3VydGVzeSA9IFwiVGl0bGVPZkNvdXJ0ZXN5XCIsXHJcbiAgICAgICAgICAgIEJpcnRoRGF0ZSA9IFwiQmlydGhEYXRlXCIsXHJcbiAgICAgICAgICAgIEhpcmVEYXRlID0gXCJIaXJlRGF0ZVwiLFxyXG4gICAgICAgICAgICBBZGRyZXNzID0gXCJBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgIENpdHkgPSBcIkNpdHlcIixcclxuICAgICAgICAgICAgUmVnaW9uID0gXCJSZWdpb25cIixcclxuICAgICAgICAgICAgUG9zdGFsQ29kZSA9IFwiUG9zdGFsQ29kZVwiLFxyXG4gICAgICAgICAgICBDb3VudHJ5ID0gXCJDb3VudHJ5XCIsXHJcbiAgICAgICAgICAgIEhvbWVQaG9uZSA9IFwiSG9tZVBob25lXCIsXHJcbiAgICAgICAgICAgIEV4dGVuc2lvbiA9IFwiRXh0ZW5zaW9uXCIsXHJcbiAgICAgICAgICAgIFBob3RvID0gXCJQaG90b1wiLFxyXG4gICAgICAgICAgICBOb3RlcyA9IFwiTm90ZXNcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvID0gXCJSZXBvcnRzVG9cIixcclxuICAgICAgICAgICAgUGhvdG9QYXRoID0gXCJQaG90b1BhdGhcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvRnVsbE5hbWUgPSBcIlJlcG9ydHNUb0Z1bGxOYW1lXCIsXHJcbiAgICAgICAgICAgIFJlcG9ydHNUb0xhc3ROYW1lID0gXCJSZXBvcnRzVG9MYXN0TmFtZVwiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9GaXJzdE5hbWUgPSBcIlJlcG9ydHNUb0ZpcnN0TmFtZVwiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9UaXRsZSA9IFwiUmVwb3J0c1RvVGl0bGVcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvVGl0bGVPZkNvdXJ0ZXN5ID0gXCJSZXBvcnRzVG9UaXRsZU9mQ291cnRlc3lcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvQmlydGhEYXRlID0gXCJSZXBvcnRzVG9CaXJ0aERhdGVcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvSGlyZURhdGUgPSBcIlJlcG9ydHNUb0hpcmVEYXRlXCIsXHJcbiAgICAgICAgICAgIFJlcG9ydHNUb0FkZHJlc3MgPSBcIlJlcG9ydHNUb0FkZHJlc3NcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvQ2l0eSA9IFwiUmVwb3J0c1RvQ2l0eVwiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9SZWdpb24gPSBcIlJlcG9ydHNUb1JlZ2lvblwiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9Qb3N0YWxDb2RlID0gXCJSZXBvcnRzVG9Qb3N0YWxDb2RlXCIsXHJcbiAgICAgICAgICAgIFJlcG9ydHNUb0NvdW50cnkgPSBcIlJlcG9ydHNUb0NvdW50cnlcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvSG9tZVBob25lID0gXCJSZXBvcnRzVG9Ib21lUGhvbmVcIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvRXh0ZW5zaW9uID0gXCJSZXBvcnRzVG9FeHRlbnNpb25cIixcclxuICAgICAgICAgICAgUmVwb3J0c1RvUGhvdG8gPSBcIlJlcG9ydHNUb1Bob3RvXCIsXHJcbiAgICAgICAgICAgIFJlcG9ydHNUb05vdGVzID0gXCJSZXBvcnRzVG9Ob3Rlc1wiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9SZXBvcnRzVG8gPSBcIlJlcG9ydHNUb1JlcG9ydHNUb1wiLFxyXG4gICAgICAgICAgICBSZXBvcnRzVG9QaG90b1BhdGggPSBcIlJlcG9ydHNUb1Bob3RvUGF0aFwiLFxyXG4gICAgICAgICAgICBHZW5kZXIgPSBcIkdlbmRlclwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRW1wbG95ZWVUZXJyaXRvcnlSb3cge1xyXG4gICAgICAgIEVtcGxveWVlSUQ/OiBudW1iZXI7XHJcbiAgICAgICAgVGVycml0b3J5SUQ/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1wbG95ZWVMYXN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBFbXBsb3llZUZpcnN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBFbXBsb3llZVRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlVGl0bGVPZkNvdXJ0ZXN5Pzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlQmlydGhEYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlSGlyZURhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1wbG95ZWVBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlQ2l0eT86IHN0cmluZztcclxuICAgICAgICBFbXBsb3llZVJlZ2lvbj86IHN0cmluZztcclxuICAgICAgICBFbXBsb3llZVBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1wbG95ZWVDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlSG9tZVBob25lPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlRXh0ZW5zaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlUGhvdG8/OiBudW1iZXJbXTtcclxuICAgICAgICBFbXBsb3llZU5vdGVzPzogc3RyaW5nO1xyXG4gICAgICAgIEVtcGxveWVlUmVwb3J0c1RvPzogbnVtYmVyO1xyXG4gICAgICAgIEVtcGxveWVlUGhvdG9QYXRoPzogc3RyaW5nO1xyXG4gICAgICAgIFRlcnJpdG9yeVRlcnJpdG9yeURlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFRlcnJpdG9yeVJlZ2lvbklEPzogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRW1wbG95ZWVUZXJyaXRvcnlSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ0VtcGxveWVlSUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnVGVycml0b3J5SUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLkVtcGxveWVlVGVycml0b3J5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIEVtcGxveWVlSUQgPSBcIkVtcGxveWVlSURcIixcclxuICAgICAgICAgICAgVGVycml0b3J5SUQgPSBcIlRlcnJpdG9yeUlEXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlTGFzdE5hbWUgPSBcIkVtcGxveWVlTGFzdE5hbWVcIixcclxuICAgICAgICAgICAgRW1wbG95ZWVGaXJzdE5hbWUgPSBcIkVtcGxveWVlRmlyc3ROYW1lXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlVGl0bGUgPSBcIkVtcGxveWVlVGl0bGVcIixcclxuICAgICAgICAgICAgRW1wbG95ZWVUaXRsZU9mQ291cnRlc3kgPSBcIkVtcGxveWVlVGl0bGVPZkNvdXJ0ZXN5XCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlQmlydGhEYXRlID0gXCJFbXBsb3llZUJpcnRoRGF0ZVwiLFxyXG4gICAgICAgICAgICBFbXBsb3llZUhpcmVEYXRlID0gXCJFbXBsb3llZUhpcmVEYXRlXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlQWRkcmVzcyA9IFwiRW1wbG95ZWVBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlQ2l0eSA9IFwiRW1wbG95ZWVDaXR5XCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlUmVnaW9uID0gXCJFbXBsb3llZVJlZ2lvblwiLFxyXG4gICAgICAgICAgICBFbXBsb3llZVBvc3RhbENvZGUgPSBcIkVtcGxveWVlUG9zdGFsQ29kZVwiLFxyXG4gICAgICAgICAgICBFbXBsb3llZUNvdW50cnkgPSBcIkVtcGxveWVlQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBFbXBsb3llZUhvbWVQaG9uZSA9IFwiRW1wbG95ZWVIb21lUGhvbmVcIixcclxuICAgICAgICAgICAgRW1wbG95ZWVFeHRlbnNpb24gPSBcIkVtcGxveWVlRXh0ZW5zaW9uXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlUGhvdG8gPSBcIkVtcGxveWVlUGhvdG9cIixcclxuICAgICAgICAgICAgRW1wbG95ZWVOb3RlcyA9IFwiRW1wbG95ZWVOb3Rlc1wiLFxyXG4gICAgICAgICAgICBFbXBsb3llZVJlcG9ydHNUbyA9IFwiRW1wbG95ZWVSZXBvcnRzVG9cIixcclxuICAgICAgICAgICAgRW1wbG95ZWVQaG90b1BhdGggPSBcIkVtcGxveWVlUGhvdG9QYXRoXCIsXHJcbiAgICAgICAgICAgIFRlcnJpdG9yeVRlcnJpdG9yeURlc2NyaXB0aW9uID0gXCJUZXJyaXRvcnlUZXJyaXRvcnlEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICBUZXJyaXRvcnlSZWdpb25JRCA9IFwiVGVycml0b3J5UmVnaW9uSURcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgZW51bSBHZW5kZXIge1xyXG4gICAgICAgIE1hbGUgPSAxLFxyXG4gICAgICAgIEZlbWFsZSA9IDJcclxuICAgIH1cclxuICAgIFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFbnVtVHlwZShHZW5kZXIsICdTZXJFeHRyYUNvcmUuTm9ydGh3aW5kLkdlbmRlcicsICdTZXJFeHRyYUNvcmUuTm9ydGh3aW5kLkVudGl0aWVzLkdlbmRlcicpO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBOb3RlUm93IHtcclxuICAgICAgICBOb3RlSWQ/OiBudW1iZXI7XHJcbiAgICAgICAgRW50aXR5VHlwZT86IHN0cmluZztcclxuICAgICAgICBFbnRpdHlJZD86IG51bWJlcjtcclxuICAgICAgICBUZXh0Pzogc3RyaW5nO1xyXG4gICAgICAgIEluc2VydFVzZXJJZD86IG51bWJlcjtcclxuICAgICAgICBJbnNlcnREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIEluc2VydFVzZXJEaXNwbGF5TmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIE5vdGVSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ05vdGVJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdFbnRpdHlUeXBlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5Ob3RlJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIE5vdGVJZCA9IFwiTm90ZUlkXCIsXHJcbiAgICAgICAgICAgIEVudGl0eVR5cGUgPSBcIkVudGl0eVR5cGVcIixcclxuICAgICAgICAgICAgRW50aXR5SWQgPSBcIkVudGl0eUlkXCIsXHJcbiAgICAgICAgICAgIFRleHQgPSBcIlRleHRcIixcclxuICAgICAgICAgICAgSW5zZXJ0VXNlcklkID0gXCJJbnNlcnRVc2VySWRcIixcclxuICAgICAgICAgICAgSW5zZXJ0RGF0ZSA9IFwiSW5zZXJ0RGF0ZVwiLFxyXG4gICAgICAgICAgICBJbnNlcnRVc2VyRGlzcGxheU5hbWUgPSBcIkluc2VydFVzZXJEaXNwbGF5TmFtZVwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9yZGVyRGV0YWlsRm9ybSB7XHJcbiAgICAgICAgUHJvZHVjdElEOiBTZXJlbml0eS5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgVW5pdFByaWNlOiBTZXJlbml0eS5EZWNpbWFsRWRpdG9yO1xyXG4gICAgICAgIFF1YW50aXR5OiBTZXJlbml0eS5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgICAgIERpc2NvdW50OiBTZXJlbml0eS5EZWNpbWFsRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBPcmRlckRldGFpbEZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ05vcnRod2luZC5PcmRlckRldGFpbCc7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghT3JkZXJEZXRhaWxGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBPcmRlckRldGFpbEZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IHMuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcxID0gcy5EZWNpbWFsRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcyID0gcy5JbnRlZ2VyRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKE9yZGVyRGV0YWlsRm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdQcm9kdWN0SUQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnVW5pdFByaWNlJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1F1YW50aXR5JywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0Rpc2NvdW50JywgdzFcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgT3JkZXJEZXRhaWxSb3cge1xyXG4gICAgICAgIERldGFpbElEPzogbnVtYmVyO1xyXG4gICAgICAgIE9yZGVySUQ/OiBudW1iZXI7XHJcbiAgICAgICAgUHJvZHVjdElEPzogbnVtYmVyO1xyXG4gICAgICAgIFVuaXRQcmljZT86IG51bWJlcjtcclxuICAgICAgICBRdWFudGl0eT86IG51bWJlcjtcclxuICAgICAgICBEaXNjb3VudD86IG51bWJlcjtcclxuICAgICAgICBPcmRlckN1c3RvbWVySUQ/OiBzdHJpbmc7XHJcbiAgICAgICAgT3JkZXJFbXBsb3llZUlEPzogbnVtYmVyO1xyXG4gICAgICAgIE9yZGVyRGF0ZT86IHN0cmluZztcclxuICAgICAgICBPcmRlclNoaXBwZWREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIE9yZGVyU2hpcFZpYT86IG51bWJlcjtcclxuICAgICAgICBPcmRlclNoaXBDaXR5Pzogc3RyaW5nO1xyXG4gICAgICAgIE9yZGVyU2hpcENvdW50cnk/OiBzdHJpbmc7XHJcbiAgICAgICAgUHJvZHVjdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgUHJvZHVjdERpc2NvbnRpbnVlZD86IGJvb2xlYW47XHJcbiAgICAgICAgUHJvZHVjdFN1cHBsaWVySUQ/OiBudW1iZXI7XHJcbiAgICAgICAgUHJvZHVjdFF1YW50aXR5UGVyVW5pdD86IHN0cmluZztcclxuICAgICAgICBQcm9kdWN0VW5pdFByaWNlPzogbnVtYmVyO1xyXG4gICAgICAgIExpbmVUb3RhbD86IG51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIE9yZGVyRGV0YWlsUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdEZXRhaWxJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuT3JkZXJEZXRhaWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgRGV0YWlsSUQgPSBcIkRldGFpbElEXCIsXHJcbiAgICAgICAgICAgIE9yZGVySUQgPSBcIk9yZGVySURcIixcclxuICAgICAgICAgICAgUHJvZHVjdElEID0gXCJQcm9kdWN0SURcIixcclxuICAgICAgICAgICAgVW5pdFByaWNlID0gXCJVbml0UHJpY2VcIixcclxuICAgICAgICAgICAgUXVhbnRpdHkgPSBcIlF1YW50aXR5XCIsXHJcbiAgICAgICAgICAgIERpc2NvdW50ID0gXCJEaXNjb3VudFwiLFxyXG4gICAgICAgICAgICBPcmRlckN1c3RvbWVySUQgPSBcIk9yZGVyQ3VzdG9tZXJJRFwiLFxyXG4gICAgICAgICAgICBPcmRlckVtcGxveWVlSUQgPSBcIk9yZGVyRW1wbG95ZWVJRFwiLFxyXG4gICAgICAgICAgICBPcmRlckRhdGUgPSBcIk9yZGVyRGF0ZVwiLFxyXG4gICAgICAgICAgICBPcmRlclNoaXBwZWREYXRlID0gXCJPcmRlclNoaXBwZWREYXRlXCIsXHJcbiAgICAgICAgICAgIE9yZGVyU2hpcFZpYSA9IFwiT3JkZXJTaGlwVmlhXCIsXHJcbiAgICAgICAgICAgIE9yZGVyU2hpcENpdHkgPSBcIk9yZGVyU2hpcENpdHlcIixcclxuICAgICAgICAgICAgT3JkZXJTaGlwQ291bnRyeSA9IFwiT3JkZXJTaGlwQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0TmFtZSA9IFwiUHJvZHVjdE5hbWVcIixcclxuICAgICAgICAgICAgUHJvZHVjdERpc2NvbnRpbnVlZCA9IFwiUHJvZHVjdERpc2NvbnRpbnVlZFwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0U3VwcGxpZXJJRCA9IFwiUHJvZHVjdFN1cHBsaWVySURcIixcclxuICAgICAgICAgICAgUHJvZHVjdFF1YW50aXR5UGVyVW5pdCA9IFwiUHJvZHVjdFF1YW50aXR5UGVyVW5pdFwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0VW5pdFByaWNlID0gXCJQcm9kdWN0VW5pdFByaWNlXCIsXHJcbiAgICAgICAgICAgIExpbmVUb3RhbCA9IFwiTGluZVRvdGFsXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBPcmRlckRldGFpbFNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ05vcnRod2luZC9PcmRlckRldGFpbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPE9yZGVyRGV0YWlsUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPE9yZGVyRGV0YWlsUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBSZXRyaWV2ZSA9IFwiTm9ydGh3aW5kL09yZGVyRGV0YWlsL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIk5vcnRod2luZC9PcmRlckRldGFpbC9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+T3JkZXJEZXRhaWxTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBPcmRlckZvcm0ge1xyXG4gICAgICAgIEN1c3RvbWVySUQ6IEN1c3RvbWVyRWRpdG9yO1xyXG4gICAgICAgIE9yZGVyRGF0ZTogU2VyZW5pdHkuRGF0ZUVkaXRvcjtcclxuICAgICAgICBSZXF1aXJlZERhdGU6IFNlcmVuaXR5LkRhdGVFZGl0b3I7XHJcbiAgICAgICAgRW1wbG95ZWVJRDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIERldGFpbExpc3Q6IE9yZGVyRGV0YWlsc0VkaXRvcjtcclxuICAgICAgICBTaGlwcGVkRGF0ZTogU2VyZW5pdHkuRGF0ZUVkaXRvcjtcclxuICAgICAgICBTaGlwVmlhOiBTZXJlbml0eS5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgRnJlaWdodDogU2VyZW5pdHkuRGVjaW1hbEVkaXRvcjtcclxuICAgICAgICBTaGlwTmFtZTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIFNoaXBBZGRyZXNzOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgU2hpcENpdHk6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBTaGlwUmVnaW9uOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgU2hpcFBvc3RhbENvZGU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBTaGlwQ291bnRyeTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBPcmRlckZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ05vcnRod2luZC5PcmRlcic7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghT3JkZXJGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBPcmRlckZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IEN1c3RvbWVyRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcxID0gcy5EYXRlRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcyID0gcy5Mb29rdXBFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzMgPSBPcmRlckRldGFpbHNFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzQgPSBzLkRlY2ltYWxFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzUgPSBzLlN0cmluZ0VkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShPcmRlckZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ3VzdG9tZXJJRCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdPcmRlckRhdGUnLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnUmVxdWlyZWREYXRlJywgdzEsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0VtcGxveWVlSUQnLCB3MixcclxuICAgICAgICAgICAgICAgICAgICAnRGV0YWlsTGlzdCcsIHczLFxyXG4gICAgICAgICAgICAgICAgICAgICdTaGlwcGVkRGF0ZScsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdTaGlwVmlhJywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZyZWlnaHQnLCB3NCxcclxuICAgICAgICAgICAgICAgICAgICAnU2hpcE5hbWUnLCB3NSxcclxuICAgICAgICAgICAgICAgICAgICAnU2hpcEFkZHJlc3MnLCB3NSxcclxuICAgICAgICAgICAgICAgICAgICAnU2hpcENpdHknLCB3NSxcclxuICAgICAgICAgICAgICAgICAgICAnU2hpcFJlZ2lvbicsIHc1LFxyXG4gICAgICAgICAgICAgICAgICAgICdTaGlwUG9zdGFsQ29kZScsIHc1LFxyXG4gICAgICAgICAgICAgICAgICAgICdTaGlwQ291bnRyeScsIHc1XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9yZGVyTGlzdFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5MaXN0UmVxdWVzdCB7XHJcbiAgICAgICAgUHJvZHVjdElEPzogbnVtYmVyO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9yZGVyUm93IHtcclxuICAgICAgICBPcmRlcklEPzogbnVtYmVyO1xyXG4gICAgICAgIEN1c3RvbWVySUQ/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1wbG95ZWVJRD86IG51bWJlcjtcclxuICAgICAgICBPcmRlckRhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVxdWlyZWREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIFNoaXBwZWREYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIFNoaXBWaWE/OiBudW1iZXI7XHJcbiAgICAgICAgRnJlaWdodD86IG51bWJlcjtcclxuICAgICAgICBTaGlwTmFtZT86IHN0cmluZztcclxuICAgICAgICBTaGlwQWRkcmVzcz86IHN0cmluZztcclxuICAgICAgICBTaGlwQ2l0eT86IHN0cmluZztcclxuICAgICAgICBTaGlwUmVnaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFNoaXBQb3N0YWxDb2RlPzogc3RyaW5nO1xyXG4gICAgICAgIFNoaXBDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgICAgIEN1c3RvbWVyQ29tcGFueU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJDb250YWN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lckNvbnRhY3RUaXRsZT86IHN0cmluZztcclxuICAgICAgICBDdXN0b21lckNpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJSZWdpb24/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgICAgIEN1c3RvbWVyUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ3VzdG9tZXJGYXg/OiBzdHJpbmc7XHJcbiAgICAgICAgRW1wbG95ZWVGdWxsTmFtZT86IHN0cmluZztcclxuICAgICAgICBFbXBsb3llZUdlbmRlcj86IEdlbmRlcjtcclxuICAgICAgICBFbXBsb3llZVJlcG9ydHNUb0Z1bGxOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFNoaXBWaWFDb21wYW55TmFtZT86IHN0cmluZztcclxuICAgICAgICBTaGlwVmlhUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgU2hpcHBpbmdTdGF0ZT86IE9yZGVyU2hpcHBpbmdTdGF0ZTtcclxuICAgICAgICBEZXRhaWxMaXN0PzogT3JkZXJEZXRhaWxSb3dbXTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIE9yZGVyUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdPcmRlcklEJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ0N1c3RvbWVySUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLk9yZGVyJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIE9yZGVySUQgPSBcIk9yZGVySURcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJJRCA9IFwiQ3VzdG9tZXJJRFwiLFxyXG4gICAgICAgICAgICBFbXBsb3llZUlEID0gXCJFbXBsb3llZUlEXCIsXHJcbiAgICAgICAgICAgIE9yZGVyRGF0ZSA9IFwiT3JkZXJEYXRlXCIsXHJcbiAgICAgICAgICAgIFJlcXVpcmVkRGF0ZSA9IFwiUmVxdWlyZWREYXRlXCIsXHJcbiAgICAgICAgICAgIFNoaXBwZWREYXRlID0gXCJTaGlwcGVkRGF0ZVwiLFxyXG4gICAgICAgICAgICBTaGlwVmlhID0gXCJTaGlwVmlhXCIsXHJcbiAgICAgICAgICAgIEZyZWlnaHQgPSBcIkZyZWlnaHRcIixcclxuICAgICAgICAgICAgU2hpcE5hbWUgPSBcIlNoaXBOYW1lXCIsXHJcbiAgICAgICAgICAgIFNoaXBBZGRyZXNzID0gXCJTaGlwQWRkcmVzc1wiLFxyXG4gICAgICAgICAgICBTaGlwQ2l0eSA9IFwiU2hpcENpdHlcIixcclxuICAgICAgICAgICAgU2hpcFJlZ2lvbiA9IFwiU2hpcFJlZ2lvblwiLFxyXG4gICAgICAgICAgICBTaGlwUG9zdGFsQ29kZSA9IFwiU2hpcFBvc3RhbENvZGVcIixcclxuICAgICAgICAgICAgU2hpcENvdW50cnkgPSBcIlNoaXBDb3VudHJ5XCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyQ29tcGFueU5hbWUgPSBcIkN1c3RvbWVyQ29tcGFueU5hbWVcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJDb250YWN0TmFtZSA9IFwiQ3VzdG9tZXJDb250YWN0TmFtZVwiLFxyXG4gICAgICAgICAgICBDdXN0b21lckNvbnRhY3RUaXRsZSA9IFwiQ3VzdG9tZXJDb250YWN0VGl0bGVcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJDaXR5ID0gXCJDdXN0b21lckNpdHlcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJSZWdpb24gPSBcIkN1c3RvbWVyUmVnaW9uXCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyQ291bnRyeSA9IFwiQ3VzdG9tZXJDb3VudHJ5XCIsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyUGhvbmUgPSBcIkN1c3RvbWVyUGhvbmVcIixcclxuICAgICAgICAgICAgQ3VzdG9tZXJGYXggPSBcIkN1c3RvbWVyRmF4XCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlRnVsbE5hbWUgPSBcIkVtcGxveWVlRnVsbE5hbWVcIixcclxuICAgICAgICAgICAgRW1wbG95ZWVHZW5kZXIgPSBcIkVtcGxveWVlR2VuZGVyXCIsXHJcbiAgICAgICAgICAgIEVtcGxveWVlUmVwb3J0c1RvRnVsbE5hbWUgPSBcIkVtcGxveWVlUmVwb3J0c1RvRnVsbE5hbWVcIixcclxuICAgICAgICAgICAgU2hpcFZpYUNvbXBhbnlOYW1lID0gXCJTaGlwVmlhQ29tcGFueU5hbWVcIixcclxuICAgICAgICAgICAgU2hpcFZpYVBob25lID0gXCJTaGlwVmlhUGhvbmVcIixcclxuICAgICAgICAgICAgU2hpcHBpbmdTdGF0ZSA9IFwiU2hpcHBpbmdTdGF0ZVwiLFxyXG4gICAgICAgICAgICBEZXRhaWxMaXN0ID0gXCJEZXRhaWxMaXN0XCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBPcmRlclNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ05vcnRod2luZC9PcmRlcic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxPcmRlclJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gVXBkYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PE9yZGVyUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPE9yZGVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogT3JkZXJMaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8T3JkZXJSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL09yZGVyL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIk5vcnRod2luZC9PcmRlci9VcGRhdGVcIixcclxuICAgICAgICAgICAgRGVsZXRlID0gXCJOb3J0aHdpbmQvT3JkZXIvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvT3JkZXIvUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiTm9ydGh3aW5kL09yZGVyL0xpc3RcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnQ3JlYXRlJywgXHJcbiAgICAgICAgICAgICdVcGRhdGUnLCBcclxuICAgICAgICAgICAgJ0RlbGV0ZScsIFxyXG4gICAgICAgICAgICAnUmV0cmlldmUnLCBcclxuICAgICAgICAgICAgJ0xpc3QnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5PcmRlclNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgZW51bSBPcmRlclNoaXBwaW5nU3RhdGUge1xyXG4gICAgICAgIE5vdFNoaXBwZWQgPSAwLFxyXG4gICAgICAgIFNoaXBwZWQgPSAxXHJcbiAgICB9XHJcbiAgICBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyRW51bVR5cGUoT3JkZXJTaGlwcGluZ1N0YXRlLCAnU2VyRXh0cmFDb3JlLk5vcnRod2luZC5PcmRlclNoaXBwaW5nU3RhdGUnLCAnTm9ydGh3aW5kLk9yZGVyU2hpcHBpbmdTdGF0ZScpO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGRlY2xhcmUgbmFtZXNwYWNlIFBlcm1pc3Npb25LZXlzIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgR2VuZXJhbCA9IFwiTm9ydGh3aW5kOkdlbmVyYWxcIjtcclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIEN1c3RvbWVyIHtcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERlbGV0ZSA9IFwiTm9ydGh3aW5kOkN1c3RvbWVyOkRlbGV0ZVwiO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgTW9kaWZ5ID0gXCJOb3J0aHdpbmQ6Q3VzdG9tZXI6TW9kaWZ5XCI7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBWaWV3ID0gXCJOb3J0aHdpbmQ6Q3VzdG9tZXI6Vmlld1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdEZvcm0ge1xyXG4gICAgICAgIFByb2R1Y3ROYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgUHJvZHVjdEltYWdlOiBTZXJlbml0eS5JbWFnZVVwbG9hZEVkaXRvcjtcclxuICAgICAgICBEaXNjb250aW51ZWQ6IFNlcmVuaXR5LkJvb2xlYW5FZGl0b3I7XHJcbiAgICAgICAgU3VwcGxpZXJJRDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIENhdGVnb3J5SUQ6IFNlcmVuaXR5Lkxvb2t1cEVkaXRvcjtcclxuICAgICAgICBRdWFudGl0eVBlclVuaXQ6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBVbml0UHJpY2U6IFNlcmVuaXR5LkRlY2ltYWxFZGl0b3I7XHJcbiAgICAgICAgVW5pdHNJblN0b2NrOiBTZXJlbml0eS5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgICAgIFVuaXRzT25PcmRlcjogU2VyZW5pdHkuSW50ZWdlckVkaXRvcjtcclxuICAgICAgICBSZW9yZGVyTGV2ZWw6IFNlcmVuaXR5LkludGVnZXJFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFByb2R1Y3RGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdOb3J0aHdpbmQuUHJvZHVjdCc7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghUHJvZHVjdEZvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIFByb2R1Y3RGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MSA9IHMuSW1hZ2VVcGxvYWRFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzIgPSBzLkJvb2xlYW5FZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzMgPSBzLkxvb2t1cEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3NCA9IHMuRGVjaW1hbEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3NSA9IHMuSW50ZWdlckVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShQcm9kdWN0Rm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdQcm9kdWN0TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdQcm9kdWN0SW1hZ2UnLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnRGlzY29udGludWVkJywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1N1cHBsaWVySUQnLCB3MyxcclxuICAgICAgICAgICAgICAgICAgICAnQ2F0ZWdvcnlJRCcsIHczLFxyXG4gICAgICAgICAgICAgICAgICAgICdRdWFudGl0eVBlclVuaXQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnVW5pdFByaWNlJywgdzQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1VuaXRzSW5TdG9jaycsIHc1LFxyXG4gICAgICAgICAgICAgICAgICAgICdVbml0c09uT3JkZXInLCB3NSxcclxuICAgICAgICAgICAgICAgICAgICAnUmVvcmRlckxldmVsJywgdzVcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdExhbmdSb3cge1xyXG4gICAgICAgIElkPzogbnVtYmVyO1xyXG4gICAgICAgIFByb2R1Y3RJZD86IG51bWJlcjtcclxuICAgICAgICBMYW5ndWFnZUlkPzogbnVtYmVyO1xyXG4gICAgICAgIFByb2R1Y3ROYW1lPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUHJvZHVjdExhbmdSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ0lkJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ1Byb2R1Y3ROYW1lJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5Qcm9kdWN0TGFuZyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBJZCA9IFwiSWRcIixcclxuICAgICAgICAgICAgUHJvZHVjdElkID0gXCJQcm9kdWN0SWRcIixcclxuICAgICAgICAgICAgTGFuZ3VhZ2VJZCA9IFwiTGFuZ3VhZ2VJZFwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0TmFtZSA9IFwiUHJvZHVjdE5hbWVcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFByb2R1Y3RMYW5nU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnTm9ydGh3aW5kL1Byb2R1Y3RMYW5nJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gQ3JlYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PFByb2R1Y3RMYW5nUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8UHJvZHVjdExhbmdSb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIERlbGV0ZShyZXF1ZXN0OiBTZXJlbml0eS5EZWxldGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gUmV0cmlldmUocmVxdWVzdDogU2VyZW5pdHkuUmV0cmlldmVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8UHJvZHVjdExhbmdSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBTZXJlbml0eS5MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8UHJvZHVjdExhbmdSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL1Byb2R1Y3RMYW5nL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIk5vcnRod2luZC9Qcm9kdWN0TGFuZy9VcGRhdGVcIixcclxuICAgICAgICAgICAgRGVsZXRlID0gXCJOb3J0aHdpbmQvUHJvZHVjdExhbmcvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvUHJvZHVjdExhbmcvUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiTm9ydGh3aW5kL1Byb2R1Y3RMYW5nL0xpc3RcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnQ3JlYXRlJywgXHJcbiAgICAgICAgICAgICdVcGRhdGUnLCBcclxuICAgICAgICAgICAgJ0RlbGV0ZScsIFxyXG4gICAgICAgICAgICAnUmV0cmlldmUnLCBcclxuICAgICAgICAgICAgJ0xpc3QnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5Qcm9kdWN0TGFuZ1NlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RMb2dSb3cge1xyXG4gICAgICAgIFByb2R1Y3RMb2dJRD86IG51bWJlcjtcclxuICAgICAgICBPcGVyYXRpb25UeXBlPzogU2VyZW5pdHkuQ2FwdHVyZU9wZXJhdGlvblR5cGU7XHJcbiAgICAgICAgQ2hhbmdpbmdVc2VySWQ/OiBudW1iZXI7XHJcbiAgICAgICAgVmFsaWRGcm9tPzogc3RyaW5nO1xyXG4gICAgICAgIFZhbGlkVW50aWw/OiBzdHJpbmc7XHJcbiAgICAgICAgUHJvZHVjdElEPzogbnVtYmVyO1xyXG4gICAgICAgIFByb2R1Y3ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFByb2R1Y3RJbWFnZT86IHN0cmluZztcclxuICAgICAgICBEaXNjb250aW51ZWQ/OiBib29sZWFuO1xyXG4gICAgICAgIFN1cHBsaWVySUQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ2F0ZWdvcnlJRD86IG51bWJlcjtcclxuICAgICAgICBRdWFudGl0eVBlclVuaXQ/OiBzdHJpbmc7XHJcbiAgICAgICAgVW5pdFByaWNlPzogbnVtYmVyO1xyXG4gICAgICAgIFVuaXRzSW5TdG9jaz86IG51bWJlcjtcclxuICAgICAgICBVbml0c09uT3JkZXI/OiBudW1iZXI7XHJcbiAgICAgICAgUmVvcmRlckxldmVsPzogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUHJvZHVjdExvZ1JvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnUHJvZHVjdExvZ0lEJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5Qcm9kdWN0TG9nJztcclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSBudWxsO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICcnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBQcm9kdWN0TG9nSUQgPSBcIlByb2R1Y3RMb2dJRFwiLFxyXG4gICAgICAgICAgICBPcGVyYXRpb25UeXBlID0gXCJPcGVyYXRpb25UeXBlXCIsXHJcbiAgICAgICAgICAgIENoYW5naW5nVXNlcklkID0gXCJDaGFuZ2luZ1VzZXJJZFwiLFxyXG4gICAgICAgICAgICBWYWxpZEZyb20gPSBcIlZhbGlkRnJvbVwiLFxyXG4gICAgICAgICAgICBWYWxpZFVudGlsID0gXCJWYWxpZFVudGlsXCIsXHJcbiAgICAgICAgICAgIFByb2R1Y3RJRCA9IFwiUHJvZHVjdElEXCIsXHJcbiAgICAgICAgICAgIFByb2R1Y3ROYW1lID0gXCJQcm9kdWN0TmFtZVwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0SW1hZ2UgPSBcIlByb2R1Y3RJbWFnZVwiLFxyXG4gICAgICAgICAgICBEaXNjb250aW51ZWQgPSBcIkRpc2NvbnRpbnVlZFwiLFxyXG4gICAgICAgICAgICBTdXBwbGllcklEID0gXCJTdXBwbGllcklEXCIsXHJcbiAgICAgICAgICAgIENhdGVnb3J5SUQgPSBcIkNhdGVnb3J5SURcIixcclxuICAgICAgICAgICAgUXVhbnRpdHlQZXJVbml0ID0gXCJRdWFudGl0eVBlclVuaXRcIixcclxuICAgICAgICAgICAgVW5pdFByaWNlID0gXCJVbml0UHJpY2VcIixcclxuICAgICAgICAgICAgVW5pdHNJblN0b2NrID0gXCJVbml0c0luU3RvY2tcIixcclxuICAgICAgICAgICAgVW5pdHNPbk9yZGVyID0gXCJVbml0c09uT3JkZXJcIixcclxuICAgICAgICAgICAgUmVvcmRlckxldmVsID0gXCJSZW9yZGVyTGV2ZWxcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RSb3cge1xyXG4gICAgICAgIFByb2R1Y3RJRD86IG51bWJlcjtcclxuICAgICAgICBQcm9kdWN0TmFtZT86IHN0cmluZztcclxuICAgICAgICBQcm9kdWN0SW1hZ2U/OiBzdHJpbmc7XHJcbiAgICAgICAgRGlzY29udGludWVkPzogYm9vbGVhbjtcclxuICAgICAgICBTdXBwbGllcklEPzogbnVtYmVyO1xyXG4gICAgICAgIENhdGVnb3J5SUQ/OiBudW1iZXI7XHJcbiAgICAgICAgUXVhbnRpdHlQZXJVbml0Pzogc3RyaW5nO1xyXG4gICAgICAgIFVuaXRQcmljZT86IG51bWJlcjtcclxuICAgICAgICBVbml0c0luU3RvY2s/OiBudW1iZXI7XHJcbiAgICAgICAgVW5pdHNPbk9yZGVyPzogbnVtYmVyO1xyXG4gICAgICAgIFJlb3JkZXJMZXZlbD86IG51bWJlcjtcclxuICAgICAgICBTdXBwbGllckNvbXBhbnlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFN1cHBsaWVyQ29udGFjdE5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VwcGxpZXJDb250YWN0VGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VwcGxpZXJBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIFN1cHBsaWVyQ2l0eT86IHN0cmluZztcclxuICAgICAgICBTdXBwbGllclJlZ2lvbj86IHN0cmluZztcclxuICAgICAgICBTdXBwbGllclBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VwcGxpZXJDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgICAgIFN1cHBsaWVyUGhvbmU/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VwcGxpZXJGYXg/OiBzdHJpbmc7XHJcbiAgICAgICAgU3VwcGxpZXJIb21lUGFnZT86IHN0cmluZztcclxuICAgICAgICBDYXRlZ29yeU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ2F0ZWdvcnlEZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgICAgICBDYXRlZ29yeVBpY3R1cmU/OiBudW1iZXJbXTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFByb2R1Y3RSb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ1Byb2R1Y3RJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdQcm9kdWN0TmFtZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuUHJvZHVjdCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvb2t1cEtleSA9ICdOb3J0aHdpbmQuUHJvZHVjdCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRMb29rdXAoKTogUS5Mb29rdXA8UHJvZHVjdFJvdz4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5nZXRMb29rdXA8UHJvZHVjdFJvdz4oJ05vcnRod2luZC5Qcm9kdWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgUHJvZHVjdElEID0gXCJQcm9kdWN0SURcIixcclxuICAgICAgICAgICAgUHJvZHVjdE5hbWUgPSBcIlByb2R1Y3ROYW1lXCIsXHJcbiAgICAgICAgICAgIFByb2R1Y3RJbWFnZSA9IFwiUHJvZHVjdEltYWdlXCIsXHJcbiAgICAgICAgICAgIERpc2NvbnRpbnVlZCA9IFwiRGlzY29udGludWVkXCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVySUQgPSBcIlN1cHBsaWVySURcIixcclxuICAgICAgICAgICAgQ2F0ZWdvcnlJRCA9IFwiQ2F0ZWdvcnlJRFwiLFxyXG4gICAgICAgICAgICBRdWFudGl0eVBlclVuaXQgPSBcIlF1YW50aXR5UGVyVW5pdFwiLFxyXG4gICAgICAgICAgICBVbml0UHJpY2UgPSBcIlVuaXRQcmljZVwiLFxyXG4gICAgICAgICAgICBVbml0c0luU3RvY2sgPSBcIlVuaXRzSW5TdG9ja1wiLFxyXG4gICAgICAgICAgICBVbml0c09uT3JkZXIgPSBcIlVuaXRzT25PcmRlclwiLFxyXG4gICAgICAgICAgICBSZW9yZGVyTGV2ZWwgPSBcIlJlb3JkZXJMZXZlbFwiLFxyXG4gICAgICAgICAgICBTdXBwbGllckNvbXBhbnlOYW1lID0gXCJTdXBwbGllckNvbXBhbnlOYW1lXCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVyQ29udGFjdE5hbWUgPSBcIlN1cHBsaWVyQ29udGFjdE5hbWVcIixcclxuICAgICAgICAgICAgU3VwcGxpZXJDb250YWN0VGl0bGUgPSBcIlN1cHBsaWVyQ29udGFjdFRpdGxlXCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVyQWRkcmVzcyA9IFwiU3VwcGxpZXJBZGRyZXNzXCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVyQ2l0eSA9IFwiU3VwcGxpZXJDaXR5XCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVyUmVnaW9uID0gXCJTdXBwbGllclJlZ2lvblwiLFxyXG4gICAgICAgICAgICBTdXBwbGllclBvc3RhbENvZGUgPSBcIlN1cHBsaWVyUG9zdGFsQ29kZVwiLFxyXG4gICAgICAgICAgICBTdXBwbGllckNvdW50cnkgPSBcIlN1cHBsaWVyQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBTdXBwbGllclBob25lID0gXCJTdXBwbGllclBob25lXCIsXHJcbiAgICAgICAgICAgIFN1cHBsaWVyRmF4ID0gXCJTdXBwbGllckZheFwiLFxyXG4gICAgICAgICAgICBTdXBwbGllckhvbWVQYWdlID0gXCJTdXBwbGllckhvbWVQYWdlXCIsXHJcbiAgICAgICAgICAgIENhdGVnb3J5TmFtZSA9IFwiQ2F0ZWdvcnlOYW1lXCIsXHJcbiAgICAgICAgICAgIENhdGVnb3J5RGVzY3JpcHRpb24gPSBcIkNhdGVnb3J5RGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgQ2F0ZWdvcnlQaWN0dXJlID0gXCJDYXRlZ29yeVBpY3R1cmVcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFByb2R1Y3RTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdOb3J0aHdpbmQvUHJvZHVjdCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxQcm9kdWN0Um93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8UHJvZHVjdFJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gRGVsZXRlKHJlcXVlc3Q6IFNlcmVuaXR5LkRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBSZXRyaWV2ZShyZXF1ZXN0OiBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxQcm9kdWN0Um93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFByb2R1Y3RSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL1Byb2R1Y3QvQ3JlYXRlXCIsXHJcbiAgICAgICAgICAgIFVwZGF0ZSA9IFwiTm9ydGh3aW5kL1Byb2R1Y3QvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiTm9ydGh3aW5kL1Byb2R1Y3QvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvUHJvZHVjdC9SZXRyaWV2ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJOb3J0aHdpbmQvUHJvZHVjdC9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+UHJvZHVjdFNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVnaW9uRm9ybSB7XHJcbiAgICAgICAgUmVnaW9uSUQ6IFNlcmVuaXR5LkludGVnZXJFZGl0b3I7XHJcbiAgICAgICAgUmVnaW9uRGVzY3JpcHRpb246IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUmVnaW9uRm9ybSBleHRlbmRzIFNlcmVuaXR5LlByZWZpeGVkQ29udGV4dCB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1LZXkgPSAnTm9ydGh3aW5kLlJlZ2lvbic7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJlZml4OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIocHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghUmVnaW9uRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgUmVnaW9uRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcxID0gcy5TdHJpbmdFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoUmVnaW9uRm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdSZWdpb25JRCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdSZWdpb25EZXNjcmlwdGlvbicsIHcxXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFJlZ2lvblJvdyB7XHJcbiAgICAgICAgUmVnaW9uSUQ/OiBudW1iZXI7XHJcbiAgICAgICAgUmVnaW9uRGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBSZWdpb25Sb3cge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpZFByb3BlcnR5ID0gJ1JlZ2lvbklEJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbmFtZVByb3BlcnR5ID0gJ1JlZ2lvbkRlc2NyaXB0aW9uJztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9jYWxUZXh0UHJlZml4ID0gJ05vcnRod2luZC5SZWdpb24nO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb29rdXBLZXkgPSAnTm9ydGh3aW5kLlJlZ2lvbic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRMb29rdXAoKTogUS5Mb29rdXA8UmVnaW9uUm93PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmdldExvb2t1cDxSZWdpb25Sb3c+KCdOb3J0aHdpbmQuUmVnaW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cG9ydCBjb25zdCBkZWxldGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgaW5zZXJ0UGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHJlYWRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgdXBkYXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gRmllbGRzIHtcclxuICAgICAgICAgICAgUmVnaW9uSUQgPSBcIlJlZ2lvbklEXCIsXHJcbiAgICAgICAgICAgIFJlZ2lvbkRlc2NyaXB0aW9uID0gXCJSZWdpb25EZXNjcmlwdGlvblwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUmVnaW9uU2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnTm9ydGh3aW5kL1JlZ2lvbic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxSZWdpb25Sb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFVwZGF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxSZWdpb25Sb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIERlbGV0ZShyZXF1ZXN0OiBTZXJlbml0eS5EZWxldGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gUmV0cmlldmUocmVxdWVzdDogU2VyZW5pdHkuUmV0cmlldmVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8UmVnaW9uUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFJlZ2lvblJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgQ3JlYXRlID0gXCJOb3J0aHdpbmQvUmVnaW9uL0NyZWF0ZVwiLFxyXG4gICAgICAgICAgICBVcGRhdGUgPSBcIk5vcnRod2luZC9SZWdpb24vVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiTm9ydGh3aW5kL1JlZ2lvbi9EZWxldGVcIixcclxuICAgICAgICAgICAgUmV0cmlldmUgPSBcIk5vcnRod2luZC9SZWdpb24vUmV0cmlldmVcIixcclxuICAgICAgICAgICAgTGlzdCA9IFwiTm9ydGh3aW5kL1JlZ2lvbi9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+UmVnaW9uU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxufVxyXG5cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTYWxlc0J5Q2F0ZWdvcnlSb3cge1xyXG4gICAgICAgIENhdGVnb3J5SWQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ2F0ZWdvcnlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFByb2R1Y3ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFByb2R1Y3RTYWxlcz86IG51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFNhbGVzQnlDYXRlZ29yeVJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdDYXRlZ29yeU5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBDYXRlZ29yeUlkID0gXCJDYXRlZ29yeUlkXCIsXHJcbiAgICAgICAgICAgIENhdGVnb3J5TmFtZSA9IFwiQ2F0ZWdvcnlOYW1lXCIsXHJcbiAgICAgICAgICAgIFByb2R1Y3ROYW1lID0gXCJQcm9kdWN0TmFtZVwiLFxyXG4gICAgICAgICAgICBQcm9kdWN0U2FsZXMgPSBcIlByb2R1Y3RTYWxlc1wiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgU2FsZXNCeUNhdGVnb3J5U2VydmljZSB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGJhc2VVcmwgPSAnTm9ydGh3aW5kL1NhbGVzQnlDYXRlZ29yeSc7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFNhbGVzQnlDYXRlZ29yeVJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBNZXRob2RzIHtcclxuICAgICAgICAgICAgTGlzdCA9IFwiTm9ydGh3aW5kL1NhbGVzQnlDYXRlZ29yeS9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0xpc3QnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5TYWxlc0J5Q2F0ZWdvcnlTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFNoaXBwZXJGb3JtIHtcclxuICAgICAgICBDb21wYW55TmFtZTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIFBob25lOiBQaG9uZUVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgU2hpcHBlckZvcm0gZXh0ZW5kcyBTZXJlbml0eS5QcmVmaXhlZENvbnRleHQge1xyXG4gICAgICAgIHN0YXRpYyBmb3JtS2V5ID0gJ05vcnRod2luZC5TaGlwcGVyJztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFTaGlwcGVyRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgU2hpcHBlckZvcm0uaW5pdCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBTZXJlbml0eTtcclxuICAgICAgICAgICAgICAgIHZhciB3MCA9IHMuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgdmFyIHcxID0gUGhvbmVFZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoU2hpcHBlckZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ29tcGFueU5hbWUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnUGhvbmUnLCB3MVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTaGlwcGVyUm93IHtcclxuICAgICAgICBTaGlwcGVySUQ/OiBudW1iZXI7XHJcbiAgICAgICAgQ29tcGFueU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgUGhvbmU/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBTaGlwcGVyUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdTaGlwcGVySUQnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBuYW1lUHJvcGVydHkgPSAnQ29tcGFueU5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnTm9ydGh3aW5kLlNoaXBwZXInO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb29rdXBLZXkgPSAnTm9ydGh3aW5kLlNoaXBwZXInO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPFNoaXBwZXJSb3c+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFEuZ2V0TG9va3VwPFNoaXBwZXJSb3c+KCdOb3J0aHdpbmQuU2hpcHBlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIFNoaXBwZXJJRCA9IFwiU2hpcHBlcklEXCIsXHJcbiAgICAgICAgICAgIENvbXBhbnlOYW1lID0gXCJDb21wYW55TmFtZVwiLFxyXG4gICAgICAgICAgICBQaG9uZSA9IFwiUGhvbmVcIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFNoaXBwZXJTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdOb3J0aHdpbmQvU2hpcHBlcic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxTaGlwcGVyUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8U2hpcHBlclJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gRGVsZXRlKHJlcXVlc3Q6IFNlcmVuaXR5LkRlbGV0ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBSZXRyaWV2ZShyZXF1ZXN0OiBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxTaGlwcGVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFNoaXBwZXJSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL1NoaXBwZXIvQ3JlYXRlXCIsXHJcbiAgICAgICAgICAgIFVwZGF0ZSA9IFwiTm9ydGh3aW5kL1NoaXBwZXIvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiTm9ydGh3aW5kL1NoaXBwZXIvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvU2hpcHBlci9SZXRyaWV2ZVwiLFxyXG4gICAgICAgICAgICBMaXN0ID0gXCJOb3J0aHdpbmQvU2hpcHBlci9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+U2hpcHBlclNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3VwcGxpZXJGb3JtIHtcclxuICAgICAgICBDb21wYW55TmFtZTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIENvbnRhY3ROYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQ29udGFjdFRpdGxlOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQWRkcmVzczogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIFJlZ2lvbjogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIFBvc3RhbENvZGU6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBDb3VudHJ5OiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgQ2l0eTogU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgIFBob25lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgRmF4OiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgSG9tZVBhZ2U6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgU3VwcGxpZXJGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdOb3J0aHdpbmQuU3VwcGxpZXInO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVN1cHBsaWVyRm9ybS5pbml0KSAge1xyXG4gICAgICAgICAgICAgICAgU3VwcGxpZXJGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShTdXBwbGllckZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnQ29tcGFueU5hbWUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGFjdE5hbWUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGFjdFRpdGxlJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FkZHJlc3MnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnUmVnaW9uJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bvc3RhbENvZGUnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnQ291bnRyeScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdDaXR5JywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ1Bob25lJywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZheCcsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdIb21lUGFnZScsIHcwXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFN1cHBsaWVyUm93IHtcclxuICAgICAgICBTdXBwbGllcklEPzogbnVtYmVyO1xyXG4gICAgICAgIENvbXBhbnlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIENvbnRhY3ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIENvbnRhY3RUaXRsZT86IHN0cmluZztcclxuICAgICAgICBBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIENpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgUmVnaW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFBvc3RhbENvZGU/OiBzdHJpbmc7XHJcbiAgICAgICAgQ291bnRyeT86IHN0cmluZztcclxuICAgICAgICBQaG9uZT86IHN0cmluZztcclxuICAgICAgICBGYXg/OiBzdHJpbmc7XHJcbiAgICAgICAgSG9tZVBhZ2U/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBTdXBwbGllclJvdyB7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGlkUHJvcGVydHkgPSAnU3VwcGxpZXJJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdDb21wYW55TmFtZSc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuU3VwcGxpZXInO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb29rdXBLZXkgPSAnTm9ydGh3aW5kLlN1cHBsaWVyJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGdldExvb2t1cCgpOiBRLkxvb2t1cDxTdXBwbGllclJvdz4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5nZXRMb29rdXA8U3VwcGxpZXJSb3c+KCdOb3J0aHdpbmQuU3VwcGxpZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ05vcnRod2luZDpHZW5lcmFsJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBTdXBwbGllcklEID0gXCJTdXBwbGllcklEXCIsXHJcbiAgICAgICAgICAgIENvbXBhbnlOYW1lID0gXCJDb21wYW55TmFtZVwiLFxyXG4gICAgICAgICAgICBDb250YWN0TmFtZSA9IFwiQ29udGFjdE5hbWVcIixcclxuICAgICAgICAgICAgQ29udGFjdFRpdGxlID0gXCJDb250YWN0VGl0bGVcIixcclxuICAgICAgICAgICAgQWRkcmVzcyA9IFwiQWRkcmVzc1wiLFxyXG4gICAgICAgICAgICBDaXR5ID0gXCJDaXR5XCIsXHJcbiAgICAgICAgICAgIFJlZ2lvbiA9IFwiUmVnaW9uXCIsXHJcbiAgICAgICAgICAgIFBvc3RhbENvZGUgPSBcIlBvc3RhbENvZGVcIixcclxuICAgICAgICAgICAgQ291bnRyeSA9IFwiQ291bnRyeVwiLFxyXG4gICAgICAgICAgICBQaG9uZSA9IFwiUGhvbmVcIixcclxuICAgICAgICAgICAgRmF4ID0gXCJGYXhcIixcclxuICAgICAgICAgICAgSG9tZVBhZ2UgPSBcIkhvbWVQYWdlXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBTdXBwbGllclNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ05vcnRod2luZC9TdXBwbGllcic7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIENyZWF0ZShyZXF1ZXN0OiBTZXJlbml0eS5TYXZlUmVxdWVzdDxTdXBwbGllclJvdz4sIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gVXBkYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PFN1cHBsaWVyUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPFN1cHBsaWVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIExpc3QocmVxdWVzdDogU2VyZW5pdHkuTGlzdFJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFN1cHBsaWVyUm93PikgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBDcmVhdGUgPSBcIk5vcnRod2luZC9TdXBwbGllci9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJOb3J0aHdpbmQvU3VwcGxpZXIvVXBkYXRlXCIsXHJcbiAgICAgICAgICAgIERlbGV0ZSA9IFwiTm9ydGh3aW5kL1N1cHBsaWVyL0RlbGV0ZVwiLFxyXG4gICAgICAgICAgICBSZXRyaWV2ZSA9IFwiTm9ydGh3aW5kL1N1cHBsaWVyL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIk5vcnRod2luZC9TdXBwbGllci9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0NyZWF0ZScsIFxyXG4gICAgICAgICAgICAnVXBkYXRlJywgXHJcbiAgICAgICAgICAgICdEZWxldGUnLCBcclxuICAgICAgICAgICAgJ1JldHJpZXZlJywgXHJcbiAgICAgICAgICAgICdMaXN0J1xyXG4gICAgICAgIF0uZm9yRWFjaCh4ID0+IHtcclxuICAgICAgICAgICAgKDxhbnk+U3VwcGxpZXJTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG59XHJcblxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFRlcnJpdG9yeUZvcm0ge1xyXG4gICAgICAgIFRlcnJpdG9yeUlEOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgVGVycml0b3J5RGVzY3JpcHRpb246IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBSZWdpb25JRDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBUZXJyaXRvcnlGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdOb3J0aHdpbmQuVGVycml0b3J5JztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFUZXJyaXRvcnlGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBUZXJyaXRvcnlGb3JtLmluaXQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzID0gU2VyZW5pdHk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzAgPSBzLlN0cmluZ0VkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MSA9IHMuTG9va3VwRWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIFEuaW5pdEZvcm1UeXBlKFRlcnJpdG9yeUZvcm0sIFtcclxuICAgICAgICAgICAgICAgICAgICAnVGVycml0b3J5SUQnLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnVGVycml0b3J5RGVzY3JpcHRpb24nLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnUmVnaW9uSUQnLCB3MVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBUZXJyaXRvcnlSb3cge1xyXG4gICAgICAgIElEPzogbnVtYmVyO1xyXG4gICAgICAgIFRlcnJpdG9yeUlEPzogc3RyaW5nO1xyXG4gICAgICAgIFRlcnJpdG9yeURlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgICAgIFJlZ2lvbklEPzogbnVtYmVyO1xyXG4gICAgICAgIFJlZ2lvbkRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgVGVycml0b3J5Um93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdUZXJyaXRvcnlJRCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGxvY2FsVGV4dFByZWZpeCA9ICdOb3J0aHdpbmQuVGVycml0b3J5JztcclxuICAgICAgICBleHBvcnQgY29uc3QgbG9va3VwS2V5ID0gJ05vcnRod2luZC5UZXJyaXRvcnknO1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0TG9va3VwKCk6IFEuTG9va3VwPFRlcnJpdG9yeVJvdz4ge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5nZXRMb29rdXA8VGVycml0b3J5Um93PignTm9ydGh3aW5kLlRlcnJpdG9yeScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHBvcnQgY29uc3QgZGVsZXRlUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGluc2VydFBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCByZWFkUGVybWlzc2lvbiA9ICdOb3J0aHdpbmQ6R2VuZXJhbCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHVwZGF0ZVBlcm1pc3Npb24gPSAnTm9ydGh3aW5kOkdlbmVyYWwnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIEZpZWxkcyB7XHJcbiAgICAgICAgICAgIElEID0gXCJJRFwiLFxyXG4gICAgICAgICAgICBUZXJyaXRvcnlJRCA9IFwiVGVycml0b3J5SURcIixcclxuICAgICAgICAgICAgVGVycml0b3J5RGVzY3JpcHRpb24gPSBcIlRlcnJpdG9yeURlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgIFJlZ2lvbklEID0gXCJSZWdpb25JRFwiLFxyXG4gICAgICAgICAgICBSZWdpb25EZXNjcmlwdGlvbiA9IFwiUmVnaW9uRGVzY3JpcHRpb25cIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFRlcnJpdG9yeVNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ05vcnRod2luZC9UZXJyaXRvcnknO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBDcmVhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8VGVycml0b3J5Um93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8VGVycml0b3J5Um93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBEZWxldGUocmVxdWVzdDogU2VyZW5pdHkuRGVsZXRlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIFJldHJpZXZlKHJlcXVlc3Q6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPFRlcnJpdG9yeVJvdz4pID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBMaXN0KHJlcXVlc3Q6IFNlcmVuaXR5Lkxpc3RSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxUZXJyaXRvcnlSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiTm9ydGh3aW5kL1RlcnJpdG9yeS9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJOb3J0aHdpbmQvVGVycml0b3J5L1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBEZWxldGUgPSBcIk5vcnRod2luZC9UZXJyaXRvcnkvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJOb3J0aHdpbmQvVGVycml0b3J5L1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIk5vcnRod2luZC9UZXJyaXRvcnkvTGlzdFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdDcmVhdGUnLCBcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnRGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlRlcnJpdG9yeVNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2NyaXB0VXNlckRlZmluaXRpb24ge1xyXG4gICAgICAgIFVzZXJuYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIERpc3BsYXlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIElzQWRtaW4/OiBib29sZWFuO1xyXG4gICAgICAgIFBlcm1pc3Npb25zPzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuVGV4dHMge1xyXG5cclxuICAgIGRlY2xhcmUgbmFtZXNwYWNlIERiIHtcclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIEFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBMYW5ndWFnZSB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYW5ndWFnZUlkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFuZ3VhZ2VOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBSb2xlIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSb2xlSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSb2xlTmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgUm9sZVBlcm1pc3Npb24ge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBlcm1pc3Npb25LZXk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSb2xlSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSb2xlUGVybWlzc2lvbklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUm9sZVJvbGVOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBUcmFuc2xhdGlvbiB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tVGV4dDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVudGl0eVBsdXJhbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEtleTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE92ZXJyaWRlQ29uZmlybWF0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2F2ZUNoYW5nZXNCdXR0b246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTb3VyY2VMYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNvdXJjZVRleHQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUYXJnZXRMYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRhcmdldFRleHQ6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFVzZXIge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1haWw6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJbnNlcnREYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSW5zZXJ0VXNlcklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSXNBY3RpdmU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0RGlyZWN0b3J5VXBkYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUGFzc3dvcmQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQYXNzd29yZENvbmZpcm06IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQYXNzd29yZEhhc2g6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQYXNzd29yZFNhbHQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTb3VyY2U6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVcGRhdGVEYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXBkYXRlVXNlcklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlcklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlckltYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlcm5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFVzZXJQZXJtaXNzaW9uIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBHcmFudGVkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUGVybWlzc2lvbktleTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVzZXI6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVc2VySWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVc2VyUGVybWlzc2lvbklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlcm5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFVzZXJSb2xlIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSb2xlSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVc2VyOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlcklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVXNlclJvbGVJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5hbWVzcGFjZSBDb21tb24ge1xyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFVzZXJQcmVmZXJlbmNlIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJlZmVyZW5jZVR5cGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVc2VySWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVc2VyUHJlZmVyZW5jZUlkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVmFsdWU6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIE5vcnRod2luZCB7XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgQ2F0ZWdvcnkge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENhdGVnb3J5SUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDYXRlZ29yeU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBEZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBpY3R1cmU6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIENhdGVnb3J5TGFuZyB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ2F0ZWdvcnlJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENhdGVnb3J5TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYW5ndWFnZUlkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBDdXN0b21lciB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQWRkcmVzczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENpdHk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDb21wYW55TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbnRhY3ROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ29udGFjdFRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ291bnRyeTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVySUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbWFpbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZheDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IElEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3REYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTm90ZUxpc3Q6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQaG9uZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBvc3RhbENvZGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZWdpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXByZXNlbnRhdGl2ZXM6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTZW5kQnVsbGV0aW46IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIEN1c3RvbWVyQ3VzdG9tZXJEZW1vIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lckFkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lckNpdHk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lckNvbXBhbnlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJDb250YWN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyQ29udGFjdFRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJDb3VudHJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJGYXg6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lcklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJQaG9uZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyUG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyUmVnaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJUeXBlQ3VzdG9tZXJEZXNjOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJUeXBlSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgQ3VzdG9tZXJEZW1vZ3JhcGhpYyB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJEZXNjOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJUeXBlSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgQ3VzdG9tZXJEZXRhaWxzIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbWFpbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IElkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3REYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5QWRkcmVzczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IExhc3RDb250YWN0ZWRCeUJpcnRoRGF0ZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IExhc3RDb250YWN0ZWRCeUNpdHk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlDb3VudHJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5RXh0ZW5zaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5Rmlyc3ROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5SGlyZURhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlIb21lUGhvbmU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlMYXN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IExhc3RDb250YWN0ZWRCeU5vdGVzOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5UGhvdG86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlQaG90b1BhdGg6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlQb3N0YWxDb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5UmVnaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5UmVwb3J0c1RvOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdENvbnRhY3RlZEJ5VGl0bGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYXN0Q29udGFjdGVkQnlUaXRsZU9mQ291cnRlc3k6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTZW5kQnVsbGV0aW46IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIEN1c3RvbWVyR3Jvc3NTYWxlcyB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ29udGFjdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lcklkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgR3Jvc3NBbW91bnQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0SWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgQ3VzdG9tZXJSZXByZXNlbnRhdGl2ZXMge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVySWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUlkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwcmVzZW50YXRpdmVJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgRHJhZ0Ryb3BTYW1wbGUge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IElkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUGFyZW50SWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgRW1wbG95ZWUge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEFkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBCaXJ0aERhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ291bnRyeTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFeHRlbnNpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGaXJzdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGdWxsTmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEdlbmRlcjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEhpcmVEYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSG9tZVBob25lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFzdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBOb3Rlczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBob3RvOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUGhvdG9QYXRoOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlZ2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUbzogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUb0FkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9CaXJ0aERhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9DaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvQ291bnRyeTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUb0V4dGVuc2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUb0ZpcnN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUb0Z1bGxOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvSGlyZURhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9Ib21lUGhvbmU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9MYXN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlcG9ydHNUb05vdGVzOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvUGhvdG86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9QaG90b1BhdGg6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9Qb3N0YWxDb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvUmVnaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvUmVwb3J0c1RvOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVwb3J0c1RvVGl0bGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZXBvcnRzVG9UaXRsZU9mQ291cnRlc3k6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRpdGxlT2ZDb3VydGVzeTogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgRW1wbG95ZWVUZXJyaXRvcnkge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlQWRkcmVzczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlQmlydGhEYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVDaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVDb3VudHJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVFeHRlbnNpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUZpcnN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlSGlyZURhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUhvbWVQaG9uZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUxhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVOb3Rlczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlUGhvdG86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZVBob3RvUGF0aDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlUG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtcGxveWVlUmVnaW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVSZXBvcnRzVG86IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZVRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVUaXRsZU9mQ291cnRlc3k6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUZXJyaXRvcnlJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRlcnJpdG9yeVJlZ2lvbklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVGVycml0b3J5VGVycml0b3J5RGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIE5vdGUge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVudGl0eUlkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW50aXR5VHlwZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEluc2VydERhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJbnNlcnRVc2VyRGlzcGxheU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJbnNlcnRVc2VySWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBOb3RlSWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUZXh0OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBPcmRlciB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJDaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJDb21wYW55TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyQ29udGFjdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lckNvbnRhY3RUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyQ291bnRyeTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyRmF4OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXJJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEN1c3RvbWVyUGhvbmU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDdXN0b21lclJlZ2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERldGFpbExpc3Q6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUZ1bGxOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVHZW5kZXI6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbXBsb3llZUlEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1wbG95ZWVSZXBvcnRzVG9GdWxsTmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZyZWlnaHQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBPcmRlckRhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBPcmRlcklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUmVxdWlyZWREYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2hpcEFkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTaGlwQ2l0eTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNoaXBDb3VudHJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2hpcE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTaGlwUG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNoaXBSZWdpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTaGlwVmlhOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2hpcFZpYUNvbXBhbnlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2hpcFZpYVBob25lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2hpcHBlZERhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTaGlwcGluZ1N0YXRlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBPcmRlckRldGFpbCB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRGV0YWlsSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBEaXNjb3VudDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IExpbmVUb3RhbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVyQ3VzdG9tZXJJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVyRGF0ZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVyRW1wbG95ZWVJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVySUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBPcmRlclNoaXBDaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgT3JkZXJTaGlwQ291bnRyeTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVyU2hpcFZpYTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9yZGVyU2hpcHBlZERhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0RGlzY29udGludWVkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdElEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0UXVhbnRpdHlQZXJVbml0OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdFN1cHBsaWVySUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0VW5pdFByaWNlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUXVhbnRpdHk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBVbml0UHJpY2U6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFByb2R1Y3Qge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENhdGVnb3J5RGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDYXRlZ29yeUlEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ2F0ZWdvcnlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ2F0ZWdvcnlQaWN0dXJlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRGlzY29udGludWVkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdElEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdEltYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBRdWFudGl0eVBlclVuaXQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZW9yZGVyTGV2ZWw6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllckFkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllckNpdHk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllckNvbXBhbnlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VwcGxpZXJDb250YWN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1cHBsaWVyQ29udGFjdFRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VwcGxpZXJDb3VudHJ5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VwcGxpZXJGYXg6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllckhvbWVQYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VwcGxpZXJJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1cHBsaWVyUGhvbmU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllclBvc3RhbENvZGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllclJlZ2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVuaXRQcmljZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVuaXRzSW5TdG9jazogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVuaXRzT25PcmRlcjogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgUHJvZHVjdExhbmcge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IElkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgTGFuZ3VhZ2VJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFByb2R1Y3RJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFByb2R1Y3ROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBQcm9kdWN0TG9nIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDYXRlZ29yeUlEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ2hhbmdpbmdVc2VySWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBEaXNjb250aW51ZWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBPcGVyYXRpb25UeXBlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdElEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdEltYWdlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdExvZ0lEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUHJvZHVjdE5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBRdWFudGl0eVBlclVuaXQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZW9yZGVyTGV2ZWw6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdXBwbGllcklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVW5pdFByaWNlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVW5pdHNJblN0b2NrOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVW5pdHNPbk9yZGVyOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVmFsaWRGcm9tOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVmFsaWRVbnRpbDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgUmVnaW9uIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZWdpb25EZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlZ2lvbklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBTYWxlc0J5Q2F0ZWdvcnkge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENhdGVnb3J5SWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDYXRlZ29yeU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQcm9kdWN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFByb2R1Y3RTYWxlczogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgU2hpcHBlciB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ29tcGFueU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBQaG9uZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNoaXBwZXJJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgU3VwcGxpZXIge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEFkZHJlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQ29tcGFueU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDb250YWN0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbnRhY3RUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvdW50cnk6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGYXg6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBIb21lUGFnZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBob25lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgUG9zdGFsQ29kZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlZ2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1cHBsaWVySUQ6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFRlcnJpdG9yeSB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgSUQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZWdpb25EZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFJlZ2lvbklEOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgVGVycml0b3J5RGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUZXJyaXRvcnlJRDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgICAgICAgICBuYW1lc3BhY2UgQXVkaXRMb2cge1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEFjdGlvbkRhdGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBBY3Rpb25UeXBlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW50aXR5SWQ6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFbnRpdHlUYWJsZU5hbWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IElwQWRkcmVzczogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE5ld0VudGl0eTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IE9sZEVudGl0eTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNlc3Npb25JZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFVzZXJJZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFZlcnNpb25Obzogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlY2xhcmUgbmFtZXNwYWNlIEZvcm1zIHtcclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIE1lbWJlcnNoaXAge1xyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIENoYW5nZVBhc3N3b3JkIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGb3JtVGl0bGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdWJtaXRCdXR0b246IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTdWNjZXNzOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBGb3Jnb3RQYXNzd29yZCB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQmFja1RvTG9naW46IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGb3JtSW5mbzogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvcm1UaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1Ym1pdEJ1dHRvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1Y2Nlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIExvZ2luIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGYWNlYm9va0J1dHRvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvcmdvdFBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRm9ybVRpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgR29vZ2xlQnV0dG9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgT1I6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBSZW1lbWJlck1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2lnbkluQnV0dG9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU2lnblVwQnV0dG9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5hbWVzcGFjZSBSZXNldFBhc3N3b3JkIHtcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBCYWNrVG9Mb2dpbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVtYWlsU3ViamVjdDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvcm1UaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1Ym1pdEJ1dHRvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFN1Y2Nlc3M6IHN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmFtZXNwYWNlIFNpZ25VcCB7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgQWNjZXB0VGVybXM6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBBY3RpdmF0ZUVtYWlsU3ViamVjdDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEFjdGl2YXRpb25Db21wbGV0ZU1lc3NhZ2U6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBCYWNrVG9Mb2dpbjogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbmZpcm1FbWFpbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbmZpcm1QYXNzd29yZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgRW1haWw6IHN0cmluZztcclxuICAgICAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGb3JtSW5mbzogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvcm1UaXRsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VibWl0QnV0dG9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBleHBvcnQgY29uc3QgU3VjY2Vzczogc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlY2xhcmUgbmFtZXNwYWNlIFNpdGUge1xyXG5cclxuICAgICAgICBuYW1lc3BhY2UgQWNjZXNzRGVuaWVkIHtcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENsaWNrVG9DaGFuZ2VVc2VyOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBDbGlja1RvTG9naW46IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IExhY2tQZXJtaXNzaW9uczogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgTm90TG9nZ2VkSW46IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBhZ2VUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIEJhc2ljUHJvZ3Jlc3NEaWFsb2cge1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgQ2FuY2VsVGl0bGU6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFBsZWFzZVdhaXQ6IHN0cmluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5hbWVzcGFjZSBCdWxrU2VydmljZUFjdGlvbiB7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBBbGxIYWRFcnJvcnNGb3JtYXQ6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEFsbFN1Y2Nlc3NGb3JtYXQ6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbmZpcm1hdGlvbkZvcm1hdDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgRXJyb3JDb3VudDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgTm90aGluZ1RvUHJvY2Vzczogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgU29tZUhhZEVycm9yc0Zvcm1hdDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgU3VjY2Vzc0NvdW50OiBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuYW1lc3BhY2UgRGFzaGJvYXJkIHtcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IENvbnRlbnREZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIExheW91dCB7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBGb290ZXJDb3B5cmlnaHQ6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvb3RlckluZm86IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEZvb3RlclJpZ2h0czogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgR2VuZXJhbFNldHRpbmdzOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBMYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWU6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRoZW1lQmxhY2s6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRoZW1lQmxhY2tMaWdodDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWVCbHVlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaGVtZUJsdWVMaWdodDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWVHcmVlbjogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWVHcmVlbkxpZ2h0OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaGVtZVB1cnBsZTogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWVQdXJwbGVMaWdodDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgVGhlbWVSZWQ6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRoZW1lUmVkTGlnaHQ6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFRoZW1lWWVsbG93OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaGVtZVllbGxvd0xpZ2h0OiBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuYW1lc3BhY2UgUm9sZVBlcm1pc3Npb25EaWFsb2cge1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgRGlhbG9nVGl0bGU6IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVkaXRCdXR0b246IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IFNhdmVTdWNjZXNzOiBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuYW1lc3BhY2UgVXNlckRpYWxvZyB7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBFZGl0UGVybWlzc2lvbnNCdXR0b246IHN0cmluZztcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IEVkaXRSb2xlc0J1dHRvbjogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIFVzZXJQZXJtaXNzaW9uRGlhbG9nIHtcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERpYWxvZ1RpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBHcmFudDogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgUGVybWlzc2lvbjogc3RyaW5nO1xyXG4gICAgICAgICAgICBleHBvcnQgY29uc3QgUmV2b2tlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTYXZlU3VjY2Vzczogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIFVzZXJSb2xlRGlhbG9nIHtcclxuICAgICAgICAgICAgZXhwb3J0IGNvbnN0IERpYWxvZ1RpdGxlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBTYXZlU3VjY2Vzczogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmFtZXNwYWNlIFZhbGlkYXRpb25FcnJvciB7XHJcbiAgICAgICAgICAgIGV4cG9ydCBjb25zdCBUaXRsZTogc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWNsYXJlIG5hbWVzcGFjZSBWYWxpZGF0aW9uIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgQXV0aGVudGljYXRpb25FcnJvcjogc3RyaW5nO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBDYW50RmluZFVzZXJXaXRoRW1haWw6IHN0cmluZztcclxuICAgICAgICBleHBvcnQgY29uc3QgQ3VycmVudFBhc3N3b3JkTWlzbWF0Y2g6IHN0cmluZztcclxuICAgICAgICBleHBvcnQgY29uc3QgRGVsZXRlRm9yZWlnbktleUVycm9yOiBzdHJpbmc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IEVtYWlsQ29uZmlybTogc3RyaW5nO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBFbWFpbEluVXNlOiBzdHJpbmc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IEludmFsaWRBY3RpdmF0ZVRva2VuOiBzdHJpbmc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IEludmFsaWRSZXNldFRva2VuOiBzdHJpbmc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IE1pblJlcXVpcmVkUGFzc3dvcmRMZW5ndGg6IHN0cmluZztcclxuICAgICAgICBleHBvcnQgY29uc3QgTm9ydGh3aW5kUGhvbmU6IHN0cmluZztcclxuICAgICAgICBleHBvcnQgY29uc3QgTm9ydGh3aW5kUGhvbmVNdWx0aXBsZTogc3RyaW5nO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBTYXZlUHJpbWFyeUtleUVycm9yOiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgU2VyRXh0cmFDb3JlWydUZXh0cyddID0gUS5wcm94eVRleHRzKFRleHRzLCAnJywge0RiOntBZG1pbmlzdHJhdGlvbjp7TGFuZ3VhZ2U6e0lkOjEsTGFuZ3VhZ2VJZDoxLExhbmd1YWdlTmFtZToxfSxSb2xlOntSb2xlSWQ6MSxSb2xlTmFtZToxfSxSb2xlUGVybWlzc2lvbjp7UGVybWlzc2lvbktleToxLFJvbGVJZDoxLFJvbGVQZXJtaXNzaW9uSWQ6MSxSb2xlUm9sZU5hbWU6MX0sVHJhbnNsYXRpb246e0N1c3RvbVRleHQ6MSxFbnRpdHlQbHVyYWw6MSxLZXk6MSxPdmVycmlkZUNvbmZpcm1hdGlvbjoxLFNhdmVDaGFuZ2VzQnV0dG9uOjEsU291cmNlTGFuZ3VhZ2U6MSxTb3VyY2VUZXh0OjEsVGFyZ2V0TGFuZ3VhZ2U6MSxUYXJnZXRUZXh0OjF9LFVzZXI6e0Rpc3BsYXlOYW1lOjEsRW1haWw6MSxJbnNlcnREYXRlOjEsSW5zZXJ0VXNlcklkOjEsSXNBY3RpdmU6MSxMYXN0RGlyZWN0b3J5VXBkYXRlOjEsUGFzc3dvcmQ6MSxQYXNzd29yZENvbmZpcm06MSxQYXNzd29yZEhhc2g6MSxQYXNzd29yZFNhbHQ6MSxTb3VyY2U6MSxVcGRhdGVEYXRlOjEsVXBkYXRlVXNlcklkOjEsVXNlcklkOjEsVXNlckltYWdlOjEsVXNlcm5hbWU6MX0sVXNlclBlcm1pc3Npb246e0dyYW50ZWQ6MSxQZXJtaXNzaW9uS2V5OjEsVXNlcjoxLFVzZXJJZDoxLFVzZXJQZXJtaXNzaW9uSWQ6MSxVc2VybmFtZToxfSxVc2VyUm9sZTp7Um9sZUlkOjEsVXNlcjoxLFVzZXJJZDoxLFVzZXJSb2xlSWQ6MSxVc2VybmFtZToxfX0sQ29tbW9uOntVc2VyUHJlZmVyZW5jZTp7TmFtZToxLFByZWZlcmVuY2VUeXBlOjEsVXNlcklkOjEsVXNlclByZWZlcmVuY2VJZDoxLFZhbHVlOjF9fSxOb3J0aHdpbmQ6e0NhdGVnb3J5OntDYXRlZ29yeUlEOjEsQ2F0ZWdvcnlOYW1lOjEsRGVzY3JpcHRpb246MSxQaWN0dXJlOjF9LENhdGVnb3J5TGFuZzp7Q2F0ZWdvcnlJZDoxLENhdGVnb3J5TmFtZToxLERlc2NyaXB0aW9uOjEsSWQ6MSxMYW5ndWFnZUlkOjF9LEN1c3RvbWVyOntBZGRyZXNzOjEsQ2l0eToxLENvbXBhbnlOYW1lOjEsQ29udGFjdE5hbWU6MSxDb250YWN0VGl0bGU6MSxDb3VudHJ5OjEsQ3VzdG9tZXJJRDoxLEVtYWlsOjEsRmF4OjEsSUQ6MSxMYXN0Q29udGFjdERhdGU6MSxMYXN0Q29udGFjdGVkQnk6MSxOb3RlTGlzdDoxLFBob25lOjEsUG9zdGFsQ29kZToxLFJlZ2lvbjoxLFJlcHJlc2VudGF0aXZlczoxLFNlbmRCdWxsZXRpbjoxfSxDdXN0b21lckN1c3RvbWVyRGVtbzp7Q3VzdG9tZXJBZGRyZXNzOjEsQ3VzdG9tZXJDaXR5OjEsQ3VzdG9tZXJDb21wYW55TmFtZToxLEN1c3RvbWVyQ29udGFjdE5hbWU6MSxDdXN0b21lckNvbnRhY3RUaXRsZToxLEN1c3RvbWVyQ291bnRyeToxLEN1c3RvbWVyRmF4OjEsQ3VzdG9tZXJJRDoxLEN1c3RvbWVyUGhvbmU6MSxDdXN0b21lclBvc3RhbENvZGU6MSxDdXN0b21lclJlZ2lvbjoxLEN1c3RvbWVyVHlwZUN1c3RvbWVyRGVzYzoxLEN1c3RvbWVyVHlwZUlEOjEsSUQ6MX0sQ3VzdG9tZXJEZW1vZ3JhcGhpYzp7Q3VzdG9tZXJEZXNjOjEsQ3VzdG9tZXJUeXBlSUQ6MSxJRDoxfSxDdXN0b21lckRldGFpbHM6e0VtYWlsOjEsSWQ6MSxMYXN0Q29udGFjdERhdGU6MSxMYXN0Q29udGFjdGVkQnk6MSxMYXN0Q29udGFjdGVkQnlBZGRyZXNzOjEsTGFzdENvbnRhY3RlZEJ5QmlydGhEYXRlOjEsTGFzdENvbnRhY3RlZEJ5Q2l0eToxLExhc3RDb250YWN0ZWRCeUNvdW50cnk6MSxMYXN0Q29udGFjdGVkQnlFeHRlbnNpb246MSxMYXN0Q29udGFjdGVkQnlGaXJzdE5hbWU6MSxMYXN0Q29udGFjdGVkQnlIaXJlRGF0ZToxLExhc3RDb250YWN0ZWRCeUhvbWVQaG9uZToxLExhc3RDb250YWN0ZWRCeUxhc3ROYW1lOjEsTGFzdENvbnRhY3RlZEJ5Tm90ZXM6MSxMYXN0Q29udGFjdGVkQnlQaG90bzoxLExhc3RDb250YWN0ZWRCeVBob3RvUGF0aDoxLExhc3RDb250YWN0ZWRCeVBvc3RhbENvZGU6MSxMYXN0Q29udGFjdGVkQnlSZWdpb246MSxMYXN0Q29udGFjdGVkQnlSZXBvcnRzVG86MSxMYXN0Q29udGFjdGVkQnlUaXRsZToxLExhc3RDb250YWN0ZWRCeVRpdGxlT2ZDb3VydGVzeToxLFNlbmRCdWxsZXRpbjoxfSxDdXN0b21lckdyb3NzU2FsZXM6e0NvbnRhY3ROYW1lOjEsQ3VzdG9tZXJJZDoxLEdyb3NzQW1vdW50OjEsUHJvZHVjdElkOjEsUHJvZHVjdE5hbWU6MX0sQ3VzdG9tZXJSZXByZXNlbnRhdGl2ZXM6e0N1c3RvbWVySWQ6MSxFbXBsb3llZUlkOjEsUmVwcmVzZW50YXRpdmVJZDoxfSxEcmFnRHJvcFNhbXBsZTp7SWQ6MSxQYXJlbnRJZDoxLFRpdGxlOjF9LEVtcGxveWVlOntBZGRyZXNzOjEsQmlydGhEYXRlOjEsQ2l0eToxLENvdW50cnk6MSxFbXBsb3llZUlEOjEsRXh0ZW5zaW9uOjEsRmlyc3ROYW1lOjEsRnVsbE5hbWU6MSxHZW5kZXI6MSxIaXJlRGF0ZToxLEhvbWVQaG9uZToxLExhc3ROYW1lOjEsTm90ZXM6MSxQaG90bzoxLFBob3RvUGF0aDoxLFBvc3RhbENvZGU6MSxSZWdpb246MSxSZXBvcnRzVG86MSxSZXBvcnRzVG9BZGRyZXNzOjEsUmVwb3J0c1RvQmlydGhEYXRlOjEsUmVwb3J0c1RvQ2l0eToxLFJlcG9ydHNUb0NvdW50cnk6MSxSZXBvcnRzVG9FeHRlbnNpb246MSxSZXBvcnRzVG9GaXJzdE5hbWU6MSxSZXBvcnRzVG9GdWxsTmFtZToxLFJlcG9ydHNUb0hpcmVEYXRlOjEsUmVwb3J0c1RvSG9tZVBob25lOjEsUmVwb3J0c1RvTGFzdE5hbWU6MSxSZXBvcnRzVG9Ob3RlczoxLFJlcG9ydHNUb1Bob3RvOjEsUmVwb3J0c1RvUGhvdG9QYXRoOjEsUmVwb3J0c1RvUG9zdGFsQ29kZToxLFJlcG9ydHNUb1JlZ2lvbjoxLFJlcG9ydHNUb1JlcG9ydHNUbzoxLFJlcG9ydHNUb1RpdGxlOjEsUmVwb3J0c1RvVGl0bGVPZkNvdXJ0ZXN5OjEsVGl0bGU6MSxUaXRsZU9mQ291cnRlc3k6MX0sRW1wbG95ZWVUZXJyaXRvcnk6e0VtcGxveWVlQWRkcmVzczoxLEVtcGxveWVlQmlydGhEYXRlOjEsRW1wbG95ZWVDaXR5OjEsRW1wbG95ZWVDb3VudHJ5OjEsRW1wbG95ZWVFeHRlbnNpb246MSxFbXBsb3llZUZpcnN0TmFtZToxLEVtcGxveWVlSGlyZURhdGU6MSxFbXBsb3llZUhvbWVQaG9uZToxLEVtcGxveWVlSUQ6MSxFbXBsb3llZUxhc3ROYW1lOjEsRW1wbG95ZWVOb3RlczoxLEVtcGxveWVlUGhvdG86MSxFbXBsb3llZVBob3RvUGF0aDoxLEVtcGxveWVlUG9zdGFsQ29kZToxLEVtcGxveWVlUmVnaW9uOjEsRW1wbG95ZWVSZXBvcnRzVG86MSxFbXBsb3llZVRpdGxlOjEsRW1wbG95ZWVUaXRsZU9mQ291cnRlc3k6MSxUZXJyaXRvcnlJRDoxLFRlcnJpdG9yeVJlZ2lvbklEOjEsVGVycml0b3J5VGVycml0b3J5RGVzY3JpcHRpb246MX0sTm90ZTp7RW50aXR5SWQ6MSxFbnRpdHlUeXBlOjEsSW5zZXJ0RGF0ZToxLEluc2VydFVzZXJEaXNwbGF5TmFtZToxLEluc2VydFVzZXJJZDoxLE5vdGVJZDoxLFRleHQ6MX0sT3JkZXI6e0N1c3RvbWVyQ2l0eToxLEN1c3RvbWVyQ29tcGFueU5hbWU6MSxDdXN0b21lckNvbnRhY3ROYW1lOjEsQ3VzdG9tZXJDb250YWN0VGl0bGU6MSxDdXN0b21lckNvdW50cnk6MSxDdXN0b21lckZheDoxLEN1c3RvbWVySUQ6MSxDdXN0b21lclBob25lOjEsQ3VzdG9tZXJSZWdpb246MSxEZXRhaWxMaXN0OjEsRW1wbG95ZWVGdWxsTmFtZToxLEVtcGxveWVlR2VuZGVyOjEsRW1wbG95ZWVJRDoxLEVtcGxveWVlUmVwb3J0c1RvRnVsbE5hbWU6MSxGcmVpZ2h0OjEsT3JkZXJEYXRlOjEsT3JkZXJJRDoxLFJlcXVpcmVkRGF0ZToxLFNoaXBBZGRyZXNzOjEsU2hpcENpdHk6MSxTaGlwQ291bnRyeToxLFNoaXBOYW1lOjEsU2hpcFBvc3RhbENvZGU6MSxTaGlwUmVnaW9uOjEsU2hpcFZpYToxLFNoaXBWaWFDb21wYW55TmFtZToxLFNoaXBWaWFQaG9uZToxLFNoaXBwZWREYXRlOjEsU2hpcHBpbmdTdGF0ZToxfSxPcmRlckRldGFpbDp7RGV0YWlsSUQ6MSxEaXNjb3VudDoxLExpbmVUb3RhbDoxLE9yZGVyQ3VzdG9tZXJJRDoxLE9yZGVyRGF0ZToxLE9yZGVyRW1wbG95ZWVJRDoxLE9yZGVySUQ6MSxPcmRlclNoaXBDaXR5OjEsT3JkZXJTaGlwQ291bnRyeToxLE9yZGVyU2hpcFZpYToxLE9yZGVyU2hpcHBlZERhdGU6MSxQcm9kdWN0RGlzY29udGludWVkOjEsUHJvZHVjdElEOjEsUHJvZHVjdE5hbWU6MSxQcm9kdWN0UXVhbnRpdHlQZXJVbml0OjEsUHJvZHVjdFN1cHBsaWVySUQ6MSxQcm9kdWN0VW5pdFByaWNlOjEsUXVhbnRpdHk6MSxVbml0UHJpY2U6MX0sUHJvZHVjdDp7Q2F0ZWdvcnlEZXNjcmlwdGlvbjoxLENhdGVnb3J5SUQ6MSxDYXRlZ29yeU5hbWU6MSxDYXRlZ29yeVBpY3R1cmU6MSxEaXNjb250aW51ZWQ6MSxQcm9kdWN0SUQ6MSxQcm9kdWN0SW1hZ2U6MSxQcm9kdWN0TmFtZToxLFF1YW50aXR5UGVyVW5pdDoxLFJlb3JkZXJMZXZlbDoxLFN1cHBsaWVyQWRkcmVzczoxLFN1cHBsaWVyQ2l0eToxLFN1cHBsaWVyQ29tcGFueU5hbWU6MSxTdXBwbGllckNvbnRhY3ROYW1lOjEsU3VwcGxpZXJDb250YWN0VGl0bGU6MSxTdXBwbGllckNvdW50cnk6MSxTdXBwbGllckZheDoxLFN1cHBsaWVySG9tZVBhZ2U6MSxTdXBwbGllcklEOjEsU3VwcGxpZXJQaG9uZToxLFN1cHBsaWVyUG9zdGFsQ29kZToxLFN1cHBsaWVyUmVnaW9uOjEsVW5pdFByaWNlOjEsVW5pdHNJblN0b2NrOjEsVW5pdHNPbk9yZGVyOjF9LFByb2R1Y3RMYW5nOntJZDoxLExhbmd1YWdlSWQ6MSxQcm9kdWN0SWQ6MSxQcm9kdWN0TmFtZToxfSxQcm9kdWN0TG9nOntDYXRlZ29yeUlEOjEsQ2hhbmdpbmdVc2VySWQ6MSxEaXNjb250aW51ZWQ6MSxPcGVyYXRpb25UeXBlOjEsUHJvZHVjdElEOjEsUHJvZHVjdEltYWdlOjEsUHJvZHVjdExvZ0lEOjEsUHJvZHVjdE5hbWU6MSxRdWFudGl0eVBlclVuaXQ6MSxSZW9yZGVyTGV2ZWw6MSxTdXBwbGllcklEOjEsVW5pdFByaWNlOjEsVW5pdHNJblN0b2NrOjEsVW5pdHNPbk9yZGVyOjEsVmFsaWRGcm9tOjEsVmFsaWRVbnRpbDoxfSxSZWdpb246e1JlZ2lvbkRlc2NyaXB0aW9uOjEsUmVnaW9uSUQ6MX0sU2FsZXNCeUNhdGVnb3J5OntDYXRlZ29yeUlkOjEsQ2F0ZWdvcnlOYW1lOjEsUHJvZHVjdE5hbWU6MSxQcm9kdWN0U2FsZXM6MX0sU2hpcHBlcjp7Q29tcGFueU5hbWU6MSxQaG9uZToxLFNoaXBwZXJJRDoxfSxTdXBwbGllcjp7QWRkcmVzczoxLENpdHk6MSxDb21wYW55TmFtZToxLENvbnRhY3ROYW1lOjEsQ29udGFjdFRpdGxlOjEsQ291bnRyeToxLEZheDoxLEhvbWVQYWdlOjEsUGhvbmU6MSxQb3N0YWxDb2RlOjEsUmVnaW9uOjEsU3VwcGxpZXJJRDoxfSxUZXJyaXRvcnk6e0lEOjEsUmVnaW9uRGVzY3JpcHRpb246MSxSZWdpb25JRDoxLFRlcnJpdG9yeURlc2NyaXB0aW9uOjEsVGVycml0b3J5SUQ6MX19LF9FeHQ6e0F1ZGl0TG9nOntBY3Rpb25EYXRlOjEsQWN0aW9uVHlwZToxLEVudGl0eUlkOjEsRW50aXR5VGFibGVOYW1lOjEsSWQ6MSxJcEFkZHJlc3M6MSxOZXdFbnRpdHk6MSxPbGRFbnRpdHk6MSxTZXNzaW9uSWQ6MSxVc2VySWQ6MSxWZXJzaW9uTm86MX19fSxGb3Jtczp7TWVtYmVyc2hpcDp7Q2hhbmdlUGFzc3dvcmQ6e0Zvcm1UaXRsZToxLFN1Ym1pdEJ1dHRvbjoxLFN1Y2Nlc3M6MX0sRm9yZ290UGFzc3dvcmQ6e0JhY2tUb0xvZ2luOjEsRm9ybUluZm86MSxGb3JtVGl0bGU6MSxTdWJtaXRCdXR0b246MSxTdWNjZXNzOjF9LExvZ2luOntGYWNlYm9va0J1dHRvbjoxLEZvcmdvdFBhc3N3b3JkOjEsRm9ybVRpdGxlOjEsR29vZ2xlQnV0dG9uOjEsT1I6MSxSZW1lbWJlck1lOjEsU2lnbkluQnV0dG9uOjEsU2lnblVwQnV0dG9uOjF9LFJlc2V0UGFzc3dvcmQ6e0JhY2tUb0xvZ2luOjEsRW1haWxTdWJqZWN0OjEsRm9ybVRpdGxlOjEsU3VibWl0QnV0dG9uOjEsU3VjY2VzczoxfSxTaWduVXA6e0FjY2VwdFRlcm1zOjEsQWN0aXZhdGVFbWFpbFN1YmplY3Q6MSxBY3RpdmF0aW9uQ29tcGxldGVNZXNzYWdlOjEsQmFja1RvTG9naW46MSxDb25maXJtRW1haWw6MSxDb25maXJtUGFzc3dvcmQ6MSxEaXNwbGF5TmFtZToxLEVtYWlsOjEsRm9ybUluZm86MSxGb3JtVGl0bGU6MSxQYXNzd29yZDoxLFN1Ym1pdEJ1dHRvbjoxLFN1Y2Nlc3M6MX19fSxTaXRlOntBY2Nlc3NEZW5pZWQ6e0NsaWNrVG9DaGFuZ2VVc2VyOjEsQ2xpY2tUb0xvZ2luOjEsTGFja1Blcm1pc3Npb25zOjEsTm90TG9nZ2VkSW46MSxQYWdlVGl0bGU6MX0sQmFzaWNQcm9ncmVzc0RpYWxvZzp7Q2FuY2VsVGl0bGU6MSxQbGVhc2VXYWl0OjF9LEJ1bGtTZXJ2aWNlQWN0aW9uOntBbGxIYWRFcnJvcnNGb3JtYXQ6MSxBbGxTdWNjZXNzRm9ybWF0OjEsQ29uZmlybWF0aW9uRm9ybWF0OjEsRXJyb3JDb3VudDoxLE5vdGhpbmdUb1Byb2Nlc3M6MSxTb21lSGFkRXJyb3JzRm9ybWF0OjEsU3VjY2Vzc0NvdW50OjF9LERhc2hib2FyZDp7Q29udGVudERlc2NyaXB0aW9uOjF9LExheW91dDp7Rm9vdGVyQ29weXJpZ2h0OjEsRm9vdGVySW5mbzoxLEZvb3RlclJpZ2h0czoxLEdlbmVyYWxTZXR0aW5nczoxLExhbmd1YWdlOjEsVGhlbWU6MSxUaGVtZUJsYWNrOjEsVGhlbWVCbGFja0xpZ2h0OjEsVGhlbWVCbHVlOjEsVGhlbWVCbHVlTGlnaHQ6MSxUaGVtZUdyZWVuOjEsVGhlbWVHcmVlbkxpZ2h0OjEsVGhlbWVQdXJwbGU6MSxUaGVtZVB1cnBsZUxpZ2h0OjEsVGhlbWVSZWQ6MSxUaGVtZVJlZExpZ2h0OjEsVGhlbWVZZWxsb3c6MSxUaGVtZVllbGxvd0xpZ2h0OjF9LFJvbGVQZXJtaXNzaW9uRGlhbG9nOntEaWFsb2dUaXRsZToxLEVkaXRCdXR0b246MSxTYXZlU3VjY2VzczoxfSxVc2VyRGlhbG9nOntFZGl0UGVybWlzc2lvbnNCdXR0b246MSxFZGl0Um9sZXNCdXR0b246MX0sVXNlclBlcm1pc3Npb25EaWFsb2c6e0RpYWxvZ1RpdGxlOjEsR3JhbnQ6MSxQZXJtaXNzaW9uOjEsUmV2b2tlOjEsU2F2ZVN1Y2Nlc3M6MX0sVXNlclJvbGVEaWFsb2c6e0RpYWxvZ1RpdGxlOjEsU2F2ZVN1Y2Nlc3M6MX0sVmFsaWRhdGlvbkVycm9yOntUaXRsZToxfX0sVmFsaWRhdGlvbjp7QXV0aGVudGljYXRpb25FcnJvcjoxLENhbnRGaW5kVXNlcldpdGhFbWFpbDoxLEN1cnJlbnRQYXNzd29yZE1pc21hdGNoOjEsRGVsZXRlRm9yZWlnbktleUVycm9yOjEsRW1haWxDb25maXJtOjEsRW1haWxJblVzZToxLEludmFsaWRBY3RpdmF0ZVRva2VuOjEsSW52YWxpZFJlc2V0VG9rZW46MSxNaW5SZXF1aXJlZFBhc3N3b3JkTGVuZ3RoOjEsTm9ydGh3aW5kUGhvbmU6MSxOb3J0aHdpbmRQaG9uZU11bHRpcGxlOjEsU2F2ZVByaW1hcnlLZXlFcnJvcjoxfX0pO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBlbnVtIEF1ZGl0QWN0aW9uVHlwZSB7XHJcbiAgICAgICAgSW5zZXJ0ID0gMSxcclxuICAgICAgICBVcGRhdGUgPSAyLFxyXG4gICAgICAgIERlbGV0ZSA9IDNcclxuICAgIH1cclxuICAgIFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFbnVtVHlwZShBdWRpdEFjdGlvblR5cGUsICdfRXh0LkF1ZGl0QWN0aW9uVHlwZScsICdFbnVtLkF1ZGl0LkF1ZGl0QWN0aW9uVHlwZScpO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEF1ZGl0TG9nRm9ybSB7XHJcbiAgICAgICAgRW50aXR5VGFibGVOYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgVmVyc2lvbk5vOiBTZXJlbml0eS5JbnRlZ2VyRWRpdG9yO1xyXG4gICAgICAgIFVzZXJJZDogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIEFjdGlvblR5cGU6IFNlcmVuaXR5LkVudW1FZGl0b3I7XHJcbiAgICAgICAgQWN0aW9uRGF0ZTogU2VyZW5pdHkuRGF0ZVRpbWVFZGl0b3I7XHJcbiAgICAgICAgRW50aXR5SWQ6IFNlcmVuaXR5LkludGVnZXJFZGl0b3I7XHJcbiAgICAgICAgT2xkRW50aXR5OiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgTmV3RW50aXR5OiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgRGlmZmVyZW5jZXM6IFN0YXRpY1RleHRCbG9jaztcclxuICAgICAgICBJcEFkZHJlc3M6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICBTZXNzaW9uSWQ6IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXVkaXRMb2dGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdfRXh0LkF1ZGl0TG9nJztcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpbml0OiBib29sZWFuO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihwcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFBdWRpdExvZ0Zvcm0uaW5pdCkgIHtcclxuICAgICAgICAgICAgICAgIEF1ZGl0TG9nRm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBzLkludGVnZXJFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzIgPSBzLkxvb2t1cEVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3MyA9IHMuRW51bUVkaXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB3NCA9IHMuRGF0ZVRpbWVFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzUgPSBTdGF0aWNUZXh0QmxvY2s7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5pbml0Rm9ybVR5cGUoQXVkaXRMb2dGb3JtLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgJ0VudGl0eVRhYmxlTmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdWZXJzaW9uTm8nLCB3MSxcclxuICAgICAgICAgICAgICAgICAgICAnVXNlcklkJywgdzIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0FjdGlvblR5cGUnLCB3MyxcclxuICAgICAgICAgICAgICAgICAgICAnQWN0aW9uRGF0ZScsIHc0LFxyXG4gICAgICAgICAgICAgICAgICAgICdFbnRpdHlJZCcsIHcxLFxyXG4gICAgICAgICAgICAgICAgICAgICdPbGRFbnRpdHknLCB3MCxcclxuICAgICAgICAgICAgICAgICAgICAnTmV3RW50aXR5JywgdzAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0RpZmZlcmVuY2VzJywgdzUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ0lwQWRkcmVzcycsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdTZXNzaW9uSWQnLCB3MFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZ1JvdyB7XHJcbiAgICAgICAgSWQ/OiBudW1iZXI7XHJcbiAgICAgICAgVmVyc2lvbk5vPzogbnVtYmVyO1xyXG4gICAgICAgIFVzZXJJZD86IG51bWJlcjtcclxuICAgICAgICBBY3Rpb25UeXBlPzogQXVkaXRBY3Rpb25UeXBlO1xyXG4gICAgICAgIEFjdGlvbkRhdGU/OiBzdHJpbmc7XHJcbiAgICAgICAgRW50aXR5VGFibGVOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIEVudGl0eUlkPzogbnVtYmVyO1xyXG4gICAgICAgIE9sZEVudGl0eT86IHN0cmluZztcclxuICAgICAgICBOZXdFbnRpdHk/OiBzdHJpbmc7XHJcbiAgICAgICAgSXBBZGRyZXNzPzogc3RyaW5nO1xyXG4gICAgICAgIFNlc3Npb25JZD86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIEF1ZGl0TG9nUm93IHtcclxuICAgICAgICBleHBvcnQgY29uc3QgaWRQcm9wZXJ0eSA9ICdJZCc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IG5hbWVQcm9wZXJ0eSA9ICdFbnRpdHlUYWJsZU5hbWUnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBsb2NhbFRleHRQcmVmaXggPSAnX0V4dC5BdWRpdExvZyc7XHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGRlbGV0ZVBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246QXVkaXRMb2cnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOkF1ZGl0TG9nJztcclxuICAgICAgICBleHBvcnQgY29uc3QgcmVhZFBlcm1pc3Npb24gPSAnQWRtaW5pc3RyYXRpb246QXVkaXRMb2cnO1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCB1cGRhdGVQZXJtaXNzaW9uID0gJ0FkbWluaXN0cmF0aW9uOkF1ZGl0TG9nJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgY29uc3QgZW51bSBGaWVsZHMge1xyXG4gICAgICAgICAgICBJZCA9IFwiSWRcIixcclxuICAgICAgICAgICAgVmVyc2lvbk5vID0gXCJWZXJzaW9uTm9cIixcclxuICAgICAgICAgICAgVXNlcklkID0gXCJVc2VySWRcIixcclxuICAgICAgICAgICAgQWN0aW9uVHlwZSA9IFwiQWN0aW9uVHlwZVwiLFxyXG4gICAgICAgICAgICBBY3Rpb25EYXRlID0gXCJBY3Rpb25EYXRlXCIsXHJcbiAgICAgICAgICAgIEVudGl0eVRhYmxlTmFtZSA9IFwiRW50aXR5VGFibGVOYW1lXCIsXHJcbiAgICAgICAgICAgIEVudGl0eUlkID0gXCJFbnRpdHlJZFwiLFxyXG4gICAgICAgICAgICBPbGRFbnRpdHkgPSBcIk9sZEVudGl0eVwiLFxyXG4gICAgICAgICAgICBOZXdFbnRpdHkgPSBcIk5ld0VudGl0eVwiLFxyXG4gICAgICAgICAgICBJcEFkZHJlc3MgPSBcIklwQWRkcmVzc1wiLFxyXG4gICAgICAgICAgICBTZXNzaW9uSWQgPSBcIlNlc3Npb25JZFwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgQXVkaXRMb2dTZXJ2aWNlIHtcclxuICAgICAgICBleHBvcnQgY29uc3QgYmFzZVVybCA9ICdfRXh0L0F1ZGl0TG9nJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gQ3JlYXRlKHJlcXVlc3Q6IFNlcmVuaXR5LlNhdmVSZXF1ZXN0PEF1ZGl0TG9nUm93Piwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQsIG9wdD86IFEuU2VydmljZU9wdGlvbnM8YW55Pik6IEpRdWVyeVhIUjtcclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBVcGRhdGUocmVxdWVzdDogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8QXVkaXRMb2dSb3c+LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIERlbGV0ZShyZXF1ZXN0OiBTZXJlbml0eS5EZWxldGVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gUmV0cmlldmUocmVxdWVzdDogU2VyZW5pdHkuUmV0cmlldmVSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBTZXJlbml0eS5MaXN0UmVxdWVzdCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8QXVkaXRMb2dSb3c+KSA9PiB2b2lkLCBvcHQ/OiBRLlNlcnZpY2VPcHRpb25zPGFueT4pOiBKUXVlcnlYSFI7XHJcblxyXG4gICAgICAgIGV4cG9ydCBkZWNsYXJlIGNvbnN0IGVudW0gTWV0aG9kcyB7XHJcbiAgICAgICAgICAgIENyZWF0ZSA9IFwiX0V4dC9BdWRpdExvZy9DcmVhdGVcIixcclxuICAgICAgICAgICAgVXBkYXRlID0gXCJfRXh0L0F1ZGl0TG9nL1VwZGF0ZVwiLFxyXG4gICAgICAgICAgICBEZWxldGUgPSBcIl9FeHQvQXVkaXRMb2cvRGVsZXRlXCIsXHJcbiAgICAgICAgICAgIFJldHJpZXZlID0gXCJfRXh0L0F1ZGl0TG9nL1JldHJpZXZlXCIsXHJcbiAgICAgICAgICAgIExpc3QgPSBcIl9FeHQvQXVkaXRMb2cvTGlzdFwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgICdDcmVhdGUnLCBcclxuICAgICAgICAgICAgJ1VwZGF0ZScsIFxyXG4gICAgICAgICAgICAnRGVsZXRlJywgXHJcbiAgICAgICAgICAgICdSZXRyaWV2ZScsIFxyXG4gICAgICAgICAgICAnTGlzdCdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PkF1ZGl0TG9nU2VydmljZSlbeF0gPSBmdW5jdGlvbiAociwgcywgbykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuc2VydmljZVJlcXVlc3QoYmFzZVVybCArICcvJyArIHgsIHIsIHMsIG8pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXVkaXRMb2dWaWV3ZXJSZXF1ZXN0IGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlcXVlc3Qge1xyXG4gICAgICAgIEZvcm1LZXk/OiBzdHJpbmc7XHJcbiAgICAgICAgRW50aXR5SWQ/OiBudW1iZXI7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZ1ZpZXdlclJlc3BvbnNlIGV4dGVuZHMgU2VyZW5pdHkuU2VydmljZVJlc3BvbnNlIHtcclxuICAgICAgICBFbnRpdHlWZXJzaW9ucz86IEF1ZGl0TG9nUm93W107XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBBdWRpdExvZ1ZpZXdlclNlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ0F1ZGl0TG9nVmlld2VyJztcclxuXHJcbiAgICAgICAgZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gTGlzdChyZXF1ZXN0OiBBdWRpdExvZ1ZpZXdlclJlcXVlc3QsIG9uU3VjY2Vzcz86IChyZXNwb25zZTogQXVkaXRMb2dWaWV3ZXJSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBMaXN0ID0gXCJBdWRpdExvZ1ZpZXdlci9MaXN0XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgJ0xpc3QnXHJcbiAgICAgICAgXS5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgICAoPGFueT5BdWRpdExvZ1ZpZXdlclNlcnZpY2UpW3hdID0gZnVuY3Rpb24gKHIsIHMsIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnNlcnZpY2VSZXF1ZXN0KGJhc2VVcmwgKyAnLycgKyB4LCByLCBzLCBvKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEVudGl0eVJlcG9ydFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3Qge1xyXG4gICAgICAgIFJlcG9ydEtleT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnRTZXJ2aWNlTWV0aG9kTmFtZT86IHN0cmluZztcclxuICAgICAgICBSZXBvcnREZXNpZ25QYXRoPzogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTGlzdFJlcG9ydFJlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5MaXN0UmVxdWVzdCB7XHJcbiAgICAgICAgUmVwb3J0S2V5Pzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydFNlcnZpY2VNZXRob2ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIExpc3RFeGNlbFNlcnZpY2VNZXRob2ROYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFJlcG9ydERlc2lnblBhdGg/OiBzdHJpbmc7XHJcbiAgICAgICAgRXF1YWxpdHlGaWx0ZXJXaXRoVGV4dFZhbHVlPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcclxuICAgICAgICBDdXN0b21QYXJhbWV0ZXJzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBleHBvcnQgZW51bSBNb250aHMge1xyXG4gICAgICAgIEphbnVhcnkgPSAwLFxyXG4gICAgICAgIEZlYnJ1YXJ5ID0gMSxcclxuICAgICAgICBNYXJjaCA9IDIsXHJcbiAgICAgICAgQXByaWwgPSAzLFxyXG4gICAgICAgIE1heSA9IDQsXHJcbiAgICAgICAgSnVuZSA9IDUsXHJcbiAgICAgICAgSnVseSA9IDYsXHJcbiAgICAgICAgQXVndXN0ID0gNyxcclxuICAgICAgICBTZXB0ZW1iZXIgPSA4LFxyXG4gICAgICAgIE9jdG9iZXIgPSA5LFxyXG4gICAgICAgIE5vdmVtYmVyID0gMTAsXHJcbiAgICAgICAgRGVjZW1iZXIgPSAxMVxyXG4gICAgfVxyXG4gICAgU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckVudW1UeXBlKE1vbnRocywgJ19FeHQuTW9udGhzJywgJ01vbnRocycpO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVwbGFjZVJvd0Zvcm0ge1xyXG4gICAgICAgIERlbGV0ZWRFbnRpdHlOYW1lOiBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgUmVwbGFjZVdpdGhFbnRpdHlJZDogRW1wdHlMb29rdXBFZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFJlcGxhY2VSb3dGb3JtIGV4dGVuZHMgU2VyZW5pdHkuUHJlZml4ZWRDb250ZXh0IHtcclxuICAgICAgICBzdGF0aWMgZm9ybUtleSA9ICdfRXh0LlJlcGxhY2VSb3cnO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIVJlcGxhY2VSb3dGb3JtLmluaXQpICB7XHJcbiAgICAgICAgICAgICAgICBSZXBsYWNlUm93Rm9ybS5pbml0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IFNlcmVuaXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHcwID0gcy5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdzEgPSBFbXB0eUxvb2t1cEVkaXRvcjtcclxuXHJcbiAgICAgICAgICAgICAgICBRLmluaXRGb3JtVHlwZShSZXBsYWNlUm93Rm9ybSwgW1xyXG4gICAgICAgICAgICAgICAgICAgICdEZWxldGVkRW50aXR5TmFtZScsIHcwLFxyXG4gICAgICAgICAgICAgICAgICAgICdSZXBsYWNlV2l0aEVudGl0eUlkJywgdzFcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVwbGFjZVJvd1JlcXVlc3QgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVxdWVzdCB7XHJcbiAgICAgICAgRm9ybUtleT86IHN0cmluZztcclxuICAgICAgICBJZFByb3BlcnR5Pzogc3RyaW5nO1xyXG4gICAgICAgIE5hbWVQcm9wZXJ0eT86IHN0cmluZztcclxuICAgICAgICBFbnRpdHlUeXBlVGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgRGVsZXRlZEVudGl0eUlkPzogbnVtYmVyO1xyXG4gICAgICAgIERlbGV0ZWRFbnRpdHlOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIFJlcGxhY2VXaXRoRW50aXR5SWQ/OiBudW1iZXI7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSZXBsYWNlUm93UmVzcG9uc2UgZXh0ZW5kcyBTZXJlbml0eS5TZXJ2aWNlUmVzcG9uc2Uge1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUmVwbGFjZVJvd1NlcnZpY2Uge1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBiYXNlVXJsID0gJ1JlcGxhY2VSb3cnO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBSZXBsYWNlKHJlcXVlc3Q6IFJlcGxhY2VSb3dSZXF1ZXN0LCBvblN1Y2Nlc3M/OiAocmVzcG9uc2U6IFJlcGxhY2VSb3dSZXNwb25zZSkgPT4gdm9pZCwgb3B0PzogUS5TZXJ2aWNlT3B0aW9uczxhbnk+KTogSlF1ZXJ5WEhSO1xyXG5cclxuICAgICAgICBleHBvcnQgZGVjbGFyZSBjb25zdCBlbnVtIE1ldGhvZHMge1xyXG4gICAgICAgICAgICBSZXBsYWNlID0gXCJSZXBsYWNlUm93L1JlcGxhY2VcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICAnUmVwbGFjZSdcclxuICAgICAgICBdLmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgICAgICg8YW55PlJlcGxhY2VSb3dTZXJ2aWNlKVt4XSA9IGZ1bmN0aW9uIChyLCBzLCBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUS5zZXJ2aWNlUmVxdWVzdChiYXNlVXJsICsgJy8nICsgeCwgciwgcywgbyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGVudW0gVGltZVVvTSB7XHJcbiAgICAgICAgSG91ciA9IDEsXHJcbiAgICAgICAgRGF5ID0gMixcclxuICAgICAgICBXZWVrID0gMyxcclxuICAgICAgICBNb250aCA9IDQsXHJcbiAgICAgICAgQ2FsZW5kZXJNb250aCA9IDUsXHJcbiAgICAgICAgWWVhciA9IDZcclxuICAgIH1cclxuICAgIFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFbnVtVHlwZShUaW1lVW9NLCAnX0V4dC5UaW1lVW9NJywgJ1RpbWVVb00nKTtcclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBMYW5ndWFnZURpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxMYW5ndWFnZVJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBMYW5ndWFnZUZvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gTGFuZ3VhZ2VSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBMYW5ndWFnZVJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gTGFuZ3VhZ2VSb3cubmFtZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBMYW5ndWFnZVNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBMYW5ndWFnZUZvcm0odGhpcy5pZFByZWZpeCk7XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBMYW5ndWFnZUdyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPExhbmd1YWdlUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2VcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gTGFuZ3VhZ2VEaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIExhbmd1YWdlUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTGFuZ3VhZ2VSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBMYW5ndWFnZVNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERlZmF1bHRTb3J0QnkoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbTGFuZ3VhZ2VSb3cuRmllbGRzLkxhbmd1YWdlTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUm9sZURpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxSb2xlUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFJvbGVGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFJvbGVSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBSb2xlUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBSb2xlUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gUm9sZVNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBSb2xlRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRvb2xiYXJCdXR0b25zKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b25zID0gc3VwZXIuZ2V0VG9vbGJhckJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogUS50ZXh0KCdTaXRlLlJvbGVQZXJtaXNzaW9uRGlhbG9nLkVkaXRCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZWRpdC1wZXJtaXNzaW9ucy1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhLWxvY2sgdGV4dC1ncmVlbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSb2xlUGVybWlzc2lvbkRpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVJRDogdGhpcy5lbnRpdHkuUm9sZUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5lbnRpdHkuUm9sZU5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KS5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlSW50ZXJmYWNlKCkge1xyXG4gICAgICAgICAgICBzdXBlci51cGRhdGVJbnRlcmZhY2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKFwiZWRpdC1wZXJtaXNzaW9ucy1idXR0b25cIikudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLCB0aGlzLmlzTmV3T3JEZWxldGVkKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFJvbGVHcmlkIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5R3JpZDxSb2xlUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiQWRtaW5pc3RyYXRpb24uUm9sZVwiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiBSb2xlRGlhbG9nOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBSb2xlUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gUm9sZVJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIFJvbGVTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREZWZhdWx0U29ydEJ5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1JvbGVSb3cuRmllbGRzLlJvbGVOYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBSb2xlUGVybWlzc2lvbkRpYWxvZyBleHRlbmRzIFNlcmVuaXR5LlRlbXBsYXRlZERpYWxvZzxSb2xlUGVybWlzc2lvbkRpYWxvZ09wdGlvbnM+IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwZXJtaXNzaW9uczogUGVybWlzc2lvbkNoZWNrRWRpdG9yO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihvcHQ6IFJvbGVQZXJtaXNzaW9uRGlhbG9nT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihvcHQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IG5ldyBQZXJtaXNzaW9uQ2hlY2tFZGl0b3IodGhpcy5ieUlkKCdQZXJtaXNzaW9ucycpLCB7XHJcbiAgICAgICAgICAgICAgICBzaG93UmV2b2tlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFJvbGVQZXJtaXNzaW9uU2VydmljZS5MaXN0KHtcclxuICAgICAgICAgICAgICAgIFJvbGVJRDogdGhpcy5vcHRpb25zLnJvbGVJRCxcclxuICAgICAgICAgICAgICAgIE1vZHVsZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIFN1Ym1vZHVsZTogbnVsbFxyXG4gICAgICAgICAgICB9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25zLnZhbHVlID0gcmVzcG9uc2UuRW50aXRpZXMubWFwKHggPT4gKDxVc2VyUGVybWlzc2lvblJvdz57IFBlcm1pc3Npb25LZXk6IHggfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbnMuaW1wbGljaXRQZXJtaXNzaW9ucyA9IFEuZ2V0UmVtb3RlRGF0YSgnQWRtaW5pc3RyYXRpb24uSW1wbGljaXRQZXJtaXNzaW9ucycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ09wdGlvbnMoKTogSlF1ZXJ5VUkuRGlhbG9nT3B0aW9ucyB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSBzdXBlci5nZXREaWFsb2dPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICBvcHQuYnV0dG9ucyA9IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBRLnRleHQoJ0RpYWxvZ3MuT2tCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvbGVQZXJtaXNzaW9uU2VydmljZS5VcGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUm9sZUlEOiB0aGlzLm9wdGlvbnMucm9sZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGVybWlzc2lvbnM6IHRoaXMucGVybWlzc2lvbnMudmFsdWUubWFwKHggPT4geC5QZXJtaXNzaW9uS2V5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZHVsZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1Ym1vZHVsZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Nsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBRLm5vdGlmeVN1Y2Nlc3MoUS50ZXh0KCdTaXRlLlJvbGVQZXJtaXNzaW9uRGlhbG9nLlNhdmVTdWNjZXNzJykpLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFEudGV4dCgnRGlhbG9ncy5DYW5jZWxCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gdGhpcy5kaWFsb2dDbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB9XTtcclxuXHJcbiAgICAgICAgICAgIG9wdC50aXRsZSA9IFEuZm9ybWF0KFEudGV4dCgnU2l0ZS5Sb2xlUGVybWlzc2lvbkRpYWxvZy5EaWFsb2dUaXRsZScpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRpdGxlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPVwifl9QZXJtaXNzaW9uc1wiPjwvZGl2Pic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUm9sZVBlcm1pc3Npb25EaWFsb2dPcHRpb25zIHtcclxuICAgICAgICByb2xlSUQ/OiBudW1iZXI7XHJcbiAgICAgICAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgICB9XHJcbn0iLCJkZWNsYXJlIHZhciBWdWU7XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuICAgIGV4cG9ydCBjbGFzcyBTZXJnZW5QYW5lbCBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxhbnk+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB2bSA9IG5ldyBWdWUoe1xyXG4gICAgICAgICAgICAgICAgZWw6ICQoJzxkaXYvPicpLmFwcGVuZFRvKHRoaXMuZWxlbWVudClbMF0sXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZpY2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUNvZGU6IGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhYmxlLklkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFEubm90aWZ5RXJyb3IoXCJJZGVudGlmaWVyIGNhbm5vdCBiZSBlbXB0eSFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFibGUuTW9kdWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeUVycm9yKFwiTW9kdWxlIGNhbm5vdCBiZSBlbXB0eSFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlcmdlblNlcnZpY2UuR2VuZXJhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29ubmVjdGlvbktleTogdGhpcy5jb25uZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGVPcHRpb25zOiB0aGlzLmdlbmVyYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlTdWNjZXNzKFwiQ29kZSBmb3Igc2VsZWN0ZWQgdGFibGUgaXMgZ2VuZXJhdGVkLiBZb3UnbGwgbmVlZCB0byByZWJ1aWxkIHlvdXIgcHJvamVjdC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB3YXRjaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgfHwgIXZhbC5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VyZ2VuU2VydmljZS5MaXN0VGFibGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25uZWN0aW9uS2V5OiB2YWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHZtLnRhYmxlcyA9IHJlc3BvbnNlLkVudGl0aWVzKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogUS5nZXRUZW1wbGF0ZSgnQWRtaW5pc3RyYXRpb24uU2VyZ2VuUGFuZWwnKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFNlcmdlblNlcnZpY2UuTGlzdENvbm5lY3Rpb25zKHt9LCByZXNwb25zZSA9PiB2bS5jb25uZWN0aW9ucyA9IHJlc3BvbnNlLkVudGl0aWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbkdyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPFRyYW5zbGF0aW9uSXRlbSwgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBcIktleVwiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIFwiQWRtaW5pc3RyYXRpb24uVHJhbnNsYXRpb25cIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gVHJhbnNsYXRpb25TZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoYXNDaGFuZ2VzOiBib29sZWFuO1xyXG4gICAgICAgIHByaXZhdGUgc2VhcmNoVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgc291cmNlTGFuZ3VhZ2U6IFNlcmVuaXR5Lkxvb2t1cEVkaXRvcjsgXHJcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRMYW5ndWFnZTogU2VyZW5pdHkuTG9va3VwRWRpdG9yO1xyXG4gICAgICAgIHByaXZhdGUgdGFyZ2V0TGFuZ3VhZ2VLZXk6IHN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5vbigna2V5dXAuJyArIHRoaXMudW5pcXVlTmFtZSArICcgY2hhbmdlLicgKyB0aGlzLnVuaXF1ZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAnaW5wdXQuY3VzdG9tLXRleHQnLCBlID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IFEudHJpbVRvTnVsbCgkKGUudGFyZ2V0KS52YWwoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmdldEl0ZW1CeUlkKCQoZS50YXJnZXQpLmRhdGEoJ2tleScpKS5DdXN0b21UZXh0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKTogYW55IHtcclxuICAgICAgICAgICAgc3VwZXIub25DbGljayhlLCByb3csIGNlbGwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLml0ZW1BdChyb3cpO1xyXG4gICAgICAgICAgICBsZXQgZG9uZTogKCkgPT4gdm9pZDtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnc291cmNlLXRleHQnKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkb25lID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uQ3VzdG9tVGV4dCA9IGl0ZW0uU291cmNlVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlSXRlbShpdGVtLktleSwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFEuaXNUcmltbWVkRW1wdHkoaXRlbS5DdXN0b21UZXh0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChRLnRyaW1Ub0VtcHR5KGl0ZW0uQ3VzdG9tVGV4dCkgPT09IFEudHJpbVRvRW1wdHkoaXRlbS5Tb3VyY2VUZXh0KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIFEuY29uZmlybShRLnRleHQoJ0RiLkFkbWluaXN0cmF0aW9uLlRyYW5zbGF0aW9uLk92ZXJyaWRlQ29uZmlybWF0aW9uJyksIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3RhcmdldC10ZXh0JykpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb25lID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uQ3VzdG9tVGV4dCA9IGl0ZW0uVGFyZ2V0VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlSXRlbShpdGVtLktleSwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFEuaXNUcmltbWVkRW1wdHkoaXRlbS5DdXN0b21UZXh0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChRLnRyaW1Ub0VtcHR5KGl0ZW0uQ3VzdG9tVGV4dCkgPT09IFEudHJpbVRvRW1wdHkoaXRlbS5UYXJnZXRUZXh0KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIFEuY29uZmlybShRLnRleHQoJ0RiLkFkbWluaXN0cmF0aW9uLlRyYW5zbGF0aW9uLk92ZXJyaWRlQ29uZmlybWF0aW9uJyksIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1ucygpOiBTbGljay5Db2x1bW5bXSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29sdW1uczogU2xpY2suQ29sdW1uW10gPSBbXTtcclxuICAgICAgICAgICAgY29sdW1ucy5wdXNoKHsgZmllbGQ6ICdLZXknLCB3aWR0aDogMzAwLCBzb3J0YWJsZTogZmFsc2UgfSk7XHJcblxyXG4gICAgICAgICAgICBjb2x1bW5zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICdTb3VyY2VUZXh0JyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAzMDAsXHJcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGN0eCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEub3V0ZXJIdG1sKCQoJzxhLz4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NvdXJjZS10ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoY3R4LnZhbHVlIHx8ICcnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnQ3VzdG9tVGV4dCcsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMzAwLFxyXG4gICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBjdHggPT4gUS5vdXRlckh0bWwoJCgnPGlucHV0Lz4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY3VzdG9tLXRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd2YWx1ZScsIGN0eC52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHlwZScsICd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZGF0YS1rZXknLCBjdHguaXRlbS5LZXkpKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBmaWVsZDogJ1RhcmdldFRleHQnLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDMwMCxcclxuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogY3R4ID0+IFEub3V0ZXJIdG1sKCQoJzxhLz4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygndGFyZ2V0LXRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGN0eC52YWx1ZSB8fCAnJykpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVRvb2xiYXJFeHRlbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgb3B0OiBTZXJlbml0eS5Mb29rdXBFZGl0b3JPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgbG9va3VwS2V5OiAnQWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUxhbmd1YWdlID0gU2VyZW5pdHkuV2lkZ2V0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBTZXJlbml0eS5Mb29rdXBFZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbCA9PiBlbC5hcHBlbmRUbyh0aGlzLnRvb2xiYXIuZWxlbWVudCkuYXR0cigncGxhY2Vob2xkZXInLCAnLS0tICcgK1xyXG4gICAgICAgICAgICAgICAgICAgIFEudGV4dCgnRGIuQWRtaW5pc3RyYXRpb24uVHJhbnNsYXRpb24uU291cmNlTGFuZ3VhZ2UnKSArICcgLS0tJyksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUxhbmd1YWdlLmNoYW5nZVNlbGVjdDIoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlQ2hhbmdlcyh0aGlzLnRhcmdldExhbmd1YWdlS2V5KS50aGVuKCgpID0+IHRoaXMucmVmcmVzaCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0TGFuZ3VhZ2UgPSBTZXJlbml0eS5XaWRnZXQuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFNlcmVuaXR5Lkxvb2t1cEVkaXRvcixcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsID0+IGVsLmFwcGVuZFRvKHRoaXMudG9vbGJhci5lbGVtZW50KS5hdHRyKCdwbGFjZWhvbGRlcicsICctLS0gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgUS50ZXh0KCdEYi5BZG1pbmlzdHJhdGlvbi5UcmFuc2xhdGlvbi5UYXJnZXRMYW5ndWFnZScpICsgJyAtLS0nKSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0TGFuZ3VhZ2UuY2hhbmdlU2VsZWN0MihlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVDaGFuZ2VzKHRoaXMudGFyZ2V0TGFuZ3VhZ2VLZXkpLnRoZW4oKCkgPT4gdGhpcy5yZWZyZXNoKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNhdmVDaGFuZ2VzKGxhbmd1YWdlOiBzdHJpbmcpOiBQcm9taXNlTGlrZTxhbnk+IHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuZ2V0SXRlbXMoKSkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRpb25zW2l0ZW0uS2V5XSA9IGl0ZW0uQ3VzdG9tVGV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShUcmFuc2xhdGlvblNlcnZpY2UuVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgIFRhcmdldExhbmd1YWdlSUQ6IGxhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgVHJhbnNsYXRpb25zOiB0cmFuc2xhdGlvbnNcclxuICAgICAgICAgICAgfSkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IFEudHJpbVRvTnVsbChsYW5ndWFnZSkgfHwgJ2ludmFyaWFudCc7XHJcbiAgICAgICAgICAgICAgICBRLm5vdGlmeVN1Y2Nlc3MoJ1VzZXIgdHJhbnNsYXRpb25zIGluIFwiJyArIGxhbmd1YWdlICtcclxuICAgICAgICAgICAgICAgICAgICAnXCIgbGFuZ3VhZ2UgYXJlIHNhdmVkIHRvIFwidXNlci50ZXh0cy4nICtcclxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZSArICcuanNvblwiICcgKyAnZmlsZSB1bmRlciBcIn4vQXBwX0RhdGEvdGV4dHMvXCInLCAnJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld1N1Ym1pdCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLnZpZXcucGFyYW1zO1xyXG4gICAgICAgICAgICByZXF1ZXN0LlNvdXJjZUxhbmd1YWdlSUQgPSB0aGlzLnNvdXJjZUxhbmd1YWdlLnZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldExhbmd1YWdlS2V5ID0gdGhpcy50YXJnZXRMYW5ndWFnZS52YWx1ZSB8fCAnJztcclxuICAgICAgICAgICAgcmVxdWVzdC5UYXJnZXRMYW5ndWFnZUlEID0gdGhpcy50YXJnZXRMYW5ndWFnZUtleTtcclxuICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5vblZpZXdTdWJtaXQoKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpOiBTZXJlbml0eS5Ub29sQnV0dG9uW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3tcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBRLnRleHQoJ0RiLkFkbWluaXN0cmF0aW9uLlRyYW5zbGF0aW9uLlNhdmVDaGFuZ2VzQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBlID0+IHRoaXMuc2F2ZUNoYW5nZXModGhpcy50YXJnZXRMYW5ndWFnZUtleSkudGhlbigoKSA9PiB0aGlzLnJlZnJlc2goKSksXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2FwcGx5LWNoYW5nZXMtYnV0dG9uJ1xyXG4gICAgICAgICAgICB9XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVRdWlja1NlYXJjaElucHV0KCkge1xyXG4gICAgICAgICAgICBTZXJlbml0eS5HcmlkVXRpbHMuYWRkUXVpY2tTZWFyY2hJbnB1dEN1c3RvbSh0aGlzLnRvb2xiYXIuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIChmaWVsZCwgc2VhcmNoVGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IHNlYXJjaFRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEl0ZW1zKHRoaXMudmlldy5nZXRJdGVtcygpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld0ZpbHRlcihpdGVtOiBUcmFuc2xhdGlvbkl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKCFzdXBlci5vblZpZXdGaWx0ZXIoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNlYXJjaFRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgc2QgPSBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzO1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoaW5nID0gc2QodGhpcy5zZWFyY2hUZXh0KS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2goc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3RyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hpbmcpID49IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBRLmlzRW1wdHlPck51bGwoc2VhcmNoaW5nKSB8fCBtYXRjaChpdGVtLktleSkgfHwgbWF0Y2goaXRlbS5Tb3VyY2VUZXh0KSB8fFxyXG4gICAgICAgICAgICAgICAgbWF0Y2goaXRlbS5UYXJnZXRUZXh0KSB8fCBtYXRjaChpdGVtLkN1c3RvbVRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVzZVBhZ2VyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgVXNlckRpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxVc2VyUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFVzZXJGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFVzZXJSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJc0FjdGl2ZVByb3BlcnR5KCkgeyByZXR1cm4gVXNlclJvdy5pc0FjdGl2ZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIFVzZXJSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldE5hbWVQcm9wZXJ0eSgpIHsgcmV0dXJuIFVzZXJSb3cubmFtZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBVc2VyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IFVzZXJGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5QYXNzd29yZC5hZGRWYWxpZGF0aW9uUnVsZSh0aGlzLnVuaXF1ZU5hbWUsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5QYXNzd29yZC52YWx1ZS5sZW5ndGggPCA3KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNyBjaGFyYWN0ZXJzIVwiO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5QYXNzd29yZENvbmZpcm0uYWRkVmFsaWRhdGlvblJ1bGUodGhpcy51bmlxdWVOYW1lLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uUGFzc3dvcmQudmFsdWUgIT0gdGhpcy5mb3JtLlBhc3N3b3JkQ29uZmlybS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJUaGUgcGFzc3dvcmRzIGVudGVyZWQgZG9lc24ndCBtYXRjaCFcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VG9vbGJhckJ1dHRvbnMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBzdXBlci5nZXRUb29sYmFyQnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBRLnRleHQoJ1NpdGUuVXNlckRpYWxvZy5FZGl0Um9sZXNCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZWRpdC1yb2xlcy1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhLXVzZXJzIHRleHQtYmx1ZScsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBVc2VyUm9sZURpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJRDogdGhpcy5lbnRpdHkuVXNlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5lbnRpdHkuVXNlcm5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KS5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBRLnRleHQoJ1NpdGUuVXNlckRpYWxvZy5FZGl0UGVybWlzc2lvbnNCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZWRpdC1wZXJtaXNzaW9ucy1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhLWxvY2sgdGV4dC1ncmVlbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBVc2VyUGVybWlzc2lvbkRpYWxvZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJRDogdGhpcy5lbnRpdHkuVXNlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5lbnRpdHkuVXNlcm5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KS5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlSW50ZXJmYWNlKCkge1xyXG4gICAgICAgICAgICBzdXBlci51cGRhdGVJbnRlcmZhY2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKCdlZGl0LXJvbGVzLWJ1dHRvbicpLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIHRoaXMuaXNOZXdPckRlbGV0ZWQoKSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKFwiZWRpdC1wZXJtaXNzaW9ucy1idXR0b25cIikudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLCB0aGlzLmlzTmV3T3JEZWxldGVkKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyTG9hZEVudGl0eSgpIHtcclxuICAgICAgICAgICAgc3VwZXIuYWZ0ZXJMb2FkRW50aXR5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGVzZSBmaWVsZHMgYXJlIG9ubHkgcmVxdWlyZWQgaW4gbmV3IHJlY29yZCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5QYXNzd29yZC5lbGVtZW50LnRvZ2dsZUNsYXNzKCdyZXF1aXJlZCcsIHRoaXMuaXNOZXcoKSlcclxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuZmllbGQnKS5maW5kKCdzdXAnKS50b2dnbGUodGhpcy5pc05ldygpKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLlBhc3N3b3JkQ29uZmlybS5lbGVtZW50LnRvZ2dsZUNsYXNzKCdyZXF1aXJlZCcsIHRoaXMuaXNOZXcoKSlcclxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuZmllbGQnKS5maW5kKCdzdXAnKS50b2dnbGUodGhpcy5pc05ldygpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkFkbWluaXN0cmF0aW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBVc2VyR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8VXNlclJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnNLZXkoKSB7IHJldHVybiBcIkFkbWluaXN0cmF0aW9uLlVzZXJcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gVXNlckRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gVXNlclJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElzQWN0aXZlUHJvcGVydHkoKSB7IHJldHVybiBVc2VyUm93LmlzQWN0aXZlUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gVXNlclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIFVzZXJTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREZWZhdWx0U29ydEJ5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1VzZXJSb3cuRmllbGRzLlVzZXJuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkF1dGhvcml6YXRpb24ge1xyXG4gICAgZXhwb3J0IGRlY2xhcmUgbGV0IHVzZXJEZWZpbml0aW9uOiBTY3JpcHRVc2VyRGVmaW5pdGlvbjtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXV0aG9yaXphdGlvbiwgJ3VzZXJEZWZpbml0aW9uJywge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5nZXRSZW1vdGVEYXRhKCdVc2VyRGF0YScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHBlcm1pc3Npb25LZXk6IHN0cmluZykge1xyXG4gICAgICAgIGxldCB1ZCA9IHVzZXJEZWZpbml0aW9uO1xyXG4gICAgICAgIHJldHVybiB1ZC5Vc2VybmFtZSA9PT0gJ2FkbWluJyB8fCAhIXVkLlBlcm1pc3Npb25zW3Blcm1pc3Npb25LZXldO1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5BZG1pbmlzdHJhdGlvbiB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWVdKVxyXG4gICAgZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25DaGVja0VkaXRvciBleHRlbmRzIFNlcmVuaXR5LkRhdGFHcmlkPFBlcm1pc3Npb25DaGVja0l0ZW0sIFBlcm1pc3Npb25DaGVja0VkaXRvck9wdGlvbnM+IHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBcIktleVwiOyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2VhcmNoVGV4dDogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgYnlQYXJlbnRLZXk6IFEuR3JvdXBpbmc8UGVybWlzc2lvbkNoZWNrSXRlbT47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHQ6IFBlcm1pc3Npb25DaGVja0VkaXRvck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyLCBvcHQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRpdGxlQnlLZXk6IFEuRGljdGlvbmFyeTxzdHJpbmc+ID0ge307XHJcbiAgICAgICAgICAgIGxldCBwZXJtaXNzaW9uS2V5cyA9IHRoaXMuZ2V0U29ydGVkR3JvdXBBbmRQZXJtaXNzaW9uS2V5cyh0aXRsZUJ5S2V5KTtcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gcGVybWlzc2lvbktleXMubWFwKGtleSA9PiA8UGVybWlzc2lvbkNoZWNrSXRlbT57XHJcbiAgICAgICAgICAgICAgICBLZXk6IGtleSxcclxuICAgICAgICAgICAgICAgIFBhcmVudEtleTogdGhpcy5nZXRQYXJlbnRLZXkoa2V5KSxcclxuICAgICAgICAgICAgICAgIFRpdGxlOiB0aXRsZUJ5S2V5W2tleV0sXHJcbiAgICAgICAgICAgICAgICBHcmFudFJldm9rZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIElzR3JvdXA6IGtleS5jaGFyQXQoa2V5Lmxlbmd0aCAtIDEpID09PSAnOidcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5UGFyZW50S2V5ID0gUS50b0dyb3VwaW5nKGl0ZW1zLCB4ID0+IHguUGFyZW50S2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRJdGVtcyhpdGVtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldEl0ZW1HcmFudFJldm9rZUNsYXNzKGl0ZW06IFBlcm1pc3Npb25DaGVja0l0ZW0sIGdyYW50OiBib29sZWFuKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKCFpdGVtLklzR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKGl0ZW0uR3JhbnRSZXZva2UgPT09IGdyYW50KSA/ICcgY2hlY2tlZCcgOiAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkZXNjID0gdGhpcy5nZXREZXNjZW5kYW50cyhpdGVtLCB0cnVlKTtcclxuICAgICAgICAgICAgbGV0IGdyYW50ZWQgPSBkZXNjLmZpbHRlcih4ID0+IHguR3JhbnRSZXZva2UgPT09IGdyYW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZ3JhbnRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRlc2MubGVuZ3RoID09PSBncmFudGVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdjaGVja2VkJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICdjaGVja2VkIHBhcnRpYWwnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSByb2xlT3JJbXBsaWNpdChrZXkpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvbGVQZXJtaXNzaW9uc1trZXldKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBrIG9mIE9iamVjdC5rZXlzKHRoaXMuX3JvbGVQZXJtaXNzaW9ucykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5faW1wbGljaXRQZXJtaXNzaW9uc1trXTtcclxuICAgICAgICAgICAgICAgIGlmIChkICYmIGRba2V5XSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSBvZiBPYmplY3Qua2V5cyh0aGlzLl9pbXBsaWNpdFBlcm1pc3Npb25zKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpZXcuZ2V0SXRlbUJ5SWQoaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLkdyYW50UmV2b2tlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuX2ltcGxpY2l0UGVybWlzc2lvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgJiYgZFtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRJdGVtRWZmZWN0aXZlQ2xhc3MoaXRlbTogUGVybWlzc2lvbkNoZWNrSXRlbSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5Jc0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IHRoaXMuZ2V0RGVzY2VuZGFudHMoaXRlbSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3JhbnRDb3VudCA9IFEuY291bnQoZGVzYywgeCA9PiB4LkdyYW50UmV2b2tlID09PSB0cnVlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHguR3JhbnRSZXZva2UgPT0gbnVsbCAmJiB0aGlzLnJvbGVPckltcGxpY2l0KHguS2V5KSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChncmFudENvdW50ID09PSBkZXNjLmxlbmd0aCB8fCBkZXNjLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChncmFudENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkZW55JztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BhcnRpYWwnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZ3JhbnRlZCA9IGl0ZW0uR3JhbnRSZXZva2UgPT09IHRydWUgfHxcclxuICAgICAgICAgICAgICAgIChpdGVtLkdyYW50UmV2b2tlID09IG51bGwgJiYgdGhpcy5yb2xlT3JJbXBsaWNpdChpdGVtLktleSkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChncmFudGVkID8gJyBhbGxvdycgOiAnIGRlbnknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCk6IFNsaWNrLkNvbHVtbltdIHtcclxuICAgICAgICAgICAgbGV0IGNvbHVtbnM6IFNsaWNrLkNvbHVtbltdID0gW3tcclxuICAgICAgICAgICAgICAgIG5hbWU6IFEudGV4dCgnU2l0ZS5Vc2VyUGVybWlzc2lvbkRpYWxvZy5QZXJtaXNzaW9uJyksXHJcbiAgICAgICAgICAgICAgICBmaWVsZDogJ1RpdGxlJyxcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogU2VyZW5pdHkuU2xpY2tGb3JtYXR0aW5nLnRyZWVUb2dnbGUoKCkgPT4gdGhpcy52aWV3LCB4ID0+IHguS2V5LCBjdHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gY3R4Lml0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtsYXNzID0gdGhpcy5nZXRJdGVtRWZmZWN0aXZlQ2xhc3MoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImVmZmVjdGl2ZS1wZXJtaXNzaW9uICcgKyBrbGFzcyArICdcIj4nICsgUS5odG1sRW5jb2RlKGN0eC52YWx1ZSkgKyAnPC9zcGFuPic7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0OTUsXHJcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogUS50ZXh0KCdTaXRlLlVzZXJQZXJtaXNzaW9uRGlhbG9nLkdyYW50JyksIGZpZWxkOiAnR3JhbnQnLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBjdHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtMSA9IGN0eC5pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBrbGFzczEgPSB0aGlzLmdldEl0ZW1HcmFudFJldm9rZUNsYXNzKGl0ZW0xLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nY2hlY2stYm94IGdyYW50IG5vLWZsb2F0IFwiICsga2xhc3MxICsgXCInPjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNjUsXHJcbiAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJDc3NDbGFzczogJ2FsaWduLWNlbnRlcicsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2FsaWduLWNlbnRlcidcclxuICAgICAgICAgICAgfV07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dSZXZva2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogUS50ZXh0KCdTaXRlLlVzZXJQZXJtaXNzaW9uRGlhbG9nLlJldm9rZScpLCBmaWVsZDogJ1Jldm9rZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBjdHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbTIgPSBjdHguaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtsYXNzMiA9IHRoaXMuZ2V0SXRlbUdyYW50UmV2b2tlQ2xhc3MoaXRlbTIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImNoZWNrLWJveCByZXZva2Ugbm8tZmxvYXQgJyArIGtsYXNzMiArICdcIj48L3NwYW4+JztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2NSxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ3NzQ2xhc3M6ICdhbGlnbi1jZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnYWxpZ24tY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldEl0ZW1zKGl0ZW1zOiBQZXJtaXNzaW9uQ2hlY2tJdGVtW10pOiB2b2lkIHtcclxuICAgICAgICAgICAgU2VyZW5pdHkuU2xpY2tUcmVlSGVscGVyLnNldEluZGVudHMoaXRlbXMsIHggPT4geC5LZXksIHggPT4geC5QYXJlbnRLZXksIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNldEl0ZW1zKGl0ZW1zLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdTdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdGaWx0ZXIoaXRlbTogUGVybWlzc2lvbkNoZWNrSXRlbSk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAoIXN1cGVyLm9uVmlld0ZpbHRlcihpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIVNlcmVuaXR5LlNsaWNrVHJlZUhlbHBlci5maWx0ZXJCeUlkKGl0ZW0sIHRoaXMudmlldywgeCA9PiB4LlBhcmVudEtleSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRjaENvbnRhaW5zKGl0ZW0pIHx8IGl0ZW0uSXNHcm91cCAmJiBRLmFueSh0aGlzLmdldERlc2NlbmRhbnRzKGl0ZW0sIGZhbHNlKSwgeCA9PiB0aGlzLm1hdGNoQ29udGFpbnMoeCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbWF0Y2hDb250YWlucyhpdGVtOiBQZXJtaXNzaW9uQ2hlY2tJdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKGl0ZW0uVGl0bGUgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaFRleHQpID49IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldERlc2NlbmRhbnRzKGl0ZW06IFBlcm1pc3Npb25DaGVja0l0ZW0sIGV4Y2x1ZGVHcm91cHM6IGJvb2xlYW4pOiBQZXJtaXNzaW9uQ2hlY2tJdGVtW10ge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBQZXJtaXNzaW9uQ2hlY2tJdGVtW10gPSBbXTtcclxuICAgICAgICAgICAgbGV0IHN0YWNrID0gW2l0ZW1dO1xyXG4gICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGkgPSBzdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuYnlQYXJlbnRLZXlbaS5LZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhjbHVkZUdyb3VwcyB8fCAhY2hpbGQuSXNHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGUsIHJvdywgY2VsbCk6IHZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5vbkNsaWNrKGUsIHJvdywgY2VsbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIFNlcmVuaXR5LlNsaWNrVHJlZUhlbHBlci50b2dnbGVDbGljayhlLCByb3csIGNlbGwsIHRoaXMudmlldywgeCA9PiB4LktleSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgbGV0IGdyYW50ID0gdGFyZ2V0Lmhhc0NsYXNzKCdncmFudCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyYW50IHx8IHRhcmdldC5oYXNDbGFzcygncmV2b2tlJykpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbUF0KHJvdyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tlZE9yUGFydGlhbCA9IHRhcmdldC5oYXNDbGFzcygnY2hlY2tlZCcpIHx8IHRhcmdldC5oYXNDbGFzcygncGFydGlhbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkT3JQYXJ0aWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhbnQgPSBncmFudCAhPT0gY2hlY2tlZE9yUGFydGlhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5Jc0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCBvZiB0aGlzLmdldERlc2NlbmRhbnRzKGl0ZW0sIHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuR3JhbnRSZXZva2UgPSBncmFudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5HcmFudFJldm9rZSA9IGdyYW50O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLmludmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRQYXJlbnRLZXkoa2V5KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKGtleS5jaGFyQXQoa2V5Lmxlbmd0aCAtIDEpID09PSAnOicpIHtcclxuICAgICAgICAgICAgICAgIGtleSA9IGtleS5zdWJzdHIoMCwga2V5Lmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgaWR4ID0ga2V5Lmxhc3RJbmRleE9mKCc6Jyk7XHJcbiAgICAgICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaWR4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpOiBTZXJlbml0eS5Ub29sQnV0dG9uW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVRvb2xiYXJFeHRlbnNpb25zKCk7XHJcbiAgICAgICAgICAgIFNlcmVuaXR5LkdyaWRVdGlscy5hZGRRdWlja1NlYXJjaElucHV0Q3VzdG9tKHRoaXMudG9vbGJhci5lbGVtZW50LCAoZmllbGQsIHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVGV4dCA9IFNlbGVjdDIudXRpbC5zdHJpcERpYWNyaXRpY3MoUS50cmltVG9OdWxsKHRleHQpIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEl0ZW1zKHRoaXMudmlldy5nZXRJdGVtcygpLCB0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFNvcnRlZEdyb3VwQW5kUGVybWlzc2lvbktleXModGl0bGVCeUtleTogUS5EaWN0aW9uYXJ5PHN0cmluZz4pOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgICAgIGxldCBrZXlzID0gPHN0cmluZ1tdPlEuZ2V0UmVtb3RlRGF0YSgnQWRtaW5pc3RyYXRpb24uUGVybWlzc2lvbktleXMnKS5FbnRpdGllcztcclxuICAgICAgICAgICAgbGV0IHRpdGxlV2l0aEdyb3VwID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgb2Yga2V5cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHMgPSBrO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzLmNoYXJBdChzLmxlbmd0aCAtIDEpID09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnN1YnN0cigwLCBzLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRpdGxlQnlLZXlbc10pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aXRsZUJ5S2V5W3NdID0gUS5jb2FsZXNjZShRLnRyeUdldFRleHQoJ1Blcm1pc3Npb24uJyArIHMpLCBzKTtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJ0cyA9IHMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgIGxldCBncm91cCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwVGl0bGUgPSAnJztcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSBncm91cCArIHBhcnRzW2ldICsgJzonO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBRLnRyeUdldFRleHQoJ1Blcm1pc3Npb24uJyArIGdyb3VwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHh0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHh0ID0gcGFydHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlQnlLZXlbZ3JvdXBdID0gdHh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwVGl0bGUgPSBncm91cFRpdGxlICsgdGl0bGVCeUtleVtncm91cF0gKyAnOic7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVXaXRoR3JvdXBbZ3JvdXBdID0gZ3JvdXBUaXRsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aXRsZVdpdGhHcm91cFtzXSA9IGdyb3VwVGl0bGUgKyB0aXRsZUJ5S2V5W3NdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModGl0bGVCeUtleSk7XHJcbiAgICAgICAgICAgIGtleXMgPSBrZXlzLnNvcnQoKHgsIHkpID0+IFEudHVya2lzaExvY2FsZUNvbXBhcmUodGl0bGVXaXRoR3JvdXBbeF0sIHRpdGxlV2l0aEdyb3VwW3ldKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ga2V5cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldCB2YWx1ZSgpOiBVc2VyUGVybWlzc2lvblJvd1tdIHtcclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IFVzZXJQZXJtaXNzaW9uUm93W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy52aWV3LmdldEl0ZW1zKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLkdyYW50UmV2b2tlICE9IG51bGwgJiYgaXRlbS5LZXkuY2hhckF0KGl0ZW0uS2V5Lmxlbmd0aCAtIDEpICE9ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgUGVybWlzc2lvbktleTogaXRlbS5LZXksIEdyYW50ZWQ6IGl0ZW0uR3JhbnRSZXZva2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXQgdmFsdWUodmFsdWU6IFVzZXJQZXJtaXNzaW9uUm93W10pIHtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy52aWV3LmdldEl0ZW1zKCkpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uR3JhbnRSZXZva2UgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93IG9mIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSB0aGlzLnZpZXcuZ2V0SXRlbUJ5SWQocm93LlBlcm1pc3Npb25LZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuR3JhbnRSZXZva2UgPSBRLmNvYWxlc2NlKHJvdy5HcmFudGVkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0SXRlbXModGhpcy5nZXRJdGVtcygpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3JvbGVQZXJtaXNzaW9uczogUS5EaWN0aW9uYXJ5PGJvb2xlYW4+ID0ge307XHJcblxyXG4gICAgICAgIGdldCByb2xlUGVybWlzc2lvbnMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fcm9sZVBlcm1pc3Npb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldCByb2xlUGVybWlzc2lvbnModmFsdWU6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvbGVQZXJtaXNzaW9ucyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrIG9mIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9sZVBlcm1pc3Npb25zW2tdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRJdGVtcyh0aGlzLmdldEl0ZW1zKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfaW1wbGljaXRQZXJtaXNzaW9uczogUS5EaWN0aW9uYXJ5PFEuRGljdGlvbmFyeTxib29sZWFuPj4gPSB7fTtcclxuXHJcbiAgICAgICAgc2V0IGltcGxpY2l0UGVybWlzc2lvbnModmFsdWU6IFEuRGljdGlvbmFyeTxzdHJpbmdbXT4pIHtcclxuICAgICAgICAgICAgdGhpcy5faW1wbGljaXRQZXJtaXNzaW9ucyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIG9mIE9iamVjdC5rZXlzKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltcGxpY2l0UGVybWlzc2lvbnNba10gPSB0aGlzLl9pbXBsaWNpdFBlcm1pc3Npb25zW2tdIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsID0gdmFsdWVba107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyBvZiBsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1wbGljaXRQZXJtaXNzaW9uc1trXVtzXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvbkNoZWNrRWRpdG9yT3B0aW9ucyB7XHJcbiAgICAgICAgc2hvd1Jldm9rZT86IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBQZXJtaXNzaW9uQ2hlY2tJdGVtIHtcclxuICAgICAgICBQYXJlbnRLZXk/OiBzdHJpbmc7XHJcbiAgICAgICAgS2V5Pzogc3RyaW5nO1xyXG4gICAgICAgIFRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIElzR3JvdXA/OiBib29sZWFuO1xyXG4gICAgICAgIEdyYW50UmV2b2tlPzogYm9vbGVhbjtcclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFVzZXJQZXJtaXNzaW9uRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nPFVzZXJQZXJtaXNzaW9uRGlhbG9nT3B0aW9ucz4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIHBlcm1pc3Npb25zOiBQZXJtaXNzaW9uQ2hlY2tFZGl0b3I7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdDogVXNlclBlcm1pc3Npb25EaWFsb2dPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKG9wdCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25zID0gbmV3IFBlcm1pc3Npb25DaGVja0VkaXRvcih0aGlzLmJ5SWQoJ1Blcm1pc3Npb25zJyksIHtcclxuICAgICAgICAgICAgICAgIHNob3dSZXZva2U6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBVc2VyUGVybWlzc2lvblNlcnZpY2UuTGlzdCh7XHJcbiAgICAgICAgICAgICAgICBVc2VySUQ6IHRoaXMub3B0aW9ucy51c2VySUQsXHJcbiAgICAgICAgICAgICAgICBNb2R1bGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBTdWJtb2R1bGU6IG51bGxcclxuICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9ucy52YWx1ZSA9IHJlc3BvbnNlLkVudGl0aWVzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFVzZXJQZXJtaXNzaW9uU2VydmljZS5MaXN0Um9sZVBlcm1pc3Npb25zKHtcclxuICAgICAgICAgICAgICAgIFVzZXJJRDogdGhpcy5vcHRpb25zLnVzZXJJRCxcclxuICAgICAgICAgICAgICAgIE1vZHVsZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIFN1Ym1vZHVsZTogbnVsbCxcclxuICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9ucy5yb2xlUGVybWlzc2lvbnMgPSByZXNwb25zZS5FbnRpdGllcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25zLmltcGxpY2l0UGVybWlzc2lvbnMgPSBRLmdldFJlbW90ZURhdGEoJ0FkbWluaXN0cmF0aW9uLkltcGxpY2l0UGVybWlzc2lvbnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zKCk6IEpRdWVyeVVJLkRpYWxvZ09wdGlvbnMge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgb3B0LmJ1dHRvbnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLk9rQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVc2VyUGVybWlzc2lvblNlcnZpY2UuVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJRDogdGhpcy5vcHRpb25zLnVzZXJJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBlcm1pc3Npb25zOiB0aGlzLnBlcm1pc3Npb25zLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kdWxlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibW9kdWxlOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IFEubm90aWZ5U3VjY2VzcyhRLnRleHQoJ1NpdGUuVXNlclBlcm1pc3Npb25EaWFsb2cuU2F2ZVN1Y2Nlc3MnKSksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLkNhbmNlbEJ1dHRvbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLmRpYWxvZ0Nsb3NlKClcclxuICAgICAgICAgICAgICAgIH1dO1xyXG5cclxuICAgICAgICAgICAgb3B0LnRpdGxlID0gUS5mb3JtYXQoUS50ZXh0KCdTaXRlLlVzZXJQZXJtaXNzaW9uRGlhbG9nLkRpYWxvZ1RpdGxlJyksXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9XCJ+X1Blcm1pc3Npb25zXCI+PC9kaXY+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBVc2VyUGVybWlzc2lvbkRpYWxvZ09wdGlvbnMge1xyXG4gICAgICAgIHVzZXJJRD86IG51bWJlcjtcclxuICAgICAgICB1c2VybmFtZT86IHN0cmluZztcclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyRWRpdG9yKClcclxuICAgIGV4cG9ydCBjbGFzcyBSb2xlQ2hlY2tFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5DaGVja1RyZWVFZGl0b3I8U2VyZW5pdHkuQ2hlY2tUcmVlSXRlbTxhbnk+LCBhbnk+IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzZWFyY2hUZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGRpdjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVRvb2xiYXJFeHRlbnNpb25zKCk7XHJcblxyXG4gICAgICAgICAgICBTZXJlbml0eS5HcmlkVXRpbHMuYWRkUXVpY2tTZWFyY2hJbnB1dEN1c3RvbSh0aGlzLnRvb2xiYXIuZWxlbWVudCwgKGZpZWxkLCB0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFRleHQgPSBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKHRleHQgfHwgJycpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0SXRlbXModGhpcy52aWV3LmdldEl0ZW1zKCksIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCdXR0b25zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VHJlZUl0ZW1zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUm9sZVJvdy5nZXRMb29rdXAoKS5pdGVtcy5tYXAocm9sZSA9PiA8U2VyZW5pdHkuQ2hlY2tUcmVlSXRlbTxhbnk+PntcclxuICAgICAgICAgICAgICAgIGlkOiByb2xlLlJvbGVJZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogcm9sZS5Sb2xlTmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdGaWx0ZXIoaXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub25WaWV3RmlsdGVyKGl0ZW0pICYmXHJcbiAgICAgICAgICAgICAgICAoUS5pc0VtcHR5T3JOdWxsKHRoaXMuc2VhcmNoVGV4dCkgfHxcclxuICAgICAgICAgICAgICAgICBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKGl0ZW0udGV4dCB8fCAnJylcclxuICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaFRleHQpID49IDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQWRtaW5pc3RyYXRpb24ge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFVzZXJSb2xlRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nPFVzZXJSb2xlRGlhbG9nT3B0aW9ucz4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIHBlcm1pc3Npb25zOiBSb2xlQ2hlY2tFZGl0b3I7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdDogVXNlclJvbGVEaWFsb2dPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKG9wdCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25zID0gbmV3IFJvbGVDaGVja0VkaXRvcih0aGlzLmJ5SWQoJ1JvbGVzJykpO1xyXG5cclxuICAgICAgICAgICAgVXNlclJvbGVTZXJ2aWNlLkxpc3Qoe1xyXG4gICAgICAgICAgICAgICAgVXNlcklEOiB0aGlzLm9wdGlvbnMudXNlcklEXHJcbiAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbnMudmFsdWUgPSByZXNwb25zZS5FbnRpdGllcy5tYXAoeCA9PiB4LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgb3B0LmJ1dHRvbnMgPSBbe1xyXG4gICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLk9rQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFEuc2VydmljZVJlcXVlc3QoJ0FkbWluaXN0cmF0aW9uL1VzZXJSb2xlL1VwZGF0ZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlcklEOiB0aGlzLm9wdGlvbnMudXNlcklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb2xlczogdGhpcy5wZXJtaXNzaW9ucy52YWx1ZS5tYXAoeCA9PiBwYXJzZUludCh4LCAxMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Nsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFEubm90aWZ5U3VjY2VzcyhRLnRleHQoJ1NpdGUuVXNlclJvbGVEaWFsb2cuU2F2ZVN1Y2Nlc3MnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFEudGV4dCgnRGlhbG9ncy5DYW5jZWxCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLmRpYWxvZ0Nsb3NlKClcclxuICAgICAgICAgICAgfV07XHJcblxyXG4gICAgICAgICAgICBvcHQudGl0bGUgPSBRLmZvcm1hdChRLnRleHQoJ1NpdGUuVXNlclJvbGVEaWFsb2cuRGlhbG9nVGl0bGUnKSwgdGhpcy5vcHRpb25zLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiPGRpdiBpZD0nfl9Sb2xlcyc+PC9kaXY+XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlclJvbGVEaWFsb2dPcHRpb25zIHtcclxuICAgICAgICB1c2VySUQ6IG51bWJlcjtcclxuICAgICAgICB1c2VybmFtZTogc3RyaW5nO1xyXG4gICAgfVxyXG59IiwiZGVjbGFyZSB2YXIgTW9ycmlzOiBhbnk7XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZXNpemFibGUoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMubWF4aW1pemFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIENoYXJ0SW5EaWFsb2cgZXh0ZW5kcyBTZXJlbml0eS5UZW1wbGF0ZWREaWFsb2c8YW55PiB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXJlYUNoYXJ0OiBhbnk7XHJcblxyXG4gICAgICAgIHN0YXRpYyBpbml0aWFsaXplUGFnZSgpIHtcclxuICAgICAgICAgICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjTGF1bmNoRGlhbG9nQnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAobmV3IENoYXJ0SW5EaWFsb2coKSkuZGlhbG9nT3BlbigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uRGlhbG9nT3BlbigpIHtcclxuICAgICAgICAgICAgc3VwZXIub25EaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgIEJhc2ljU2FtcGxlc1NlcnZpY2UuT3JkZXJzQnlTaGlwcGVyKHt9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFyZWFDaGFydCA9IG5ldyBNb3JyaXMuQXJlYSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5pZFByZWZpeCArICdDaGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiB0cnVlLCBwYXJzZVRpbWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLlZhbHVlcyxcclxuICAgICAgICAgICAgICAgICAgICB4a2V5OiAnTW9udGgnLFxyXG4gICAgICAgICAgICAgICAgICAgIHlrZXlzOiByZXNwb25zZS5TaGlwcGVyS2V5cywgbGFiZWxzOiByZXNwb25zZS5TaGlwcGVyTGFiZWxzLCBoaWRlSG92ZXI6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFycmFuZ2UoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmFycmFuZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5hcmVhQ2hhcnQgJiYgdGhpcy5hcmVhQ2hhcnQucmVkcmF3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIC8vIHlvdSBjb3VsZCBhbHNvIHB1dCB0aGlzIGluIGEgQ2hhcnRJbkRpYWxvZy5UZW1wbGF0ZS5odG1sIGZpbGUuIGl0J3MgaGVyZSBmb3Igc2ltcGxpY2l0eS5cclxuICAgICAgICAgICAgcmV0dXJuIFwiPGRpdiBpZD0nfl9DaGFydCc+PC9kaXY+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IHN1cGVyLmdldERpYWxvZ09wdGlvbnMoKTtcclxuICAgICAgICAgICAgb3B0LnRpdGxlID0gJ09yZGVycyBieSBTaGlwcGVyJztcclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5tYXhpbWl6YWJsZSgpXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZHVjdERpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxQcm9kdWN0Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFByb2R1Y3RGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFByb2R1Y3RSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBQcm9kdWN0Um93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBQcm9kdWN0Um93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gUHJvZHVjdFNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBQcm9kdWN0Rm9ybSh0aGlzLmlkUHJlZml4KTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvUHJvZHVjdC9Qcm9kdWN0RGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLm1heGltaXphYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBDbG9uZWFibGVFbnRpdHlEaWFsb2cgZXh0ZW5kcyBOb3J0aHdpbmQuUHJvZHVjdERpYWxvZyB7XHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUludGVyZmFjZSgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgY2xvbmVCdXR0b24gaXMgaGlkZGVuIGluIGJhc2UgVXBkYXRlSW50ZXJmYWNlIG1ldGhvZFxyXG4gICAgICAgICAgICBzdXBlci51cGRhdGVJbnRlcmZhY2UoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhlcmUgd2Ugc2hvdyBpdCBpZiBpdCBpcyBlZGl0IG1vZGUgKG5vdCBuZXcpXHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVCdXR0b24udG9nZ2xlKHRoaXMuaXNFZGl0TW9kZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE92ZXJyaWRpbmcgdGhpcyBtZXRob2QgaXMgb3B0aW9uYWwgdG8gY3VzdG9taXplIGNsb25lZCBlbnRpdHlcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q2xvbmluZ0VudGl0eSgpIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lID0gc3VwZXIuZ2V0Q2xvbmluZ0VudGl0eSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIChDbG9uZSkgc3VmZml4IGlmIGl0J3Mgbm90IGFscmVhZHkgYWRkZWRcclxuICAgICAgICAgICAgdmFyIHN1ZmZpeCA9ICcgKENsb25lKSc7XHJcbiAgICAgICAgICAgIGlmICghUS5lbmRzV2l0aChjbG9uZS5Qcm9kdWN0TmFtZSB8fCAnJywgc3VmZml4KSkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmUuUHJvZHVjdE5hbWUgPSAoY2xvbmUuUHJvZHVjdE5hbWUgfHwgJycpICsgc3VmZml4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpdCdzIGJldHRlciB0byBjbGVhciBpbWFnZSBmb3IgdGhpcyBzYW1wbGVcclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIHdvdWxkIGhhdmUgdG8gY3JlYXRlIGEgdGVtcG9yYXJ5IGNvcHkgb2YgaXRcclxuICAgICAgICAgICAgLy8gYW5kIHVwbG9hZFxyXG4gICAgICAgICAgICBjbG9uZS5Qcm9kdWN0SW1hZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gbGV0J3MgY2xlYXIgZmllbGRzIG5vdCBsb2dpY2FsIHRvIGJlIGNsb25lZFxyXG4gICAgICAgICAgICBjbG9uZS5Vbml0c0luU3RvY2sgPSAwO1xyXG4gICAgICAgICAgICBjbG9uZS5Vbml0c09uT3JkZXIgPSAwO1xyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIGltcG9ydCBmbGQgPSBQcm9kdWN0Um93LkZpZWxkcztcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmZpbHRlcmFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFByb2R1Y3RHcmlkIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5R3JpZDxQcm9kdWN0Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlByb2R1Y3RcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gPGFueT5Qcm9kdWN0RGlhbG9nOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBQcm9kdWN0Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gUHJvZHVjdFJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIFByb2R1Y3RTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwZW5kaW5nQ2hhbmdlczogUS5EaWN0aW9uYXJ5PGFueT4gPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2xpY2tDb250YWluZXIub24oJ2NoYW5nZScsICcuZWRpdDppbnB1dCcsIChlKSA9PiB0aGlzLmlucHV0c0NoYW5nZShlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHN1cGVyLmdldEJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChDb21tb24uRXhjZWxFeHBvcnRIZWxwZXIuY3JlYXRlVG9vbEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBncmlkOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgc2VydmljZTogUHJvZHVjdFNlcnZpY2UuYmFzZVVybCArICcvTGlzdEV4Y2VsJyxcclxuICAgICAgICAgICAgICAgIG9uVmlld1N1Ym1pdDogKCkgPT4gdGhpcy5vblZpZXdTdWJtaXQoKSxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goQ29tbW9uLlBkZkV4cG9ydEhlbHBlci5jcmVhdGVUb29sQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIGdyaWQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvblZpZXdTdWJtaXQ6ICgpID0+IHRoaXMub25WaWV3U3VibWl0KCksXHJcbiAgICAgICAgICAgICAgICByZXBvcnRUaXRsZTogJ1Byb2R1Y3QgTGlzdCcsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5UaXRsZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnRGlzY29udGludWVkJzogJ0Rpcy4nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRhYmxlT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblN0eWxlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9kdWN0SUQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiAyNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGlnbjogJ3JpZ2h0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNjb3VudGludWVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogMjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnU2F2ZSBDaGFuZ2VzJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnYXBwbHktY2hhbmdlcy1idXR0b24gZGlzYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogZSA9PiB0aGlzLnNhdmVDbGljaygpLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3UHJvY2Vzc0RhdGEocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlcyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFNhdmVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub25WaWV3UHJvY2Vzc0RhdGEocmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUExFQVNFIE5PVEUhIElubGluZSBlZGl0aW5nIGluIGdyaWRzIGlzIG5vdCBzb21ldGhpbmcgU2VyZW5pdHkgc3VwcG9ydHMgbm9yIHJlY29tbWVuZHMuXHJcbiAgICAgICAgLy8gU2xpY2tHcmlkIGhhcyBzb21lIHNldCBvZiBsaW1pdGF0aW9ucywgVUkgaXMgdmVyeSBoYXJkIHRvIHVzZSBvbiBzb21lIGRldmljZXMgbGlrZSBtb2JpbGUsIFxyXG4gICAgICAgIC8vIGN1c3RvbSB3aWRnZXRzIGFuZCB2YWxpZGF0aW9ucyBhcmUgbm90IHBvc3NpYmxlLCBhbmQgYXMgYSBib251cyB0aGUgY29kZSBjYW4gYmVjb21lIGEgbWVzcy5cclxuICAgICAgICAvLyBcclxuICAgICAgICAvLyBUaGlzIHdhcyBqdXN0IGEgc2FtcGxlIGhvdy10byBhZnRlciBtdWNoIHJlcXVlc3RzLCBhbmQgaXMgbm90IHN1cHBvcnRlZC4gXHJcbiAgICAgICAgLy8gVGhpcyBpcyBhbGwgd2UgY2FuIG9mZmVyLCBwbGVhc2UgZG9uJ3QgYXNrIHVzIHRvIEd1aWRlIHlvdS4uLlxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJdCB3b3VsZCBiZSBuaWNlIGlmIHdlIGNvdWxkIHVzZSBhdXRvbnVtZXJpYywgU2VyZW5pdHkgZWRpdG9ycyBldGMuIGhlcmUsIHRvIGNvbnRyb2wgaW5wdXQgdmFsaWRhdGlvbixcclxuICAgICAgICAgKiBidXQgaXQncyBub3Qgc3VwcG9ydGVkIGJ5IFNsaWNrR3JpZCBhcyB3ZSBhcmUgb25seSBhbGxvd2VkIHRvIHJldHVybiBhIHN0cmluZywgYW5kIHNob3VsZCBhdHRhY2hcclxuICAgICAgICAgKiBubyBldmVudCBoYW5kbGVycyB0byByZW5kZXJlZCBjZWxsIGNvbnRlbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBudW1lcmljSW5wdXRGb3JtYXR0ZXIoY3R4KSB7XHJcbiAgICAgICAgICAgIHZhciBrbGFzcyA9ICdlZGl0IG51bWVyaWMnO1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGN0eC5pdGVtIGFzIFByb2R1Y3RSb3c7XHJcbiAgICAgICAgICAgIHZhciBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ2hhbmdlc1tpdGVtLlByb2R1Y3RJRF07XHJcblxyXG4gICAgICAgICAgICBpZiAocGVuZGluZyAmJiBwZW5kaW5nW2N0eC5jb2x1bW4uZmllbGRdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGtsYXNzICs9ICcgZGlydHknO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldEVmZmVjdGl2ZVZhbHVlKGl0ZW0sIGN0eC5jb2x1bW4uZmllbGQpIGFzIG51bWJlcjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBcIjxpbnB1dCB0eXBlPSd0ZXh0JyBjbGFzcz0nXCIgKyBrbGFzcyArIFxyXG4gICAgICAgICAgICAgICAgXCInIGRhdGEtZmllbGQ9J1wiICsgY3R4LmNvbHVtbi5maWVsZCArIFxyXG4gICAgICAgICAgICAgICAgXCInIHZhbHVlPSdcIiArIFEuZm9ybWF0TnVtYmVyKHZhbHVlLCAnMC4jIycpICsgXCInLz5cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RyaW5nSW5wdXRGb3JtYXR0ZXIoY3R4KSB7XHJcbiAgICAgICAgICAgIHZhciBrbGFzcyA9ICdlZGl0IHN0cmluZyc7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gY3R4Lml0ZW0gYXMgUHJvZHVjdFJvdztcclxuICAgICAgICAgICAgdmFyIHBlbmRpbmcgPSB0aGlzLnBlbmRpbmdDaGFuZ2VzW2l0ZW0uUHJvZHVjdElEXTtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbiA9IGN0eC5jb2x1bW4gYXMgU2xpY2suQ29sdW1uO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBlbmRpbmcgJiYgcGVuZGluZ1tjb2x1bW4uZmllbGRdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGtsYXNzICs9ICcgZGlydHknO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldEVmZmVjdGl2ZVZhbHVlKGl0ZW0sIGNvbHVtbi5maWVsZCkgYXMgc3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIFwiPGlucHV0IHR5cGU9J3RleHQnIGNsYXNzPSdcIiArIGtsYXNzICtcclxuICAgICAgICAgICAgICAgIFwiJyBkYXRhLWZpZWxkPSdcIiArIGNvbHVtbi5maWVsZCArXHJcbiAgICAgICAgICAgICAgICBcIicgdmFsdWU9J1wiICsgUS5hdHRyRW5jb2RlKHZhbHVlKSArIFxyXG4gICAgICAgICAgICAgICAgXCInIG1heGxlbmd0aD0nXCIgKyBjb2x1bW4uc291cmNlSXRlbS5tYXhMZW5ndGggKyBcIicvPlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU29ycnkgYnV0IHlvdSBjYW5ub3QgdXNlIExvb2t1cEVkaXRvciwgZS5nLiBTZWxlY3QyIGhlcmUsIG9ubHkgcG9zc2libGUgaXMgYSBTRUxFQ1QgZWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0Rm9ybWF0dGVyKGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCwgaWRGaWVsZDogc3RyaW5nLCBsb29rdXA6IFEuTG9va3VwPGFueT4pIHtcclxuICAgICAgICAgICAgdmFyIGtsYXNzID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGN0eC5pdGVtIGFzIFByb2R1Y3RSb3c7XHJcbiAgICAgICAgICAgIHZhciBwZW5kaW5nID0gdGhpcy5wZW5kaW5nQ2hhbmdlc1tpdGVtLlByb2R1Y3RJRF07XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBjdHguY29sdW1uIGFzIFNsaWNrLkNvbHVtbjtcclxuXHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nICYmIHBlbmRpbmdbaWRGaWVsZF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAga2xhc3MgKz0gJyBkaXJ0eSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0RWZmZWN0aXZlVmFsdWUoaXRlbSwgaWRGaWVsZCk7XHJcbiAgICAgICAgICAgIHZhciBtYXJrdXAgPSBcIjxzZWxlY3QgY2xhc3M9J1wiICsga2xhc3MgK1xyXG4gICAgICAgICAgICAgICAgXCInIGRhdGEtZmllbGQ9J1wiICsgaWRGaWVsZCArIFxyXG4gICAgICAgICAgICAgICAgXCInIHN0eWxlPSd3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiAxMDAlJz5cIjtcclxuICAgICAgICAgICAgZm9yICh2YXIgYyBvZiBsb29rdXAuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpZCA9IGNbbG9va3VwLmlkRmllbGRdO1xyXG4gICAgICAgICAgICAgICAgbWFya3VwICs9IFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBRLmF0dHJFbmNvZGUoaWQpICsgXCInXCJcclxuICAgICAgICAgICAgICAgIGlmIChpZCA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmt1cCArPSBcIiBzZWxlY3RlZFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFya3VwICs9IFwiPlwiICsgUS5odG1sRW5jb2RlKGNbbG9va3VwLnRleHRGaWVsZF0pICsgXCI8L29wdGlvbj5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFya3VwICsgXCI8L3NlbGVjdD5cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RWZmZWN0aXZlVmFsdWUoaXRlbSwgZmllbGQpOiBhbnkge1xyXG4gICAgICAgICAgICB2YXIgcGVuZGluZyA9IHRoaXMucGVuZGluZ0NoYW5nZXNbaXRlbS5Qcm9kdWN0SURdO1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZyAmJiBwZW5kaW5nW2ZpZWxkXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1tmaWVsZF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtW2ZpZWxkXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGN0eCA9PiB0aGlzLm51bWVyaWNJbnB1dEZvcm1hdHRlcihjdHgpO1xyXG4gICAgICAgICAgICB2YXIgc3RyID0gY3R4ID0+IHRoaXMuc3RyaW5nSW5wdXRGb3JtYXR0ZXIoY3R4KTtcclxuXHJcbiAgICAgICAgICAgIFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09PSAnUXVhbnRpdHlQZXJVbml0JykuZm9ybWF0ID0gc3RyO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT09IGZsZC5DYXRlZ29yeU5hbWUpO1xyXG4gICAgICAgICAgICBjYXRlZ29yeS5yZWZlcmVuY2VkRmllbGRzID0gW2ZsZC5DYXRlZ29yeUlEXTtcclxuICAgICAgICAgICAgY2F0ZWdvcnkuZm9ybWF0ID0gY3R4ID0+IHRoaXMuc2VsZWN0Rm9ybWF0dGVyKGN0eCwgZmxkLkNhdGVnb3J5SUQsIENhdGVnb3J5Um93LmdldExvb2t1cCgpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdXBwbGllciA9IFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09PSBmbGQuU3VwcGxpZXJDb21wYW55TmFtZSk7XHJcbiAgICAgICAgICAgIHN1cHBsaWVyLnJlZmVyZW5jZWRGaWVsZHMgPSBbZmxkLlN1cHBsaWVySURdO1xyXG4gICAgICAgICAgICBzdXBwbGllci5mb3JtYXQgPSBjdHggPT4gdGhpcy5zZWxlY3RGb3JtYXR0ZXIoY3R4LCBmbGQuU3VwcGxpZXJJRCwgU3VwcGxpZXJSb3cuZ2V0TG9va3VwKCkpO1xyXG5cclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT09IGZsZC5Vbml0UHJpY2UpLmZvcm1hdCA9IG51bTtcclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT09IGZsZC5Vbml0c0luU3RvY2spLmZvcm1hdCA9IG51bTtcclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT09IGZsZC5Vbml0c09uT3JkZXIpLmZvcm1hdCA9IG51bTtcclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT09IGZsZC5SZW9yZGVyTGV2ZWwpLmZvcm1hdCA9IG51bTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbnB1dHNDaGFuZ2UoZTogSlF1ZXJ5RXZlbnRPYmplY3QpIHtcclxuICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLnNsaWNrR3JpZC5nZXRDZWxsRnJvbUV2ZW50KGUpO1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbUF0KGNlbGwucm93KTtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IGlucHV0LmRhdGEoJ2ZpZWxkJyk7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gUS5jb2FsZXNjZShRLnRyaW1Ub051bGwoaW5wdXQudmFsKCkpLCAnMCcpO1xyXG4gICAgICAgICAgICB2YXIgcGVuZGluZyA9IHRoaXMucGVuZGluZ0NoYW5nZXNbaXRlbS5Qcm9kdWN0SURdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVmZmVjdGl2ZSA9IHRoaXMuZ2V0RWZmZWN0aXZlVmFsdWUoaXRlbSwgZmllbGQpO1xyXG4gICAgICAgICAgICB2YXIgb2xkVGV4dDogc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuaGFzQ2xhc3MoXCJudW1lcmljXCIpKVxyXG4gICAgICAgICAgICAgICAgb2xkVGV4dCA9IFEuZm9ybWF0TnVtYmVyKGVmZmVjdGl2ZSwgJzAuIyMnKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgb2xkVGV4dCA9IGVmZmVjdGl2ZSBhcyBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChmaWVsZCA9PT0gJ1VuaXRQcmljZScpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gUS5wYXJzZURlY2ltYWwodGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeUVycm9yKFEudGV4dCgnVmFsaWRhdGlvbi5EZWNpbWFsJyksICcnLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWwob2xkVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5wdXQuaGFzQ2xhc3MoXCJudW1lcmljXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IFEucGFyc2VJbnRlZ2VyKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGkpIHx8IGkgPiAzMjc2NyB8fCBpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFEubm90aWZ5RXJyb3IoUS50ZXh0KCdWYWxpZGF0aW9uLkludGVnZXInKSwgJycsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbChvbGRUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRleHQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZXNbaXRlbS5Qcm9kdWN0SURdID0gcGVuZGluZyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwZW5kaW5nW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpdGVtW2ZpZWxkXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlucHV0Lmhhc0NsYXNzKFwibnVtZXJpY1wiKSlcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gUS5mb3JtYXROdW1iZXIodmFsdWUsICcwLiMjJyk7XHJcblxyXG4gICAgICAgICAgICBpbnB1dC52YWwodmFsdWUpLmFkZENsYXNzKCdkaXJ0eScpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTYXZlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2V0U2F2ZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXIuZmluZEJ1dHRvbignYXBwbHktY2hhbmdlcy1idXR0b24nKS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLFxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5wZW5kaW5nQ2hhbmdlcykubGVuZ3RoID09PSAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2F2ZUNsaWNrKCkge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5wZW5kaW5nQ2hhbmdlcykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgY2FsbHMgc2F2ZSBzZXJ2aWNlIGZvciBhbGwgbW9kaWZpZWQgcm93cywgb25lIGJ5IG9uZVxyXG4gICAgICAgICAgICAvLyB5b3UgY291bGQgd3JpdGUgYSBiYXRjaCB1cGRhdGUgc2VydmljZVxyXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucGVuZGluZ0NoYW5nZXMpO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IC0xO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAoZnVuY3Rpb24gc2F2ZU5leHQoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKytjdXJyZW50ID49IGtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2N1cnJlbnRdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IFEuZGVlcENsb25lKHNlbGYucGVuZGluZ0NoYW5nZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuUHJvZHVjdElEID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgUS5zZXJ2aWNlUmVxdWVzdCgnTm9ydGh3aW5kL1Byb2R1Y3QvVXBkYXRlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBrZXksXHJcbiAgICAgICAgICAgICAgICAgICAgRW50aXR5OiBlbnRpdHlcclxuICAgICAgICAgICAgICAgIH0sIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzZWxmLnBlbmRpbmdDaGFuZ2VzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZU5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFF1aWNrRmlsdGVycygpIHtcclxuICAgICAgICAgICAgdmFyIGZsdCA9IHN1cGVyLmdldFF1aWNrRmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHEgPSBRLnBhcnNlUXVlcnlTdHJpbmcoKTtcclxuICAgICAgICAgICAgaWYgKHFbXCJjYXRcIl0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IFEudHJ5Rmlyc3QoZmx0LCB4ID0+IHguZmllbGQgPT0gXCJDYXRlZ29yeUlEXCIpO1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkuaW5pdCA9IGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGUuZWxlbWVudC5nZXRXaWRnZXQoU2VyZW5pdHkuTG9va3VwRWRpdG9yKS52YWx1ZSA9IHFbXCJjYXRcIl07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9Qcm9kdWN0L1Byb2R1Y3RHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YmNsYXNzIG9mIFByb2R1Y3RHcmlkIHRvIG92ZXJyaWRlIGRpYWxvZyB0eXBlIHRvIENsb25lYWJsZUVudGl0eURpYWxvZ1xyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDbG9uZWFibGVFbnRpdHlHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLlByb2R1Y3RHcmlkIHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiBDbG9uZWFibGVFbnRpdHlEaWFsb2c7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgaW1wb3J0IGZsZCA9IE9yZGVyUm93LkZpZWxkcztcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmZpbHRlcmFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIE9yZGVyR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8T3JkZXJSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zS2V5KCkgeyByZXR1cm4gXCJOb3J0aHdpbmQuT3JkZXJcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gPGFueT5PcmRlckRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gT3JkZXJSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBPcmRlclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIE9yZGVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzaGlwcGluZ1N0YXRlRmlsdGVyOiBTZXJlbml0eS5FbnVtRWRpdG9yO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFF1aWNrRmlsdGVycygpIHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBzdXBlci5nZXRRdWlja0ZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgIGZpbHRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBTZXJlbml0eS5Mb29rdXBFZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwS2V5OiBQcm9kdWN0Um93Lmxvb2t1cEtleVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnUHJvZHVjdElEJyxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29udGFpbnMgUHJvZHVjdCBpbiBEZXRhaWxzJyxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnZpZXcucGFyYW1zIGFzIE9yZGVyTGlzdFJlcXVlc3QpLlByb2R1Y3RJRCA9IFEudG9JZCh3LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2hpZGRlbi14cydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVRdWlja0ZpbHRlcnMoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVF1aWNrRmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zaGlwcGluZ1N0YXRlRmlsdGVyID0gdGhpcy5maW5kUXVpY2tGaWx0ZXIoU2VyZW5pdHkuRW51bUVkaXRvciwgZmxkLlNoaXBwaW5nU3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goQ29tbW9uLkV4Y2VsRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2U6IE9yZGVyU2VydmljZS5iYXNlVXJsICsgJy9MaXN0RXhjZWwnLFxyXG4gICAgICAgICAgICAgICAgb25WaWV3U3VibWl0OiAoKSA9PiB0aGlzLm9uVmlld1N1Ym1pdCgpLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiB0cnVlXHJcbiAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChDb21tb24uUGRmRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG9uVmlld1N1Ym1pdDogKCkgPT4gdGhpcy5vblZpZXdTdWJtaXQoKVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnMuc3BsaWNlKDEsIDAsIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnUHJpbnQgSW52b2ljZScsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogY3R4ID0+ICc8YSBjbGFzcz1cImlubGluZS1hY3Rpb24gcHJpbnQtaW52b2ljZVwiIHRpdGxlPVwiaW52b2ljZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLWZpbGUtcGRmLW8gdGV4dC1yZWRcIj48L2k+PC9hPicsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uQ2xpY2soZSwgcm93LCBjZWxsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1BdChyb3cpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGNsaWNrcyBcImlcIiBlbGVtZW50LCBlLmcuIGljb25cclxuICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnQoKS5oYXNDbGFzcygnaW5saW5lLWFjdGlvbicpKVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNDbGFzcygnaW5saW5lLWFjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNDbGFzcygncHJpbnQtaW52b2ljZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU2VyRXh0cmFDb3JlLkNvbW1vbi5SZXBvcnRIZWxwZXIuZXhlY3V0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydEtleTogJ05vcnRod2luZC5PcmRlckRldGFpbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT3JkZXJJRDogaXRlbS5PcmRlcklEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldF9zaGlwcGluZ1N0YXRlKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zaGlwcGluZ1N0YXRlRmlsdGVyLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRCdXR0b25DbGljaygpIHtcclxuICAgICAgICAgICAgdmFyIGVxID0gdGhpcy52aWV3LnBhcmFtcy5FcXVhbGl0eUZpbHRlcjtcclxuICAgICAgICAgICAgdGhpcy5lZGl0SXRlbSg8T3JkZXJSb3c+e1xyXG4gICAgICAgICAgICAgICAgQ3VzdG9tZXJJRDogZXEgPyBlcS5DdXN0b21lcklEIDogbnVsbFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9PcmRlci9PcmRlckdyaWQudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIERlZmF1bHRWYWx1ZXNJbk5ld0dyaWQgZXh0ZW5kcyBOb3J0aHdpbmQuT3JkZXJHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIE5ldyBJdGVtIGJ1dHRvbiBpcyBjbGlja2VkLlxyXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIGl0IGNhbGxzIEVkaXRJdGVtIHdpdGggYW4gZW1wdHkgZW50aXR5LlxyXG4gICAgICAgICAqIFRoaXMgaXMgYSBnb29kIHBsYWNlIHRvIGZpbGwgaW4gZGVmYXVsdCB2YWx1ZXMgZm9yIE5ldyBJdGVtIGJ1dHRvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkQnV0dG9uQ2xpY2soKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdEl0ZW0oPE5vcnRod2luZC5PcmRlclJvdz57XHJcbiAgICAgICAgICAgICAgICBDdXN0b21lcklEOiAnQU5UT04nLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWREYXRlOiBRLmZvcm1hdERhdGUobmV3IERhdGUoKSwgJ3l5eXktTU0tZGQnKSxcclxuICAgICAgICAgICAgICAgIEVtcGxveWVlSUQ6IE5vcnRod2luZC5FbXBsb3llZVJvdy5nZXRMb29rdXAoKS5pdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LkZ1bGxOYW1lID09PSAnUm9iZXJ0IEtpbmcnKVswXS5FbXBsb3llZUlELFxyXG4gICAgICAgICAgICAgICAgU2hpcFZpYTogTm9ydGh3aW5kLlNoaXBwZXJSb3cuZ2V0TG9va3VwKCkuaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4geC5Db21wYW55TmFtZSA9PT0gJ1NwZWVkeSBFeHByZXNzJylbMF0uU2hpcHBlcklEXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIC8vIHByZXNlcnZpbmcgZGVmYXVsdCBOZXcgSXRlbSBidXR0b25cclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBZGQgT3JkZXIgZnJvbSB0aGUgUXVlZW4nLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdhZGQtYnV0dG9uJywgXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNpbmcgRWRpdEl0ZW0gbWV0aG9kIGFzIGEgc2hvcnRjdXQgdG8gY3JlYXRlIGEgbmV3IE9yZGVyIGRpYWxvZyxcclxuICAgICAgICAgICAgICAgICAgICAvLyBiaW5kIHRvIGl0cyBldmVudHMsIGxvYWQgb3VyIG9yZGVyIHJvdywgYW5kIG9wZW4gZGlhbG9nXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0SXRlbSg8Tm9ydGh3aW5kLk9yZGVyUm93PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VzdG9tZXJJRDogJ1FVRUVOJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRW1wbG95ZWVJRDogTm9ydGh3aW5kLkVtcGxveWVlUm93LmdldExvb2t1cCgpLml0ZW1zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4geC5GdWxsTmFtZSA9PT0gJ05hbmN5IERhdm9saW8nKVswXS5FbXBsb3llZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaGlwVmlhOiBOb3J0aHdpbmQuU2hpcHBlclJvdy5nZXRMb29rdXAoKS5pdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih4ID0+IHguQ29tcGFueU5hbWUgPT09ICdVbml0ZWQgUGFja2FnZScpWzBdLlNoaXBwZXJJRFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0FkZCBPcmRlciB3aXRoIDUgQ2hhaSBieSBMYXVyYScsIGNzc0NsYXNzOiAnYWRkLW5vdGUtYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjb3VsZCB1c2UgRWRpdEl0ZW0gaGVyZSB0b28sIGJ1dCBmb3IgZGVtb25zdHJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHB1cnBvc2VzIHdlIGFyZSBtYW51YWxseSBjcmVhdGluZyBkaWFsb2cgdGhpcyB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRsZyA9IG5ldyBOb3J0aHdpbmQuT3JkZXJEaWFsb2coKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGdyaWQgd2F0Y2ggZm9yIGNoYW5nZXMgdG8gbWFudWFsbHkgY3JlYXRlZCBkaWFsb2csIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdoZW4gYSBuZXcgaXRlbSBpcyBzYXZlZCwgZ3JpZCBjYW4gcmVmcmVzaCBpdHNlbGZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREaWFsb2coZGxnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IGEgcmVmZXJlbmNlIHRvIHByb2R1Y3QgQ2hhaVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFpID0gTm9ydGh3aW5kLlByb2R1Y3RSb3cuZ2V0TG9va3VwKCkuaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih4ID0+IHguUHJvZHVjdE5hbWUgPT09ICdDaGFpJylbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvYWRFbnRpdHlBbmRPcGVuRGlhbG9nLCBsb2FkcyBhbiBPcmRlclJvdyBcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBkaWFsb2cgYW5kIG9wZW5zIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdXJhQ2FsbGFoYW5JRCA9IE5vcnRod2luZC5FbXBsb3llZVJvdy5nZXRMb29rdXAoKS5pdGVtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4geC5GdWxsTmFtZSA9PT0gJ0xhdXJhIENhbGxhaGFuJylbMF0uRW1wbG95ZWVJRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGxnLmxvYWRFbnRpdHlBbmRPcGVuRGlhbG9nKDxOb3J0aHdpbmQuT3JkZXJSb3c+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21lcklEOiAnR09VUkwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFbXBsb3llZUlEOiBsYXVyYUNhbGxhaGFuSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERldGFpbExpc3Q6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9kdWN0SUQ6IGNoYWkuUHJvZHVjdElELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdE5hbWU6IGNoYWkuUHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVbml0UHJpY2U6IGNoYWkuVW5pdFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUXVhbnRpdHk6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaW5lVG90YWw6IGNoYWkuVW5pdFByaWNlICogNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidXR0b25zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzLkRpYWxvZ0JveGVzIHtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVBhZ2UoKSB7XHJcbiAgICAgICAgY29uZmlybURpYWxvZ0J1dHRvbnMoKTtcclxuICAgICAgICBjb25maXJtV2l0aEN1c3RvbVRpdGxlKCk7XHJcbiAgICAgICAgaW5mb3JtYXRpb24oKTtcclxuICAgICAgICB3YXJuaW5nKCk7XHJcbiAgICAgICAgYWxlcnQoKTtcclxuICAgICAgICBhbGVydFdpdGhIdG1sQ29udGVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbmZpcm1EaWFsb2dCdXR0b25zKCkge1xyXG5cclxuICAgICAgICAvLyBoZXJlIHdlIGRlbW9uc3RyYXRlIGhvdyB5b3UgY2FuIGRldGVjdCB3aGljaCBidXR0b24gdXNlciBoYXMgY2xpY2tlZFxyXG4gICAgICAgIC8vIHNlY29uZCBwYXJhbWV0ZXIgaXMgWWVzIGhhbmRsZXIgYW5kIGl0IGlzIGNhbGxlZCBvbmx5IHdoZW4gdXNlciBjbGlja3MgWWVzLlxyXG4gICAgICAgIC8vIHRoaXJkIHBhcmFtZXRlciBoYXMgc29tZSBhZGRpdGlvbmFsIG9wdGlvbnMsIHRoYXQgeW91IHNob3VsZCBvbmx5IHVzZSB3aGVuIG5lZWRlZFxyXG5cclxuICAgICAgICAkKCcjQ29uZmlybURpYWxvZ0J1dHRvbnMnKS5jbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgIFEuY29uZmlybShcclxuICAgICAgICAgICAgICAgIFwiQ2xpY2sgb25lIG9mIGJ1dHRvbnMsIG9yIGNsb3NlIGRpYWxvZyB3aXRoIFt4XSBvbiB0b3AgcmlnaHQsIGknbGwgdGVsbCB5b3Ugd2hhdCB5b3UgZGlkIVwiLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFEubm90aWZ5U3VjY2VzcyhcIllvdSBjbGlja2VkIFlFUy4gR3JlYXQhXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBvbk5vOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFEubm90aWZ5SW5mbyhcIllvdSBjbGlja2VkIE5PLiBXaHk/XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlFcnJvcihcIllvdSBjbGlja2VkIFguIE9wZXJhdGlvbiBpcyBjYW5jZWxsZWQuIFdpbGwgdHJ5IGFnYWluP1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb25maXJtV2l0aEN1c3RvbVRpdGxlKCkge1xyXG5cclxuICAgICAgICAkKCcjQ29uZmlybVdpdGhDdXN0b21UaXRsZScpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgUS5jb25maXJtKFxyXG4gICAgICAgICAgICAgICAgXCJUaGlzIGNvbmZpcm1hdGlvbiBoYXMgYSBjdXN0b20gdGl0bGVcIixcclxuICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeVN1Y2Nlc3MoXCJBbGxyaWdodCFcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU29tZSBDdXN0b20gQ29uZmlybWF0aW9uIFRpdGxlJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5mb3JtYXRpb24oKSB7XHJcblxyXG4gICAgICAgICQoJyNJbmZvcm1hdGlvbicpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgUS5pbmZvcm1hdGlvbihcclxuICAgICAgICAgICAgICAgIFwiV2hhdCBhIG5pY2UgZGF5XCIsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlTdWNjZXNzKFwiTm8gcHJvYmxlbSFcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3YXJuaW5nKCkge1xyXG5cclxuICAgICAgICAkKCcjV2FybmluZycpLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgUS53YXJuaW5nKFwiSGV5LCBiZSBjYXJlZnVsIVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGVydCgpIHtcclxuXHJcbiAgICAgICAgJCgnI0FsZXJ0JykuY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICBRLmFsZXJ0KFwiSG91c3Rvbiwgd2UgZ290IGEgcHJvYmxlbSFcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWxlcnRXaXRoSHRtbENvbnRlbnQoKSB7XHJcbiAgICAgICAgJCgnI0FsZXJ0V2l0aEh0bWxDb250ZW50JykuY2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICBRLmFsZXJ0KFwiPGg0PkhlcmUgaXMgc29tZSBIVE1MIGNvbnRlbnQhPC9oND5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjx1bD48bGk+SXRlbSAxPC9saT48bGk+SXRlbSAyPC9saSA+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8bGk+VmlzaXQgPGEgaHJlZj0naHR0cDovL3NlcmVuaXR5LmlzLycgdGFyZ2V0PSdfYmxhbmsnIHN0eWxlPSdjb2xvcjogI2RkZic+aHR0cDovL3NlcmVuaXR5LmlzLzwvYT4hPC9saT48L3VsPlwiLCB7XHJcbiAgICAgICAgICAgICAgICBodG1sRW5jb2RlOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucGFuZWwoKVxyXG4gICAgZXhwb3J0IGNsYXNzIE9yZGVyRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPE9yZGVyUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIE9yZGVyRm9ybS5mb3JtS2V5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBPcmRlclJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIE9yZGVyUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBPcmRlclJvdy5uYW1lUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIE9yZGVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IE9yZGVyRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRUb29sYmFyQnV0dG9ucygpIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRUb29sYmFyQnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKFNlckV4dHJhQ29yZS5Db21tb24uUmVwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdJbnZvaWNlJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZXhwb3J0LXBkZi1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgcmVwb3J0S2V5OiAnTm9ydGh3aW5kLk9yZGVyRGV0YWlsJyxcclxuICAgICAgICAgICAgICAgIGdldFBhcmFtczogKCkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICBPcmRlcklEOiB0aGlzLmdldF9lbnRpdHlJZCgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUludGVyZmFjZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b29sYmFyLmZpbmRCdXR0b24oJ2V4cG9ydC1wZGYtYnV0dG9uJykudG9nZ2xlKHRoaXMuaXNFZGl0TW9kZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyRGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgdmVyc2lvbiBvZiBvcmRlciBkaWFsb2cgY29udmVydGVkIHRvIGEgcGFuZWwgYnkgYWRkaW5nIFNlcmVuaXR5LkRlY29yYXRvcnMucGFuZWwgZGVjb3JhdG9yLlxyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5wYW5lbCgpXHJcbiAgICBleHBvcnQgY2xhc3MgRW50aXR5RGlhbG9nQXNQYW5lbCBleHRlbmRzIE5vcnRod2luZC5PcmRlckRpYWxvZyB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUludGVyZmFjZSgpIHtcclxuICAgICAgICAgICAgc3VwZXIudXBkYXRlSW50ZXJmYWNlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzQnV0dG9uLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblNhdmVTdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1NhdmVTdWNjZXNzTWVzc2FnZShyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIENhdGVnb3J5RGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPENhdGVnb3J5Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIENhdGVnb3J5Rm9ybS5mb3JtS2V5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBDYXRlZ29yeVJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIENhdGVnb3J5Um93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBDYXRlZ29yeVJvdy5uYW1lUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIENhdGVnb3J5U2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IENhdGVnb3J5Rm9ybSh0aGlzLmlkUHJlZml4KTtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvQ2F0ZWdvcnkvQ2F0ZWdvcnlEaWFsb2cudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEdldEluc2VydGVkUmVjb3JkSWREaWFsb2cgZXh0ZW5kcyBOb3J0aHdpbmQuQ2F0ZWdvcnlEaWFsb2cge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHNhdmUgcmVxdWVzdCB0byBzZXJ2aWNlXHJcbiAgICAgICAgICogaXMgY29tcGxldGVkIHN1Y2Nlc2Z1bGx5LiBUaGlzIGNhbiBiZSBhbiBpbnNlcnQgb3IgdXBkYXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHJlc3BvbnNlIFJlc3BvbnNlIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgb25TYXZlU3VjY2VzcyhyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKTogdm9pZCB7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVjayB0aGF0IHRoaXMgaXMgYW4gaW5zZXJ0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTmV3KCkpIHtcclxuICAgICAgICAgICAgICAgIFEubm90aWZ5U3VjY2VzcyhcIkp1c3QgaW5zZXJ0ZWQgYSBjYXRlZ29yeSB3aXRoIElEOiBcIiArIHJlc3BvbnNlLkVudGl0eUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB5b3UgY291bGQgYWxzbyBvcGVuIGEgbmV3IGRpYWxvZ1xyXG4gICAgICAgICAgICAgICAgLy8gbmV3IE5vcnRod2luZC5DYXRlZ29yeURpYWxvZygpLmxvYWRCeUlkQW5kT3BlbkRpYWxvZyhyZXNwb25zZS5FbnRpdHlJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnV0IGxldCdzIGJldHRlciBsb2FkIGluc2VydGVkIHJlY29yZCB1c2luZyBSZXRyaWV2ZSBzZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICBOb3J0aHdpbmQuQ2F0ZWdvcnlTZXJ2aWNlLlJldHJpZXZlKDxhbnk+e1xyXG4gICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiByZXNwb25zZS5FbnRpdHlJZFxyXG4gICAgICAgICAgICAgICAgfSwgcmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlJbmZvKFwiTG9va3MgbGlrZSB0aGUgY2F0ZWdvcnkgeW91IGFkZGVkIGhhcyBuYW1lOiBcIiArIHJlc3AuRW50aXR5LkNhdGVnb3J5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDYXRlZ29yeUdyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPENhdGVnb3J5Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLkNhdGVnb3J5XCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIDxhbnk+Q2F0ZWdvcnlEaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIENhdGVnb3J5Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gQ2F0ZWdvcnlSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBDYXRlZ29yeVNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvQ2F0ZWdvcnkvQ2F0ZWdvcnlHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YmNsYXNzIG9mIENhdGVnb3J5R3JpZCB0byBvdmVycmlkZSBkaWFsb2cgdHlwZSB0byBHZXRJbnNlcnRlZFJlY29yZElkRGlhbG9nXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEdldEluc2VydGVkUmVjb3JkSWRHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLkNhdGVnb3J5R3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gR2V0SW5zZXJ0ZWRSZWNvcmRJZERpYWxvZzsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJEaWFsb2cudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3R5bGluZyBmb3IgY29sdW1ucyBpcyBkb25lIHdpdGggQ1NTIGluIHNpdGUuYmFzaWNzYW1wbGVzLmxlc3MgZmlsZS5cclxuICAgICAqIFdoZW4gY29tcGFyaW5nIHRoaXMgdG8gTXVsdGlDb2x1bW5EaWFsb2cgc2FtcGxlLCB5b3UgbWF5IG5vdGljZSB0aGF0XHJcbiAgICAgKiB0aGlzIHZlcnNpb24gcmVxdWlyZXMgbXVjaCBsZXNzIEpTIGFuZCBDU1MgY29kZS5cclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgTXVsdGlDb2x1bW5SZXNwb25zaXZlRGlhbG9nIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyRGlhbG9nIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9PcmRlci9PcmRlckdyaWQudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3ViY2xhc3Mgb2YgT3JkZXJHcmlkIHRvIG92ZXJyaWRlIGRpYWxvZyB0eXBlIHRvIE11bHRpQ29sdW1uUmVzcG9uc2l2ZURpYWxvZ1xyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBNdWx0aUNvbHVtblJlc3BvbnNpdmVHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gTXVsdGlDb2x1bW5SZXNwb25zaXZlRGlhbG9nOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9PcmRlci9PcmRlckRpYWxvZy50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgY3VzdG9tIG9yZGVyIGRpYWxvZyBzdWJjbGFzcyB0aGF0IHdpbGwgaGF2ZSBhIHRhYiB0byBkaXNwbGF5IGFuZCBlZGl0IHNlbGVjdGVkIGN1c3RvbWVyIGRldGFpbHMuXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIE90aGVyRm9ybUluVGFiRGlhbG9nIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyRGlhbG9nIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjdXN0b21lclByb3BlcnR5R3JpZDogU2VyZW5pdHkuUHJvcGVydHlHcmlkO1xyXG4gICAgICAgIHByaXZhdGUgY3VzdG9tZXJGb3JtOiBOb3J0aHdpbmQuQ3VzdG9tZXJGb3JtO1xyXG4gICAgICAgIHByaXZhdGUgY3VzdG9tZXJWYWxpZGF0b3I6IEpRdWVyeVZhbGlkYXRpb24uVmFsaWRhdG9yO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGVudGl0eSBkaWFsb2dzIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIHByb3BlcnR5IGdyaWQgb24gZWxlbWVudCB3aXRoIElEIFwiUHJvcGVydHlHcmlkXCIuXHJcbiAgICAgICAgICAgIC8vIGhlcmUgd2UgZXhwbGljaXRseSBjcmVhdGUgYW5vdGhlciwgdGhlIGN1c3RvbWVyIHByb3BlcnR5IGdyaWQgKHZlcnRpY2FsIGZvcm0pIG9uIGVsZW1lbnQgd2l0aCBJRCBcIkN1c3RvbWVyUHJvcGVydHlHcmlkXCIuXHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJQcm9wZXJ0eUdyaWQgPSBuZXcgU2VyZW5pdHkuUHJvcGVydHlHcmlkKHRoaXMuYnlJZChcIkN1c3RvbWVyUHJvcGVydHlHcmlkXCIpLCB7XHJcbiAgICAgICAgICAgICAgICBpZFByZWZpeDogdGhpcy5pZFByZWZpeCArIFwiX0N1c3RvbWVyX1wiLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IFEuZ2V0Rm9ybShOb3J0aHdpbmQuQ3VzdG9tZXJGb3JtLmZvcm1LZXkpLmZpbHRlcih4ID0+IHgubmFtZSAhPSAnQ3VzdG9tZXJJRCcpLFxyXG4gICAgICAgICAgICAgICAgdXNlQ2F0ZWdvcmllczogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMganVzdCBhIGhlbHBlciB0byBhY2Nlc3MgZWRpdG9ycyBpZiBuZWVkZWRcclxuICAgICAgICAgICAgdGhpcy5jdXN0b21lckZvcm0gPSBuZXcgTm9ydGh3aW5kLkN1c3RvbWVyRm9ybSgodGhpcy5jdXN0b21lclByb3BlcnR5R3JpZCBhcyBhbnkpLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgdmFsaWRhdG9yIGZvciBjdXN0b21lciBmb3JtXHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJWYWxpZGF0b3IgPSB0aGlzLmJ5SWQoXCJDdXN0b21lckZvcm1cIikudmFsaWRhdGUoUS52YWxpZGF0ZU9wdGlvbnMoe30pKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWxmQ2hhbmdlID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIGFub3RoZXIgdG9vbGJhciBmb3IgY3VzdG9tZXIgdGFiIHRoYXQgd2lsbCBvbmx5IHNhdmUgQ3VzdG9tZXJcclxuICAgICAgICAgICAgbmV3IFNlcmVuaXR5LlRvb2xiYXIodGhpcy5ieUlkKFwiQ3VzdG9tZXJUb29sYmFyXCIpLCB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiBcImFwcGx5LWNoYW5nZXMtYnV0dG9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFEudGV4dChcIkNvbnRyb2xzLkVudGl0eURpYWxvZy5TYXZlQnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5nZXRDdXN0b21lcklEKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VzdG9tZXJWYWxpZGF0b3IuZm9ybSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJlcGFyZSBhbiBlbXB0eSBlbnRpdHkgdG8gc2VyaWFsaXplIGN1c3RvbWVyIGRldGFpbHMgaW50b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IDxOb3J0aHdpbmQuQ3VzdG9tZXJSb3c+e307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJQcm9wZXJ0eUdyaWQuc2F2ZShjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vcnRod2luZC5DdXN0b21lclNlcnZpY2UuVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGl0eTogY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWxvYWQgY3VzdG9tZXIgbGlzdCBqdXN0IGluIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFEucmVsb2FkTG9va3VwKE5vcnRod2luZC5DdXN0b21lclJvdy5sb29rdXBLZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBmbGFnIHRoYXQgd2UgYXJlIHRyaWdnZXJpbmcgY3VzdG9tZXIgc2VsZWN0IGNoYW5nZSBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGFjdGl2ZSB0YWIgd2lsbCBjaGFuZ2UgdG8gZmlyc3Qgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmQ2hhbmdlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIHNvIHRoYXQgY3VzdG9tZXIgc2VsZWN0IHVwZGF0ZXMgaXRzIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIGlmIENvbXBhbnkgTmFtZSBpcyBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVySUQuZWxlbWVudC5jaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGZDaGFuZ2UtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeVN1Y2Nlc3MoXCJTYXZlZCBjdXN0b21lciBkZXRhaWxzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ3VzdG9tZXJJRC5jaGFuZ2UoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZkNoYW5nZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbWVySUQgPSB0aGlzLmdldEN1c3RvbWVySUQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBTZXJlbml0eS5UYWJzRXh0ZW5zaW9ucy5zZXREaXNhYmxlZCh0aGlzLnRhYnMsICdDdXN0b21lcicsICFjdXN0b21lcklEKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1c3RvbWVySUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBubyBjdXN0b21lciBpcyBzZWxlY3RlZCwganVzdCBsb2FkIGFuIGVtcHR5IGVudGl0eVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJQcm9wZXJ0eUdyaWQubG9hZCh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxvYWQgc2VsZWN0ZWQgY3VzdG9tZXIgaW50byBjdXN0b21lciBmb3JtIGJ5IGNhbGxpbmcgQ3VzdG9tZXJTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICBOb3J0aHdpbmQuQ3VzdG9tZXJTZXJ2aWNlLlJldHJpZXZlKHtcclxuICAgICAgICAgICAgICAgICAgICBFbnRpdHlJZDogY3VzdG9tZXJJRFxyXG4gICAgICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJQcm9wZXJ0eUdyaWQubG9hZChyZXNwb25zZS5FbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldEN1c3RvbWVySUQoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXN0b21lcklEID0gdGhpcy5mb3JtLkN1c3RvbWVySUQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoUS5pc0VtcHR5T3JOdWxsKGN1c3RvbWVySUQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyB1bmZvcnR1bmF0ZWx5LCBDdXN0b21lcklEIChhIHN0cmluZykgdXNlZCBpbiB0aGlzIGZvcm0gYW5kIFxyXG4gICAgICAgICAgICAvLyB0aGUgSUQgKGF1dG8gaW5jcmVtZW50IElEKSBhcmUgZGlmZmVyZW50LCBzbyB3ZSBuZWVkIHRvIFxyXG4gICAgICAgICAgICAvLyBmaW5kIG51bWVyaWMgSUQgZnJvbSBjdXN0b21lciBsb29rdXBzLiBcclxuICAgICAgICAgICAgLy8geW91J2xsIHByb2JhYmx5IHdvbid0IG5lZWQgdGhpcyBzdGVwLlxyXG4gICAgICAgICAgICByZXR1cm4gUS5maXJzdChOb3J0aHdpbmQuQ3VzdG9tZXJSb3cuZ2V0TG9va3VwKCkuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICB4ID0+IHguQ3VzdG9tZXJJRCA9PSBjdXN0b21lcklEKS5JRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvYWRFbnRpdHkoZW50aXR5OiBOb3J0aHdpbmQuT3JkZXJSb3cpIHtcclxuICAgICAgICAgICAgc3VwZXIubG9hZEVudGl0eShlbnRpdHkpO1xyXG5cclxuICAgICAgICAgICAgU2VyZW5pdHkuVGFic0V4dGVuc2lvbnMuc2V0RGlzYWJsZWQodGhpcy50YWJzLCAnQ3VzdG9tZXInLFxyXG4gICAgICAgICAgICAgICAgIXRoaXMuZ2V0Q3VzdG9tZXJJRCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJjbGFzcyBvZiBPcmRlckdyaWQgdG8gb3ZlcnJpZGUgZGlhbG9nIHR5cGUgdG8gT3RoZXJGb3JtSW5UYWJEaWFsb2dcclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgT3RoZXJGb3JtSW5UYWJHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gT3RoZXJGb3JtSW5UYWJEaWFsb2c7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyRGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE91ciBjdXN0b20gb3JkZXIgZGlhbG9nIHN1YmNsYXNzIHRoYXQgd2lsbCBoYXZlIGEgdGFiIHRvIGRpc3BsYXkgYW5kIGVkaXQgc2VsZWN0ZWQgY3VzdG9tZXIgZGV0YWlscy5cclxuICAgICAqIFdpdGggc2luZ2xlIHRvb2xiYXIgZm9yIGFsbCBmb3Jtc1xyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBPdGhlckZvcm1PbmVCYXJEaWFsb2cgZXh0ZW5kcyBOb3J0aHdpbmQuT3JkZXJEaWFsb2cge1xyXG5cclxuICAgICAgICBwcml2YXRlIGN1c3RvbWVyUHJvcGVydHlHcmlkOiBTZXJlbml0eS5Qcm9wZXJ0eUdyaWQ7XHJcbiAgICAgICAgcHJpdmF0ZSBjdXN0b21lckZvcm06IE5vcnRod2luZC5DdXN0b21lckZvcm07XHJcbiAgICAgICAgcHJpdmF0ZSBjdXN0b21lclZhbGlkYXRvcjogSlF1ZXJ5VmFsaWRhdGlvbi5WYWxpZGF0b3I7XHJcbiAgICAgICAgcHJpdmF0ZSBzZWxmQ2hhbmdlID0gMDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBlbnRpdHkgZGlhbG9ncyBieSBkZWZhdWx0IGNyZWF0ZXMgYSBwcm9wZXJ0eSBncmlkIG9uIGVsZW1lbnQgd2l0aCBJRCBcIlByb3BlcnR5R3JpZFwiLlxyXG4gICAgICAgICAgICAvLyBoZXJlIHdlIGV4cGxpY2l0bHkgY3JlYXRlIGFub3RoZXIsIHRoZSBjdXN0b21lciBwcm9wZXJ0eSBncmlkICh2ZXJ0aWNhbCBmb3JtKSBvbiBlbGVtZW50IHdpdGggSUQgXCJDdXN0b21lclByb3BlcnR5R3JpZFwiLlxyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWVyUHJvcGVydHlHcmlkID0gbmV3IFNlcmVuaXR5LlByb3BlcnR5R3JpZCh0aGlzLmJ5SWQoXCJDdXN0b21lclByb3BlcnR5R3JpZFwiKSwge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IFEuZ2V0Rm9ybShOb3J0aHdpbmQuQ3VzdG9tZXJGb3JtLmZvcm1LZXkpLmZpbHRlcih4ID0+IHgubmFtZSAhPSAnQ3VzdG9tZXJJRCcpLFxyXG4gICAgICAgICAgICAgICAgaWRQcmVmaXg6IHRoaXMuaWRQcmVmaXggKyBcIl9DdXN0b21lcl9cIixcclxuICAgICAgICAgICAgICAgIHVzZUNhdGVnb3JpZXM6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGp1c3QgYSBoZWxwZXIgdG8gYWNjZXNzIGVkaXRvcnMgaWYgbmVlZGVkXHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJGb3JtID0gbmV3IE5vcnRod2luZC5DdXN0b21lckZvcm0oKHRoaXMuY3VzdG9tZXJQcm9wZXJ0eUdyaWQgYXMgYW55KS5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpbml0aWFsaXplIHZhbGlkYXRvciBmb3IgY3VzdG9tZXIgZm9ybVxyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbWVyVmFsaWRhdG9yID0gdGhpcy5ieUlkKFwiQ3VzdG9tZXJGb3JtXCIpLnZhbGlkYXRlKFEudmFsaWRhdGVPcHRpb25zKHt9KSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ3VzdG9tZXJJRC5jaGFuZ2UoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxmQ2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VzdG9tZXJJRCA9IHRoaXMuZ2V0Q3VzdG9tZXJJRCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIFNlcmVuaXR5LlRhYnNFeHRlbnNpb25zLnNldERpc2FibGVkKHRoaXMudGFicywgJ0N1c3RvbWVyJywgIWN1c3RvbWVySUQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VzdG9tZXJJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGN1c3RvbWVyIGlzIHNlbGVjdGVkLCBqdXN0IGxvYWQgYW4gZW1wdHkgZW50aXR5XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lclByb3BlcnR5R3JpZC5sb2FkKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbG9hZCBzZWxlY3RlZCBjdXN0b21lciBpbnRvIGN1c3RvbWVyIGZvcm0gYnkgY2FsbGluZyBDdXN0b21lclNlcnZpY2VcclxuICAgICAgICAgICAgICAgIE5vcnRod2luZC5DdXN0b21lclNlcnZpY2UuUmV0cmlldmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBjdXN0b21lcklEXHJcbiAgICAgICAgICAgICAgICB9LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21lclByb3BlcnR5R3JpZC5sb2FkKHJlc3BvbnNlLkVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0Q3VzdG9tZXJJRCgpIHtcclxuICAgICAgICAgICAgdmFyIGN1c3RvbWVySUQgPSB0aGlzLmZvcm0uQ3VzdG9tZXJJRC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChRLmlzRW1wdHlPck51bGwoY3VzdG9tZXJJRCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIHVuZm9ydHVuYXRlbHksIEN1c3RvbWVySUQgKGEgc3RyaW5nKSB1c2VkIGluIHRoaXMgZm9ybSBhbmQgXHJcbiAgICAgICAgICAgIC8vIHRoZSBJRCAoYXV0byBpbmNyZW1lbnQgSUQpIGFyZSBkaWZmZXJlbnQsIHNvIHdlIG5lZWQgdG8gXHJcbiAgICAgICAgICAgIC8vIGZpbmQgbnVtZXJpYyBJRCBmcm9tIGN1c3RvbWVyIGxvb2t1cHMuIFxyXG4gICAgICAgICAgICAvLyB5b3UnbGwgcHJvYmFibHkgd29uJ3QgbmVlZCB0aGlzIHN0ZXAuXHJcbiAgICAgICAgICAgIHJldHVybiBRLmZpcnN0KE5vcnRod2luZC5DdXN0b21lclJvdy5nZXRMb29rdXAoKS5pdGVtcyxcclxuICAgICAgICAgICAgICAgIHggPT4geC5DdXN0b21lcklEID09IGN1c3RvbWVySUQpLklEO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9hZEVudGl0eShlbnRpdHk6IE5vcnRod2luZC5PcmRlclJvdykge1xyXG4gICAgICAgICAgICBzdXBlci5sb2FkRW50aXR5KGVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICBTZXJlbml0eS5UYWJzRXh0ZW5zaW9ucy5zZXREaXNhYmxlZCh0aGlzLnRhYnMsICdDdXN0b21lcicsXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5nZXRDdXN0b21lcklEKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2F2ZSB0aGUgY3VzdG9tZXIgYW5kIHRoZSBvcmRlciBcclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZUN1c3RvbWVyKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCwgb25TdWNjZXNzPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5nZXRDdXN0b21lcklEKCk7XHJcbiAgICAgICAgICAgIGlmICghaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGlkIG9mIEN1c3RvbWVyIGlzbid0IHByZXNlbnQsIHdlIHNhdmUgb25seSBPcmRlciBlbnRpdHlcclxuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHRhYlxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJUYWIgPSBTZXJlbml0eS5UYWJzRXh0ZW5zaW9ucy5hY3RpdmVUYWJLZXkodGhpcy50YWJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGNvcnJlY3QgdGFiIGFuZCB2YWxpZGF0ZSB0byBzZWUgdGhlIGVycm9yIG1lc3NhZ2UgaW4gdGFiXHJcbiAgICAgICAgICAgICAgICBTZXJlbml0eS5UYWJzRXh0ZW5zaW9ucy5zZWxlY3RUYWIodGhpcy50YWJzLCBcIkN1c3RvbWVyXCIpXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VzdG9tZXJWYWxpZGF0b3IuZm9ybSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlLXNlbGVjdCBpbml0aWFsIHRhYlxyXG4gICAgICAgICAgICAgICAgU2VyZW5pdHkuVGFic0V4dGVuc2lvbnMuc2VsZWN0VGFiKHRoaXMudGFicywgY3VyclRhYilcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVwYXJlIGFuIGVtcHR5IGVudGl0eSB0byBzZXJpYWxpemUgY3VzdG9tZXIgZGV0YWlscyBpbnRvXHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IDxOb3J0aHdpbmQuQ3VzdG9tZXJSb3c+e307XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWVyUHJvcGVydHlHcmlkLnNhdmUoYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgTm9ydGh3aW5kLkN1c3RvbWVyU2VydmljZS5VcGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICBFbnRpdHk6IGNcclxuICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWxvYWQgY3VzdG9tZXIgbGlzdCBqdXN0IGluIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICBRLnJlbG9hZExvb2t1cChOb3J0aHdpbmQuQ3VzdG9tZXJSb3cubG9va3VwS2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGZsYWcgdGhhdCB3ZSBhcmUgdHJpZ2dlcmluZyBjdXN0b21lciBzZWxlY3QgY2hhbmdlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGFjdGl2ZSB0YWIgd2lsbCBjaGFuZ2UgdG8gZmlyc3Qgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxmQ2hhbmdlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciBjaGFuZ2Ugc28gdGhhdCBjdXN0b21lciBzZWxlY3QgdXBkYXRlcyBpdHMgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIGlmIENvbXBhbnkgTmFtZSBpcyBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5DdXN0b21lcklELmVsZW1lbnQuY2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGZDaGFuZ2UtLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxsIHN1cGVyLnNhdmUgdG8gc2F2ZSBPcmRlciBlbnRpdHlcclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZU9yZGVyKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICBzdXBlci5zYXZlKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzYXZlQWxsKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVDdXN0b21lcihjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgIC8vIElmIGN1c3RvbWVyIHN1Y2Nlc3NhLCBzYXZlIE9yZGVyIGVudGl0eVxyXG4gICAgICAgICAgICAgICAgcmVzcCA9PiB0aGlzLnNhdmVPcmRlcihjYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRoaXMgaXMgY2FsbGVkIHdoZW4gc2F2ZS91cGRhdGUgYnV0dG9uIGlzIHByZXNzZWRcclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZShjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlQWxsKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJjbGFzcyBvZiBPcmRlckdyaWQgdG8gb3ZlcnJpZGUgZGlhbG9nIHR5cGUgdG8gT3RoZXJGb3JtSW5UYWJPbmVCYXJEaWFsb2dcclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgT3RoZXJGb3JtSW5UYWJPbmVCYXJHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gT3RoZXJGb3JtT25lQmFyRGlhbG9nOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFBvcHVsYXRlTGlua2VkRGF0YURpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxOb3J0aHdpbmQuT3JkZXJSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFBvcHVsYXRlTGlua2VkRGF0YUZvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBOb3J0aHdpbmQuT3JkZXJSb3cubmFtZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBOb3J0aHdpbmQuT3JkZXJTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGZvcm0gPSBuZXcgUG9wdWxhdGVMaW5rZWREYXRhRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBcImNoYW5nZVNlbGVjdDJcIiBpcyBvbmx5IGZpcmVkIHdoZW4gdXNlciBjaGFuZ2VzIHRoZSBzZWxlY3Rpb25cclxuICAgICAgICAgICAgLy8gYnV0IFwiY2hhbmdlXCIgaXMgZmlyZWQgd2hlbiBkaWFsb2cgc2V0cyBjdXN0b21lciBvbiBsb2FkIHRvb1xyXG4gICAgICAgICAgICAvLyBzbyB3ZSBwcmVmZXIgXCJjaGFuZ2VTZWxlY3QyXCIsIGFzIGluaXRpYWwgY3VzdG9tZXIgZGV0YWlscyBcclxuICAgICAgICAgICAgLy8gd2lsbCBnZXQgcG9wdWxhdGVkIGJ5IGluaXRpYWwgbG9hZCwgd2UgZG9uJ3Qgd2FudCBleHRyYSBjYWxsXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5DdXN0b21lcklELmNoYW5nZVNlbGVjdDIoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VzdG9tZXJJRCA9IHRoaXMuZm9ybS5DdXN0b21lcklELnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbChjdXN0b21lcklEKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VzdG9tZXJEZXRhaWxzKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW4gbm9ydGh3aW5kIEN1c3RvbWVySUQgaXMgYSBzdHJpbmcgbGlrZSBcIkFMRktJXCIsIFxyXG4gICAgICAgICAgICAgICAgLy8gd2hpbGUgaXRzIGFjdHVhbCBpbnRlZ2VyIElEIHZhbHVlIGlzIDEuXHJcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNvbnZlcnQgY3VzdG9tZXIgSUQgdG8gSUQuXHJcbiAgICAgICAgICAgICAgICAvLyB5b3Ugd29uJ3QgaGF2ZSB0byBkbyB0aGlzIGNvbnZlcnNpb24gd2l0aCB5b3VyIHRhYmxlc1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gUS5maXJzdChOb3J0aHdpbmQuQ3VzdG9tZXJSb3cuZ2V0TG9va3VwKCkuaXRlbXMsIHggPT4geC5DdXN0b21lcklEID09IGN1c3RvbWVySUQpLklEO1xyXG5cclxuICAgICAgICAgICAgICAgIE5vcnRod2luZC5DdXN0b21lclNlcnZpY2UuUmV0cmlldmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBpZFxyXG4gICAgICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VzdG9tZXJEZXRhaWxzKHJlc3BvbnNlLkVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNldEN1c3RvbWVyRGV0YWlscyhkZXRhaWxzOiBOb3J0aHdpbmQuQ3VzdG9tZXJSb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVyQ2l0eS52YWx1ZSA9IGRldGFpbHMuQ2l0eTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVyQ29udGFjdE5hbWUudmFsdWUgPSBkZXRhaWxzLkNvbnRhY3ROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ3VzdG9tZXJDb250YWN0VGl0bGUudmFsdWUgPSBkZXRhaWxzLkNvbnRhY3RUaXRsZTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVyQ291bnRyeS52YWx1ZSA9IGRldGFpbHMuQ291bnRyeTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVyRmF4LnZhbHVlID0gZGV0YWlscy5GYXg7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5DdXN0b21lclBob25lLnZhbHVlID0gZGV0YWlscy5QaG9uZTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLkN1c3RvbWVyUmVnaW9uLnZhbHVlID0gZGV0YWlscy5SZWdpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIGRpYWxvZyB3aWxsIGhhdmUgQ1NTIGNsYXNzIFwicy1Qb3B1bGF0ZUxpbmtlZERhdGFEaWFsb2dcIlxyXG4gICAgICAgICAqIFdlIGFyZSBjaGFuZ2luZyBpdCBoZXJlIHRvIFwicy1PcmRlckRpYWxvZ1wiLCB0byBtYWtlIGl0IHVzZSBkZWZhdWx0IE9yZGVyRGlhbG9nIHN0eWxlc1xyXG4gICAgICAgICAqIFRoaXMgaGFzIG5vIGVmZmVjdCBvdGhlciB0aGFuIGxvb2tzIG9uIHBvcHVsYXRlIGxpbmtlZCBkYXRhIGRlbW9uc3RyYXRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3NzQ2xhc3MoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXRDc3NDbGFzcygpICsgXCIgcy1PcmRlckRpYWxvZyBzLU5vcnRod2luZC1PcmRlckRpYWxvZ1wiO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgc3ViY2xhc3Mgb2YgT3JkZXJHcmlkIHRoYXQgbGF1bmNoZXMgUG9wdWxhdGVMaW5rZWREYXRhRGlhbG9nXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFBvcHVsYXRlTGlua2VkRGF0YUdyaWQgZXh0ZW5kcyBOb3J0aHdpbmQuT3JkZXJHcmlkIHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiBQb3B1bGF0ZUxpbmtlZERhdGFEaWFsb2c7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgU3VwcGxpZXJEaWFsb2cgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlEaWFsb2c8U3VwcGxpZXJSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtS2V5KCkgeyByZXR1cm4gU3VwcGxpZXJGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFN1cHBsaWVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gU3VwcGxpZXJSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldE5hbWVQcm9wZXJ0eSgpIHsgcmV0dXJuIFN1cHBsaWVyUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gU3VwcGxpZXJTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGZvcm0gPSBuZXcgU3VwcGxpZXJGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TGFuZ3VhZ2VzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VMaXN0LmdldFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9TdXBwbGllci9TdXBwbGllckRpYWxvZy50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUmVhZE9ubHlEaWFsb2cgZXh0ZW5kcyBOb3J0aHdpbmQuU3VwcGxpZXJEaWFsb2cge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtZXRob2QgdGhhdCBnZXRzIGxpc3Qgb2YgdG9vbCBcclxuICAgICAgICAgKiBidXR0b25zIHRvIGJlIGNyZWF0ZWQgaW4gYSBkaWFsb2cuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBIZXJlIHdlJ2xsIHJlbW92ZSBzYXZlIGFuZCBjbG9zZSBidXR0b24sIGFuZFxyXG4gICAgICAgICAqIGFwcGx5IGNoYW5nZXMgYnV0dG9ucy4gXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRvb2xiYXJCdXR0b25zKCk6IFNlcmVuaXR5LlRvb2xCdXR0b25bXSB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b25zID0gc3VwZXIuZ2V0VG9vbGJhckJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMuc3BsaWNlKFEuaW5kZXhPZihidXR0b25zLCB4ID0+IHguY3NzQ2xhc3MgPT0gXCJzYXZlLWFuZC1jbG9zZS1idXR0b25cIiksIDEpO1xyXG4gICAgICAgICAgICBidXR0b25zLnNwbGljZShRLmluZGV4T2YoYnV0dG9ucywgeCA9PiB4LmNzc0NsYXNzID09IFwiYXBwbHktY2hhbmdlcy1idXR0b25cIiksIDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gV2UgY291bGQgYWxzbyByZW1vdmUgZGVsZXRlIGJ1dHRvbiBoZXJlLCBidXQgZm9yIGRlbW9uc3RyYXRpb24gXHJcbiAgICAgICAgICAgIC8vIHB1cnBvc2VzIHdlJ2xsIGhpZGUgaXQgaW4gYW5vdGhlciBtZXRob2QgKHVwZGF0ZUludGVyZmFjZSlcclxuICAgICAgICAgICAgLy8gYnV0dG9ucy5zcGxpY2UoUS5pbmRleE9mKGJ1dHRvbnMsIHggPT4geC5jc3NDbGFzcyA9PSBcImRlbGV0ZS1idXR0b25cIiksIDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdvb2QgcGxhY2UgdG8gdXBkYXRlIHN0YXRlcyBvZlxyXG4gICAgICAgICAqIGludGVyZmFjZSBlbGVtZW50cy4gSXQgaXMgY2FsbGVkIGFmdGVyIGRpYWxvZ1xyXG4gICAgICAgICAqIGlzIGluaXRpYWxpemVkIGFuZCBhbiBlbnRpdHkgaXMgbG9hZGVkIGludG8gZGlhbG9nLlxyXG4gICAgICAgICAqIFRoaXMgaXMgYWxzbyBjYWxsZWQgaW4gbmV3IGl0ZW0gbW9kZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlSW50ZXJmYWNlKCk6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgc3VwZXIudXBkYXRlSW50ZXJmYWNlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBmaW5kaW5nIGFsbCBlZGl0b3IgZWxlbWVudHMgYW5kIHNldHRpbmcgdGhlaXIgcmVhZG9ubHkgYXR0cmlidXRlXHJcbiAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIGhlbHBlciBtZXRob2Qgb25seSB3b3JrcyB3aXRoIGJhc2ljIGlucHV0cywgXHJcbiAgICAgICAgICAgIC8vIHNvbWUgZWRpdG9ycyByZXF1aXJlIHdpZGdldCBiYXNlZCBzZXQgcmVhZG9ubHkgb3ZlcmxvYWQgKHNldFJlYWRPbmx5KVxyXG4gICAgICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRSZWFkb25seSh0aGlzLmVsZW1lbnQuZmluZCgnLmVkaXRvcicpLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSByZXF1aXJlZCBhc3RlcmlzayAoKilcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJ3N1cCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhlcmUgaXMgYSB3YXkgdG8gbG9jYXRlIGEgYnV0dG9uIGJ5IGl0cyBjc3MgY2xhc3NcclxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCBhdmFpbGFibGUgaW4gXHJcbiAgICAgICAgICAgIC8vIGdldFRvb2xiYXJCdXR0b25zKCkgYmVjYXVzZSBidXR0b25zIGFyZSBub3QgXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZWQgdGhlcmUgeWV0IVxyXG4gICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgLy8gdGhpcy50b29sYmFyLmZpbmRCdXR0b24oJ2RlbGV0ZS1idXR0b24nKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBlbnRpdHkgZGlhbG9nIGFsc28gaGFzIHJlZmVyZW5jZSB2YXJpYWJsZXMgdG9cclxuICAgICAgICAgICAgLy8gaXRzIGRlZmF1bHQgYnV0dG9ucywgbGV0cyB1c2UgdGhlbSB0byBoaWRlIGRlbGV0ZSBidXR0b25cclxuICAgICAgICAgICAgdGhpcy5kZWxldGVCdXR0b24uaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gd2UgY291bGQgYWxzbyBoaWRlIHNhdmUgYnV0dG9ucyBqdXN0IGxpa2UgZGVsZXRlIGJ1dHRvbixcclxuICAgICAgICAgICAgLy8gYnV0IHRoZXkgYXJlIG51bGwgbm93IGFzIHdlIHJlbW92ZWQgdGhlbSBpbiBnZXRUb29sYmFyQnV0dG9ucygpXHJcbiAgICAgICAgICAgIC8vIGlmIHdlIGRpZG4ndCB3ZSBjb3VsZCB3cml0ZSBsaWtlIHRoaXM6XHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAvLyB0aGlzLmFwcGx5Q2hhbmdlc0J1dHRvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2F2ZUFuZENsb3NlQnV0dG9uLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgaGlkaW5nLCB3ZSBjb3VsZCBkaXNhYmxlIGEgYnV0dG9uXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIGRpYWxvZyB0aXRsZSBuZWVkcyB0byBiZSB1cGRhdGVkLlxyXG4gICAgICAgICAqIEJhc2UgY2xhc3MgcmV0dXJucyBzb21ldGhpbmcgbGlrZSAnRWRpdCB4eXonIGZvciBlZGl0IG1vZGUsXHJcbiAgICAgICAgICogYW5kICdOZXcgeHl6JyBmb3IgbmV3IHJlY29yZCBtb2RlLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEJ1dCBvdXIgZGlhbG9nIGlzIHJlYWRvbmx5LCBzbyB3ZSBzaG91bGQgY2hhbmdlIGl0IHRvICdWaWV3IHh5eidcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RW50aXR5VGl0bGUoKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0VkaXRNb2RlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdlIHNob3VsZG4ndCBoaXQgaGVyZSwgYnV0IGFueXdheSBmb3IgZGVtby4uLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSG93IGRpZCB5b3UgbWFuYWdlIHRvIG9wZW4gdGhpcyBkaWFsb2cgaW4gbmV3IHJlY29yZCBtb2RlP1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZW50aXR5U2luZ3VsYXIgaXMgdHlwZSBvZiByZWNvcmQgdGhpcyBkaWFsb2cgZWRpdHMuIHNvbWV0aGluZyBsaWtlICdTdXBwbGllcicuXHJcbiAgICAgICAgICAgICAgICAvLyB5b3UgY291bGQgaGFyZGNvZGUgaXQsIGJ1dCB0aGlzIGlzIGZvciBkZW1vbnN0cmF0aW9uXHJcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5VHlwZSA9IHN1cGVyLmdldEVudGl0eVNpbmd1bGFyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IG5hbWUgZmllbGQgdmFsdWUgb2YgcmVjb3JkIHRoaXMgZGlhbG9nIGVkaXRzXHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZ2V0RW50aXR5TmFtZUZpZWxkVmFsdWUoKSB8fCBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHlvdSBjb3VsZCB1c2UgUS5mb3JtYXQgd2l0aCBhIGxvY2FsIHRleHQsIGJ1dCBhZ2FpbiBkZW1vLi4uXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1ZpZXcgJyArIGVudGl0eVR5cGUgKyBcIiAoXCIgKyBuYW1lICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGFjdHVhbGx5IHRoZSBvbmUgdGhhdCBjYWxscyBnZXRFbnRpdHlUaXRsZSgpXHJcbiAgICAgICAgICogYW5kIHVwZGF0ZXMgdGhlIGRpYWxvZyB0aXRsZS4gV2UgY291bGQgZG8gaXQgaGVyZSB0b28uLi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlVGl0bGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZVRpdGxlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgc3VwZXIudXBkYXRlVGl0bGUoKSBjYWxsIGFib3ZlIGFuZCB1bmNvbW1lbnQgXHJcbiAgICAgICAgICAgIC8vIGJlbG93IGxpbmUgaWYgeW91J2QgbGlrZSB0byB1c2UgdGhpcyB2ZXJzaW9uXHJcbiAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAvLyB0aGlzLmRpYWxvZ1RpdGxlID0gJ1ZpZXcgU3VwcGxpZXIgKCcgKyB0aGlzLmdldEVudGl0eU5hbWVGaWVsZFZhbHVlKCkgKyAnKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBTdXBwbGllckdyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPFN1cHBsaWVyUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlN1cHBsaWVyXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIDxhbnk+U3VwcGxpZXJEaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFN1cHBsaWVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gU3VwcGxpZXJSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBTdXBwbGllclNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvU3VwcGxpZXIvU3VwcGxpZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgcmVhZG9ubHkgZ3JpZCB0aGF0IGxhdW5jaGVzIFJlYWRPbmx5RGlhbG9nXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFJlYWRPbmx5R3JpZCBleHRlbmRzIE5vcnRod2luZC5TdXBwbGllckdyaWQge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIFJlYWRPbmx5RGlhbG9nOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW1vdmluZyBhZGQgYnV0dG9uIGZyb20gZ3JpZCB1c2luZyBpdHMgY3NzIGNsYXNzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbnMuc3BsaWNlKFEuaW5kZXhPZihidXR0b25zLCB4ID0+IHguY3NzQ2xhc3MgPT0gXCJhZGQtYnV0dG9uXCIpLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkaW5nIFJlc3BvbnNpdmUgYXR0cmlidXRlIG1ha2VzIHRoaXMgZGlhbG9nIHVzZSBmdWxsIHNjcmVlbiBpbiBtb2JpbGUgZGV2aWNlcy5cclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZXNwb25zaXZlKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLm1heGltaXphYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBSZXNwb25zaXZlRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPE5vcnRod2luZC5PcmRlclJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBOb3J0aHdpbmQuT3JkZXJGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIE5vcnRod2luZC5PcmRlclJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIE5vcnRod2luZC5PcmRlclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YmNsYXNzIG9mIE9yZGVyR3JpZCB0byBvdmVycmlkZSBkaWFsb2cgdHlwZSB0byBSZXNwb25zaXZlRGlhbG9nXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFJlc3BvbnNpdmVHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gUmVzcG9uc2l2ZURpYWxvZzsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnBhbmVsKClcclxuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21lckRpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxDdXN0b21lclJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBDdXN0b21lckZvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gQ3VzdG9tZXJSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBDdXN0b21lclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gQ3VzdG9tZXJSb3cubmFtZVByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBDdXN0b21lclNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBDdXN0b21lckZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgIHByaXZhdGUgb3JkZXJzR3JpZDogQ3VzdG9tZXJPcmRlcnNHcmlkO1xyXG4gICAgICAgIHByaXZhdGUgbG9hZGVkU3RhdGU6IHN0cmluZztcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyc0dyaWQgPSBuZXcgQ3VzdG9tZXJPcmRlcnNHcmlkKHRoaXMuYnlJZCgnT3JkZXJzR3JpZCcpKTtcclxuICAgICAgICAgICAgLy8gZm9yY2Ugb3JkZXIgZGlhbG9nIHRvIG9wZW4gaW4gRGlhbG9nIG1vZGUgaW5zdGVhZCBvZiBQYW5lbCBtb2RlXHJcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIHNldCBhcyBkZWZhdWx0IG9uIE9yZGVyRGlhbG9nIHdpdGggQHBhbmVsQXR0cmlidXRlXHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJzR3JpZC5vcGVuRGlhbG9nc0FzUGFuZWwgPSBmYWxzZTsgXHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5SWQoJ05vdGVMaXN0JykuY2xvc2VzdCgnLmZpZWxkJykuaGlkZSgpLmVuZCgpLmFwcGVuZFRvKHRoaXMuYnlJZCgnVGFiTm90ZXMnKSk7XHJcbiAgICAgICAgICAgIERpYWxvZ1V0aWxzLnBlbmRpbmdDaGFuZ2VzQ29uZmlybWF0aW9uKHRoaXMuZWxlbWVudCwgKCkgPT4gdGhpcy5nZXRTYXZlU3RhdGUoKSAhPSB0aGlzLmxvYWRlZFN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldFNhdmVTdGF0ZSgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLnRvSlNPTih0aGlzLmdldFNhdmVFbnRpdHkoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2FkUmVzcG9uc2UoZGF0YSkge1xyXG4gICAgICAgICAgICBzdXBlci5sb2FkUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkU3RhdGUgPSB0aGlzLmdldFNhdmVTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9hZEVudGl0eShlbnRpdHk6IEN1c3RvbWVyUm93KSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmxvYWRFbnRpdHkoZW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgIFNlcmVuaXR5LlRhYnNFeHRlbnNpb25zLnNldERpc2FibGVkKHRoaXMudGFicywgJ09yZGVycycsIHRoaXMuaXNOZXdPckRlbGV0ZWQoKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9yZGVyc0dyaWQuY3VzdG9tZXJJRCA9IGVudGl0eS5DdXN0b21lcklEO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb25TYXZlU3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBzdXBlci5vblNhdmVTdWNjZXNzKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgIFEucmVsb2FkTG9va3VwKCdOb3J0aHdpbmQuQ3VzdG9tZXInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL0N1c3RvbWVyL0N1c3RvbWVyRGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBTZXJpYWxBdXRvTnVtYmVyRGlhbG9nIGV4dGVuZHMgTm9ydGh3aW5kLkN1c3RvbWVyRGlhbG9nIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ3VzdG9tZXJJRC5lbGVtZW50Lm9uKCdrZXl1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGF1dG8gbnVtYmVyIHdoZW4gYSBrZXkgYmV0d2VlbiAnQScgYW5kICdaJyBpcyBwcmVzc2VkXHJcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA+PSA2NSAmJiBlLndoaWNoIDw9IDkwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TmV4dE51bWJlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZnRlckxvYWRFbnRpdHkoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmFmdGVyTG9hZEVudGl0eSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlsbCBuZXh0IG51bWJlciBpbiBuZXcgcmVjb3JkIG1vZGVcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNOZXcoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TmV4dE51bWJlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXROZXh0TnVtYmVyKCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHZhbCA9IFEudHJpbVRvTnVsbCh0aGlzLmZvcm0uQ3VzdG9tZXJJRC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSB3aWxsIG9ubHkgZ2V0IG5leHQgbnVtYmVyIHdoZW4gY3VzdG9tZXIgSUQgaXMgZW1wdHkgb3IgMSBjaGFyYWN0ZXIgaW4gbGVuZ3RoXHJcbiAgICAgICAgICAgIGlmICghdmFsIHx8IHZhbC5sZW5ndGggPD0gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIG5vIGN1c3RvbWVyIElEIHlldCAobmV3IHJlY29yZCBtb2RlIHByb2JhYmx5KSB1c2UgJ0MnIGFzIGEgcHJlZml4XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gKHZhbCB8fCAnQycpLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBvdXIgc2VydmljZSwgc2VlIEN1c3RvbWVyRW5kcG9pbnQuY3MgYW5kIEN1c3RvbWVyUmVwb3NpdG9yeS5jc1xyXG4gICAgICAgICAgICAgICAgU2VyRXh0cmFDb3JlLk5vcnRod2luZC5DdXN0b21lclNlcnZpY2UuR2V0TmV4dE51bWJlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJlZml4OiBwcmVmaXgsXHJcbiAgICAgICAgICAgICAgICAgICAgTGVuZ3RoOiA1IC8vIHdlIHdhbnQgc2VydmljZSB0byBzZWFyY2ggZm9yIGFuZCByZXR1cm4gc2VyaWFscyBvZiA1IGluIGxlbmd0aFxyXG4gICAgICAgICAgICAgICAgfSwgcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5DdXN0b21lcklELnZhbHVlID0gcmVzcG9uc2UuU2VyaWFsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRvIG1hcmsgbnVtZXJpY2FsIHBhcnQgYWZ0ZXIgcHJlZml4XHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuZm9ybS5DdXN0b21lcklELmVsZW1lbnRbMF0gYXMgYW55KS5zZXRTZWxlY3Rpb25SYW5nZShwcmVmaXgubGVuZ3RoLCByZXNwb25zZS5TZXJpYWwubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmZpbHRlcmFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbWVyR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8Q3VzdG9tZXJSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zS2V5KCkgeyByZXR1cm4gXCJOb3J0aHdpbmQuQ3VzdG9tZXJcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gPGFueT5DdXN0b21lckRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gQ3VzdG9tZXJSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBDdXN0b21lclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIEN1c3RvbWVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRCdXR0b25zKCkge1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHN1cGVyLmdldEJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChTZXJFeHRyYUNvcmUuQ29tbW9uLkV4Y2VsRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG9uVmlld1N1Ym1pdDogKCkgPT4gdGhpcy5vblZpZXdTdWJtaXQoKSxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2U6ICdOb3J0aHdpbmQvQ3VzdG9tZXIvTGlzdEV4Y2VsJyxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goU2VyRXh0cmFDb3JlLkNvbW1vbi5QZGZFeHBvcnRIZWxwZXIuY3JlYXRlVG9vbEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBncmlkOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgb25WaWV3U3VibWl0OiAoKSA9PiB0aGlzLm9uVmlld1N1Ym1pdCgpXHJcbiAgICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidXR0b25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL0N1c3RvbWVyL0N1c3RvbWVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJjbGFzcyBvZiBDdXN0b21lckdyaWQgdG8gb3ZlcnJpZGUgZGlhbG9nIHR5cGUgdG8gU2VyaWFsQXV0b051bWJlckRpYWxvZ1xyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBTZXJpYWxBdXRvTnVtYmVyR3JpZCBleHRlbmRzIE5vcnRod2luZC5DdXN0b21lckdyaWQge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIFNlcmlhbEF1dG9OdW1iZXJEaWFsb2c7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgR3JpZEVkaXRvckRpYWxvZzxURW50aXR5PiBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxURW50aXR5LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFwiX19pZFwiOyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvblNhdmU6IChvcHRpb25zOiBTZXJlbml0eS5TZXJ2aWNlT3B0aW9uczxTZXJlbml0eS5TYXZlUmVzcG9uc2U+LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpID0+IHZvaWQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyBvbkRlbGV0ZTogKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlPixcclxuICAgICAgICAgICAgY2FsbGJhY2s6IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQpID0+IHZvaWQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyBkZXN0cm95KCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uU2F2ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub25EZWxldGUgPSBudWxsO1xyXG4gICAgICAgICAgICBzdXBlci5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlSW50ZXJmYWNlKCkge1xyXG4gICAgICAgICAgICBzdXBlci51cGRhdGVJbnRlcmZhY2UoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFwcGx5IGNoYW5nZXMgYnV0dG9uIGRvZXNuJ3Qgd29yayBwcm9wZXJseSB3aXRoIGluLW1lbW9yeSBncmlkcyB5ZXRcclxuICAgICAgICAgICAgaWYgKHRoaXMuYXBwbHlDaGFuZ2VzQnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5Q2hhbmdlc0J1dHRvbi5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzYXZlSGFuZGxlcihvcHRpb25zOiBTZXJlbml0eS5TZXJ2aWNlT3B0aW9uczxTZXJlbml0eS5TYXZlUmVzcG9uc2U+LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5vblNhdmUgJiYgdGhpcy5vblNhdmUob3B0aW9ucywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGRlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuRGVsZXRlUmVzcG9uc2U+LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLm9uRGVsZXRlICYmIHRoaXMub25EZWxldGUob3B0aW9ucywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Db21tb24vSGVscGVycy9HcmlkRWRpdG9yRGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDaGFuZ2luZ0xvb2t1cFRleHREaWFsb2cgZXh0ZW5kcyBDb21tb24uR3JpZEVkaXRvckRpYWxvZzxOb3J0aHdpbmQuT3JkZXJEZXRhaWxSb3c+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIENoYW5naW5nTG9va3VwVGV4dEZvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBOb3J0aHdpbmQuT3JkZXJEZXRhaWxSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtOiBDaGFuZ2luZ0xvb2t1cFRleHRGb3JtO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBDaGFuZ2luZ0xvb2t1cFRleHRGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLlByb2R1Y3RJRC5jaGFuZ2VTZWxlY3QyKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RJRCA9IFEudG9JZCh0aGlzLmZvcm0uUHJvZHVjdElELnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0SUQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5Vbml0UHJpY2UudmFsdWUgPSBOb3J0aHdpbmQuUHJvZHVjdFJvdy5nZXRMb29rdXAoKS5pdGVtQnlJZFtwcm9kdWN0SURdLlVuaXRQcmljZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uRGlzY291bnQuYWRkVmFsaWRhdGlvblJ1bGUodGhpcy51bmlxdWVOYW1lLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmljZSA9IHRoaXMuZm9ybS5Vbml0UHJpY2UudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVhbnRpdHkgPSB0aGlzLmZvcm0uUXVhbnRpdHkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzY291bnQgPSB0aGlzLmZvcm0uRGlzY291bnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJpY2UgIT0gbnVsbCAmJiBxdWFudGl0eSAhPSBudWxsICYmIGRpc2NvdW50ICE9IG51bGwgJiZcclxuICAgICAgICAgICAgICAgICAgICBkaXNjb3VudCA+IDAgJiYgZGlzY291bnQgPj0gcHJpY2UgKiBxdWFudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkRpc2NvdW50IGNhbid0IGJlIGhpZ2hlciB0aGFuIHRvdGFsIHByaWNlIVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZUludGVyZmFjZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvb2xiYXIuZmluZEJ1dHRvbignYXBwbHktY2hhbmdlcy1idXR0b24nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5maW5kQnV0dG9uKCdzYXZlLWFuZC1jbG9zZS1idXR0b24nKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE91ciBjdXN0b20gcHJvZHVjdCBlZGl0b3IgdHlwZVxyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckVkaXRvcigpXHJcbiAgICBleHBvcnQgY2xhc3MgQ2hhbmdpbmdMb29rdXBUZXh0RWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuTG9va3VwRWRpdG9yQmFzZTxTZXJlbml0eS5Mb29rdXBFZGl0b3JPcHRpb25zLCBOb3J0aHdpbmQuUHJvZHVjdFJvdz4ge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSwgb3B0aW9uczogU2VyZW5pdHkuTG9va3VwRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvb2t1cEtleSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5vcnRod2luZC5Qcm9kdWN0Um93Lmxvb2t1cEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJdGVtVGV4dChpdGVtOiBOb3J0aHdpbmQuUHJvZHVjdFJvdywgbG9va3VwOiBRLkxvb2t1cDxOb3J0aHdpbmQuUHJvZHVjdFJvdz4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldEl0ZW1UZXh0KGl0ZW0sIGxvb2t1cCkgK1xyXG4gICAgICAgICAgICAgICAgJyAoJyArXHJcbiAgICAgICAgICAgICAgICAnJCcgKyBRLmZvcm1hdE51bWJlcihpdGVtLlVuaXRQcmljZSwgJyMsIyMwLjAwJykgK1xyXG4gICAgICAgICAgICAgICAgJywgJyArIChpdGVtLlVuaXRzSW5TdG9jayA+IDAgPyAoaXRlbS5Vbml0c0luU3RvY2sgKyAnIGluIHN0b2NrJykgOiAnb3V0IG9mIHN0b2NrJykgK1xyXG4gICAgICAgICAgICAgICAgJywgJyArIChpdGVtLlN1cHBsaWVyQ29tcGFueU5hbWUgfHwgJ1Vua25vd24nKSArXHJcbiAgICAgICAgICAgICAgICAnKSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL0NvbW1vbi9IZWxwZXJzL0dyaWRFZGl0b3JEaWFsb2cudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIE9yZGVyRGV0YWlsRGlhbG9nIGV4dGVuZHMgQ29tbW9uLkdyaWRFZGl0b3JEaWFsb2c8T3JkZXJEZXRhaWxSb3c+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIE9yZGVyRGV0YWlsRm9ybS5mb3JtS2V5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIE9yZGVyRGV0YWlsUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybTogT3JkZXJEZXRhaWxGb3JtO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBPcmRlckRldGFpbEZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uUHJvZHVjdElELmNoYW5nZVNlbGVjdDIoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdElEID0gUS50b0lkKHRoaXMuZm9ybS5Qcm9kdWN0SUQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJRCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLlVuaXRQcmljZS52YWx1ZSA9IFByb2R1Y3RSb3cuZ2V0TG9va3VwKCkuaXRlbUJ5SWRbcHJvZHVjdElEXS5Vbml0UHJpY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLkRpc2NvdW50LmFkZFZhbGlkYXRpb25SdWxlKHRoaXMudW5pcXVlTmFtZSwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSB0aGlzLmZvcm0uVW5pdFByaWNlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1YW50aXR5ID0gdGhpcy5mb3JtLlF1YW50aXR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50ID0gdGhpcy5mb3JtLkRpc2NvdW50LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHByaWNlICE9IG51bGwgJiYgcXVhbnRpdHkgIT0gbnVsbCAmJiBkaXNjb3VudCAhPSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzY291bnQgPiAwICYmIGRpc2NvdW50ID49IHByaWNlICogcXVhbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJEaXNjb3VudCBjYW4ndCBiZSBoaWdoZXIgdGhhbiB0b3RhbCBwcmljZSFcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9PcmRlckRldGFpbC9PcmRlckRldGFpbERpYWxvZy50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgc3ViY2xhc3Mgb2Ygb3JkZXIgZGV0YWlsIGRpYWxvZyB3aXRoIGEgQ2F0ZWdvcnlJRCBwcm9wZXJ0eVxyXG4gICAgICogdGhhdCB3aWxsIGJlIHVzZWQgdG8gc2V0IENhc2NhZGVWYWx1ZSBvZiBwcm9kdWN0IGVkaXRvclxyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBGaWx0ZXJlZExvb2t1cE9yZGVyRGV0YWlsRGlhbG9nIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyRGV0YWlsRGlhbG9nIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0gPSBuZXcgTm9ydGh3aW5kLk9yZGVyRGV0YWlsRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBzZXQgY2FzY2FkZSBmaWVsZCBpbiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICAvLyB3ZSBjb3VsZCBhbHNvIHVzZSBGaWx0ZXJGaWVsZCBidXQgaW4gdGhpcyBjYXNlLCB3aGVuIENhdGVnb3J5SUQgaXMgbnVsbFxyXG4gICAgICAgICAgICAvLyBsb29rdXAgZWRpdG9yIHdvdWxkIHNob3cgYWxsIHByb2R1Y3RzIGluIGFueSBjYXRlZ29yeVxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uUHJvZHVjdElELmNhc2NhZGVGaWVsZCA9IE5vcnRod2luZC5Qcm9kdWN0Um93LkZpZWxkcy5DYXRlZ29yeUlEO1xyXG5cclxuICAgICAgICAgICAgLy8gYnV0IENhdGVnb3J5SUQgdmFsdWUgaXMgbm90IHlldCBhdmFpbGFibGUgaGVyZSBhcyBkZXRhaWwgZWRpdG9yIHdpbGwgc2V0IGl0IFxyXG4gICAgICAgICAgICAvLyBhZnRlciBjYWxsaW5nIGNvbnN0cnVjdG9yIChjcmVhdGluZyBhIGRldGFpbCBkaWFsb2cpIHNvIHdlJ2xsIHVzZSBCZWZvcmVMb2FkRW50aXR5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQganVzdCBiZWZvcmUgYW4gZW50aXR5IGlzIGxvYWRlZCB0byBkaWFsb2dcclxuICAgICAgICAgKiBUaGlzIGlzIGFsc28gY2FsbGVkIGZvciBuZXcgcmVjb3JkIG1vZGUgd2l0aCBhbiBlbXB0eSBlbnRpdHlcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlTG9hZEVudGl0eShlbnRpdHkpIHtcclxuICAgICAgICAgICAgc3VwZXIuYmVmb3JlTG9hZEVudGl0eShlbnRpdHkpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0dGluZyBjYXNjYWRlIHZhbHVlIGhlcmVcclxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHlvdSBoYXZlIFtMb29rdXBJbmNsdWRlXSBvbiBDYXRlZ29yeUlEIHByb3BlcnR5IG9mIFByb2R1Y3RSb3dcclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoaXMgZmllbGQgd29uJ3QgYmUgYXZhaWxhYmxlIGluIGxvb2t1cCBzY3JpcHQgKHdpbGwgYWx3YXlzIGJlIG51bGwpLFxyXG4gICAgICAgICAgICAvLyBzbyBjYW4ndCBiZSBmaWx0ZXJlZCBhbmQgeW91J2xsIGVuZCB1cCB3aXRoIGFuIGVtcHR5IHByb2R1Y3QgbGlzdC5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLlByb2R1Y3RJRC5jYXNjYWRlVmFsdWUgPSB0aGlzLmNhdGVnb3J5SUQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgY2F0ZWdvcnlJRDogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Db21tb24ge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWVdKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWRpdG9yKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmVsZW1lbnQoXCI8ZGl2Lz5cIilcclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkRWRpdG9yQmFzZTxURW50aXR5PiBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8VEVudGl0eSwgYW55PlxyXG4gICAgICAgIGltcGxlbWVudHMgU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZSB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gXCJfX2lkXCI7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG5leHRJZCA9IDE7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaWQoZW50aXR5OiBURW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZW50aXR5IGFzIGFueSlbdGhpcy5nZXRJZFByb3BlcnR5KCldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldE5leHRJZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiYFwiICsgdGhpcy5uZXh0SWQrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzZXROZXdJZChlbnRpdHk6IFRFbnRpdHkpIHtcclxuICAgICAgICAgICAgZW50aXR5W3RoaXMuZ2V0SWRQcm9wZXJ0eSgpXSA9IHRoaXMuZ2V0TmV4dElkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZShvcHQ6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPGFueT4sIGNhbGxiYWNrOiAocjogU2VyZW5pdHkuU2VydmljZVJlc3BvbnNlKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gb3B0LnJlcXVlc3QgYXMgU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8VEVudGl0eT47XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBRLmRlZXBDbG9uZShyZXF1ZXN0LkVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmlkKHJvdyk7XHJcbiAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAocm93IGFzIGFueSlbdGhpcy5nZXRJZFByb3BlcnR5KCldID0gdGhpcy5nZXROZXh0SWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlRW50aXR5KHJvdywgaWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMudmlldy5nZXRJdGVtcygpLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHJvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBRLmluZGV4T2YoaXRlbXMsIHggPT4gdGhpcy5pZCh4KSA9PT0gaWQpO1xyXG4gICAgICAgICAgICAgICAgaXRlbXNbaW5kZXhdID0gUS5kZWVwQ2xvbmUoe30gYXMgVEVudGl0eSwgaXRlbXNbaW5kZXhdLCByb3cpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldEVudGl0aWVzKGl0ZW1zKTtcclxuICAgICAgICAgICAgY2FsbGJhY2soe30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGRlbGV0ZUVudGl0eShpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5kZWxldGVJdGVtKGlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdmFsaWRhdGVFbnRpdHkocm93OiBURW50aXR5LCBpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNldEVudGl0aWVzKGl0ZW1zOiBURW50aXR5W10pIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNldEl0ZW1zKGl0ZW1zLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROZXdFbnRpdHkoKTogVEVudGl0eSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7fSBhcyBURW50aXR5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIHZhciBhZGRCdXR0b24gPSBRLnRyeUZpcnN0KGJ1dHRvbnMsIHggPT4geC5jc3NDbGFzcyA9PSAnYWRkLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICBpZiAoYWRkQnV0dG9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFkZEJ1dHRvbi5vbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRW50aXR5RGlhbG9nKHRoaXMuZ2V0SXRlbVR5cGUoKSwgZGxnID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IGRsZyBhcyBHcmlkRWRpdG9yRGlhbG9nPFRFbnRpdHk+O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cub25TYXZlID0gKG9wdCwgY2FsbGJhY2spID0+IHRoaXMuc2F2ZShvcHQsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2ZlckRpYWxvZ1JlYWRPbmx5KGRpYWxvZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5sb2FkRW50aXR5QW5kT3BlbkRpYWxvZyh0aGlzLmdldE5ld0VudGl0eSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnMuZmlsdGVyKHggPT4geC5jc3NDbGFzcyAhPSBcInJlZnJlc2gtYnV0dG9uXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGVkaXRJdGVtKGVudGl0eU9ySWQ6IGFueSk6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgdmFyIGlkID0gZW50aXR5T3JJZDtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpZXcuZ2V0SXRlbUJ5SWQoaWQpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVudGl0eURpYWxvZyh0aGlzLmdldEl0ZW1UeXBlKCksIGRsZyA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0gZGxnIGFzIEdyaWRFZGl0b3JEaWFsb2c8VEVudGl0eT47XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cub25EZWxldGUgPSAob3B0LCBjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZWxldGVFbnRpdHkoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe30pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmZXJEaWFsb2dSZWFkT25seShkaWFsb2cpO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLm9uU2F2ZSA9IChvcHQsIGNhbGxiYWNrKSA9PiB0aGlzLnNhdmUob3B0LCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cubG9hZEVudGl0eUFuZE9wZW5EaWFsb2coaXRlbSk7XHJcbiAgICAgICAgICAgIH0pOztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRFZGl0VmFsdWUocHJvcGVydHksIHRhcmdldCkge1xyXG4gICAgICAgICAgICB0YXJnZXRbcHJvcGVydHkubmFtZV0gPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldEVkaXRWYWx1ZShzb3VyY2UsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBzb3VyY2VbcHJvcGVydHkubmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IFRFbnRpdHlbXSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5nZXRJZFByb3BlcnR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SXRlbXMoKS5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IFEuZGVlcENsb25lKHgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0geVtwXTtcclxuICAgICAgICAgICAgICAgIGlmIChpZCAmJiBpZC50b1N0cmluZygpLmNoYXJBdCgwKSA9PSAnYCcpXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHlbcF07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0IHZhbHVlKHZhbHVlOiBURW50aXR5W10pIHtcclxuICAgICAgICAgICAgdmFyIHAgPSB0aGlzLmdldElkUHJvcGVydHkoKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnNldEl0ZW1zKCh2YWx1ZSB8fCBbXSkubWFwKHggPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBRLmRlZXBDbG9uZSh4KTtcclxuICAgICAgICAgICAgICAgIGlmICgoeSBhcyBhbnkpW3BdID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgKHkgYXMgYW55KVtwXSA9IFwiYFwiICsgdGhpcy5nZXROZXh0SWQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5O1xyXG4gICAgICAgICAgICB9KSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0R3JpZENhbkxvYWQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1c2VQYWdlcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEluaXRpYWxUaXRsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlUXVpY2tTZWFyY2hJbnB1dCgpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBlbmFibGVEZWxldGVDb2x1bW4oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZURlbGV0ZUNvbHVtbigpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnVuc2hpZnQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiAnRGVsZXRlIFJvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBjdHggPT4gJzxhIGNsYXNzPVwiaW5saW5lLWFjdGlvbiBkZWxldGUtcm93XCIgdGl0bGU9XCJkZWxldGVcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtdHJhc2gtbyB0ZXh0LXJlZFwiPjwvaT48L2E+JyxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDI0LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAyNFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uQ2xpY2soZTogSlF1ZXJ5RXZlbnRPYmplY3QsIHJvdzogbnVtYmVyLCBjZWxsOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgc3VwZXIub25DbGljayhlLCByb3csIGNlbGwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgaXRlbTogVEVudGl0eSA9IHRoaXMuaXRlbUF0KHJvdyk7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgY2xpY2tzIFwiaVwiIGVsZW1lbnQsIGUuZy4gaWNvblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudCgpLmhhc0NsYXNzKCdpbmxpbmUtYWN0aW9uJykpXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCdpbmxpbmUtYWN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVEZWxldGVDb2x1bW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ2RlbGV0ZS1yb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBRLmNvbmZpcm0oUS50ZXh0KCdDb250cm9scy5FbnRpdHlEaWFsb2cuRGVsZXRlQ29uZmlybWF0aW9uJyksICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlRW50aXR5KGl0ZW1bdGhpcy5nZXRJZFByb3BlcnR5KCldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL0NvbW1vbi9IZWxwZXJzL0dyaWRFZGl0b3JCYXNlLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBPcmRlckRldGFpbHNFZGl0b3IgZXh0ZW5kcyBDb21tb24uR3JpZEVkaXRvckJhc2U8T3JkZXJEZXRhaWxSb3c+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLk9yZGVyRGV0YWlsXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIE9yZGVyRGV0YWlsRGlhbG9nOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIE9yZGVyRGV0YWlsUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsaWRhdGVFbnRpdHkocm93LCBpZCkge1xyXG4gICAgICAgICAgICByb3cuUHJvZHVjdElEID0gUS50b0lkKHJvdy5Qcm9kdWN0SUQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNhbWVQcm9kdWN0ID0gUS50cnlGaXJzdCh0aGlzLnZpZXcuZ2V0SXRlbXMoKSwgeCA9PiB4LlByb2R1Y3RJRCA9PT0gcm93LlByb2R1Y3RJRCk7XHJcbiAgICAgICAgICAgIGlmIChzYW1lUHJvZHVjdCAmJiB0aGlzLmlkKHNhbWVQcm9kdWN0KSAhPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIFEuYWxlcnQoJ1RoaXMgcHJvZHVjdCBpcyBhbHJlYWR5IGluIG9yZGVyIGRldGFpbHMhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJvdy5Qcm9kdWN0TmFtZSA9IFByb2R1Y3RSb3cuZ2V0TG9va3VwKCkuaXRlbUJ5SWRbcm93LlByb2R1Y3RJRF0uUHJvZHVjdE5hbWU7XHJcbiAgICAgICAgICAgIHJvdy5MaW5lVG90YWwgPSAocm93LlF1YW50aXR5IHx8IDApICogKHJvdy5Vbml0UHJpY2UgfHwgMCkgLSAocm93LkRpc2NvdW50IHx8IDApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyRGV0YWlsL09yZGVyRGV0YWlsc0VkaXRvci50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgc3ViY2xhc3Mgb2YgT3JkZXIgRGV0YWlscyBlZGl0b3Igd2l0aCBhIENhdGVnb3J5SUQgcHJvcGVydHlcclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEZpbHRlcmVkTG9va3VwRGV0YWlsRWRpdG9yIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyRGV0YWlsc0VkaXRvciB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gRmlsdGVyZWRMb29rdXBPcmRlckRldGFpbERpYWxvZzsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNhdGVnb3J5SUQ6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHRvIGluaXRpYWxpemUgYW4gZWRpdCBkaWFsb2cgY3JlYXRlZCBieVxyXG4gICAgICAgICAqIGdyaWQgZWRpdG9yIHdoZW4gQWRkIGJ1dHRvbiBvciBhbiBlZGl0IGxpbmsgaXMgY2xpY2tlZFxyXG4gICAgICAgICAqIFdlIGhhdmUgYW4gb3Bwb3J0dW5pdHkgaGVyZSB0byBwYXNzIENhdGVnb3J5SUQgdG8gZWRpdCBkaWFsb2dcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdEVudGl0eURpYWxvZyhpdGVtVHlwZTogc3RyaW5nLCBkaWFsb2c6IFNlcmVuaXR5LldpZGdldDxhbnk+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmluaXRFbnRpdHlEaWFsb2coaXRlbVR5cGUsIGRpYWxvZyk7XHJcblxyXG4gICAgICAgICAgICAvLyBwYXNzaW5nIGNhdGVnb3J5IElEIGZyb20gZ3JpZCBlZGl0b3IgdG8gZGV0YWlsIGRpYWxvZ1xyXG4gICAgICAgICAgICAoZGlhbG9nIGFzIEZpbHRlcmVkTG9va3VwT3JkZXJEZXRhaWxEaWFsb2cpLmNhdGVnb3J5SUQgPSB0aGlzLmNhdGVnb3J5SUQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmFzaWMgb3JkZXIgZGlhbG9nIHdpdGggYSBjYXRlZ29yeSBzZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgRmlsdGVyZWRMb29rdXBJbkRldGFpbERpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxOb3J0aHdpbmQuT3JkZXJSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIEZpbHRlcmVkTG9va3VwSW5EZXRhaWxGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIE5vcnRod2luZC5PcmRlclJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIE5vcnRod2luZC5PcmRlclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZm9ybTogRmlsdGVyZWRMb29rdXBJbkRldGFpbEZvcm07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtID0gbmV3IEZpbHRlcmVkTG9va3VwSW5EZXRhaWxGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ2F0ZWdvcnlJRC5jaGFuZ2UoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0uRGV0YWlsTGlzdC5jYXRlZ29yeUlEID0gUS50b0lkKHRoaXMuZm9ybS5DYXRlZ29yeUlELnZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9PcmRlci9PcmRlckdyaWQudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3ViY2xhc3Mgb2YgT3JkZXJHcmlkIHRvIG92ZXJyaWRlIGRpYWxvZyB0eXBlIHRvIEZpbHRlcmVkTG9va3VwSW5EZXRhaWxEaWFsb2dcclxuICAgICAqL1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgRmlsdGVyZWRMb29rdXBJbkRldGFpbEdyaWQgZXh0ZW5kcyBOb3J0aHdpbmQuT3JkZXJHcmlkIHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiBGaWx0ZXJlZExvb2t1cEluRGV0YWlsRGlhbG9nOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9Qcm9kdWN0L1Byb2R1Y3REaWFsb2cudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyBvdXIgY3VzdG9tIHByb2R1Y3QgZGlhbG9nIHRoYXQgdXNlcyBhIGRpZmZlcmVudCBwcm9kdWN0IGZvcm1cclxuICAgICAqIChMb29rdXBGaWx0ZXJCeU11bHRpcGxlRm9ybSkgd2l0aCBvdXIgc3BlY2lhbCBjYXRlZ29yeSBlZGl0b3IuXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIExvb2t1cEZpbHRlckJ5TXVsdGlwbGVEaWFsb2cgZXh0ZW5kcyBOb3J0aHdpbmQuUHJvZHVjdERpYWxvZyB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtS2V5KCkgeyByZXR1cm4gTG9va3VwRmlsdGVyQnlNdWx0aXBsZUZvcm0uZm9ybUtleTsgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9Qcm9kdWN0L1Byb2R1Y3RHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YmNsYXNzIG9mIFByb2R1Y3RHcmlkIHRvIG92ZXJyaWRlIGRpYWxvZyB0eXBlIHRvIENsb25lYWJsZUVudGl0eURpYWxvZ1xyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBMb29rdXBGaWx0ZXJCeU11bHRpcGxlR3JpZCBleHRlbmRzIE5vcnRod2luZC5Qcm9kdWN0R3JpZCB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gTG9va3VwRmlsdGVyQnlNdWx0aXBsZURpYWxvZzsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGp1c3QgYmVmb3JlIExpc3QgcmVxdWVzdCBpcyBzZW50IHRvIHNlcnZpY2UuXHJcbiAgICAgICAgICogWW91IGhhdmUgYW4gb3Bwb3J0dW5pdHkgaGVyZSB0byBjYW5jZWwgcmVxdWVzdCBvciBtb2RpZnkgaXQuXHJcbiAgICAgICAgICogSGVyZSB3ZSdsbCBhZGQgYSBjdXN0b20gY3JpdGVyaWEgdG8gbGlzdCByZXF1ZXN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdTdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIGlmICghc3VwZXIub25WaWV3U3VibWl0KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdGhpcyBoYXMgbm8gcmVsYXRpb24gdG8gb3VyIGxvb2t1cCBlZGl0b3IgYnV0IGFzIHdlJ2xsIGFsbG93IHBpY2tpbmcgb25seSBcclxuICAgICAgICAgICAgLy8gY2F0ZWdvcmllcyBvZiBQcm9kdWNlIGFuZCBTZWFmb29kIGluIHByb2R1Y3QgZGlhbG9nLCBpdCdzIGJldHRlciB0byBzaG93XHJcbiAgICAgICAgICAgIC8vIG9ubHkgcHJvZHVjdHMgZnJvbSB0aGVzZSBjYXRlZ29yaWVzIGluIGdyaWQgdG9vXHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0ID0gdGhpcy52aWV3LnBhcmFtcyBhcyBTZXJlbml0eS5MaXN0UmVxdWVzdDtcclxuICAgICAgICAgICAgcmVxdWVzdC5Dcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmFuZChyZXF1ZXN0LkNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgW1snQ2F0ZWdvcnlOYW1lJ10sICdpbicsIFtbJ1Byb2R1Y2UnLCAnU2VhZm9vZCddXV0pO1xyXG5cclxuICAgICAgICAgICAgLy8gYnJhY2tldHMgdXNlZCBhcmUgaW1wb3J0YW50IGFib3ZlLCBOT1QgWydDYXRlZ29yeU5hbWUnLCAnaW4nLCBbJ1Byb2R1Y2UnLCAnU2VhZm9vZCddXVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyBvdXIgY2F0ZWdvcnkgZWRpdG9yIHRoYXQgd2lsbCBzaG93IG9ubHkgY2F0ZWdvcmllcyBvZiBQcm9kdWNlIGFuZFxyXG4gICAgICogU2VhZm9vZC4gV2UgYXJlIHN1YmNsYXNzaW5nIExvb2t1cEVkaXRvckJhc2Ugd2hpY2ggYWxzbyBMb29rdXBFZGl0b3JcclxuICAgICAqIGRlcml2ZXMgZnJvbS5cclxuICAgICAqXHJcbiAgICAgKiBBZnRlciBjb21waWxpbmcgYW5kIHRyYW5zZm9ybWluZyB0ZW1wbGF0ZXMsIHRoaXMgZWRpdG9yIHR5cGUgd2lsbCBiZVxyXG4gICAgICogYXZhaWxhYmxlIGluIHNlcnZlciBzaWRlIHRvIHVzZSBpbiBvdXIgTG9va3VwRmlsdGVyQnlNdWx0aXBsZUZvcm0sXHJcbiAgICAgKiB3aGljaCBpcyBhIHZlcnNpb24gb2YgUHJvZHVjdEZvcm0gdGhhdCB1c2VzIG91ciBjdXN0b20gZWRpdG9yLlxyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckVkaXRvcigpXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZHVjZVNlYWZvb2RDYXRlZ29yeUVkaXRvciBleHRlbmRzXHJcbiAgICAgICAgU2VyZW5pdHkuTG9va3VwRWRpdG9yQmFzZTxTZXJlbml0eS5Mb29rdXBFZGl0b3JPcHRpb25zLCBOb3J0aHdpbmQuQ2F0ZWdvcnlSb3c+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnksIG9wdDogU2VyZW5pdHkuTG9va3VwRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG9wdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBOb3JtYWxseSBMb29rdXBFZGl0b3IgcmVxdWlyZXMgYSBsb29rdXAga2V5IHRvIGRldGVybWluZSB3aGljaCBzZXQgb2ZcclxuICAgICAgICAgKiBsb29rdXAgZGF0YSB0byBzaG93IGluIGVkaXRvci4gQXMgb3VyIGVkaXRvciB3aWxsIG9ubHkgc2hvdyBjYXRlZ29yeVxyXG4gICAgICAgICAqIGRhdGEsIHdlIGxvY2sgaXQgdG8gY2F0ZWdvcnkgbG9va3VwIGtleS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9va3VwS2V5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTm9ydGh3aW5kLkNhdGVnb3J5Um93Lmxvb2t1cEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlcmUgd2UgYXJlIGZpbHRlcmluZyBieSBjYXRlZ29yeSBuYW1lIGJ1dCB5b3UgY291bGQgZmlsdGVyIGJ5IGFueSBmaWVsZC5cclxuICAgICAgICAgKiBKdXN0IG1ha2Ugc3VyZSB0aGUgZmllbGRzIHlvdSBmaWx0ZXIgb24gaGFzIFtMb29rdXBJbmNsdWRlXSBhdHRyaWJ1dGUgb24gdGhlbSxcclxuICAgICAgICAgKiBvdGhlcndpc2UgdGhlaXIgdmFsdWUgd2lsbCBiZSBudWxsIGluIGNsaWVudCBzaWRlIGFzIHRoZXkgYXJlIG5vdCBzZW50IGJhY2tcclxuICAgICAgICAgKiBmcm9tIHNlcnZlciBpbiBsb29rdXAgc2NyaXB0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJdGVtcyhsb29rdXA6IFEuTG9va3VwPE5vcnRod2luZC5DYXRlZ29yeVJvdz4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldEl0ZW1zKGxvb2t1cCkuZmlsdGVyKHggPT5cclxuICAgICAgICAgICAgICAgIHguQ2F0ZWdvcnlOYW1lID09PSAnUHJvZHVjZScgfHwgeC5DYXRlZ29yeU5hbWUgPT09ICdTZWFmb29kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEhhcmRjb2RlZFZhbHVlc0RpYWxvZyBleHRlbmRzIFNlcmVuaXR5LlByb3BlcnR5RGlhbG9nPGFueSwgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBIYXJkY29kZWRWYWx1ZXNGb3JtLmZvcm1LZXk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGZvcm0gPSBuZXcgSGFyZGNvZGVkVmFsdWVzRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gXCJQbGVhc2Ugc2VsZWN0IHNvbWUgdmFsdWVcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5Tb21lVmFsdWUuY2hhbmdlU2VsZWN0MihlID0+IHtcclxuICAgICAgICAgICAgICAgIFEubm90aWZ5U3VjY2VzcyhcIllvdSBzZWxlY3RlZCBpdGVtIHdpdGgga2V5OiBcIiArIHRoaXMuZm9ybS5Tb21lVmFsdWUudmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3VyIHNlbGVjdCBlZGl0b3Igd2l0aCBoYXJkY29kZWQgdmFsdWVzLlxyXG4gICAgICogXHJcbiAgICAgKiBXaGVuIHlvdSBkZWZpbmUgYSBuZXcgZWRpdG9yIHR5cGUsIG1ha2Ugc3VyZSB5b3UgYnVpbGRcclxuICAgICAqIGFuZCB0cmFuc2Zvcm0gdGVtcGxhdGVzIGZvciBpdCB0byBiZSBhdmFpbGFibGUgXHJcbiAgICAgKiBpbiBzZXJ2ZXIgc2lkZSBmb3JtcywgZS5nLiBbSGFyZENvZGVkVmFsdWVzRWRpdG9yXVxyXG4gICAgICovXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckVkaXRvcigpXHJcbiAgICBleHBvcnQgY2xhc3MgSGFyZGNvZGVkVmFsdWVzRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvcjxhbnksIGFueT4ge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIG9wdGlvbiBhY2NlcHRzIGEga2V5IChpZCkgdmFsdWUgYW5kIGRpc3BsYXkgdGV4dCB2YWx1ZVxyXG4gICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihcImtleTFcIiwgXCJUZXh0IDFcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uKFwia2V5MlwiLCBcIlRleHQgMlwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHlvdSBtYXkgYWxzbyB1c2UgYWRkSXRlbSB3aGljaCBhY2NlcHRzIGEgU2VsZWN0Mkl0ZW0gcGFyYW1ldGVyXHJcbiAgICAgICAgICAgIHRoaXMuYWRkSXRlbSh7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJrZXkzXCIsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlRleHQgM1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IHNlbGVjdGluZyB0aGlzIG9uZSAoZGlzYWJsZWQpXHJcbiAgICAgICAgICAgIHRoaXMuYWRkSXRlbSh7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJrZXk0XCIsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlRleHQgNFwiLFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFN0YXRpY1RleHRCbG9ja0RpYWxvZyBleHRlbmRzIFNlcmVuaXR5LlByb3BlcnR5RGlhbG9nPGFueSwgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBTdGF0aWNUZXh0QmxvY2tGb3JtLmZvcm1LZXk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGZvcm0gPSBuZXcgU3RhdGljVGV4dEJsb2NrRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gXCJBIGZvcm0gd2l0aCBzdGF0aWMgdGV4dCBibG9ja3NcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhlcmUgd2Ugb3ZlcnJpZGUgbG9hZEluaXRpYWxFbnRpdHkgbWV0aG9kIHRvIHNldCB2YWx1ZSBmb3IgXCJEaXNwbGF5RmllbGRWYWx1ZVwiIGZpZWxkLlxyXG4gICAgICAgICAqIElmIHRoaXMgd2FzIGFuIEVudGl0eURpYWxvZywgeW91ciBmaWVsZCB2YWx1ZSB3b3VsZCBiZSBvcmlnaW5hdGluZyBmcm9tIHNlcnZlciBzaWRlIGVudGl0eS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEluaXRpYWxFbnRpdHkoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkLmxvYWQoe1xyXG4gICAgICAgICAgICAgICAgRGlzcGxheUZpZWxkVmFsdWU6ICdUaGlzIGNvbnRlbnQgY29tZXMgZnJvbSA8Yj50aGUgdmFsdWU8L2I+IG9mIDxlbT5EaXNwbGF5RmllbGRWYWx1ZTwvZW0+IGZpZWxkLidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IHN1cGVyLmdldERpYWxvZ09wdGlvbnMoKTtcclxuICAgICAgICAgICAgb3B0LndpZHRoID0gNjUwO1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQnVsa1NlcnZpY2VBY3Rpb24ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQga2V5czogc3RyaW5nW107XHJcbiAgICAgICAgcHJvdGVjdGVkIHF1ZXVlOiBzdHJpbmdbXTtcclxuICAgICAgICBwcm90ZWN0ZWQgcXVldWVJbmRleDogbnVtYmVyO1xyXG4gICAgICAgIHByb3RlY3RlZCBwcm9ncmVzc0RpYWxvZzogQmFzaWNQcm9ncmVzc0RpYWxvZztcclxuICAgICAgICBwcm90ZWN0ZWQgcGVuZGluZ1JlcXVlc3RzOiBudW1iZXI7XHJcbiAgICAgICAgcHJvdGVjdGVkIGNvbXBsZXRlZFJlcXVlc3RzOiBudW1iZXI7XHJcbiAgICAgICAgcHJvdGVjdGVkIGVycm9yQnlLZXk6IFEuRGljdGlvbmFyeTxTZXJlbml0eS5TZXJ2aWNlRXJyb3I+O1xyXG4gICAgICAgIHByaXZhdGUgc3VjY2Vzc0NvdW50O1xyXG4gICAgICAgIHByaXZhdGUgZXJyb3JDb3VudDtcclxuICAgICAgICBwdWJsaWMgZG9uZTogKCkgPT4gdm9pZDtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVByb2dyZXNzRGlhbG9nKCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzRGlhbG9nID0gbmV3IEJhc2ljUHJvZ3Jlc3NEaWFsb2coKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0RpYWxvZy5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NEaWFsb2cubWF4ID0gdGhpcy5rZXlzLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0RpYWxvZy52YWx1ZSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29uZmlybWF0aW9uRm9ybWF0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUS50ZXh0KCdTaXRlLkJ1bGtTZXJ2aWNlQWN0aW9uLkNvbmZpcm1hdGlvbkZvcm1hdCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbmZpcm1hdGlvbk1lc3NhZ2UodGFyZ2V0Q291bnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFEuZm9ybWF0KHRoaXMuZ2V0Q29uZmlybWF0aW9uRm9ybWF0KCksIHRhcmdldENvdW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjb25maXJtKHRhcmdldENvdW50LCBhY3Rpb24pIHtcclxuICAgICAgICAgICAgUS5jb25maXJtKHRoaXMuZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSh0YXJnZXRDb3VudCksIGFjdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Tm90aGluZ1RvUHJvY2Vzc01lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLnRleHQoJ1NpdGUuQnVsa1NlcnZpY2VBY3Rpb24uTm90aGluZ1RvUHJvY2VzcycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG5vdGhpbmdUb1Byb2Nlc3MoKSB7XHJcbiAgICAgICAgICAgIFEubm90aWZ5RXJyb3IodGhpcy5nZXROb3RoaW5nVG9Qcm9jZXNzTWVzc2FnZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQYXJhbGxlbFJlcXVlc3RzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCYXRjaFNpemUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHN0YXJ0UGFyYWxsZWxFeGVjdXRpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvZ3Jlc3NEaWFsb2coKTtcclxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkUmVxdWVzdHMgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yQ291bnQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yQnlLZXkgPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IHRoaXMua2V5cy5zbGljZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgcGFyYWxsZWxSZXF1ZXN0cyA9IHRoaXMuZ2V0UGFyYWxsZWxSZXF1ZXN0cygpO1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyYWxsZWxSZXF1ZXN0cy0tID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlTmV4dEJhdGNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzZXJ2aWNlQ2FsbENsZWFudXAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLS07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkUmVxdWVzdHMrKztcclxuXHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IFEudGV4dCgodGhpcy5wcm9ncmVzc0RpYWxvZy5jYW5jZWxsZWQgP1xyXG4gICAgICAgICAgICAgICAgJ1NpdGUuQmFzaWNQcm9ncmVzc0RpYWxvZy5DYW5jZWxUaXRsZScgOiAnU2l0ZS5CYXNpY1Byb2dyZXNzRGlhbG9nLlBsZWFzZVdhaXQnKSk7XHJcblxyXG4gICAgICAgICAgICB0aXRsZSArPSAnICgnO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdWNjZXNzQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSArPSBRLmZvcm1hdChRLnRleHQoJ1NpdGUuQnVsa1NlcnZpY2VBY3Rpb24uU3VjY2Vzc0NvdW50JyksIHRoaXMuc3VjY2Vzc0NvdW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1Y2Nlc3NDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSAnLCAnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRpdGxlICs9IFEuZm9ybWF0KFEudGV4dCgnU2l0ZS5CdWxrU2VydmljZUFjdGlvbi5FcnJvckNvdW50JyksIHRoaXMuZXJyb3JDb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NEaWFsb2cudGl0bGUgPSB0aXRsZSArICcpJztcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0RpYWxvZy52YWx1ZSA9IHRoaXMuc3VjY2Vzc0NvdW50ICsgdGhpcy5lcnJvckNvdW50O1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvZ3Jlc3NEaWFsb2cuY2FuY2VsbGVkICYmIHRoaXMucHJvZ3Jlc3NEaWFsb2cudmFsdWUgPCB0aGlzLmtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVOZXh0QmF0Y2goKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nUmVxdWVzdHMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NEaWFsb2cuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Jlc3VsdHMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZXhlY3V0ZUZvckJhdGNoKGJhdGNoOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGV4ZWN1dGVOZXh0QmF0Y2goKSB7XHJcbiAgICAgICAgICAgIHZhciBiYXRjaFNpemUgPSB0aGlzLmdldEJhdGNoU2l6ZSgpO1xyXG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSBbXTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChiYXRjaC5sZW5ndGggPj0gYmF0Y2hTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucXVldWVJbmRleCA+PSB0aGlzLnF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJhdGNoLnB1c2godGhpcy5xdWV1ZVt0aGlzLnF1ZXVlSW5kZXgrK10pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYmF0Y2gubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZUZvckJhdGNoKGJhdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEFsbEhhZEVycm9yc0Zvcm1hdCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFEudGV4dCgnU2l0ZS5CdWxrU2VydmljZUFjdGlvbi5BbGxIYWRFcnJvcnNGb3JtYXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzaG93QWxsSGFkRXJyb3JzKCkge1xyXG4gICAgICAgICAgICBRLm5vdGlmeUVycm9yKFEuZm9ybWF0KHRoaXMuZ2V0QWxsSGFkRXJyb3JzRm9ybWF0KCksIHRoaXMuZXJyb3JDb3VudCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNvbWVIYWRFcnJvcnNGb3JtYXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLnRleHQoJ1NpdGUuQnVsa1NlcnZpY2VBY3Rpb24uU29tZUhhZEVycm9yc0Zvcm1hdCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNob3dTb21lSGFkRXJyb3JzKCkge1xyXG4gICAgICAgICAgICBRLm5vdGlmeVdhcm5pbmcoUS5mb3JtYXQodGhpcy5nZXRTb21lSGFkRXJyb3JzRm9ybWF0KCksIHRoaXMuc3VjY2Vzc0NvdW50LCB0aGlzLmVycm9yQ291bnQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRBbGxTdWNjZXNzRm9ybWF0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUS50ZXh0KCdTaXRlLkJ1bGtTZXJ2aWNlQWN0aW9uLkFsbFN1Y2Nlc3NGb3JtYXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzaG93QWxsU3VjY2VzcygpIHtcclxuICAgICAgICAgICAgUS5ub3RpZnlTdWNjZXNzKFEuZm9ybWF0KHRoaXMuZ2V0QWxsU3VjY2Vzc0Zvcm1hdCgpLCB0aGlzLnN1Y2Nlc3NDb3VudCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNob3dSZXN1bHRzKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcnJvckNvdW50ID09PSAwICYmIHRoaXMuc3VjY2Vzc0NvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGhpbmdUb1Byb2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZXJyb3JDb3VudCA+IDAgJiYgdGhpcy5zdWNjZXNzQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FsbEhhZEVycm9ycygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5lcnJvckNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U29tZUhhZEVycm9ycygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNob3dBbGxTdWNjZXNzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZXhlY3V0ZShrZXlzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgICAgICB0aGlzLmtleXMgPSBrZXlzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5rZXlzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RoaW5nVG9Qcm9jZXNzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25maXJtKHRoaXMua2V5cy5sZW5ndGgsICgpID0+IHRoaXMuc3RhcnRQYXJhbGxlbEV4ZWN1dGlvbigpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9zdWNjZXNzQ291bnQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1Y2Nlc3NDb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldF9zdWNjZXNzQ291bnQodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3NDb3VudCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0X2Vycm9yQ291bnQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yQ291bnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfZXJyb3JDb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JDb3VudCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Db21tb24vSGVscGVycy9CdWxrU2VydmljZUFjdGlvbi50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE9yZGVyQnVsa0FjdGlvbiBleHRlbmRzIENvbW1vbi5CdWxrU2VydmljZUFjdGlvbiB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgY29udHJvbHMgaG93IG1hbnkgc2VydmljZSByZXF1ZXN0cyB3aWxsIGJlIHVzZWQgaW4gcGFyYWxsZWwuXHJcbiAgICAgICAgICogRGV0ZXJtaW5lIHRoaXMgbnVtYmVyIGJhc2VkIG9uIGhvdyBtYW55IHJlcXVlc3RzIHlvdXIgc2VydmVyXHJcbiAgICAgICAgICogbWlnaHQgYmUgYWJsZSB0byBoYW5kbGUsIGFuZCBhbW91bnQgb2Ygd2FpdCBvbiBleHRlcm5hbCByZXNvdXJjZXMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFBhcmFsbGVsUmVxdWVzdHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZXNlIG51bWJlciBvZiByZWNvcmRzIElEcyB3aWxsIGJlIHNlbnQgdG8geW91ciBzZXJ2aWNlIGluIG9uZVxyXG4gICAgICAgICAqIHNlcnZpY2UgY2FsbC4gSWYgeW91ciBzZXJ2aWNlIGlzIGRlc2lnbmVkIHRvIGhhbmRsZSBvbmUgcmVjb3JkIG9ubHksXHJcbiAgICAgICAgICogc2V0IGl0IHRvIDEuIEJ1dCBub3RlIHRoYXQsIGlmIHlvdSBoYXZlIDUwMDAgcmVjb3JkcywgdGhpcyB3aWxsXHJcbiAgICAgICAgICogcmVzdWx0IGluIDUwMDAgc2VydmljZSBjYWxscyAvIHJlcXVlc3RzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCYXRjaFNpemUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBpcyB3aGVyZSB5b3Ugc2hvdWxkIGNhbGwgeW91ciBzZXJ2aWNlLlxyXG4gICAgICAgICAqIEJhdGNoIHBhcmFtZXRlciBjb250YWlucyB0aGUgc2VsZWN0ZWQgb3JkZXIgSURzIFxyXG4gICAgICAgICAqIHRoYXQgc2hvdWxkIGJlIHByb2Nlc3NlZCBpbiB0aGlzIHNlcnZpY2UgY2FsbC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZXhlY3V0ZUZvckJhdGNoKGJhdGNoKSB7XHJcbiAgICAgICAgICAgIEJhc2ljU2FtcGxlc1NlcnZpY2UuT3JkZXJCdWxrQWN0aW9uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIE9yZGVySURzOiBiYXRjaC5tYXAoeCA9PiBRLnBhcnNlSW50ZWdlcih4KSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB0aGlzLnNldF9zdWNjZXNzQ291bnQodGhpcy5nZXRfc3VjY2Vzc0NvdW50KCkgKyBiYXRjaC5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrVUk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IHJlc3BvbnNlID0+IHRoaXMuc2V0X2Vycm9yQ291bnQodGhpcy5nZXRfZXJyb3JDb3VudCgpICsgYmF0Y2gubGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXA6ICgpID0+IHRoaXMuc2VydmljZUNhbGxDbGVhbnVwKClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIk9yZGVyQnVsa0FjdGlvbi50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgQ2FuY2VsbGFibGVCdWxrQWN0aW9uR3JpZCBleHRlbmRzIE5vcnRod2luZC5PcmRlckdyaWQge1xyXG4gICAgICAgIHByaXZhdGUgcm93U2VsZWN0aW9uOiBTZXJlbml0eS5HcmlkUm93U2VsZWN0aW9uTWl4aW47XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVRvb2xiYXJFeHRlbnNpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMucm93U2VsZWN0aW9uID0gbmV3IFNlcmVuaXR5LkdyaWRSb3dTZWxlY3Rpb25NaXhpbih0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCdXR0b25zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3tcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnUGVyZm9ybSBCdWxrIEFjdGlvbiBvbiBTZWxlY3RlZCBPcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZW5kLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9uVmlld1N1Ym1pdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBuZXcgT3JkZXJCdWxrQWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRvbmUgPSAoKSA9PiB0aGlzLnJvd1NlbGVjdGlvbi5yZXNldENoZWNrZWRBbmRSZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmV4ZWN1dGUodGhpcy5yb3dTZWxlY3Rpb24uZ2V0U2VsZWN0ZWRLZXlzKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuICAgICAgICAgICAgY29sdW1ucy5zcGxpY2UoMCwgMCwgU2VyZW5pdHkuR3JpZFJvd1NlbGVjdGlvbk1peGluLmNyZWF0ZVNlbGVjdENvbHVtbigoKSA9PiB0aGlzLnJvd1NlbGVjdGlvbikpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRWaWV3T3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IHN1cGVyLmdldFZpZXdPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIG9wdC5yb3dzUGVyUGFnZSA9IDI1MDA7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIGltcG9ydCBmbGQgPSBOb3J0aHdpbmQuUHJvZHVjdFJvdy5GaWVsZHM7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgQ29uZGl0aW9uYWxGb3JtYXR0aW5nR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8Tm9ydGh3aW5kLlByb2R1Y3RSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlByb2R1Y3RcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gPGFueT5Ob3J0aHdpbmQuUHJvZHVjdERpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLlByb2R1Y3RSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBOb3J0aHdpbmQuUHJvZHVjdFJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIE5vcnRod2luZC5Qcm9kdWN0U2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBXZSBvdmVycmlkZSBnZXRDb2x1bW5zKCkgdG8gYmUgYWJsZSB0byBhZGQgYSBjdXN0b20gQ1NTIGNsYXNzIHRvIFVuaXRQcmljZVxyXG4gICAgICAgICAqIFdlIGNvdWxkIGFsc28gYWRkIHRoaXMgY2xhc3MgaW4gUHJvZHVjdENvbHVtbnMuY3MgYnV0IGRpZG4ndCB3YW50IHRvIG1vZGlmeVxyXG4gICAgICAgICAqIGl0IHNvbGVseSBmb3IgdGhpcyBzYW1wbGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnMoKTogU2xpY2suQ29sdW1uW10ge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBhZGRpbmcgYSBzcGVjaWZpYyBjc3MgY2xhc3MgdG8gVW5pdFByaWNlIGNvbHVtbiwgXHJcbiAgICAgICAgICAgIC8vIHRvIGJlIGFibGUgdG8gZm9ybWF0IGNlbGwgd2l0aCBhIGRpZmZlcmVudCBiYWNrZ3JvdW5kXHJcbiAgICAgICAgICAgIFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09IGZsZC5Vbml0UHJpY2UpLmNzc0NsYXNzICs9IFwiIGNvbC11bml0LXByaWNlXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1ucztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZm9yIGFsbCByb3dzXHJcbiAgICAgICAgICogQHBhcmFtIGl0ZW0gRGF0YSBpdGVtIGZvciBjdXJyZW50IHJvd1xyXG4gICAgICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgcm93IGluIGdyaWRcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SXRlbUNzc0NsYXNzKGl0ZW06IE5vcnRod2luZC5Qcm9kdWN0Um93LCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgbGV0IGtsYXNzOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW0uRGlzY29udGludWVkID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBrbGFzcyArPSBcIiBkaXNjb250aW51ZWRcIjtcclxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5Vbml0c0luU3RvY2sgPD0gMClcclxuICAgICAgICAgICAgICAgIGtsYXNzICs9IFwiIG91dC1vZi1zdG9ja1wiO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpdGVtLlVuaXRzSW5TdG9jayA8IDIwKVxyXG4gICAgICAgICAgICAgICAga2xhc3MgKz0gXCIgY3JpdGljYWwtc3RvY2tcIjtcclxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5Vbml0c0luU3RvY2sgPiA1MClcclxuICAgICAgICAgICAgICAgIGtsYXNzICs9IFwiIG5lZWRzLXJlb3JkZXJcIjtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLlVuaXRQcmljZSA+PSA1MClcclxuICAgICAgICAgICAgICAgIGtsYXNzICs9IFwiIGhpZ2gtcHJpY2VcIjtcclxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5Vbml0UHJpY2UgPj0gMjApXHJcbiAgICAgICAgICAgICAgICBrbGFzcyArPSBcIiBtZWRpdW0tcHJpY2VcIjtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAga2xhc3MgKz0gXCIgbG93LXByaWNlXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gUS50cmltVG9OdWxsKGtsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgaW1wb3J0IGZsZCA9IE5vcnRod2luZC5PcmRlclJvdy5GaWVsZHM7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgQ3VzdG9tTGlua3NJbkdyaWQgZXh0ZW5kcyBOb3J0aHdpbmQuT3JkZXJHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFdlIG92ZXJyaWRlIGdldENvbHVtbnMoKSB0byBjaGFuZ2UgZm9ybWF0IGZ1bmN0aW9ucyBmb3Igc29tZSBjb2x1bW5zLlxyXG4gICAgICAgICAqIFlvdSBjb3VsZCBhbHNvIHdyaXRlIHRoZW0gYXMgZm9ybWF0dGVyIGNsYXNzZXMsIGFuZCB1c2UgdGhlbSBhdCBzZXJ2ZXIgc2lkZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCk6IFNsaWNrLkNvbHVtbltdIHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBzdXBlci5nZXRDb2x1bW5zKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT0gZmxkLkN1c3RvbWVyQ29tcGFueU5hbWUpLmZvcm1hdCA9XHJcbiAgICAgICAgICAgICAgICBjdHggPT4gYDxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImN1c3RvbWVyLWxpbmtcIj4ke1EuaHRtbEVuY29kZShjdHgudmFsdWUpfTwvYT5gO1xyXG5cclxuICAgICAgICAgICAgUS5maXJzdChjb2x1bW5zLCB4ID0+IHguZmllbGQgPT0gZmxkLk9yZGVyRGF0ZSkuZm9ybWF0ID1cclxuICAgICAgICAgICAgICAgIGN0eCA9PiBgPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiZGF0ZS1saW5rXCI+JHtRLmZvcm1hdERhdGUoY3R4LnZhbHVlKX08L2E+YDtcclxuXHJcbiAgICAgICAgICAgIFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09IGZsZC5FbXBsb3llZUZ1bGxOYW1lKS5mb3JtYXQgPVxyXG4gICAgICAgICAgICAgICAgY3R4ID0+IGA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJlbXBsb3llZS1saW5rXCI+JHtRLmh0bWxFbmNvZGUoY3R4LnZhbHVlKX08L2E+YDtcclxuXHJcbiAgICAgICAgICAgIFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09IGZsZC5TaGlwQ291bnRyeSkuZm9ybWF0ID1cclxuICAgICAgICAgICAgICAgIGN0eCA9PiBgPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwic2hpcC1jb3VudHJ5LWxpbmtcIj4ke1EuaHRtbEVuY29kZShjdHgudmFsdWUpfTwvYT5gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25DbGljayhlOiBKUXVlcnlFdmVudE9iamVjdCwgcm93OiBudW1iZXIsIGNlbGw6IG51bWJlcik6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgLy8gbGV0IGJhc2UgZ3JpZCBoYW5kbGUgY2xpY2tzIGZvciBpdHMgZWRpdCBsaW5rc1xyXG4gICAgICAgICAgICBzdXBlci5vbkNsaWNrKGUsIHJvdywgY2VsbCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBiYXNlIGdyaWQgYWxyZWFkeSBoYW5kbGVkLCB3ZSBzaG91bGRuXCJ0IGhhbmRsZSBpdCBhZ2FpblxyXG4gICAgICAgICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGN1cnJlbnQgaXRlbVxyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbUF0KHJvdyk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGNsaWNrZWQgZWxlbWVudFxyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc0NsYXNzKFwiY3VzdG9tZXItbGlua1wiKSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gUS5mb3JtYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8cD5Zb3UgaGF2ZSBjbGlja2VkIGFuIG9yZGVyIGZyb20gY3VzdG9tZXI6IHswfS48L3A+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPHA+SWYgeW91IGNsaWNrIFllcywgaSdsbCBvcGVuIEN1c3RvbWVyIGRpYWxvZy48L3A+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPHA+SWYgeW91IGNsaWNrIE5vLCBpJ2xsIG9wZW4gT3JkZXIgZGlhbG9nLjwvcD5cIixcclxuICAgICAgICAgICAgICAgICAgICBRLmh0bWxFbmNvZGUoaXRlbS5DdXN0b21lckNvbXBhbnlOYW1lKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5jb25maXJtKG1lc3NhZ2UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDdXN0b21lckRpYWxvZyBkb2Vzbid0IHVzZSBDdXN0b21lcklEIGJ1dCBJRCAoaWRlbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gbmVlZCB0byBmaW5kIGN1c3RvbWVyIHRvIGdldCBpdHMgYWN0dWFsIElEXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1c3RvbWVyID0gUS5maXJzdChOb3J0aHdpbmQuQ3VzdG9tZXJSb3cuZ2V0TG9va3VwKCkuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPT4geC5DdXN0b21lcklEID09IGl0ZW0uQ3VzdG9tZXJJRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3J0aHdpbmQuQ3VzdG9tZXJEaWFsb2coKS5sb2FkQnlJZEFuZE9wZW5EaWFsb2coY3VzdG9tZXIuSUQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxFbmNvZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk5vOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm9ydGh3aW5kLk9yZGVyRGlhbG9nKCkubG9hZEJ5SWRBbmRPcGVuRGlhbG9nKGl0ZW0uT3JkZXJJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQuaGFzQ2xhc3MoXCJkYXRlLWxpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb3JkZXJzSW5TYW1lRGF0ZSA9IFEuY291bnQodGhpcy52aWV3LmdldEl0ZW1zKCksIHggPT4geC5PcmRlckRhdGUgPT0gaXRlbS5PcmRlckRhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIFEubm90aWZ5SW5mbyhcIllvdSBjbGlja2VkIGFuIG9yZGVyIGZyb20gZGF0ZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgUS5mb3JtYXREYXRlKGl0ZW0uT3JkZXJEYXRlKSArIFwiLiBUaGVyZSBhcmUgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyc0luU2FtZURhdGUgKyBcIiBvcmRlcnMgZnJvbSB0aGUgc2FtZSBkYXRlIHRoYXQgaXMgbG9hZGVkIGluIGdyaWQgYXQgdGhlIG1vbWVudFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQuaGFzQ2xhc3MoXCJlbXBsb3llZS1saW5rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5ub3RpZnlTdWNjZXNzKFwiWW91IGNsaWNrZWQgYW4gZW1wbG95ZWUgbmFtZSwgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwic28gaSd2ZSBvcGVuZWQgYSBuZXcgT3JkZXIgRGlhbG9nIGZyb20gc2FtZSBjdXN0b21lciBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ3aXRoIHRoYXQgZW1wbG95ZWUgcHJlcG9wdWxhdGVkIVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXcgTm9ydGh3aW5kLk9yZGVyRGlhbG9nKCkubG9hZEVudGl0eUFuZE9wZW5EaWFsb2coPE5vcnRod2luZC5PcmRlclJvdz57XHJcbiAgICAgICAgICAgICAgICAgICAgQ3VzdG9tZXJJRDogaXRlbS5DdXN0b21lcklELFxyXG4gICAgICAgICAgICAgICAgICAgIEVtcGxveWVlSUQ6IGl0ZW0uRW1wbG95ZWVJRFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0Lmhhc0NsYXNzKFwic2hpcC1jb3VudHJ5LWxpbmtcIikpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBRLm5vdGlmeVN1Y2Nlc3MoXCJMZXQncyBmaWx0ZXIgdGhlIGdyaWQgdG8gb3JkZXJzIGZyb20gXCIgKyBpdGVtLlNoaXBDb3VudHJ5KTtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5RmlsdGVyID0gdGhpcy5maW5kUXVpY2tGaWx0ZXIoU2VyZW5pdHkuTG9va3VwRWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIE5vcnRod2luZC5PcmRlclJvdy5GaWVsZHMuU2hpcENvdW50cnkpO1xyXG4gICAgICAgICAgICAgICAgY291bnRyeUZpbHRlci52YWx1ZSA9IGl0ZW0uU2hpcENvdW50cnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZvciBjb2x1bW5zIHdpdGggW0VkaXRMaW5rXSBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICogYnV0IG9ubHkgZm9yIGVkaXQgbGlua3Mgb2YgdGhpcyBncmlkJ3Mgb3duIGl0ZW0gdHlwZS5cclxuICAgICAgICAgKiBJdCBpcyBhbHNvIGNhbGxlZCBieSBBZGQgUHJvZHVjdCBidXR0b24gd2l0aCBhIE5VTEwgZW50aXR5T3JJZFxyXG4gICAgICAgICAqIHBhcmFtZXRlciBzbyB3ZSBzaG91bGQgY2hlY2sgdGhhdCBlbnRpdHlPcklkIGlzIGEgc3RyaW5nXHJcbiAgICAgICAgICogdG8gYmUgc3VyZSBpdCBpcyBvcmlnaW5hdGluZyBmcm9tIGEgbGluay5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEFzIHdlIGNoYW5nZWQgZm9ybWF0IGZvciBvdGhlciBjb2x1bW5zLCB0aGlzIHdpbGwgb25seSBiZSBjYWxsZWRcclxuICAgICAgICAgKiBmb3IgbGlua3MgaW4gcmVtYWluaW5nIE9yZGVySUQgY29sdW1uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGVkaXRJdGVtKGVudGl0eU9ySWQpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGlzIGlzIGFuIGVkaXQgbGluayBjbGljaywgbm90IGFkZCBidXR0b24sIElEIGlzIGFsd2F5cyBhIHN0cmluZ1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVudGl0eU9ySWQgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBJRCB0byBhbiBpbnRlZ2VyLCBhbmQgZmluZCBvcmRlciB3aXRoIHRoYXQgSURcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy52aWV3LmdldEl0ZW1CeUlkKFEudG9JZChlbnRpdHlPcklkKSk7XHJcbiAgICAgICAgICAgICAgICAvLyBkYXRlIGlzIGEgSVNPIHN0cmluZywgc28gbmVlZCB0byBwYXJzZSBpdCBmaXJzdFxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBRLmZvcm1hdERhdGUoaXRlbS5PcmRlckRhdGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFzayBmb3IgY29uZmlybWF0aW9uXHJcbiAgICAgICAgICAgICAgICBRLmNvbmZpcm0oUS5mb3JtYXQoXCJZb3UgY2xpY2tlZCBlZGl0IGxpbmsgZm9yIG9yZGVyIHdpdGggSUQ6IHswfSBhbmQgRGF0ZTogezF9LiBTaG91bGQgaSBvcGVuIHRoYXQgb3JkZXI/XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5PcmRlcklELCBkYXRlKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm9ydGh3aW5kLk9yZGVyRGlhbG9nKCkubG9hZEJ5SWRBbmRPcGVuRGlhbG9nKGl0ZW0uT3JkZXJJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlci5lZGl0SXRlbShlbnRpdHlPcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJcclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIERyYWdEcm9wU2FtcGxlRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPERyYWdEcm9wU2FtcGxlUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIERyYWdEcm9wU2FtcGxlRm9ybS5mb3JtS2V5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBEcmFnRHJvcFNhbXBsZVJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIERyYWdEcm9wU2FtcGxlUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBEcmFnRHJvcFNhbXBsZVJvdy5uYW1lUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIERyYWdEcm9wU2FtcGxlU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IERyYWdEcm9wU2FtcGxlRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICB9XHJcbn0iLCJcclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG4gICAgXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBEcmFnRHJvcFNhbXBsZUdyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPERyYWdEcm9wU2FtcGxlUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuICdCYXNpY1NhbXBsZXMuRHJhZ0Ryb3BTYW1wbGUnOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiBEcmFnRHJvcFNhbXBsZURpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gRHJhZ0Ryb3BTYW1wbGVSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBEcmFnRHJvcFNhbXBsZVJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIERyYWdEcm9wU2FtcGxlU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZHJhZ2dpbmc6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgbmV3IFNlcmVuaXR5LlRyZWVHcmlkTWl4aW4oe1xyXG4gICAgICAgICAgICAgICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHRvZ2dsZUZpZWxkOiBEcmFnRHJvcFNhbXBsZVJvdy5GaWVsZHMuVGl0bGUsXHJcbiAgICAgICAgICAgICAgICBnZXRQYXJlbnRJZDogeCA9PiB4LlBhcmVudElkLFxyXG4gICAgICAgICAgICAgICAgaW5pdGlhbENvbGxhcHNlOiAoKSA9PiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzYXZlIHByaW9yIGRyYWcgdGFyZ2V0IHRvIHJlc3RvcmUgaXRzIGNvbG9yIGR1cmluZyBkcmFnXHJcbiAgICAgICAgICAgIHZhciBwcmlvckRyYWdUYXJnZXQ6IGFueTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBwcmV2ZW50IHRoZSBncmlkIGZyb20gY2FuY2VsbGluZyBkcmFnJ24nZHJvcCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLm9uRHJhZ0luaXQuc3Vic2NyaWJlKChlLCBkZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBhbiBpdGVtIGlzIGFib3V0IHRvIGJlIGRyYWdnZWRcclxuICAgICAgICAgICAgdGhpcy5zbGlja0dyaWQub25EcmFnU3RhcnQuc3Vic2NyaWJlKChlLCBkZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSBhbGxvdyBlZGl0IGxpbmtzIHRvIGJlIGRyYWdnZWRcclxuICAgICAgICAgICAgICAgIGlmICghJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3MtRWRpdExpbmsnKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGlzIGEgY2VsbCBpbiBzb3VyY2UgbG9jYXRpb25cclxuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy5zbGlja0dyaWQuZ2V0Q2VsbEZyb21FdmVudChlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgdGhhdCB3ZSdsbCBoYW5kbGUgZHJhZ1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzYXZlIGRldGFpbHMgYWJvdXQgZHJhZ2dlZCBpdGVtXHJcbiAgICAgICAgICAgICAgICBkZC5yb3cgPSBjZWxsLnJvdztcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtQXQoY2VsbC5yb3cpO1xyXG4gICAgICAgICAgICAgICAgZGQuaXRlbSA9IGl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYSB1bmlxdWUgbmFtZSBmb3Igb3VyIG9wZXJhdGlvblxyXG4gICAgICAgICAgICAgICAgZGQubW9kZSA9IFwibW92ZVwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBoZWxwZXIgc2hvd24gZHVyaW5nIGRyYWdnaW5nXHJcbiAgICAgICAgICAgICAgICB2YXIgaGVscGVyID0gJChcIjxzcGFuPjwvc3Bhbj5cIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2RyYWctaGVscGVyJylcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChcIk1vdmluZyBcIiArIGl0ZW0uVGl0bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xyXG4gICAgICAgICAgICAgICAgZGQuaGVscGVyID0gaGVscGVyO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgbWV0aG9kIGlzIHBlcmlvZGljYWxseSBjYWxsZWQgZHVyaW5nIGRyYWdcclxuICAgICAgICAgICAgdGhpcy5zbGlja0dyaWQub25EcmFnLnN1YnNjcmliZSgoZSwgZGQpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIG9ubHkgaGFuZGxlIG91ciBvcGVyYXRpb25cclxuICAgICAgICAgICAgICAgIGlmIChkZC5tb2RlICE9IFwibW92ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGNoYW5nZWQgY29sb3Igb2Ygc29tZSB0YXJnZXQgYmVmb3JlLCByZXNldCBpdFxyXG4gICAgICAgICAgICAgICAgaWYgKHByaW9yRHJhZ1RhcmdldCAmJiBwcmlvckRyYWdUYXJnZXQgIT0gZS50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHByaW9yRHJhZ1RhcmdldCkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yRHJhZ1RhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmluZCB0YXJnZXQsIHRoZSBzb3VyY2Ugd2lsbCBkcmFnIGludG9cclxuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy5zbGlja0dyaWQuZ2V0Q2VsbEZyb21FdmVudChlKTtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAhY2VsbCA/IG51bGwgOiB0aGlzLml0ZW1BdChjZWxsLnJvdyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWNjZXB0IG9ubHkgZWRpdCBsaW5rcyBhbmQgdmFsaWQgaXRlbXMgYXMgZHJhZyB0YXJnZXRcclxuICAgICAgICAgICAgICAgIHZhciByZWplY3QgPSAhJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3MtRWRpdExpbmsnKSB8fCAhdGhpcy5jYW5Nb3ZlVW5kZXIoZGQuaXRlbSwgdGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGQuaGVscGVyLnRleHQoXCJDYW4ndCBtb3ZlIFwiICsgZGQuaXRlbS5UaXRsZSArIFwiIGhlcmVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRkLmhlbHBlci50ZXh0KFwiTW92ZSBcIiArIGRkLml0ZW0uVGl0bGUgKyBcIiB1bmRlciBcIiArICQoZS50YXJnZXQpLnRleHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlIGNvbG9yIG9mIGN1cnJlbnQgZHJhZyB0YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2RkZWVlZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yRHJhZ1RhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHRvZ2dsZSBjbGFzcyBvZiBoZWxwZXIgdG8gc2hvdyByZWxldmFudCBhY2NlcHQgLyByZWplY3QgaWNvblxyXG4gICAgICAgICAgICAgICAgZGQuaGVscGVyLnRvZ2dsZUNsYXNzKCdyZWplY3QnLCByZWplY3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uIGhlbHBlciBuZXh0IHRvIGN1cnJlbnQgbW91c2UgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgIGRkLmhlbHBlci5jc3MoeyB0b3A6IGUucGFnZVkgKyA1LCBsZWZ0OiBlLnBhZ2VYICsgNCB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGNhbGxlZCB3aGVuIGRyYWcgaXMgY29tcGxldGVkXHJcbiAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLm9uRHJhZ0VuZC5zdWJzY3JpYmUoKGUsIGRkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGQubW9kZSAhPSBcIm1vdmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IGJyb3dzZXIgZnJvbSBjaGFuZ2luZyB1cmxcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhciBpbmRpY2F0b3IgY29sb3IgYW5kIGRyYWcgaGVscGVyXHJcbiAgICAgICAgICAgICAgICBwcmlvckRyYWdUYXJnZXQgJiYgJChwcmlvckRyYWdUYXJnZXQpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcclxuICAgICAgICAgICAgICAgIGRkLmhlbHBlci5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGFyZ2V0IHJvd1xyXG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLnNsaWNrR3JpZC5nZXRDZWxsRnJvbUV2ZW50KGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBkZC5pdGVtIGFzIERyYWdEcm9wU2FtcGxlUm93O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICFjZWxsID8gbnVsbCA6IHRoaXMuaXRlbUF0KGNlbGwucm93KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBhZ2FpbiB0aGF0IHRoaXMgaXMgdmFsaWQgZHJhZyB0YXJnZXRcclxuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygncy1FZGl0TGluaycpICYmIHRoaXMuY2FuTW92ZVVuZGVyKGl0ZW0sIHRhcmdldCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG1vdmUgb3VyIHByaW1hcnkgZHJhZyBzb3VyY2UgdW5kZXIgbmV3IHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3ZlSXRlbSA9IGZ1bmN0aW9uKG9uU3VjY2VzczogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmFnRHJvcFNhbXBsZVNlcnZpY2UuVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiBpdGVtLklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyZW50SWQ6IHRhcmdldC5JZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvblN1Y2Nlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZHJhZyBzb3VyY2UgaGFzIHNvbWUgY2hpbGRyZW4sIG5lZWQgc29tZSBjb25maXJtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkcmVuKGRkLml0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFEuY29uZmlybSgnTW92ZSBpdHMgY2hpbGRyZW4gYWxvbmdzaWRlIHRoZSBpdGVtPycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHJlc3BvbmRlZCB5ZXMsIG1vdmluZyBpdGVtIHVuZGVyIG5ldyBwYXJlbnQgc2hvdWxkIGJlIGVub3VnaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUl0ZW0oKCkgPT4gdGhpcy5yZWZyZXNoKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25ObzogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiByZXNwb25kZWQgbm8sIGNoaWxkcmVuIHNob3VsZCBtb3ZlIHVuZGVyIG9sZCBwYXJlbnQgb2YgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkUGFyZW50SWQgPSBpdGVtLlBhcmVudElkID09IG51bGwgPyBudWxsIDogaXRlbS5QYXJlbnRJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb3ZlTmV4dENoaWxkID0gZnVuY3Rpb24gKG9uU3VjY2VzczogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gY2hpbGRyZW4uc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcmFnRHJvcFNhbXBsZVNlcnZpY2UuVXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW50aXR5SWQ6IHguSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyZW50SWQ6IG9sZFBhcmVudElkIHx8IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICgpID0+IG1vdmVOZXh0Q2hpbGQob25TdWNjZXNzKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiAoKSA9PiB0aGlzLnJlZnJlc2goKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCBtb3ZlIGl0ZW0gaXRzZWxmIHVuZGVyIG5ldyBwYXJlbnQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIG1vdmUgaXRzIGNoaWxkcmVuIHVuZGVyIG9sZCBwYXJlbnQgb25lIGJ5IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlSXRlbSgoKSA9PiBtb3ZlTmV4dENoaWxkKCgpID0+IHRoaXMucmVmcmVzaCgpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVtIGhhcyBubyBjaGlsZHJlbiwganVzdCBtb3ZlIGl0IHVuZGVyIG5ldyBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUl0ZW0oKCkgPT4gdGhpcy5yZWZyZXNoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2Qgd2lsbCBkZXRlcm1pbmUgaWYgaXRlbSBjYW4gYmUgbW92ZWQgdW5kZXIgYSBnaXZlbiB0YXJnZXRcclxuICAgICAgICAgKiBBbiBpdGVtIGNhbid0IGJlIG1vdmVkIHVuZGVyIGl0c2VsZiwgdW5kZXIgb25lIG9mIGl0cyBjaGlsZHJlblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgY2FuTW92ZVVuZGVyKGl0ZW06IERyYWdEcm9wU2FtcGxlUm93LCB0YXJnZXQ6IERyYWdEcm9wU2FtcGxlUm93KSB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbSB8fCAhdGFyZ2V0IHx8IGl0ZW0uSWQgPT0gdGFyZ2V0LklkIHx8IGl0ZW0uUGFyZW50SWQgPT0gdGFyZ2V0LklkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKFEuYW55KHRoaXMuZ2V0UGFyZW50cyh0YXJnZXQpLCB4ID0+IHguSWQgPT0gaXRlbS5JZCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgY2hpbGRyZW4gbGlzdCBvZiBhbiBpdGVtXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRDaGlsZHJlbihpdGVtOiBEcmFnRHJvcFNhbXBsZVJvdykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtcygpLmZpbHRlcih4ID0+IHguUGFyZW50SWQgPT0gaXRlbS5JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIGFsbCBwYXJlbnRzIG9mIGFuIGl0ZW1cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIGdldFBhcmVudHMoaXRlbTogRHJhZ0Ryb3BTYW1wbGVSb3cpOiBEcmFnRHJvcFNhbXBsZVJvd1tdIHtcclxuICAgICAgICAgICAgLy8gdXNlIHRoaXMgdG8gcHJldmVudCBpbmZpbml0ZSByZWN1cnNpb25cclxuICAgICAgICAgICAgdmFyIHZpc2l0ZWQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQ6IERyYWdEcm9wU2FtcGxlUm93W10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIHdoaWxlIGl0ZW0gaGFzIGEgcGFyZW50IGFuZCBub3QgdmlzaXRlZCB5ZXRcclxuICAgICAgICAgICAgd2hpbGUgKGl0ZW0uUGFyZW50SWQgJiYgIXZpc2l0ZWRbaXRlbS5QYXJlbnRJZF0pIHtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgcGFyZW50IGJ5IGl0cyBJRFxyXG4gICAgICAgICAgICAgICAgaXRlbSA9IHRoaXMudmlldy5nZXRJdGVtQnlJZChpdGVtLlBhcmVudElkKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdmlzaXRlZFtpdGVtLklkXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVzZVBhZ2VyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgU2VsZWN0YWJsZUVudGl0eUdyaWQ8VEl0ZW0sIFRPcHRpb25zPiBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8VEl0ZW0sIFRPcHRpb25zPiB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTbGlja09wdGlvbnMoKTogU2xpY2suR3JpZE9wdGlvbnMge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0U2xpY2tPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIG9wdC5lbmFibGVUZXh0U2VsZWN0aW9uT25DZWxscyA9IHRydWU7XHJcbiAgICAgICAgICAgIG9wdC5zZWxlY3RlZENlbGxDc3NDbGFzcyA9IFwic2xpY2stcm93LXNlbGVjdGVkXCI7XHJcbiAgICAgICAgICAgIG9wdC5lbmFibGVDZWxsTmF2aWdhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2xpY2tHcmlkKCk6IFNsaWNrLkdyaWQge1xyXG4gICAgICAgICAgICB2YXIgZ3JpZCA9IHN1cGVyLmNyZWF0ZVNsaWNrR3JpZCgpO1xyXG4gICAgICAgICAgICBncmlkLnNldFNlbGVjdGlvbk1vZGVsKG5ldyBTbGljay5Sb3dTZWxlY3Rpb25Nb2RlbCgpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdyaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJTZWxlY3RhYmxlRW50aXR5R3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUm93U2VsZWN0aW9uR3JpZCBleHRlbmRzIFNlbGVjdGFibGVFbnRpdHlHcmlkPE5vcnRod2luZC5TdXBwbGllclJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnNLZXkoKSB7IHJldHVybiBcIk5vcnRod2luZC5TdXBwbGllclwiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiA8YW55Pk5vcnRod2luZC5TdXBwbGllckRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLlN1cHBsaWVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLlN1cHBsaWVyUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gTm9ydGh3aW5kLlN1cHBsaWVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9Qcm9kdWN0L1Byb2R1Y3RHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkRmlsdGVyZWRCeUNyaXRlcmlhIGV4dGVuZHMgTm9ydGh3aW5kLlByb2R1Y3RHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdTdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgY29udGludWUgaWYgYmFzZSBjbGFzcyByZXR1cm5zIHRydWUgKGRpZG4ndCBjYW5jZWwgcmVxdWVzdClcclxuICAgICAgICAgICAgaWYgKCFzdXBlci5vblZpZXdTdWJtaXQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB2aWV3IG9iamVjdCBpcyB0aGUgZGF0YSBzb3VyY2UgZm9yIGdyaWQgKFNsaWNrUmVtb3RlVmlldylcclxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBFbnRpdHlHcmlkIHNvIGl0cyBQYXJhbXMgb2JqZWN0IGlzIGEgTGlzdFJlcXVlc3RcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzLnZpZXcucGFyYW1zIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG5cclxuICAgICAgICAgICAgLy8gbGlzdCByZXF1ZXN0IGhhcyBhIENyaXRlcmlhIHBhcmFtZXRlclxyXG4gICAgICAgICAgICAvLyB3ZSBBTkQgY3JpdGVyaWEgaGVyZSB0byBleGlzdGluZyBvbmUgYmVjYXVzZSBcclxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIG1pZ2h0IGNsZWFyIGZpbHRlciBzZXQgYnkgXHJcbiAgICAgICAgICAgIC8vIGFuIGVkaXQgZmlsdGVyIGRpYWxvZyBpZiBhbnkuXHJcblxyXG4gICAgICAgICAgICByZXF1ZXN0LkNyaXRlcmlhID0gU2VyZW5pdHkuQ3JpdGVyaWEuYW5kKHJlcXVlc3QuQ3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICBbWydVbml0c0luU3RvY2snXSwgJz4nLCAxMF0sXHJcbiAgICAgICAgICAgICAgICBbWydDYXRlZ29yeU5hbWUnXSwgJyE9JywgJ0NvbmRpbWVudHMnXSxcclxuICAgICAgICAgICAgICAgIFtbJ0Rpc2NvbnRpbnVlZCddLCAnPScsIDBdKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzdXBwb3J0IG9wZXJhdG9yIG92ZXJsb2FkaW5nXHJcbiAgICAgICAgICAgIC8vIHNvIHdlIGhhZCB0byB1c2UgYXJyYXkgc3ludGF4IGFib3ZlIHRvIGJ1aWxkIGNyaXRlcmlhLlxyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHlvdSB3cml0ZVxyXG4gICAgICAgICAgICAvLyBbWydGaWVsZCddLCAnPicsIDEwXSAod2hpY2ggbWVhbnMgZmllbGQgQSBpcyBncmVhdGVyIHRoYW4gMTApXHJcbiAgICAgICAgICAgIC8vIG5vdCBcclxuICAgICAgICAgICAgLy8gWydBJywgJz4nLCAxMF0gKHdoaWNoIG1lYW5zIHN0cmluZyAnQScgaXMgZ3JlYXRlciB0aGFuIDEwXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL1Byb2R1Y3QvUHJvZHVjdEdyaWQudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEdyb3VwaW5nQW5kU3VtbWFyaWVzSW5HcmlkIGV4dGVuZHMgTm9ydGh3aW5kLlByb2R1Y3RHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTbGlja0dyaWQoKSB7XHJcbiAgICAgICAgICAgIHZhciBncmlkID0gc3VwZXIuY3JlYXRlU2xpY2tHcmlkKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBuZWVkIHRvIHJlZ2lzdGVyIHRoaXMgcGx1Z2luIGZvciBncm91cGluZyBvciB5b3UnbGwgaGF2ZSBlcnJvcnNcclxuICAgICAgICAgICAgZ3JpZC5yZWdpc3RlclBsdWdpbihuZXcgU2xpY2suRGF0YS5Hcm91cEl0ZW1NZXRhZGF0YVByb3ZpZGVyKCkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy52aWV3LnNldFN1bW1hcnlPcHRpb25zKHtcclxuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0b3JzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNrLkFnZ3JlZ2F0b3JzLkF2ZygnVW5pdFByaWNlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNrLkFnZ3JlZ2F0b3JzLlN1bSgnVW5pdHNJblN0b2NrJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNrLkFnZ3JlZ2F0b3JzLk1heCgnVW5pdHNPbk9yZGVyJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNrLkFnZ3JlZ2F0b3JzLkF2ZygnUmVvcmRlckxldmVsJylcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZ3JpZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IHN1cGVyLmdldENvbHVtbnMoKTtcclxuXHJcbiAgICAgICAgICAgIFEuZmlyc3QoY29sdW1ucywgeCA9PiB4LmZpZWxkID09PSAnVW5pdHNPbk9yZGVyJylcclxuICAgICAgICAgICAgICAgIC5ncm91cFRvdGFsc0Zvcm1hdHRlciA9ICh0b3RhbHMsIGNvbCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAodG90YWxzLm1heCA/ICgnbWF4OiAnICsgUS5jb2FsZXNjZSh0b3RhbHMubWF4W2NvbC5maWVsZF0sICcnKSkgOiAnJyk7XHJcblxyXG4gICAgICAgICAgICBRLmZpcnN0KGNvbHVtbnMsIHggPT4geC5maWVsZCA9PT0gJ1Jlb3JkZXJMZXZlbCcpXHJcbiAgICAgICAgICAgICAgICAuZ3JvdXBUb3RhbHNGb3JtYXR0ZXIgPSAodG90YWxzLCBjb2wpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgKHRvdGFscy5hdmcgPyAoJ2F2ZzogJyArIFEuY29hbGVzY2UoUS5mb3JtYXROdW1iZXIodG90YWxzLmF2Z1tjb2wuZmllbGRdLCAnMC4nKSwgJycpKSA6ICcnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNsaWNrT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IHN1cGVyLmdldFNsaWNrT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBvcHQuc2hvd0Zvb3RlclJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXNlUGFnZXIoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRCdXR0b25zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3tcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnR3JvdXAgQnkgQ2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdleHBhbmQtYWxsLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnZpZXcuc2V0R3JvdXBpbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiAnQ2F0ZWdvcnlOYW1lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1dKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0dyb3VwIEJ5IENhdGVnb3J5IGFuZCBTdXBwbGllcicsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2V4cGFuZC1hbGwtYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMudmlldy5zZXRHcm91cGluZyhcclxuICAgICAgICAgICAgICAgICAgICBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IHggPT4gJ0NhdGVnb3J5OiAnICsgeC52YWx1ZSArICcgKCcgKyB4LmNvdW50ICsgJyBpdGVtcyknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXI6ICdDYXRlZ29yeU5hbWUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IHggPT4gJ1N1cHBsaWVyOiAnICsgeC52YWx1ZSArICcgKCcgKyB4LmNvdW50ICsgJyBpdGVtcyknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXI6ICdTdXBwbGllckNvbXBhbnlOYW1lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1dKVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ05vIEdyb3VwaW5nJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnY29sbGFwc2UtYWxsLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnZpZXcuc2V0R3JvdXBpbmcoW10pXHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICAvLyBnZXQgYSByZWZlcmVuY2UgdG8gb3JkZXIgcm93IGZpZWxkIG5hbWVzXHJcbiAgICBpbXBvcnQgZmxkID0gTm9ydGh3aW5kLk9yZGVyUm93LkZpZWxkcztcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBJbml0aWFsVmFsdWVzRm9yUXVpY2tGaWx0ZXJzIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgdG8gZ2V0IGxpc3Qgb2YgcXVpY2sgZmlsdGVycyB0byBiZSBjcmVhdGVkIGZvciB0aGlzIGdyaWQuXHJcbiAgICAgICAgICogQnkgZGVmYXVsdCwgaXQgcmV0dXJucyBxdWljayBmaWx0ZXIgb2JqZWN0cyBjb3JyZXNwb25kaW5nIHRvIHByb3BlcnRpZXMgdGhhdFxyXG4gICAgICAgICAqIGhhdmUgYSBbUXVpY2tGaWx0ZXJdIGF0dHJpYnV0ZSBhdCBzZXJ2ZXIgc2lkZSBPcmRlckNvbHVtbnMuY3NcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UXVpY2tGaWx0ZXJzKCk6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFNlcmVuaXR5LldpZGdldDxhbnk+LCBhbnk+W10ge1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IHF1aWNrIGZpbHRlciBsaXN0IGZyb20gYmFzZSBjbGFzc1xyXG4gICAgICAgICAgICBsZXQgZmlsdGVycyA9IHN1cGVyLmdldFF1aWNrRmlsdGVycygpO1xyXG5cclxuICAgICAgICAgICAgLy8gcXVpY2sgZmlsdGVyIGluaXQgbWV0aG9kIGlzIGEgZ29vZCBwbGFjZSB0byBzZXQgaW5pdGlhbFxyXG4gICAgICAgICAgICAvLyB2YWx1ZSBmb3IgYSBxdWljayBmaWx0ZXIgZWRpdG9yLCBqdXN0IGFmdGVyIGl0IGlzIGNyZWF0ZWRcclxuXHJcbiAgICAgICAgICAgIFEuZmlyc3QoZmlsdGVycywgeCA9PiB4LmZpZWxkID09IGZsZC5PcmRlckRhdGUpLmluaXQgPSB3ID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHcgaXMgYSByZWZlcmVuY2UgdG8gdGhlIGVkaXRvciBmb3IgdGhpcyBxdWljayBmaWx0ZXIgd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICAvLyBoZXJlIHdlIGNhc3QgaXQgdG8gRGF0ZUVkaXRvciwgYW5kIHNldCBpdHMgdmFsdWUgYXMgZGF0ZS5cclxuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCBpbiBKYXZhc2NyaXB0LCBtb250aHMgYXJlIDAgYmFzZWQsIHNvIGRhdGUgYmVsb3dcclxuICAgICAgICAgICAgICAgIC8vIGlzIGFjdHVhbGx5IDIwMTYtMDUtMDFcclxuICAgICAgICAgICAgICAgICh3IGFzIFNlcmVuaXR5LkRhdGVFZGl0b3IpLnZhbHVlQXNEYXRlID0gbmV3IERhdGUoMjAxNiwgNCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZyBzdGFydCBkYXRlIHdhcyBzaW1wbGUuIGJ1dCB0aGlzIHF1aWNrIGZpbHRlciBpcyBhY3R1YWxseVxyXG4gICAgICAgICAgICAgICAgLy8gYSBjb21iaW5hdGlvbiBvZiB0d28gZGF0ZSBlZGl0b3JzLiB0byBnZXQgcmVmZXJlbmNlIHRvIHNlY29uZCBvbmUsXHJcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGZpbmQgaXRzIG5leHQgc2libGluZyBlbGVtZW50IGJ5IGl0cyBjbGFzc1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZERhdGUgPSB3LmVsZW1lbnQubmV4dEFsbChcIi5zLURhdGVFZGl0b3JcIikuZ2V0V2lkZ2V0KFNlcmVuaXR5LkRhdGVFZGl0b3IpO1xyXG4gICAgICAgICAgICAgICAgZW5kRGF0ZS52YWx1ZUFzRGF0ZSA9IG5ldyBEYXRlKDIwMTYsIDYsIDEpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgUS5maXJzdChmaWx0ZXJzLCB4ID0+IHguZmllbGQgPT0gZmxkLlNoaXBwaW5nU3RhdGUpLmluaXQgPSB3ID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGVudW0gZWRpdG9yIGhhcyBhIHN0cmluZyB2YWx1ZSwgc28gbmVlZCB0byBjYWxsIHRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgICh3IGFzIFNlcmVuaXR5LkVudW1FZGl0b3IpLnZhbHVlID0gTm9ydGh3aW5kLk9yZGVyU2hpcHBpbmdTdGF0ZS5Ob3RTaGlwcGVkLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgYW5vdGhlciBwb3NzaWJsZSBwbGFjZSB0byBtb2RpZnkgcXVpY2sgZmlsdGVyIHdpZGdldHMuXHJcbiAgICAgICAgICogSXQgaXMgd2hlcmUgdGhlIHF1aWNrIGZpbHRlciB3aWRnZXRzIGFyZSBhY3R1YWxseSBjcmVhdGVkLlxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIGl0IGNhbGxzIGdldFF1aWNrRmlsdGVycygpIHRoZW4gcmVuZGVycyBVSSBmb3IgdGhlc2VcclxuICAgICAgICAgKiBxdWljayBmaWx0ZXJzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogV2UgY291bGQgdXNlIGdldFF1aWNrRmlsdGVycygpIG1ldGhvZCBmb3IgU2hpcFZpYSB0b28sXHJcbiAgICAgICAgICogYnV0IHRoaXMgaXMgZm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXNcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlUXVpY2tGaWx0ZXJzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgLy8gbGV0IGJhc2UgY2xhc3MgdG8gY3JlYXRlIHF1aWNrIGZpbHRlcnMgZmlyc3RcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlUXVpY2tGaWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBmaW5kIGEgcXVpY2sgZmlsdGVyIHdpZGdldCBieSBpdHMgZmllbGQgbmFtZVxyXG4gICAgICAgICAgICB0aGlzLmZpbmRRdWlja0ZpbHRlcihTZXJlbml0eS5Mb29rdXBFZGl0b3IsIGZsZC5TaGlwVmlhKS52YWx1ZXMgPSBbXCIxXCIsIFwiMlwiXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL0N1c3RvbWVyL0N1c3RvbWVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgSW5saW5lQWN0aW9uR3JpZCBleHRlbmRzIE5vcnRod2luZC5DdXN0b21lckdyaWQge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW5zID0gc3VwZXIuZ2V0Q29sdW1ucygpO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnRGVsZXRlIFJvdycsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogY3R4ID0+ICc8YSBjbGFzcz1cImlubGluZS1hY3Rpb24gZGVsZXRlLXJvd1wiIHRpdGxlPVwiZGVsZXRlXCI+JyArIFxyXG4gICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLXRyYXNoLW8gdGV4dC1yZWRcIj48L2k+PC9hPicsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjQgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy5zcGxpY2UoMSwgMCwge1xyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICdWaWV3IERldGFpbHMnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGN0eCA9PiAnPGEgY2xhc3M9XCJpbmxpbmUtYWN0aW9uIHZpZXctZGV0YWlsc1wiIHRpdGxlPVwidmlldyBkZXRhaWxzXCI+PC9hPicsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjQgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29sdW1ucy5zcGxpY2UoMiwgMCwge1xyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICdOZXcgT3JkZXInLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGN0eCA9PiAnPGEgY2xhc3M9XCJpbmxpbmUtYWN0aW9uIG5ldy1vcmRlclwiIHRpdGxlPVwibmV3IG9yZGVyXCI+PC9hPicsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMjQsXHJcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogMjRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uQ2xpY2soZSwgcm93LCBjZWxsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1BdChyb3cpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGNsaWNrcyBcImlcIiBlbGVtZW50LCBlLmcuIGljb25cclxuICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnQoKS5oYXNDbGFzcygnaW5saW5lLWFjdGlvbicpKVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNDbGFzcygnaW5saW5lLWFjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNDbGFzcygnZGVsZXRlLXJvdycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5jb25maXJtKCdEZWxldGUgcmVjb3JkPycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTm9ydGh3aW5kLkN1c3RvbWVyU2VydmljZS5EZWxldGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRW50aXR5SWQ6IGl0ZW0uSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldC5oYXNDbGFzcygndmlldy1kZXRhaWxzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRJdGVtKGl0ZW0uSUQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0Lmhhc0NsYXNzKCduZXctb3JkZXInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkbGcgPSBuZXcgTm9ydGh3aW5kLk9yZGVyRGlhbG9nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0RGlhbG9nKGRsZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGxnLmxvYWRFbnRpdHlBbmRPcGVuRGlhbG9nKDxOb3J0aHdpbmQuT3JkZXJSb3c+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21lcklEOiBpdGVtLkN1c3RvbWVySURcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckZvcm1hdHRlcigpXHJcbiAgICBleHBvcnQgY2xhc3MgSW5saW5lSW1hZ2VGb3JtYXR0ZXJcclxuICAgICAgICBpbXBsZW1lbnRzIFNsaWNrLkZvcm1hdHRlciwgU2VyZW5pdHkuSUluaXRpYWxpemVDb2x1bW4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBmaWxlID0gKHRoaXMuZmlsZVByb3BlcnR5ID8gY3R4Lml0ZW1bdGhpcy5maWxlUHJvcGVydHldIDogY3R4LnZhbHVlKSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIGlmICghZmlsZSB8fCAhZmlsZS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIGxldCBocmVmID0gUS5yZXNvbHZlVXJsKFwifi91cGxvYWQvXCIgKyBmaWxlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRodW1iKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBmaWxlLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgICAgICBmaWxlID0gcGFydHMuc2xpY2UoMCwgcGFydHMubGVuZ3RoIC0gMSkuam9pbignLicpICsgJ190LmpwZyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzcmMgPSBRLnJlc29sdmVVcmwoJ34vdXBsb2FkLycgKyBmaWxlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBgPGEgY2xhc3M9XCJpbmxpbmUtaW1hZ2VcIiB0YXJnZXQ9J19ibGFuaycgaHJlZj1cIiR7aHJlZn1cIj5gICtcclxuICAgICAgICAgICAgICAgIGA8aW1nIHNyYz1cIiR7c3JjfVwiIHN0eWxlPSdtYXgtaGVpZ2h0OiAxNDVweDsgbWF4LXdpZHRoOiAxMDAlOycgLz48L2E+YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluaXRpYWxpemVDb2x1bW4oY29sdW1uOiBTbGljay5Db2x1bW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4ucmVmZXJlbmNlZEZpZWxkcyA9IGNvbHVtbi5yZWZlcmVuY2VkRmllbGRzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgY29sdW1uLnJlZmVyZW5jZWRGaWVsZHMucHVzaCh0aGlzLmZpbGVQcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLm9wdGlvbigpXHJcbiAgICAgICAgcHVibGljIGZpbGVQcm9wZXJ0eTogc3RyaW5nO1xyXG5cclxuICAgICAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5vcHRpb24oKVxyXG4gICAgICAgIHB1YmxpYyB0aHVtYjogYm9vbGVhbjtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBJbmxpbmVJbWFnZUluR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8Tm9ydGh3aW5kLlByb2R1Y3RSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiQmFzaWNTYW1wbGVzLklubGluZUltYWdlSW5HcmlkXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIDxhbnk+Tm9ydGh3aW5kLlByb2R1Y3REaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIE5vcnRod2luZC5Qcm9kdWN0Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLlByb2R1Y3RSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBOb3J0aHdpbmQuUHJvZHVjdFNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNsaWNrT3B0aW9ucygpOiBTbGljay5HcmlkT3B0aW9ucyB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSBzdXBlci5nZXRTbGlja09wdGlvbnMoKTtcclxuICAgICAgICAgICAgb3B0LnJvd0hlaWdodCA9IDE1MDtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZHVjdEV4Y2VsSW1wb3J0RGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuUHJvcGVydHlEaWFsb2c8YW55LCBhbnk+IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBmb3JtOiBQcm9kdWN0RXhjZWxJbXBvcnRGb3JtO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBQcm9kdWN0RXhjZWxJbXBvcnRGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1RpdGxlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkV4Y2VsIEltcG9ydFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ0J1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0ltcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmVmb3JlU2F2ZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5GaWxlTmFtZS52YWx1ZSA9PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLmlzRW1wdHlPck51bGwodGhpcy5mb3JtLkZpbGVOYW1lLnZhbHVlLkZpbGVuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlFcnJvcihcIlBsZWFzZSBzZWxlY3QgYSBmaWxlIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdEV4Y2VsSW1wb3J0U2VydmljZS5FeGNlbEltcG9ydCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlTmFtZTogdGhpcy5mb3JtLkZpbGVOYW1lLnZhbHVlLkZpbGVuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFEubm90aWZ5SW5mbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSW5zZXJ0ZWQ6ICcgKyAocmVzcG9uc2UuSW5zZXJ0ZWQgfHwgMCkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIFVwZGF0ZWQ6ICcgKyAocmVzcG9uc2UuVXBkYXRlZCB8fCAwKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yTGlzdCAhPSBudWxsICYmIHJlc3BvbnNlLkVycm9yTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlFcnJvcihyZXNwb25zZS5FcnJvckxpc3Quam9pbignLFxcclxcbiAnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2FuY2VsJyxcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gdGhpcy5kaWFsb2dDbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL05vcnRod2luZC9Qcm9kdWN0L1Byb2R1Y3RHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBQcm9kdWN0RXhjZWxJbXBvcnRHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLlByb2R1Y3RHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB0byBnZXQgbGlzdCBvZiBidXR0b25zIHRvIGJlIGNyZWF0ZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGwgYmFzZSBtZXRob2QgdG8gZ2V0IGxpc3Qgb2YgYnV0dG9uc1xyXG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHN1cGVyLmdldEJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBvdXIgaW1wb3J0IGJ1dHRvblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdJbXBvcnQgRnJvbSBFeGNlbCcsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2V4cG9ydC14bHN4LWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3BlbiBpbXBvcnQgZGlhbG9nLCBsZXQgaXQgaGFuZGxlIHJlc3RcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0gbmV3IFByb2R1Y3RFeGNlbEltcG9ydERpYWxvZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5lbGVtZW50Lm9uKCdkaWFsb2djbG9zZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmRpYWxvZ09wZW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgLy8gZ2V0IGEgcmVmZXJlbmNlIHRvIG9yZGVyIHJvdyBmaWVsZCBuYW1lc1xyXG4gICAgaW1wb3J0IGZsZCA9IE5vcnRod2luZC5PcmRlclJvdy5GaWVsZHM7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUXVpY2tGaWx0ZXJDdXN0b21pemF0aW9uIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5R3JpZDxOb3J0aHdpbmQuT3JkZXJSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLk9yZGVyXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIE5vcnRod2luZC5PcmRlckRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gTm9ydGh3aW5kLk9yZGVyU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgdG8gZ2V0IGxpc3Qgb2YgcXVpY2sgZmlsdGVycyB0byBiZSBjcmVhdGVkIGZvciB0aGlzIGdyaWQuXHJcbiAgICAgICAgICogQnkgZGVmYXVsdCwgaXQgcmV0dXJucyBxdWljayBmaWx0ZXIgb2JqZWN0cyBjb3JyZXNwb25kaW5nIHRvIHByb3BlcnRpZXMgdGhhdFxyXG4gICAgICAgICAqIGhhdmUgYSBbUXVpY2tGaWx0ZXJdIGF0dHJpYnV0ZSBhdCBzZXJ2ZXIgc2lkZSBPcmRlckNvbHVtbnMuY3NcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UXVpY2tGaWx0ZXJzKCk6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFNlcmVuaXR5LldpZGdldDxhbnk+LCBhbnk+W10ge1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IHF1aWNrIGZpbHRlciBsaXN0IGZyb20gYmFzZSBjbGFzcywgZS5nLiBjb2x1bW5zXHJcbiAgICAgICAgICAgIGxldCBmaWx0ZXJzID0gc3VwZXIuZ2V0UXVpY2tGaWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSBzdGFydCBieSB0dXJuaW5nIEN1c3RvbWVySUQgZmlsdGVyIHRvIGEgTm90IEVxdWFsIG9uZVxyXG4gICAgICAgICAgICBsZXQgZmlsdGVyID0gUS5maXJzdChmaWx0ZXJzLCB4ID0+IHguZmllbGQgPT0gZmxkLkN1c3RvbWVySUQpO1xyXG4gICAgICAgICAgICBmaWx0ZXIudGl0bGUgPSBcIkN1c3RvbWVyIE5vdCBFcXVhbCBUb1wiO1xyXG4gICAgICAgICAgICBmaWx0ZXIuaGFuZGxlciA9IGggPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgZmlsdGVyIGlzIGFjdGl2ZSwgZS5nLiBlZGl0b3IgaGFzIHNvbWUgdmFsdWVcclxuICAgICAgICAgICAgICAgIGlmIChoLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGgucmVxdWVzdC5Dcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmFuZChoLnJlcXVlc3QuQ3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtbZmxkLkN1c3RvbWVySURdLCAnIT0nLCBoLnZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB0dXJuIG9yZGVyIGRhdGUgZmlsdGVyIHRvIGV4YWN0IG1hdGNoLCBub3QgYSByYW5nZVxyXG4gICAgICAgICAgICBmaWx0ZXIgPSBRLmZpcnN0KGZpbHRlcnMsIHggPT4geC5maWVsZCA9PSBmbGQuT3JkZXJEYXRlKTtcclxuICAgICAgICAgICAgZmlsdGVyLnRpdGxlID0gXCJPcmRlciBEYXRlIElzIEV4YWN0bHlcIjtcclxuICAgICAgICAgICAgLy8gZWxlbWVudCBtZXRob2QgaW4gRGF0YUdyaWQgdHVybnMgdGhpcyBpbnRvIGEgcmFuZ2UgZWRpdG9yLCBjbGVhciBpdCB0byBwcmV2ZW50XHJcbiAgICAgICAgICAgIGZpbHRlci5lbGVtZW50ID0gZSA9PiB7IH1cclxuICAgICAgICAgICAgLy8gbmVlZCB0byBvdmVycmlkZSBoYW5kbGVyIHRvbywgb3RoZXJ3aXNlIGRlZmF1bHQgaGFuZGxlciB3aWxsIHRyeSB0byBoYW5kbGUgYSBkYXRlIHJhbmdlXHJcbiAgICAgICAgICAgIGZpbHRlci5oYW5kbGVyID0gaCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBoLnJlcXVlc3QuRXF1YWxpdHlGaWx0ZXJbZmxkLk9yZGVyRGF0ZV0gPSBoLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaC5yZXF1ZXN0LkVxdWFsaXR5RmlsdGVyW2ZsZC5PcmRlckRhdGVdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gcmVzZXQgdGhlc2UgYXMgdGhleSBhbHNvIGV4cGVjdCByYW5nZSBlZGl0b3JzXHJcbiAgICAgICAgICAgIGZpbHRlci5sb2FkU3RhdGUgPSBudWxsO1xyXG4gICAgICAgICAgICBmaWx0ZXIuc2F2ZVN0YXRlID0gbnVsbDtcclxuICAgICAgICAgICAgZmlsdGVyLmRpc3BsYXlUZXh0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIG1ha2UgZW1wbG95ZWUgZmlsdGVyIGEgdGV4dGJveCwgaW5zdGVhZCBvZiBsb29rdXAsIGFuZCBzZWFyY2ggYnkgc3RhcnRzIHdpdGhcclxuICAgICAgICAgICAgZmlsdGVyID0gUS5maXJzdChmaWx0ZXJzLCB4ID0+IHguZmllbGQgPT0gZmxkLkVtcGxveWVlSUQpO1xyXG4gICAgICAgICAgICBmaWx0ZXIudGl0bGUgPSBcIkVtcGxveWVlIE5hbWUgU3RhcnRzIFdpdGhcIjtcclxuICAgICAgICAgICAgZmlsdGVyLnR5cGUgPSBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgIGZpbHRlci5oYW5kbGVyID0gaCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBoLnJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQoaC5yZXF1ZXN0LkNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbW2ZsZC5FbXBsb3llZUZ1bGxOYW1lXSwgJ2xpa2UnLCBoLnZhbHVlICsgJyUnXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB0dXJuIHNoaXBwaW5nIHN0YXRlIGludG8gYSBib29sZWFuIGZpbHRlclxyXG4gICAgICAgICAgICBmaWx0ZXIgPSBRLmZpcnN0KGZpbHRlcnMsIHggPT4geC5maWVsZCA9PSBmbGQuU2hpcHBpbmdTdGF0ZSk7XHJcbiAgICAgICAgICAgIGZpbHRlci50aXRsZSA9IFwiU2hvdyBPbmx5IFNoaXBwZWRcIjtcclxuICAgICAgICAgICAgZmlsdGVyLnR5cGUgPSBTZXJlbml0eS5Cb29sZWFuRWRpdG9yO1xyXG4gICAgICAgICAgICBmaWx0ZXIuaGFuZGxlciA9IGggPT4ge1xyXG4gICAgICAgICAgICAgICAgaC5hY3RpdmUgPSAhIWgudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5hY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBoLnJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQoaC5yZXF1ZXN0LkNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2lzIG5vdCBudWxsJywgW2ZsZC5TaGlwcGVkRGF0ZV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNoaXAgdmlhIGZpbHRlcnMgYnkgTk9UIElOXHJcbiAgICAgICAgICAgIGZpbHRlciA9IFEuZmlyc3QoZmlsdGVycywgeCA9PiB4LmZpZWxkID09IGZsZC5TaGlwVmlhKTtcclxuICAgICAgICAgICAgZmlsdGVyLnRpdGxlID0gXCJTaGlwIFZpYSBOb3QgSU5cIjtcclxuICAgICAgICAgICAgZmlsdGVyLmhhbmRsZXIgPSBoID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChoLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGgucmVxdWVzdC5Dcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmFuZChoLnJlcXVlc3QuQ3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtbZmxkLlNoaXBWaWFdLCAnbm90IGluJywgW2gudmFsdWVdXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBzaGlwIGNvdW50cnkgZmlsdGVycyBieSBOT1QgY29udGFpbnNcclxuICAgICAgICAgICAgZmlsdGVyID0gUS5maXJzdChmaWx0ZXJzLCB4ID0+IHguZmllbGQgPT0gZmxkLlNoaXBDb3VudHJ5KTtcclxuICAgICAgICAgICAgZmlsdGVyLnRpdGxlID0gXCJTaGlwIENvdW50cnkgTk9UIENvbnRhaW5zXCI7XHJcbiAgICAgICAgICAgIGZpbHRlci50eXBlID0gU2VyZW5pdHkuU3RyaW5nRWRpdG9yO1xyXG4gICAgICAgICAgICBmaWx0ZXIuaGFuZGxlciA9IGggPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGguYWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaC5yZXF1ZXN0LkNyaXRlcmlhID0gU2VyZW5pdHkuQ3JpdGVyaWEuYW5kKGgucmVxdWVzdC5Dcml0ZXJpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW1tmbGQuU2hpcENvdW50cnldLCAnbm90IGxpa2UnLCAnJScgKyBoLnZhbHVlICsgJyUnXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBzaGlwIGNpdHkgZmlsdGVycyBieSBHUkVBVEVSIFRIQU4gKD4pXHJcbiAgICAgICAgICAgIGZpbHRlciA9IFEuZmlyc3QoZmlsdGVycywgeCA9PiB4LmZpZWxkID09IGZsZC5TaGlwQ2l0eSk7XHJcbiAgICAgICAgICAgIGZpbHRlci50aXRsZSA9IFwiU2hpcCBDaXR5IEdyZWF0ZXIgVGhhblwiO1xyXG4gICAgICAgICAgICBmaWx0ZXIudHlwZSA9IFNlcmVuaXR5LlN0cmluZ0VkaXRvcjtcclxuICAgICAgICAgICAgZmlsdGVyLmhhbmRsZXIgPSBoID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChoLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGgucmVxdWVzdC5Dcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmFuZChoLnJlcXVlc3QuQ3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtbZmxkLlNoaXBDaXR5XSwgJz4nLCBoLnZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYSByYW5nZSBlZGl0b3IgZm9yIGZyZWlnaHRcclxuICAgICAgICAgICAgbGV0IGVuZEZyZWlnaHQ6IFNlcmVuaXR5LkRlY2ltYWxFZGl0b3IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgZmlsdGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiBmbGQuRnJlaWdodCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFNlcmVuaXR5LkRlY2ltYWxFZGl0b3IsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0ZyZWlnaHQgQmV0d2VlbicsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlMSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZTEuY3NzKFwid2lkdGhcIiwgXCI4MHB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZEZyZWlnaHQgPSBTZXJlbml0eS5XaWRnZXQuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU2VyZW5pdHkuRGVjaW1hbEVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZTIgPT4gZTIuaW5zZXJ0QWZ0ZXIoZTEpLmNzcyhcIndpZHRoXCIsIFwiODBweFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbmRGcmVpZ2h0LmVsZW1lbnQuY2hhbmdlKHggPT4gZTEudHJpZ2dlckhhbmRsZXIoXCJjaGFuZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbi8+XCIpLmFkZENsYXNzKFwicmFuZ2Utc2VwYXJhdG9yXCIpLnRleHQoXCItXCIpLmluc2VydEFmdGVyKGUxKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBoID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlMSA9IGgudmFsdWUgIT0gbnVsbCAmJiAhaXNOYU4oaC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZTIgPSBlbmRGcmVpZ2h0LnZhbHVlICE9IG51bGwgJiYgIWlzTmFOKGVuZEZyZWlnaHQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGguYWN0aXZlID0gYWN0aXZlMSB8fCBhY3RpdmUyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5yZXF1ZXN0LkNyaXRlcmlhID0gU2VyZW5pdHkuQ3JpdGVyaWEuYW5kKGgucmVxdWVzdC5Dcml0ZXJpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtbZmxkLkZyZWlnaHRdLCAnPj0nLCBoLnZhbHVlXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLnJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQoaC5yZXF1ZXN0LkNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1tmbGQuRnJlaWdodF0sICc8PScsIGVuZEZyZWlnaHQudmFsdWVdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL1N1cHBsaWVyL1N1cHBsaWVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUmVtb3ZpbmdBZGRCdXR0b24gZXh0ZW5kcyBOb3J0aHdpbmQuU3VwcGxpZXJHcmlkIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB0byBnZXQgbGlzdCBvZiBidXR0b25zIHRvIGJlIGNyZWF0ZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGwgYmFzZSBtZXRob2QgdG8gZ2V0IGxpc3Qgb2YgYnV0dG9uc1xyXG4gICAgICAgICAgICAvLyBieSBkZWZhdWx0LCBiYXNlIGVudGl0eSBncmlkIGFkZHMgYSBmZXcgYnV0dG9ucywgXHJcbiAgICAgICAgICAgIC8vIGFkZCwgcmVmcmVzaCwgY29sdW1uIHNlbGVjdGlvbiBpbiBvcmRlci5cclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBoZXJlIGlzIHNldmVyYWwgbWV0aG9kcyB0byByZW1vdmUgYWRkIGJ1dHRvblxyXG4gICAgICAgICAgICAvLyBvbmx5IG9uZSBpcyBlbmFibGVkLCBvdGhlcnMgYXJlIGNvbW1lbnRlZFxyXG5cclxuICAgICAgICAgICAgLy8gTUVUSE9EIDFcclxuICAgICAgICAgICAgLy8gd2Ugd291bGQgYmUgYWJsZSB0byBzaW1wbHkgcmV0dXJuIGFuIGVtcHR5IGJ1dHRvbiBsaXN0LFxyXG4gICAgICAgICAgICAvLyBidXQgdGhpcyB3b3VsZCBhbHNvIHJlbW92ZSBhbGwgb3RoZXIgYnV0dG9uc1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gW107XHJcblxyXG4gICAgICAgICAgICAvLyBNRVRIT0QgMlxyXG4gICAgICAgICAgICAvLyByZW1vdmUgYnkgc3BsaWNpbmcgKHNvbWV0aGluZyBsaWtlIGRlbGV0ZSBieSBpbmRleClcclxuICAgICAgICAgICAgLy8gaGVyZSB3ZSBoYXJkIGNvZGUgYWRkIGJ1dHRvbiBpbmRleCAobm90IG5pY2UhKVxyXG4gICAgICAgICAgICAvLyBidXR0b25zLnNwbGljZSgwLCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1FVEhPRCAzIC0gcmVjb21tZW5kZWRcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGJ5IHNwbGljaW5nLCBidXQgdGhpcyB0aW1lIGZpbmQgYnV0dG9uIGluZGV4XHJcbiAgICAgICAgICAgIC8vIGJ5IGl0cyBjc3MgY2xhc3MuIGl0IGlzIHRoZSBiZXN0IGFuZCBzYWZlciBtZXRob2RcclxuICAgICAgICAgICAgYnV0dG9ucy5zcGxpY2UoUS5pbmRleE9mKGJ1dHRvbnMsIHggPT4geC5jc3NDbGFzcyA9PSBcImFkZC1idXR0b25cIiksIDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5CYXNpY1NhbXBsZXMge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbWVyR3Jvc3NTYWxlc0dyaWQgZXh0ZW5kcyBTZXJlbml0eS5FbnRpdHlHcmlkPE5vcnRod2luZC5DdXN0b21lckdyb3NzU2FsZXNSb3csIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiQmFzaWNTYW1wbGVzLkN1c3RvbWVyR3Jvc3NTYWxlc1wiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBcIl9faWRcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBOb3J0aHdpbmQuQ3VzdG9tZXJHcm9zc1NhbGVzUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBOb3J0aHdpbmQuQ3VzdG9tZXJHcm9zc1NhbGVzUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gQ3VzdG9tZXJHcm9zc1NhbGVzU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgbmV4dElkID0gMTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB0byBwcmVwcm9jZXNzIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgbGlzdCBzZXJ2aWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld1Byb2Nlc3NEYXRhKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8Tm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdz4pIHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBzdXBlci5vblZpZXdQcm9jZXNzRGF0YShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBfX2lkIHByb3BlcnR5IGluIEN1c3RvbWVyR3Jvc3NTYWxlc1JvdyBidXQgXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgamF2YXNjcmlwdCBhbmQgd2UgY2FuIHNldCBhbnkgcHJvcGVydHkgb2YgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggb2YgcmVzcG9uc2UuRW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICh4IGFzIGFueSkuX19pZCA9IHRoaXMubmV4dElkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBidXR0b25zID0gW107XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goQ29tbW9uLkV4Y2VsRXhwb3J0SGVscGVyLmNyZWF0ZVRvb2xCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgZ3JpZDogdGhpcyxcclxuICAgICAgICAgICAgICAgIHNlcnZpY2U6IEN1c3RvbWVyR3Jvc3NTYWxlc1NlcnZpY2UuYmFzZVVybCArICcvTGlzdEV4Y2VsJyxcclxuICAgICAgICAgICAgICAgIG9uVmlld1N1Ym1pdDogKCkgPT4gdGhpcy5vblZpZXdTdWJtaXQoKSxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICBidXR0b25zLnB1c2goQ29tbW9uLlBkZkV4cG9ydEhlbHBlci5jcmVhdGVUb29sQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIGdyaWQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvblZpZXdTdWJtaXQ6ICgpID0+IHRoaXMub25WaWV3U3VibWl0KClcclxuICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2xpY2tHcmlkKCkge1xyXG4gICAgICAgICAgICB2YXIgZ3JpZCA9IHN1cGVyLmNyZWF0ZVNsaWNrR3JpZCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gbmVlZCB0byByZWdpc3RlciB0aGlzIHBsdWdpbiBmb3IgZ3JvdXBpbmcgb3IgeW91J2xsIGhhdmUgZXJyb3JzXHJcbiAgICAgICAgICAgIGdyaWQucmVnaXN0ZXJQbHVnaW4obmV3IFNsaWNrLkRhdGEuR3JvdXBJdGVtTWV0YWRhdGFQcm92aWRlcigpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zZXRTdW1tYXJ5T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdG9yczogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBTbGljay5BZ2dyZWdhdG9ycy5TdW0oJ0dyb3NzQW1vdW50JylcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZpZXcuc2V0R3JvdXBpbmcoXHJcbiAgICAgICAgICAgICAgICBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdldHRlcjogJ0NvbnRhY3ROYW1lJ1xyXG4gICAgICAgICAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGdyaWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2xpY2tPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0U2xpY2tPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIG9wdC5zaG93Rm9vdGVyUm93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1c2VQYWdlcigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFF1aWNrRmlsdGVycygpIHtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBzdXBlci5nZXRRdWlja0ZpbHRlcnMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHdlIGNyZWF0ZSBhIGRhdGUtcmFuZ2UgcXVpY2sgZmlsdGVyLCB3aGljaCBpcyBhIGNvbXBvc2l0ZVxyXG4gICAgICAgICAgICAvLyBmaWx0ZXIgd2l0aCB0d28gZGF0ZSB0aW1lIGVkaXRvcnNcclxuICAgICAgICAgICAgdmFyIG9yZGVyRGF0ZSA9IHRoaXMuZGF0ZVJhbmdlUXVpY2tGaWx0ZXIoJ09yZGVyRGF0ZScsICdPcmRlciBEYXRlJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBuZWVkIHRvIG92ZXJyaWRlIGl0cyBoYW5kbGVyLCBhcyBkZWZhdWx0IGRhdGUtcmFuZ2UgZmlsdGVyIHdpbGwgc2V0IENyaXRlcmlhIHBhcmFtZXRlciBvZiBsaXN0IHJlcXVlc3QuXHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IFN0YXJ0RGF0ZSBhbmQgRW5kRGF0ZSBjdXN0b20gcGFyYW1ldGVycyBvZiBvdXIgQ3VzdG9tZXJHcm9zc1NhbGVzTGlzdFJlcXVlc3RcclxuICAgICAgICAgICAgb3JkZXJEYXRlLmhhbmRsZXIgPSBhcmdzID0+IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gYXJncy53aWRnZXQgaGVyZSBpcyB0aGUgc3RhcnQgZGF0ZSBlZGl0b3IuIHZhbHVlIG9mIGEgZGF0ZSBlZGl0b3IgaXMgYSBJU08gZGF0ZSBzdHJpbmdcclxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IGFyZ3Mud2lkZ2V0LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHRvIGZpbmQgZW5kIGRhdGUgZWRpdG9yLCBuZWVkIHRvIHNlYXJjaCBpdCBieSBpdHMgY3NzIGNsYXNzIGFtb25nIHNpYmxpbmdzXHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gYXJncy53aWRnZXQuZWxlbWVudC5uZXh0QWxsKCcucy1EYXRlRWRpdG9yJylcclxuICAgICAgICAgICAgICAgICAgICAuZ2V0V2lkZ2V0KFNlcmVuaXR5LkRhdGVFZGl0b3IpLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIChhcmdzLnJlcXVlc3QgYXMgQ3VzdG9tZXJHcm9zc1NhbGVzTGlzdFJlcXVlc3QpLlN0YXJ0RGF0ZSA9IHN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgKGFyZ3MucmVxdWVzdCBhcyBDdXN0b21lckdyb3NzU2FsZXNMaXN0UmVxdWVzdCkuRW5kRGF0ZSA9IGVuZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmUgb3B0aW9uIGNvbnRyb2xzIHdoZW4gYSBmaWx0ZXIgZWRpdG9yIGxvb2tzIGFjdGl2ZSwgZS5nLiBpdHMgbGFiZWwgaXMgYmx1ZWlzaFxyXG4gICAgICAgICAgICAgICAgYXJncy5hY3RpdmUgPSAhUS5pc0VtcHR5T3JOdWxsKHN0YXJ0KSB8fCAhUS5pc0VtcHR5T3JOdWxsKGVuZCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmaWx0ZXJzLnB1c2gob3JkZXJEYXRlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9Ob3J0aHdpbmQvT3JkZXIvT3JkZXJHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQmFzaWNTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBUcmVlR3JpZCBleHRlbmRzIE5vcnRod2luZC5PcmRlckdyaWQge1xyXG5cclxuICAgICAgICBwcml2YXRlIHRyZWVNaXhpbjogU2VyZW5pdHkuVHJlZUdyaWRNaXhpbjxOb3J0aHdpbmQuT3JkZXJSb3c+O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50cmVlTWl4aW4gPSBuZXcgU2VyZW5pdHkuVHJlZUdyaWRNaXhpbih7XHJcbiAgICAgICAgICAgICAgICBncmlkOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgLy8gYnJpbmcgdHJlZSBpdGVtcyBpbml0aWFsbHkgY29sbGFwc2VkXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsQ29sbGFwc2U6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBjb2x1bW4gdG8gcGxhY2UgdHJlZSB0b2dnbGUgLyBleHBhbmQvY29sbGFwc2UgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGaWVsZDogTm9ydGh3aW5kLk9yZGVyUm93LkZpZWxkcy5DdXN0b21lckNvbXBhbnlOYW1lLFxyXG4gICAgICAgICAgICAgICAgZ2V0UGFyZW50SWQ6IHggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHdlIGRvbid0IGhhdmUgcGFyZW50SWQgY29sdW1uIGhlcmUsIHdlIGFyZSBjaGVhdGluZyBieSB1c2luZyBtb2R1bHVzIDEwIGFuZCA1MFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGUuZy4gb3JkZXIgd2l0aCBJRCAxNjA1IHdpbGwgaGF2ZSBwYXJlbnQgMTYwMCwgb3JkZXIgd2l0aCBJRCAxNjEzIHdpbGwgaGF2ZSBwYXJlbnQgMTYxMFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJZCA9IE1hdGguZmxvb3IoeC5PcmRlcklEIC8gMTApICogMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudElkID09IHguT3JkZXJJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZCA9IE1hdGguZmxvb3IoeC5PcmRlcklEIC8gNTApICogNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvcmRlcnMgd2l0aCBJRCAxNjA1MCBhbmQgMTcwMDAgc2hvdWxkIGhhdmUgTlVMTCBwYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudElkID09IHguT3JkZXJJRClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgeW91IGhhZCBhIFBhcmVudElEIGNvbHVtbiwgeW91J2QganVzdCByZXR1cm4geC5QYXJlbnRJRFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXNlUGFnZXIoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBWaWV3V2l0aG91dElER3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8Tm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnNLZXkoKSB7IHJldHVybiBcIk5vcnRod2luZC5TYWxlc0J5Q2F0ZWdvcnlcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gXCJfX2lkXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gTm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdy5uYW1lUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIE5vcnRod2luZC5TYWxlc0J5Q2F0ZWdvcnlTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgLy8gdGhpcyBpcyBvdXIgYXV0b2luY3JlbWVudGluZyBjb3VudGVyXHJcbiAgICAgICAgcHJpdmF0ZSBuZXh0SWQgPSAxOyBcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB0byBwcmVwcm9jZXNzIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgbGlzdCBzZXJ2aWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld1Byb2Nlc3NEYXRhKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8Tm9ydGh3aW5kLlNhbGVzQnlDYXRlZ29yeVJvdz4pIHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBzdXBlci5vblZpZXdQcm9jZXNzRGF0YShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBfX2lkIHByb3BlcnR5IGluIFNhbGVzQnlDYXRlZ29yeVJvdyBidXQgXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgamF2YXNjcmlwdCBhbmQgd2UgY2FuIHNldCBhbnkgcHJvcGVydHkgb2YgYW4gb2JqZWN0XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggb2YgcmVzcG9uc2UuRW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICh4IGFzIGFueSkuX19pZCA9IHRoaXMubmV4dElkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vTm9ydGh3aW5kL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkJhc2ljU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgV3JhcHBlZEhlYWRlcnNHcmlkIGV4dGVuZHMgTm9ydGh3aW5kLk9yZGVyR3JpZCB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5MYW5ndWFnZUxpc3Qge1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xyXG4gICAgICAgIHZhciByZXN1bHQ6IHN0cmluZ1tdW10gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrIG9mIEFkbWluaXN0cmF0aW9uLkxhbmd1YWdlUm93LmdldExvb2t1cCgpLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChrLkxhbmd1YWdlSWQgIT09ICdlbicpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtrLklkLnRvU3RyaW5nKCksIGsuTGFuZ3VhZ2VOYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQ29tbW9uL0hlbHBlcnMvTGFuZ3VhZ2VMaXN0LnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuU2NyaXB0SW5pdGlhbGl6YXRpb24ge1xyXG4gICAgUS5Db25maWcucmVzcG9uc2l2ZURpYWxvZ3MgPSB0cnVlO1xyXG4gICAgUS5Db25maWcucm9vdE5hbWVzcGFjZXMucHVzaCgnU2VyRXh0cmFDb3JlJyk7XHJcbiAgICBRLkNvbmZpZy5yb290TmFtZXNwYWNlcy5wdXNoKCdfRXh0Jyk7XHJcbiAgICBTZXJlbml0eS5FbnRpdHlEaWFsb2cuZGVmYXVsdExhbmd1YWdlTGlzdCA9IExhbmd1YWdlTGlzdC5nZXRWYWx1ZTtcclxuXHJcbiAgICBpZiAoJC5mblsnY29sb3Jib3gnXSkge1xyXG4gICAgICAgICQuZm5bJ2NvbG9yYm94J10uc2V0dGluZ3MubWF4V2lkdGggPSBcIjk1JVwiO1xyXG4gICAgICAgICQuZm5bJ2NvbG9yYm94J10uc2V0dGluZ3MubWF4SGVpZ2h0ID0gXCI5NSVcIjtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cub25lcnJvciA9IFEuRXJyb3JIYW5kbGluZy5ydW50aW1lRXJyb3JIYW5kbGVyO1xyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEJhc2ljUHJvZ3Jlc3NEaWFsb2cgZXh0ZW5kcyBTZXJlbml0eS5UZW1wbGF0ZWREaWFsb2c8YW55PiB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ieUlkKCdQcm9ncmVzc0JhcicpLnByb2dyZXNzYmFyKHtcclxuICAgICAgICAgICAgICAgIG1heDogMTAwLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IChlLCB2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ieUlkKCdQcm9ncmVzc0xhYmVsJykudGV4dCh0aGlzLnZhbHVlICsgJyAvICcgKyB0aGlzLm1heCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNhbmNlbGxlZDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIGdldCBtYXgoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnlJZCgnUHJvZ3Jlc3NCYXInKS5wcm9ncmVzc2JhcigpLnByb2dyZXNzYmFyKCdvcHRpb24nLCAnbWF4Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0IG1heCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnUHJvZ3Jlc3NCYXInKS5wcm9ncmVzc2JhcigpLnByb2dyZXNzYmFyKCdvcHRpb24nLCAnbWF4JywgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ieUlkKCdQcm9ncmVzc0JhcicpLnByb2dyZXNzYmFyKCd2YWx1ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnUHJvZ3Jlc3NCYXInKS5wcm9ncmVzc2JhcigpLnByb2dyZXNzYmFyKCd2YWx1ZScsIHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdGl0bGUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5kaWFsb2coKS5kaWFsb2coJ29wdGlvbicsICd0aXRsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB0aXRsZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaWFsb2coKS5kaWFsb2coJ29wdGlvbicsICd0aXRsZScsIHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBjYW5jZWxUaXRsZTogc3RyaW5nO1xyXG5cclxuICAgICAgICBnZXREaWFsb2dPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBvcHQudGl0bGUgPSBRLnRleHQoJ1NpdGUuQmFzaWNQcm9ncmVzc0RpYWxvZy5QbGVhc2VXYWl0Jyk7XHJcbiAgICAgICAgICAgIG9wdC53aWR0aCA9IDYwMDtcclxuICAgICAgICAgICAgb3B0LmJ1dHRvbnMgPSBbe1xyXG4gICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLkNhbmNlbEJ1dHRvbicpLFxyXG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsb3Nlc3QoJy51aS1kaWFsb2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnVpLWRpYWxvZy1idXR0b25wYW5lIC51aS1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY3NzKCdvcGFjaXR5JywgJzAuNScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAndGl0bGUnLCBRLnRyaW1Ub051bGwodGhpcy5jYW5jZWxUaXRsZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUS50ZXh0KCdTaXRlLkJhc2ljUHJvZ3Jlc3NEaWFsb2cuQ2FuY2VsVGl0bGUnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1dO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluaXREaWFsb2coKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmluaXREaWFsb2coKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsb3Nlc3QoJy51aS1kaWFsb2cnKS5maW5kKCcudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J3MtRGlhbG9nQ29udGVudCBzLUJhc2ljUHJvZ3Jlc3NEaWFsb2dDb250ZW50Jz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGlkPSd+X1N0YXR1c1RleHQnIGNsYXNzPSdzdGF0dXMtdGV4dCcgPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgaWQ9J35fUHJvZ3Jlc3NCYXInIGNsYXNzPSdwcm9ncmVzcy1iYXInPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGlkPSd+X1Byb2dyZXNzTGFiZWwnIGNsYXNzPSdwcm9ncmVzcy1sYWJlbCcgPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuRGlhbG9nVXRpbHMge1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHBlbmRpbmdDaGFuZ2VzQ29uZmlybWF0aW9uKGVsZW1lbnQ6IEpRdWVyeSwgaGFzUGVuZGluZ0NoYW5nZXM6ICgpID0+IGJvb2xlYW4pIHtcclxuICAgICAgICBlbGVtZW50Lm9uKCdkaWFsb2diZWZvcmVjbG9zZSBwYW5lbGJlZm9yZWNsb3NlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFTZXJlbml0eS5XWC5oYXNPcmlnaW5hbEV2ZW50KGUpIHx8ICFoYXNQZW5kaW5nQ2hhbmdlcygpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgUS5jb25maXJtKCdZb3UgaGF2ZSBwZW5kaW5nIGNoYW5nZXMuIFNhdmUgdGhlbT8nLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gZWxlbWVudC5maW5kKCdkaXYuc2F2ZS1hbmQtY2xvc2UtYnV0dG9uJykuY2xpY2soKSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBvbk5vOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCd1aS1kaWFsb2ctY29udGVudCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kaWFsb2coJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ3MtUGFuZWwnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlcmVuaXR5LlRlbXBsYXRlZERpYWxvZy5jbG9zZVBhbmVsKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckZvcm1hdHRlcigpXHJcbiAgICBleHBvcnQgY2xhc3MgRW51bVNlbGVjdEZvcm1hdHRlciBpbXBsZW1lbnRzIFNsaWNrLkZvcm1hdHRlciB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsb3dDbGVhciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciBlbnVtVHlwZSA9IFNlcmVuaXR5LkVudW1UeXBlUmVnaXN0cnkuZ2V0KHRoaXMuZW51bUtleSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2IgPSBcIjxzZWxlY3Q+XCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93Q2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHNiICs9ICc8b3B0aW9uIHZhbHVlPVwiXCI+JztcclxuICAgICAgICAgICAgICAgIHNiICs9IFEuaHRtbEVuY29kZSh0aGlzLmVtcHR5SXRlbVRleHQgfHwgUS50ZXh0KFwiQ29udHJvbHMuU2VsZWN0RWRpdG9yLkVtcHR5SXRlbVRleHRcIikpO1xyXG4gICAgICAgICAgICAgICAgc2IgKz0gJzwvb3B0aW9uPic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHggb2YgT2JqZWN0LmtleXMoZW51bVR5cGUpLmZpbHRlcih2ID0+ICFpc05hTihwYXJzZUludCh2LCAxMCkpKSkge1xyXG4gICAgICAgICAgICAgICAgc2IgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgeCArICdcIic7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA9PSBjdHgudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgc2IgKz0gXCIgc2VsZWN0ZWRcIjtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZW51bVR5cGVbeF07XHJcbiAgICAgICAgICAgICAgICBzYiArPSBcIj5cIjtcclxuICAgICAgICAgICAgICAgIHNiICs9IFEuaHRtbEVuY29kZShRLnRyeUdldFRleHQoXCJFbnVtcy5cIiArIHRoaXMuZW51bUtleSArIFwiLlwiICsgbmFtZSkgfHwgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBzYiArPSBcIjwvb3B0aW9uPlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzYiArPSBcIjwvc2VsZWN0PlwiO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQFNlcmVuaXR5LkRlY29yYXRvcnMub3B0aW9uKClcclxuICAgICAgICBwdWJsaWMgZW51bUtleTogc3RyaW5nO1xyXG5cclxuICAgICAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5vcHRpb24oKVxyXG4gICAgICAgIHB1YmxpYyBhbGxvd0NsZWFyOiBib29sZWFuO1xyXG5cclxuICAgICAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5vcHRpb24oKVxyXG4gICAgICAgIHB1YmxpYyBlbXB0eUl0ZW1UZXh0OiBzdHJpbmc7XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBFeGNlbEV4cG9ydE9wdGlvbnMge1xyXG4gICAgICAgIGdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPGFueSwgYW55PjtcclxuICAgICAgICBzZXJ2aWNlOiBzdHJpbmc7XHJcbiAgICAgICAgb25WaWV3U3VibWl0OiAoKSA9PiBib29sZWFuO1xyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIGhpbnQ/OiBzdHJpbmc7XHJcbiAgICAgICAgc2VwYXJhdG9yPzogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIEV4Y2VsRXhwb3J0SGVscGVyIHtcclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvb2xCdXR0b24ob3B0aW9uczogRXhjZWxFeHBvcnRPcHRpb25zKTogU2VyZW5pdHkuVG9vbEJ1dHRvbiB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaGludDogUS5jb2FsZXNjZShvcHRpb25zLmhpbnQsICdFeGNlbCcpLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFEuY29hbGVzY2Uob3B0aW9ucy50aXRsZSwgJycpLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdleHBvcnQteGxzeC1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5vblZpZXdTdWJtaXQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IG9wdGlvbnMuZ3JpZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBRLmRlZXBDbG9uZShncmlkLmdldFZpZXcoKS5wYXJhbXMpIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuVGFrZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5Ta2lwID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEJ5ID0gZ3JpZC5nZXRWaWV3KCkuc29ydEJ5O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0QnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5Tb3J0ID0gc29ydEJ5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5JbmNsdWRlQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gZ3JpZC5nZXRHcmlkKCkuZ2V0Q29sdW1ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiBvZiBjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuSW5jbHVkZUNvbHVtbnMucHVzaChjb2x1bW4uaWQgfHwgY29sdW1uLmZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUS5wb3N0VG9TZXJ2aWNlKHsgc2VydmljZTogb3B0aW9ucy5zZXJ2aWNlLCByZXF1ZXN0OiByZXF1ZXN0LCB0YXJnZXQ6ICdfYmxhbmsnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogb3B0aW9ucy5zZXBhcmF0b3JcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJcclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGlzIGFuIGVkaXRvciB3aWRnZXQgYnV0IGl0IG9ubHkgZGlzcGxheXMgYSB0ZXh0LCBub3QgZWRpdHMgaXQuXHJcbiAgICAgKiAgXHJcbiAgICAgKi9cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmVsZW1lbnQoXCI8ZGl2Lz5cIilcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyRWRpdG9yKFtTZXJlbml0eS5JU2V0RWRpdFZhbHVlXSlcclxuICAgIGV4cG9ydCBjbGFzcyBTdGF0aWNUZXh0QmxvY2sgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8U3RhdGljVGV4dEJsb2NrT3B0aW9ucz5cclxuICAgICAgICBpbXBsZW1lbnRzIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUge1xyXG5cclxuICAgICAgICBwcml2YXRlIHZhbHVlOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zOiBTdGF0aWNUZXh0QmxvY2tPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lciwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBjYXB0aW9uIGxhYmVsIGZvciB0aGlzIGVkaXRvciBpZiBpbiBhIGZvcm0uIHVnbHkgaGFja1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVMYWJlbClcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbG9zZXN0KCcuZmllbGQnKS5maW5kKCcuY2FwdGlvbicpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudENvbnRlbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXBkYXRlRWxlbWVudENvbnRlbnQoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gUS5jb2FsZXNjZSh0aGlzLm9wdGlvbnMudGV4dCwgdGhpcy52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBpc0xvY2FsVGV4dCBpcyBzZXQsIHRleHQgaXMgYWN0dWFsbHkgYSBsb2NhbCB0ZXh0IGtleVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzTG9jYWxUZXh0KVxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IFEudGV4dCh0ZXh0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRvbid0IGh0bWwgZW5jb2RlIGlmIGlzSHRtbCBvcHRpb24gaXMgdHJ1ZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzSHRtbClcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5odG1sKHRleHQpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudGV4dCh0ZXh0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJ5IGltcGxlbWVudGluZyBJU2V0RWRpdFZhbHVlIGludGVyZmFjZSwgd2UgYWxsb3cgdGhpcyBlZGl0b3IgdG8gZGlzcGxheSBpdHMgZmllbGQgdmFsdWUuXHJcbiAgICAgICAgICogQnV0IG9ubHkgZG8gdGhpcyB3aGVuIG91ciB0ZXh0IGNvbnRlbnQgaXMgbm90IGV4cGxpY2l0bHkgc2V0IGluIG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZTogYW55LCBwcm9wZXJ0eTogU2VyZW5pdHkuUHJvcGVydHlJdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGV4dCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gUS5jb2FsZXNjZSh0aGlzLm9wdGlvbnMudGV4dCwgc291cmNlW3Byb3BlcnR5Lm5hbWVdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudENvbnRlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFN0YXRpY1RleHRCbG9ja09wdGlvbnMge1xyXG4gICAgICAgIHRleHQ6IHN0cmluZztcclxuICAgICAgICBpc0h0bWw6IGJvb2xlYW47XHJcbiAgICAgICAgaXNMb2NhbFRleHQ6IGJvb2xlYW47XHJcbiAgICAgICAgaGlkZUxhYmVsOiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Db21tb24ge1xyXG4gICAgZXhwb3J0IGNsYXNzIExhbmd1YWdlU2VsZWN0aW9uIGV4dGVuZHMgU2VyZW5pdHkuV2lkZ2V0PGFueT4ge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHNlbGVjdDogSlF1ZXJ5LCBjdXJyZW50TGFuZ3VhZ2U6IHN0cmluZykge1xyXG4gICAgICAgICAgICBzdXBlcihzZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgY3VycmVudExhbmd1YWdlID0gUS5jb2FsZXNjZShjdXJyZW50TGFuZ3VhZ2UsICdlbicpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2UoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IFEuQ29uZmlnLmFwcGxpY2F0aW9uUGF0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGggIT0gJy8nICYmIFEuZW5kc1dpdGgocGF0aCwgJy8nKSlcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgcGF0aC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICQuY29va2llKCdMYW5ndWFnZVByZWZlcmVuY2UnLCBzZWxlY3QudmFsKCksIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IDM2NVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFEuZ2V0TG9va3VwQXN5bmM8QWRtaW5pc3RyYXRpb24uTGFuZ3VhZ2VSb3c+KCdBZG1pbmlzdHJhdGlvbi5MYW5ndWFnZScpLnRoZW4oeCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVEuYW55KHguaXRlbXMsIHogPT4gei5MYW5ndWFnZUlkID09PSBjdXJyZW50TGFuZ3VhZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGN1cnJlbnRMYW5ndWFnZS5sYXN0SW5kZXhPZignLScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2UgPSBjdXJyZW50TGFuZ3VhZ2Uuc3Vic3RyKDAsIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghUS5hbnkoeC5pdGVtcywgeSA9PiB5Lkxhbmd1YWdlSWQgPT09IGN1cnJlbnRMYW5ndWFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMYW5ndWFnZSA9ICdlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMYW5ndWFnZSA9ICdlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGwgb2YgeC5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIFEuYWRkT3B0aW9uKHNlbGVjdCwgbC5MYW5ndWFnZUlkLCBsLkxhbmd1YWdlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZWN0LnZhbChjdXJyZW50TGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcbiAgICBleHBvcnQgY2xhc3MgU2lkZWJhclNlYXJjaCBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxhbnk+IHtcclxuICAgICAgICBwcml2YXRlIG1lbnVVTDogSlF1ZXJ5O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihpbnB1dDogSlF1ZXJ5LCBtZW51VUw6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICBuZXcgU2VyZW5pdHkuUXVpY2tTZWFyY2hJbnB1dChpbnB1dCwge1xyXG4gICAgICAgICAgICAgICAgb25TZWFyY2g6IChmaWVsZCwgdGV4dCwgc3VjY2VzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0Y2hGbGFncyh0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVudVVMID0gbWVudVVMO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZU1hdGNoRmxhZ3ModGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBsaUxpc3QgPSB0aGlzLm1lbnVVTC5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdub24tbWF0Y2gnKTtcclxuXHJcbiAgICAgICAgICAgIHRleHQgPSBRLnRyaW1Ub051bGwodGV4dCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGV4dCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsaUxpc3Quc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgbGlMaXN0LnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcGFydHMgPSB0ZXh0LnJlcGxhY2UoJywnLCAnICcpLnNwbGl0KCcgJykuZmlsdGVyKHggPT4gIVEuaXNUcmltbWVkRW1wdHkoeCkpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGFydHNbaV0gPSBRLnRyaW1Ub051bGwoU2VsZWN0Mi51dGlsLnN0cmlwRGlhY3JpdGljcyhwYXJ0c1tpXSkudG9VcHBlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IGxpTGlzdDtcclxuICAgICAgICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbiAoaWR4LCBlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9ICQoZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKFEuY29hbGVzY2UoeC50ZXh0KCksICcnKS50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgb2YgcGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocCAhPSBudWxsICYmICEodGl0bGUuaW5kZXhPZihwKSAhPT0gLTEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguYWRkQ2xhc3MoJ25vbi1tYXRjaCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hdGNoaW5nSXRlbXMgPSBpdGVtcy5ub3QoJy5ub24tbWF0Y2gnKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB2aXNpYmxlcyA9IG1hdGNoaW5nSXRlbXMucGFyZW50cygnbGknKS5hZGQobWF0Y2hpbmdJdGVtcyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbm9uVmlzaWJsZXMgPSBsaUxpc3Qubm90KHZpc2libGVzKTtcclxuICAgICAgICAgICAgbm9uVmlzaWJsZXMuaGlkZSgpLmFkZENsYXNzKCdub24tbWF0Y2gnKTtcclxuXHJcbiAgICAgICAgICAgIHZpc2libGVzLnNob3coKTtcclxuICAgICAgICAgICAgbGlMaXN0LmFkZENsYXNzKCdleHBhbmRlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuICAgIGV4cG9ydCBjbGFzcyBUaGVtZVNlbGVjdGlvbiBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxhbnk+IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihzZWxlY3Q6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihzZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2UoZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IFEuQ29uZmlnLmFwcGxpY2F0aW9uUGF0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGggIT0gJy8nICYmIFEuZW5kc1dpdGgocGF0aCwgJy8nKSlcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgcGF0aC5sZW5ndGggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnVGhlbWVQcmVmZXJlbmNlJywgc2VsZWN0LnZhbCgpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiAzNjVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0aGVtZSA9IHNlbGVjdC52YWwoKSB8fCAnJztcclxuICAgICAgICAgICAgICAgIHZhciBkYXJrU2lkZWJhciA9IHRoZW1lLmluZGV4T2YoJ2xpZ2h0JykgPCAwO1xyXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdza2luLScgKyB0aGlzLmdldEN1cnJlbnRUaGVtZSgpKTtcclxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnc2tpbi0nICsgdGhlbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRvZ2dsZUNsYXNzKCdkYXJrLXNpZGViYXInLCBkYXJrU2lkZWJhcilcclxuICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoJ2xpZ2h0LXNpZGViYXInLCAhZGFya1NpZGViYXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFEuYWRkT3B0aW9uKHNlbGVjdCwgJ2JsdWUnLCBRLnRleHQoJ1NpdGUuTGF5b3V0LlRoZW1lQmx1ZScpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAnYmx1ZS1saWdodCcsIFEudGV4dCgnU2l0ZS5MYXlvdXQuVGhlbWVCbHVlTGlnaHQnKSk7XHJcbiAgICAgICAgICAgIFEuYWRkT3B0aW9uKHNlbGVjdCwgJ3B1cnBsZScsIFEudGV4dCgnU2l0ZS5MYXlvdXQuVGhlbWVQdXJwbGUnKSk7XHJcbiAgICAgICAgICAgIFEuYWRkT3B0aW9uKHNlbGVjdCwgJ3B1cnBsZS1saWdodCcsIFEudGV4dCgnU2l0ZS5MYXlvdXQuVGhlbWVQdXJwbGVMaWdodCcpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAncmVkJywgUS50ZXh0KCdTaXRlLkxheW91dC5UaGVtZVJlZCcpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAncmVkLWxpZ2h0JywgUS50ZXh0KCdTaXRlLkxheW91dC5UaGVtZVJlZExpZ2h0JykpO1xyXG4gICAgICAgICAgICBRLmFkZE9wdGlvbihzZWxlY3QsICdncmVlbicsIFEudGV4dCgnU2l0ZS5MYXlvdXQuVGhlbWVHcmVlbicpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAnZ3JlZW4tbGlnaHQnLCBRLnRleHQoJ1NpdGUuTGF5b3V0LlRoZW1lR3JlZW5MaWdodCcpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAneWVsbG93JywgUS50ZXh0KCdTaXRlLkxheW91dC5UaGVtZVllbGxvdycpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAneWVsbG93LWxpZ2h0JywgUS50ZXh0KCdTaXRlLkxheW91dC5UaGVtZVllbGxvd0xpZ2h0JykpO1xyXG4gICAgICAgICAgICBRLmFkZE9wdGlvbihzZWxlY3QsICdibGFjaycsIFEudGV4dCgnU2l0ZS5MYXlvdXQuVGhlbWVCbGFjaycpKTtcclxuICAgICAgICAgICAgUS5hZGRPcHRpb24oc2VsZWN0LCAnYmxhY2stbGlnaHQnLCBRLnRleHQoJ1NpdGUuTGF5b3V0LlRoZW1lQmxhY2tMaWdodCcpKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdC52YWwodGhpcy5nZXRDdXJyZW50VGhlbWUoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3VycmVudFRoZW1lKCkge1xyXG4gICAgICAgICAgICB2YXIgc2tpbkNsYXNzID0gUS5maXJzdCgoJCgnYm9keScpLmF0dHIoJ2NsYXNzJykgfHwgJycpLnNwbGl0KCcgJyksIHggPT4gUS5zdGFydHNXaXRoKHgsICdza2luLScpKTtcclxuICAgICAgICAgICAgaWYgKHNraW5DbGFzcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNraW5DbGFzcy5zdWJzdHIoNSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnYmx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZGVjbGFyZSB2YXIganNQREY7XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFBkZkV4cG9ydE9wdGlvbnMge1xyXG4gICAgICAgIGdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPGFueSwgYW55PjtcclxuICAgICAgICBvblZpZXdTdWJtaXQ6ICgpID0+IGJvb2xlYW47XHJcbiAgICAgICAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgICAgICAgaGludD86IHN0cmluZztcclxuICAgICAgICBzZXBhcmF0b3I/OiBib29sZWFuO1xyXG4gICAgICAgIHJlcG9ydFRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIHRpdGxlVG9wPzogbnVtYmVyO1xyXG4gICAgICAgIHRpdGxlRm9udFNpemU/OiBudW1iZXI7XHJcbiAgICAgICAgZmlsZU5hbWU/OiBzdHJpbmc7XHJcbiAgICAgICAgcGFnZU51bWJlcnM/OiBib29sZWFuO1xyXG4gICAgICAgIGNvbHVtblRpdGxlcz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XHJcbiAgICAgICAgdGFibGVPcHRpb25zPzoganNQREYuQXV0b1RhYmxlT3B0aW9ucztcclxuICAgICAgICBvdXRwdXQ/OiBzdHJpbmc7XHJcbiAgICAgICAgYXV0b1ByaW50PzogYm9vbGVhbjtcclxuICAgICAgICBwcmludERhdGVUaW1lSGVhZGVyPzogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIFBkZkV4cG9ydEhlbHBlciB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHRvQXV0b1RhYmxlQ29sdW1ucyhzcmNDb2x1bW5zOiBTbGljay5Db2x1bW5bXSwgY29sdW1uU3R5bGVzOiB7IFtkYXRhS2V5OiBzdHJpbmddOiBqc1BERi5BdXRvVGFibGVTdHlsZXM7IH0sXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5UaXRsZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNyY0NvbHVtbnMubWFwKHNyYyA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sOiBqc1BERi5BdXRvVGFibGVDb2x1bW4gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUtleTogc3JjLmlkIHx8IHNyYy5maWVsZCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogc3JjLm5hbWUgfHwgJydcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtblRpdGxlcyAmJiBjb2x1bW5UaXRsZXNbY29sLmRhdGFLZXldICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29sLnRpdGxlID0gY29sdW1uVGl0bGVzW2NvbC5kYXRhS2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3R5bGU6IGpzUERGLkF1dG9UYWJsZVN0eWxlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKChzcmMuY3NzQ2xhc3MgfHwgJycpLmluZGV4T2YoXCJhbGlnbi1yaWdodFwiKSA+PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLmhhbGlnbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoc3JjLmNzc0NsYXNzIHx8ICcnKS5pbmRleE9mKFwiYWxpZ24tY2VudGVyXCIpID49IDApXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaGFsaWduID0gJ2NlbnRlcic7XHJcblxyXG4gICAgICAgICAgICAgICAgY29sdW1uU3R5bGVzW2NvbC5kYXRhS2V5XSA9IHN0eWxlO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2w7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdG9BdXRvVGFibGVEYXRhKGVudGl0aWVzOiBhbnlbXSwga2V5czogc3RyaW5nW10sIHNyY0NvbHVtbnM6IFNsaWNrLkNvbHVtbltdICkge1xyXG4gICAgICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSAwO1xyXG4gICAgICAgICAgICByZXR1cm4gZW50aXRpZXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRzdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2VsbCA9IDA7IGNlbGwgPCBzcmNDb2x1bW5zLmxlbmd0aDsgY2VsbCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNyYyA9IHNyY0NvbHVtbnNbY2VsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsZCA9IHNyYy5maWVsZCB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0ga2V5c1tjZWxsXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBodG1sOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyYy5mb3JtYXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IHNyYy5mb3JtYXR0ZXIocm93LCBjZWxsLCBpdGVtW2ZsZF0sIHNyYywgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNyYy5mb3JtYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IHNyYy5mb3JtYXQoeyByb3c6IHJvdywgY2VsbDogY2VsbCwgaXRlbTogaXRlbSwgdmFsdWU6IGl0ZW1bZmxkXSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdFtrZXldID0gaXRlbVtmbGRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaHRtbCB8fCAoaHRtbC5pbmRleE9mKCc8JykgPCAwICYmIGh0bWwuaW5kZXhPZignJicpIDwgMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdFtrZXldID0gaHRtbDtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmNoaWxkcmVuLmxlbmd0aCA9PSAxICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsLmNoaWxkcmVuWzBdKS5pcyhcIjppbnB1dFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0W2tleV0gPSAkKGVsLmNoaWxkcmVuWzBdKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggPT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbC5jaGlsZHJlbikuaXMoJy5jaGVjay1ib3gnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHN0W2tleV0gPSAkKGVsLmNoaWxkcmVuKS5oYXNDbGFzcyhcImNoZWNrZWRcIikgPyBcIlhcIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IGVsLnRleHRDb250ZW50IHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJvdysrO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRzdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZXhwb3J0VG9QZGYob3B0aW9uczogUGRmRXhwb3J0T3B0aW9ucyk6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgdmFyIGcgPSBvcHRpb25zLmdyaWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMub25WaWV3U3VibWl0KCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpbmNsdWRlQXV0b1RhYmxlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IFEuZGVlcENsb25lKGcudmlldy5wYXJhbXMpIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG4gICAgICAgICAgICByZXF1ZXN0LlRha2UgPSAwO1xyXG4gICAgICAgICAgICByZXF1ZXN0LlNraXAgPSAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNvcnRCeSA9IGcudmlldy5zb3J0Qnk7XHJcbiAgICAgICAgICAgIGlmIChzb3J0QnkgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuU29ydCA9IHNvcnRCeTtcclxuXHJcbiAgICAgICAgICAgIHZhciBncmlkQ29sdW1ucyA9IGcuc2xpY2tHcmlkLmdldENvbHVtbnMoKTtcclxuICAgICAgICAgICAgZ3JpZENvbHVtbnMgPSBncmlkQ29sdW1ucy5maWx0ZXIoeCA9PiB4LmlkICE9PSBcIl9fc2VsZWN0X19cIik7XHJcblxyXG4gICAgICAgICAgICByZXF1ZXN0LkluY2x1ZGVDb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGNvbHVtbiBvZiBncmlkQ29sdW1ucylcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuSW5jbHVkZUNvbHVtbnMucHVzaChjb2x1bW4uaWQgfHwgY29sdW1uLmZpZWxkKTtcclxuXHJcbiAgICAgICAgICAgIFEuc2VydmljZUNhbGwoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBnLnZpZXcudXJsLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkb2MgPSBuZXcganNQREYoJ2wnLCAncHQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3JjQ29sdW1ucyA9IGdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW5TdHlsZXM6IHsgW2RhdGFLZXk6IHN0cmluZ106IGpzUERGLkF1dG9UYWJsZVN0eWxlczsgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gdG9BdXRvVGFibGVDb2x1bW5zKHNyY0NvbHVtbnMsIGNvbHVtblN0eWxlcywgb3B0aW9ucy5jb2x1bW5UaXRsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gY29sdW1ucy5tYXAoeCA9PiB4LmRhdGFLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbnRpdGllcyA9ICg8U2VyZW5pdHkuTGlzdFJlc3BvbnNlPGFueT4+cmVzcG9uc2UpLkVudGl0aWVzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdG9BdXRvVGFibGVEYXRhKGVudGl0aWVzLCBrZXlzLCBzcmNDb2x1bW5zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKG9wdGlvbnMudGl0bGVGb250U2l6ZSB8fCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnRTdHlsZSgnYm9sZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXBvcnRUaXRsZSA9IG9wdGlvbnMucmVwb3J0VGl0bGUgfHwgZy5nZXRUaXRsZSgpIHx8IFwiUmVwb3J0XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGVUZXh0KHJlcG9ydFRpdGxlLCBkb2MuaW50ZXJuYWwucGFnZVNpemUud2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRpdGxlVG9wIHx8IDI1LCB7IGhhbGlnbjogJ2NlbnRlcicgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbFBhZ2VzRXhwID0gXCJ7e1R9fVwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZU51bWJlcnMgPSBvcHRpb25zLnBhZ2VOdW1iZXJzID09IG51bGwgfHwgb3B0aW9ucy5wYWdlTnVtYmVycztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXV0b09wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogeyB0b3A6IDI1LCBsZWZ0OiAyNSwgcmlnaHQ6IDI1LCBib3R0b206IHBhZ2VOdW1iZXJzID8gMjUgOiAzMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IDYwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiA4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdsaW5lYnJlYWsnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFBhZGRpbmc6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ246ICdtaWRkbGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtblN0eWxlczogY29sdW1uU3R5bGVzXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy50YWJsZU9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZU51bWJlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvb3RlciA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gZGF0YS5wYWdlQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUb3RhbCBwYWdlIG51bWJlciBwbHVnaW4gb25seSBhdmFpbGFibGUgaW4ganNwZGYgdjEuMCtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jLnB1dFRvdGFsUGFnZXMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIgKyBcIiAvIFwiICsgdG90YWxQYWdlc0V4cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGVUZXh0KHN0ciwgZG9jLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0IC0gYXV0b09wdGlvbnMubWFyZ2luLmJvdHRvbSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ246ICdjZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PcHRpb25zLmFmdGVyUGFnZUNvbnRlbnQgPSBmb290ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByaW50IGhlYWRlciBvZiBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJpbnREYXRlVGltZUhlYWRlciA9PSBudWxsIHx8IG9wdGlvbnMucHJpbnREYXRlVGltZUhlYWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlUGFnZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2Muc2V0Rm9udFN0eWxlKCdub3JtYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSg4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlIGFuZCB0aW1lIG9mIHRoZSByZXBvcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGVUZXh0KFEuZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCBcImRkLU1NLXl5eXkgSEg6bW1cIiksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIGF1dG9PcHRpb25zLm1hcmdpbi5yaWdodCwgMTMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduOiAncmlnaHQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PcHRpb25zLmJlZm9yZVBhZ2VDb250ZW50ID0gYmVmb3JlUGFnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGUoY29sdW1ucywgZGF0YSwgYXV0b09wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRvYy5wdXRUb3RhbFBhZ2VzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5wdXRUb3RhbFBhZ2VzKHRvdGFsUGFnZXNFeHApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5vdXRwdXQgfHwgb3B0aW9ucy5vdXRwdXQgPT0gXCJmaWxlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gb3B0aW9ucy5maWxlTmFtZSB8fCBvcHRpb25zLnJlcG9ydFRpdGxlIHx8IFwiezB9X3sxfS5wZGZcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBRLmZvcm1hdChmaWxlTmFtZSwgZy5nZXRUaXRsZSgpIHx8IFwicmVwb3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLmZvcm1hdERhdGUobmV3IERhdGUoKSwgXCJ5eXl5TU1kZF9ISG1tXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnNhdmUoZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvUHJpbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvUHJpbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IG9wdGlvbnMub3V0cHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPT0gJ25ld3dpbmRvdycgfHwgJ19ibGFuaycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9ICdkYXRhdXJsbmV3d2luZG93JztcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXRwdXQgPT0gJ3dpbmRvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9ICdkYXRhdXJpJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLm91dHB1dChvdXRwdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbEJ1dHRvbihvcHRpb25zOiBQZGZFeHBvcnRPcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gPFNlcmVuaXR5LlRvb2xCdXR0b24+e1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBoaW50OiBvcHRpb25zLmhpbnQgfHwgJ1BERicsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ2V4cG9ydC1wZGYtYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGV4cG9ydFRvUGRmKG9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBvcHRpb25zLnNlcGFyYXRvclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5jbHVkZUpzUERGKCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGpzUERGICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9ICQoXCJqc1BERlNjcmlwdFwiKTtcclxuICAgICAgICAgICAgaWYgKHNjcmlwdC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgJChcIjxzY3JpcHQvPlwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImlkXCIsIFwianNQREZTY3JpcHRcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwic3JjXCIsIFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy9qc3BkZi5taW4uanNcIikpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbmNsdWRlQXV0b1RhYmxlKCkge1xyXG4gICAgICAgICAgICBpbmNsdWRlSnNQREYoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YganNQREYgPT09IFwidW5kZWZpbmVkXCIgfHxcclxuICAgICAgICAgICAgICAgIHR5cGVvZiAoanNQREYgYXMgYW55KS5BUEkgPT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIChqc1BERiBhcyBhbnkpLkFQSS5hdXRvVGFibGUgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gJChcImpzUERGQXV0b1RhYmxlU2NyaXB0XCIpO1xyXG4gICAgICAgICAgICBpZiAoc2NyaXB0Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAkKFwiPHNjcmlwdC8+XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0L2phdmFzY3JpcHRcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJqc1BERkF1dG9UYWJsZVNjcmlwdFwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJzcmNcIiwgUS5yZXNvbHZlVXJsKFwifi9TY3JpcHRzL2pzcGRmLnBsdWdpbi5hdXRvdGFibGUubWluLmpzXCIpKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGRvY3VtZW50LmhlYWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJkZWNsYXJlIHZhciBqc1BERjtcclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuQ29tbW9uIHtcclxuICAgIGV4cG9ydCBjbGFzcyBSZXBvcnREaWFsb2cgZXh0ZW5kcyBTZXJlbml0eS5UZW1wbGF0ZWREaWFsb2c8UmVwb3J0RGlhbG9nT3B0aW9ucz4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIHJlcG9ydDogU2VyZW5pdHkuUmVwb3J0aW5nLlJlcG9ydFJldHJpZXZlUmVzcG9uc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9wZXJ0eUdyaWQ6IFNlcmVuaXR5LlByb3BlcnR5R3JpZDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9uczogUmVwb3J0RGlhbG9nT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJmYWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFJlcG9ydCh0aGlzLm9wdGlvbnMucmVwb3J0S2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dCdXR0b25zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVQcm9wZXJ0eUdyaWQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkICYmIHRoaXMuYnlJZCgnUHJvcGVydHlHcmlkJykuaHRtbCgnJykuYXR0cignY2xhc3MnLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkID0gbmV3IFNlcmVuaXR5LlByb3BlcnR5R3JpZCh0aGlzLmJ5SWQoJ1Byb3BlcnR5R3JpZCcpLCB7XHJcbiAgICAgICAgICAgICAgICBpZFByZWZpeDogdGhpcy5pZFByZWZpeCxcclxuICAgICAgICAgICAgICAgIHVzZUNhdGVnb3JpZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5yZXBvcnQuUHJvcGVydGllc1xyXG4gICAgICAgICAgICB9KS5pbml0KG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRSZXBvcnQocmVwb3J0S2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IFEucmVzb2x2ZVVybCgnfi9SZXBvcnQvUmV0cmlldmUnKSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBSZXBvcnRLZXk6IHJlcG9ydEtleVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0ID0gcmVzcG9uc2UgYXMgU2VyZW5pdHkuUmVwb3J0aW5nLlJlcG9ydFJldHJpZXZlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpYWxvZygpLmRpYWxvZygnb3B0aW9uJywgJ3RpdGxlJywgdGhpcy5yZXBvcnQuVGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHlHcmlkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUdyaWQubG9hZCh0aGlzLnJlcG9ydC5Jbml0aWFsU2V0dGluZ3MgfHwge30pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJmYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dPcGVuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUludGVyZmFjZSgpIHtcclxuICAgICAgICAgICAgdGhpcy50b29sYmFyLmZpbmRCdXR0b24oJ3ByaW50LXByZXZpZXctYnV0dG9uJylcclxuICAgICAgICAgICAgICAgIC50b2dnbGUodGhpcy5yZXBvcnQgJiYgIXRoaXMucmVwb3J0LklzRGF0YU9ubHlSZXBvcnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b29sYmFyLmZpbmRCdXR0b24oJ2V4cG9ydC1wZGYtYnV0dG9uJylcclxuICAgICAgICAgICAgICAgIC50b2dnbGUodGhpcy5yZXBvcnQgJiYgIXRoaXMucmVwb3J0LklzRGF0YU9ubHlSZXBvcnQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b29sYmFyLmZpbmRCdXR0b24oJ2V4cG9ydC14bHN4LWJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAudG9nZ2xlKHRoaXMucmVwb3J0ICYmIHRoaXMucmVwb3J0LklzRGF0YU9ubHlSZXBvcnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhlY3V0ZVJlcG9ydCh0YXJnZXQ6IHN0cmluZywgZXh0OiBzdHJpbmcsIGRvd25sb2FkOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgb3B0ID0ge307XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkLnNhdmUob3B0KTtcclxuICAgICAgICAgICAgUmVwb3J0SGVscGVyLmV4ZWN1dGUoe1xyXG4gICAgICAgICAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkLFxyXG4gICAgICAgICAgICAgICAgcmVwb3J0S2V5OiB0aGlzLnJlcG9ydC5SZXBvcnRLZXksXHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb246IGV4dCBhcyBhbnksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIHBhcmFtczogb3B0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGdldFRvb2xiYXJCdXR0b25zKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUHJldmlldycsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdwcmludC1wcmV2aWV3LWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5leGVjdXRlUmVwb3J0KCdfYmxhbmsnLCBudWxsLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQREYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZXhwb3J0LXBkZi1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuZXhlY3V0ZVJlcG9ydCgnX2JsYW5rJywgJ3BkZicsIHRydWUpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXhjZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZXhwb3J0LXhsc3gtYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmV4ZWN1dGVSZXBvcnQoJ19ibGFuaycsICd4bHN4JywgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSZXBvcnREaWFsb2dPcHRpb25zIHtcclxuICAgICAgICByZXBvcnRLZXk6IHN0cmluZztcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSZXBvcnRFeGVjdXRlT3B0aW9ucyB7XHJcbiAgICAgICAgcmVwb3J0S2V5OiBzdHJpbmc7XHJcbiAgICAgICAgZG93bmxvYWQ/OiBib29sZWFuO1xyXG4gICAgICAgIGV4dGVuc2lvbj86ICdwZGYnIHwgJ2h0bScgfCAnaHRtbCcgfCAneGxzeCcgfCAnZG9jeCc7XHJcbiAgICAgICAgZ2V0UGFyYW1zPzogKCkgPT4gYW55O1xyXG4gICAgICAgIHBhcmFtcz86IHsgW2tleTogc3RyaW5nXTogYW55IH1cclxuICAgICAgICB0YXJnZXQ/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBSZXBvcnRCdXR0b25PcHRpb25zIGV4dGVuZHMgUmVwb3J0RXhlY3V0ZU9wdGlvbnMge1xyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIGNzc0NsYXNzPzogc3RyaW5nO1xyXG4gICAgICAgIGljb24/OiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBSZXBvcnRIZWxwZXIge1xyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbEJ1dHRvbihvcHRpb25zOiBSZXBvcnRCdXR0b25PcHRpb25zKTogU2VyZW5pdHkuVG9vbEJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogUS5jb2FsZXNjZShvcHRpb25zLnRpdGxlLCAnUmVwb3J0JyksXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogUS5jb2FsZXNjZShvcHRpb25zLmNzc0NsYXNzLCAncHJpbnQtYnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICBpY29uOiBvcHRpb25zLmljb24sXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVwb3J0SGVscGVyLmV4ZWN1dGUob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZShvcHRpb25zOiBSZXBvcnRFeGVjdXRlT3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gb3B0aW9ucy5nZXRQYXJhbXMgPyBvcHRpb25zLmdldFBhcmFtcygpIDogb3B0aW9ucy5wYXJhbXM7XHJcblxyXG4gICAgICAgICAgICBRLnBvc3RUb1VybCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICd+L1JlcG9ydC8nICsgKG9wdGlvbnMuZG93bmxvYWQgPyAnRG93bmxvYWQnIDogJ1JlbmRlcicpLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBvcHRpb25zLnJlcG9ydEtleSxcclxuICAgICAgICAgICAgICAgICAgICBleHQ6IFEuY29hbGVzY2Uob3B0aW9ucy5leHRlbnNpb24sICdwZGYnKSxcclxuICAgICAgICAgICAgICAgICAgICBvcHQ6IG9wdCA/ICQudG9KU09OKG9wdCkgOiAnJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogUS5jb2FsZXNjZShvcHRpb25zLnRhcmdldCwgJ19ibGFuaycpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImRlY2xhcmUgdmFyIGpzUERGO1xyXG5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Db21tb24ge1xyXG4gICAgZXhwb3J0IGNsYXNzIFJlcG9ydFBhZ2UgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8YW55PiB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVwb3J0S2V5OiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9wZXJ0eUl0ZW1zOiBTZXJlbml0eS5Qcm9wZXJ0eUl0ZW1bXTtcclxuICAgICAgICBwcml2YXRlIHByb3BlcnR5R3JpZDogU2VyZW5pdHkuUHJvcGVydHlHcmlkO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAkKCcucmVwb3J0LWxpbmsnLCBlbGVtZW50KS5jbGljayhlID0+IHRoaXMucmVwb3J0TGlua0NsaWNrKGUpKTtcclxuICAgICAgICAgICAgJCgnZGl2LmxpbmUnLCBlbGVtZW50KS5jbGljayhlID0+IHRoaXMuY2F0ZWdvcnlDbGljayhlKSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXJlbml0eS5RdWlja1NlYXJjaElucHV0KCQoJy5zLVF1aWNrU2VhcmNoQmFyIGlucHV0JywgZWxlbWVudCksIHtcclxuICAgICAgICAgICAgICAgIG9uU2VhcmNoOiAoZmllbGQsIHRleHQsIGRvbmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdGNoRmxhZ3ModGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlTWF0Y2hGbGFncyh0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdmFyIGxpTGlzdCA9ICQoJy5yZXBvcnQtbGlzdCcsIHRoaXMuZWxlbWVudCkuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnbm9uLW1hdGNoJyk7XHJcbiAgICAgICAgICAgIHRleHQgPSBRLnRyaW1Ub051bGwodGV4dCk7XHJcbiAgICAgICAgICAgIGlmICghdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgbGlMaXN0LmNoaWxkcmVuKCd1bCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGxpTGlzdC5zaG93KCkucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRleHQgPSBTZWxlY3QyLnV0aWwuc3RyaXBEaWFjcml0aWNzKHRleHQpLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVwb3J0SXRlbXMgPSBsaUxpc3QuZmlsdGVyKCcucmVwb3J0LWl0ZW0nKTtcclxuICAgICAgICAgICAgcmVwb3J0SXRlbXMuZWFjaChmdW5jdGlvbiAoaXgsIGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gJChlKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IFNlbGVjdDIudXRpbC5zdHJpcERpYWNyaXRpY3MoUS5jb2FsZXNjZSh4LnRleHQoKSwgJycpLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpdGxlLmluZGV4T2YodGV4dCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeC5hZGRDbGFzcygnbm9uLW1hdGNoJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hdGNoaW5nSXRlbXMgPSByZXBvcnRJdGVtcy5ub3QoJy5ub24tbWF0Y2gnKTtcclxuICAgICAgICAgICAgdmFyIHZpc2libGVzID0gbWF0Y2hpbmdJdGVtcy5wYXJlbnRzKCdsaScpLmFkZChtYXRjaGluZ0l0ZW1zKTtcclxuICAgICAgICAgICAgdmFyIG5vblZpc2libGVzID0gbGlMaXN0Lm5vdCh2aXNpYmxlcyk7XHJcbiAgICAgICAgICAgIG5vblZpc2libGVzLmhpZGUoKS5hZGRDbGFzcygnbm9uLW1hdGNoJyk7XHJcbiAgICAgICAgICAgIHZpc2libGVzLnNob3coKTtcclxuICAgICAgICAgICAgaWYgKHZpc2libGVzLmxlbmd0aCA8PSAxMDApIHtcclxuICAgICAgICAgICAgICAgIGxpTGlzdC5jaGlsZHJlbigndWwnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBsaUxpc3QuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjYXRlZ29yeUNsaWNrKGUpIHtcclxuICAgICAgICAgICAgdmFyIGxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICAgICAgaWYgKGxpLmhhc0NsYXNzKCdleHBhbmRlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBsaS5maW5kKCd1bCcpLmhpZGUoJ2Zhc3QnKTtcclxuICAgICAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpO1xyXG4gICAgICAgICAgICAgICAgbGkuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnZXhwYW5kZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpLmFkZENsYXNzKCdleHBhbmRlZCcpO1xyXG4gICAgICAgICAgICAgICAgbGkuY2hpbGRyZW4oJ3VsJykuc2hvdygnZmFzdCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpLmNoaWxkcmVuKCd1bCcpLmNoaWxkcmVuKCdsaScpLmxlbmd0aCA9PT0gMSAmJiAhbGkuY2hpbGRyZW4oJ3VsJykuY2hpbGRyZW4oJ2xpJykuaGFzQ2xhc3MoJ2V4cGFuZGVkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaS5jaGlsZHJlbigndWwnKS5jaGlsZHJlbignbGknKS5jaGlsZHJlbignLmxpbmUnKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcmVwb3J0TGlua0NsaWNrKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBuZXcgUmVwb3J0RGlhbG9nKHtcclxuICAgICAgICAgICAgICAgIHJlcG9ydEtleTogJChlLnRhcmdldCkuZGF0YSgna2V5JylcclxuICAgICAgICAgICAgfSkuZGlhbG9nT3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkNvbW1vbiB7XHJcbiAgICBleHBvcnQgY2xhc3MgVXNlclByZWZlcmVuY2VTdG9yYWdlIGltcGxlbWVudHMgU2VyZW5pdHkuU2V0dGluZ1N0b3JhZ2Uge1xyXG4gICAgICAgIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWU6IHN0cmluZztcclxuXHJcbiAgICAgICAgICAgIFVzZXJQcmVmZXJlbmNlU2VydmljZS5SZXRyaWV2ZSh7XHJcbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlVHlwZTogXCJVc2VyUHJlZmVyZW5jZVN0b3JhZ2VcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IGtleVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXNwb25zZSA9PiB2YWx1ZSA9IHJlc3BvbnNlLlZhbHVlLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhc3luYzogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRJdGVtKGtleTogc3RyaW5nLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgVXNlclByZWZlcmVuY2VTZXJ2aWNlLlVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlVHlwZTogXCJVc2VyUHJlZmVyZW5jZVN0b3JhZ2VcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgIFZhbHVlOiBkYXRhXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9Ob3J0aHdpbmQvQ2F0ZWdvcnkvQ2F0ZWdvcnlHcmlkLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuRXh0cmFTYW1wbGVzIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmZpbHRlcmFibGUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbVRlbXBsYXRlZEdyaWQgZXh0ZW5kcyBOb3J0aHdpbmQuQ2F0ZWdvcnlHcmlkIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjdXN0b21IdG1sRGl2OiBKUXVlcnkgPSAkKCc8ZGl2Lz4nKTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5zbGlja0NvbnRhaW5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tSHRtbERpdi5pbnNlcnRBZnRlcih0aGlzLnNsaWNrQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21IdG1sRGl2LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnNsaWNrQ29udGFpbmVyLmhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3UHJvY2Vzc0RhdGEocmVzcG9uc2U6IFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxOb3J0aHdpbmQuQ2F0ZWdvcnlSb3c+KTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPE5vcnRod2luZC5DYXRlZ29yeVJvdz4ge1xyXG4gICAgICAgICAgICBzdXBlci5vblZpZXdQcm9jZXNzRGF0YShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckN1c3RvbUh0bWwocmVzcG9uc2UuRW50aXRpZXMpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJDdXN0b21IdG1sKGl0ZW1zOiBOb3J0aHdpbmQuQ2F0ZWdvcnlSb3dbXSkge1xyXG4gICAgICAgICAgICBsZXQgdHIgPSBgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q2F0ZWdvcnkgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5EZXNjcmlwdGlvbjwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPmA7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdHIgKz1cclxuICAgICAgICAgICAgICAgIGA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5DYXRlZ29yeU5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpdGVtLkRlc2NyaXB0aW9ufTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8L3RyPmApO1xyXG5cclxuICAgICAgICAgICAgbGV0IGh0bWwgPSBgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0cn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXN0b21IdG1sRGl2Lmh0bWwoaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZSB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbWVyVGVtcGxhdGVkTG9va3VwRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuTG9va3VwRWRpdG9yQmFzZTxhbnksIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb29rdXBLZXkoKTogc3RyaW5nIHsgcmV0dXJuIE5vcnRod2luZC5DdXN0b21lclJvdy5sb29rdXBLZXkgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG51bGwpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHNlbGVjdDJGb3JtYXR0ZXIoaXRlbTogU2VyZW5pdHkuU2VsZWN0Mkl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXYgc3R5bGU9XCJjb2xvcjpyZWRcIj4ke2l0ZW0udGV4dH08L2Rpdj5gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0U2VsZWN0Mk9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIGxldCBvcHQgPSBzdXBlci5nZXRTZWxlY3QyT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgb3B0LmVzY2FwZU1hcmt1cCA9IChtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgKG9wdCBhcyBhbnkpLmZvcm1hdFJlc3VsdCA9IHRoaXMuc2VsZWN0MkZvcm1hdHRlcjtcclxuICAgICAgICAgICAgKG9wdCBhcyBhbnkpLmZvcm1hdFNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0MkZvcm1hdHRlcjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9JbXBvcnRzL19yZWZlcmVuY2VzLnRzXCIgLz5cclxubmFtZXNwYWNlIFNlckV4dHJhQ29yZS5FeHRyYVNhbXBsZXMge1xyXG5cclxuICAgIGltcG9ydCBmbGQgPSBOb3J0aHdpbmQuUHJvZHVjdFJvdy5GaWVsZHM7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgTWFpbkdyaWRJbmxpbmVFZGl0aW5nR3JpZCBleHRlbmRzIF9FeHQuR3JpZEJhc2U8Tm9ydGh3aW5kLlByb2R1Y3RSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb2x1bW5zS2V5KCkgeyByZXR1cm4gXCJFeHRyYVNhbXBsZXMuTWFpbkdyaWRJbmxpbmVFZGl0aW5nXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIDxhbnk+Tm9ydGh3aW5kLlByb2R1Y3REaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIE5vcnRod2luZC5Qcm9kdWN0Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLlByb2R1Y3RSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBOb3J0aHdpbmQuUHJvZHVjdFNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGlzRWRpdGVkRmxhZyA9ICdpc0VkaXRlZCdcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLm9uQ2VsbENoYW5nZS5zdWJzY3JpYmUoKGUsIGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gYXJncy5pdGVtIGFzIE5vcnRod2luZC5Qcm9kdWN0Um93O1xyXG4gICAgICAgICAgICAgICAgaXRlbVt0aGlzLmlzRWRpdGVkRmxhZ10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUl0ZW0oaXRlbVt0aGlzLmdldElkUHJvcGVydHkoKV0sIGl0ZW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2xpY2tHcmlkLm9uQmVmb3JlRWRpdENlbGwuc3Vic2NyaWJlKChlLCBhcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGFyZ3MuaXRlbSBhcyBOb3J0aHdpbmQuUHJvZHVjdFJvdztcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW4gPSBhcmdzLmNvbHVtbiBhcyBTbGljay5Db2x1bW47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5maWVsZCA9PSBmbGQuQ2F0ZWdvcnlJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbGV0IGVkaXRvclBhcmFtcyA9IGNvbHVtbi5zb3VyY2VJdGVtLmVkaXRvclBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXRvclBhcmFtcy5jYXNjYWRlRmllbGQgPSBOb3J0aHdpbmQuU3VwcGxpZXJSb3cuRmllbGRzLkNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0b3JQYXJhbXMuY2FzY2FkZVZhbHVlID0gaXRlbS5TdXBwbGllckNpdHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJdGVtQ3NzQ2xhc3MoaXRlbTogTm9ydGh3aW5kLlByb2R1Y3RSb3csIGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQga2xhc3M6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGxldCBJc0VkaXRlZCA9IGl0ZW1bdGhpcy5pc0VkaXRlZEZsYWddIGFzIGJvb2xlYW47XHJcbiAgICAgICAgICAgIGlmICghSXNFZGl0ZWQpIHtcclxuICAgICAgICAgICAgICAgIElzRWRpdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChJc0VkaXRlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBrbGFzcyArPSBcIiB0ZXh0LWJvbGRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUS50cmltVG9OdWxsKGtsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2xpY2tPcHRpb25zKCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gc3VwZXIuZ2V0U2xpY2tPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIG9wdC5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIG9wdC5hdXRvRWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NhdmUnLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdhcHBseS1jaGFuZ2VzLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAodGhpcy5zbGlja0dyaWQgYXMgYW55KS5nZXRFZGl0Q29udHJvbGxlcigpLmNvbW1pdEN1cnJlbnRFZGl0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMudmlldy5nZXRJdGVtcygpLmZpbHRlcihxID0+IHFbdGhpcy5pc0VkaXRlZEZsYWddID09IHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtWydSb3dOdW0nXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtWydSb3dOdW0nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1bdGhpcy5pc0VkaXRlZEZsYWddKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGl0ZW1bdGhpcy5pc0VkaXRlZEZsYWddO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgTm9ydGh3aW5kLlByb2R1Y3RTZXJ2aWNlLlVwZGF0ZSh7IEVudGl0eUlkOiBpdGVtLlByb2R1Y3RJRCwgRW50aXR5OiBpdGVtIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlTdWNjZXNzKFwiU3VjY2VzcyAhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkV4dHJhU2FtcGxlcyB7XHJcblxyXG4gICAgaW1wb3J0IGZsZCA9IE5vcnRod2luZC5Qcm9kdWN0Um93LkZpZWxkcztcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBNYWluR3JpZE11bHRpRWRpdGluZ0dyaWQgZXh0ZW5kcyBfRXh0LkdyaWRCYXNlPE5vcnRod2luZC5Qcm9kdWN0Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiRXh0cmFTYW1wbGVzLk1haW5HcmlkTXVsdGlFZGl0aW5nXCI7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZSgpIHsgcmV0dXJuIDxhbnk+Tm9ydGh3aW5kLlByb2R1Y3REaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIE5vcnRod2luZC5Qcm9kdWN0Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gTm9ydGh3aW5kLlByb2R1Y3RSb3cubG9jYWxUZXh0UHJlZml4OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBOb3J0aHdpbmQuUHJvZHVjdFNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlID0gbmV3IF9FeHQuTXVsdGlFZGl0U3RvcmUodGhpcy5nZXRQcm9wZXJ0eUl0ZW1zKCkpO1xyXG4gICAgICAgICAgICB0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkID0gKCkgPT4gdGhpcy5maWx0ZXJTdG9yZUNoYW5nZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGRfY2hhbmdlZCh0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RvcmU6IF9FeHQuTXVsdGlFZGl0U3RvcmU7XHJcblxyXG4gICAgICAgIHByaXZhdGUgb25NdWx0aUVkaXRTdG9yZUNoYW5nZWQ6ICgpID0+IHZvaWQ7XHJcblxyXG4gICAgICAgIGRlc3Ryb3koKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5yZW1vdmVfY2hhbmdlZCh0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25NdWx0aUVkaXRTdG9yZUNoYW5nZWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmaWx0ZXJTdG9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfc3RvcmUoKTogX0V4dC5NdWx0aUVkaXRTdG9yZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0X3N0b3JlKHZhbHVlOiBfRXh0Lk11bHRpRWRpdFN0b3JlKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmUgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZV9jaGFuZ2VkKHRoaXMub25NdWx0aUVkaXRTdG9yZUNoYW5nZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUgPSB2YWx1ZSB8fCBuZXcgX0V4dC5NdWx0aUVkaXRTdG9yZShbXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmFkZF9jaGFuZ2VkKHRoaXMub25NdWx0aUVkaXRTdG9yZUNoYW5nZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJTdG9yZUNoYW5nZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBidXR0b25zID0gc3VwZXIuZ2V0QnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVXBkYXRlIE11bHRpcGxlJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnYXBwbHktY2hhbmdlcy1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSBuZXcgX0V4dC5NdWx0aUVkaXREaWFsb2coKTtcclxuICAgICAgICAgICAgICAgICAgICBkaWFsb2cuZ2V0X2ZpbHRlclBhbmVsKCkuc2V0X3N0b3JlKHRoaXMuZ2V0X3N0b3JlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5kaWFsb2dPcGVuKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoJ1NlcmVuaXR5Lk11bHRpRWRpdERpYWxvZycpXHJcbiAgICBleHBvcnQgY2xhc3MgTXVsdGlFZGl0RGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nPGFueT4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIGZpbHRlclBhbmVsOiBNdWx0aUVkaXRQYW5lbDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlclBhbmVsID0gbmV3IE11bHRpRWRpdFBhbmVsKHRoaXMuYnlJZCgnTXVsdGlFZGl0UGFuZWwnKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWwuc2V0X3Nob3dJbml0aWFsTGluZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJQYW5lbC5zZXRfdXBkYXRlU3RvcmVPblJlc2V0KGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9maWx0ZXJQYW5lbCgpOiBNdWx0aUVkaXRQYW5lbCB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlclBhbmVsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRlbXBsYXRlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBpZD1cIn5fTXVsdGlFZGl0UGFuZWxcIi8+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgb3B0LmJ1dHRvbnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLk9rQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyUGFuZWwuZ2V0X2hhc0Vycm9ycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLm5vdGlmeUVycm9yKFEudGV4dCgnQ29udHJvbHMuRmlsdGVyUGFuZWwuRml4RXJyb3JzTWVzc2FnZScpLCAnJywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFEudGV4dCgnRGlhbG9ncy5DYW5jZWxCdXR0b24nKSxcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gdGhpcy5kaWFsb2dDbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICBvcHQudGl0bGUgPSBRLnRleHQoJ0NvbnRyb2xzLkZpbHRlclBhbmVsLkRpYWxvZ1RpdGxlJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gb3B0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJkZWNsYXJlIG5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBpbnRlcmZhY2UgTXVsdGlFZGl0TGluZSB7XHJcbiAgICAgICAgZmllbGQ/OiBzdHJpbmc7XHJcbiAgICAgICAgb3BlcmF0b3I/OiBzdHJpbmc7XHJcbiAgICAgICAgaXNPcj86IGJvb2xlYW47XHJcbiAgICAgICAgbGVmdFBhcmVuPzogYm9vbGVhbjtcclxuICAgICAgICByaWdodFBhcmVuPzogYm9vbGVhbjtcclxuICAgICAgICB2YWxpZGF0aW9uRXJyb3I/OiBzdHJpbmc7XHJcbiAgICAgICAgY3JpdGVyaWE/OiBhbnlbXTtcclxuICAgICAgICBkaXNwbGF5VGV4dD86IHN0cmluZztcclxuICAgICAgICBzdGF0ZT86IGFueTtcclxuICAgIH1cclxuXHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygnU2VyZW5pdHkuTXVsdGlFZGl0V2lkZ2V0QmFzZScpXHJcbiAgICBleHBvcnQgY2xhc3MgTXVsdGlFZGl0V2lkZ2V0QmFzZTxUT3B0aW9ucz4gZXh0ZW5kcyBTZXJlbml0eS5UZW1wbGF0ZWRXaWRnZXQ8VE9wdGlvbnM+IHtcclxuICAgICAgICBwcml2YXRlIHN0b3JlOiBfRXh0Lk11bHRpRWRpdFN0b3JlOyBcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbk11bHRpRWRpdFN0b3JlQ2hhbmdlZDogKCkgPT4gdm9pZDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoZGl2OiBKUXVlcnksIG9wdD86IFRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGRpdiwgb3B0KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgTXVsdGlFZGl0U3RvcmUoW10pO1xyXG4gICAgICAgICAgICB0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkID0gKCkgPT4gdGhpcy5maWx0ZXJTdG9yZUNoYW5nZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGRfY2hhbmdlZCh0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlc3Ryb3koKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5yZW1vdmVfY2hhbmdlZCh0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25NdWx0aUVkaXRTdG9yZUNoYW5nZWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmaWx0ZXJTdG9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfc3RvcmUoKTogTXVsdGlFZGl0U3RvcmUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldF9zdG9yZSh2YWx1ZTogTXVsdGlFZGl0U3RvcmUpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yZSAhPSBudWxsKSBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZV9jaGFuZ2VkKHRoaXMub25NdWx0aUVkaXRTdG9yZUNoYW5nZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUgPSB2YWx1ZSB8fCBuZXcgTXVsdGlFZGl0U3RvcmUoW10pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5hZGRfY2hhbmdlZCh0aGlzLm9uTXVsdGlFZGl0U3RvcmVDaGFuZ2VkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyU3RvcmVDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiTXVsdGlFZGl0V2lkZ2V0QmFzZS50c1wiIC8+XHJcbm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKCdTZXJlbml0eS5NdWx0aUVkaXRGaWVsZFNlbGVjdCcpXHJcbiAgICBjbGFzcyBNdWx0aUVkaXRGaWVsZFNlbGVjdCBleHRlbmRzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3I8YW55LCBTZXJlbml0eS5Qcm9wZXJ0eUl0ZW0+IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihoaWRkZW46IEpRdWVyeSwgZmllbGRzOiBTZXJlbml0eS5Qcm9wZXJ0eUl0ZW1bXSkge1xyXG4gICAgICAgICAgICBzdXBlcihoaWRkZW4pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgZmllbGQgb2YgZmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihmaWVsZC5uYW1lLCBRLmNvYWxlc2NlKFEudHJ5R2V0VGV4dChmaWVsZC50aXRsZSksXHJcbiAgICAgICAgICAgICAgICAgICAgUS5jb2FsZXNjZShmaWVsZC50aXRsZSwgZmllbGQubmFtZSkpLCBmaWVsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVtcHR5SXRlbVRleHQoKSB7XHJcbiAgICAgICAgICAgIGlmIChRLmlzRW1wdHlPck51bGwodGhpcy52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnRleHQoJ0NvbnRyb2xzLkZpbHRlclBhbmVsLlNlbGVjdEZpZWxkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0U2VsZWN0Mk9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHQgPSBzdXBlci5nZXRTZWxlY3QyT3B0aW9ucygpO1xyXG4gICAgICAgICAgICBvcHQuYWxsb3dDbGVhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgTXVsdGlFZGl0UGFuZWwgZXh0ZW5kcyBNdWx0aUVkaXRXaWRnZXRCYXNlPGFueT4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIHJvd3NEaXY6IEpRdWVyeTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoZGl2OiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoZGl2KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRDbGFzcygncy1NdWx0aUVkaXRQYW5lbCcpO1xyXG4gICAgICAgICAgICB0aGlzLnJvd3NEaXYgPSB0aGlzLmJ5SWQoJ1Jvd3MnKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0QnV0dG9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJ1dHRvbnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hvd0luaXRpYWxMaW5lOiBib29sZWFuO1xyXG5cclxuICAgICAgICBnZXRfc2hvd0luaXRpYWxMaW5lKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93SW5pdGlhbExpbmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfc2hvd0luaXRpYWxMaW5lKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dJbml0aWFsTGluZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0luaXRpYWxMaW5lID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93SW5pdGlhbExpbmUgJiYgdGhpcy5yb3dzRGl2LmNoaWxkcmVuKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbXB0eVJvdyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmaWx0ZXJTdG9yZUNoYW5nZWQoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmZpbHRlclN0b3JlQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVTdG9yZU9uUmVzZXQ6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGdldF91cGRhdGVTdG9yZU9uUmVzZXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVN0b3JlT25SZXNldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldF91cGRhdGVTdG9yZU9uUmVzZXQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RvcmVPblJlc2V0ICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdG9yZU9uUmVzZXQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRlbXBsYXRlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjxkaXYgaWQ9J35fUm93cycgY2xhc3M9J2ZpbHRlci1saW5lcyc+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgaWQ9J35fQnV0dG9ucycgY2xhc3M9J2J1dHRvbnMnPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPGJ1dHRvbiBpZD0nfl9BZGRCdXR0b24nIGNsYXNzPSdidG4gYnRuLXByaW1hcnkgYWRkJz48L2J1dHRvbj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxidXR0b24gaWQ9J35fUmVzZXRCdXR0b24nIGNsYXNzPSdidG4gYnRuLWRhbmdlciByZXNldCc+PC9idXR0b24+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgc3R5bGU9J2NsZWFyOiBib3RoJz5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjwvZGl2PlwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdEJ1dHRvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnQWRkQnV0dG9uJykudGV4dChRLnRleHQoJ0NvbnRyb2xzLkZpbHRlclBhbmVsLkFkZEZpbHRlcicpKVxyXG4gICAgICAgICAgICAgICAgLmNsaWNrKChlKSA9PiB0aGlzLmFkZEJ1dHRvbkNsaWNrKGUpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnUmVzZXRCdXR0b24nKS50ZXh0KFEudGV4dCgnQ29udHJvbHMuRmlsdGVyUGFuZWwuUmVzZXRCdXR0b24nKSlcclxuICAgICAgICAgICAgICAgIC5jbGljaygoZSkgPT4gdGhpcy5yZXNldEJ1dHRvbkNsaWNrKGUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9oYXNFcnJvcnMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvd3NEaXYuY2hpbGRyZW4oKS5jaGlsZHJlbignZGl2LnYnKVxyXG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKCdzcGFuLmVycm9yJykubGVuZ3RoID4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRCdXR0b25DbGljayhlOiBKUXVlcnlFdmVudE9iamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEVtcHR5Um93KHRydWUpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcmVzZXRCdXR0b25DbGljayhlOiBKUXVlcnlFdmVudE9iamVjdCkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRfdXBkYXRlU3RvcmVPblJlc2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldF9zdG9yZSgpLmdldF9pdGVtcygpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBRLmNsZWFyS2V5cyh0aGlzLmdldF9zdG9yZSgpLmdldF9pdGVtcygpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldF9zdG9yZSgpLnJhaXNlQ2hhbmdlZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvd3NEaXYuZW1wdHkoKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldF9zaG93SW5pdGlhbExpbmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFbXB0eVJvdyhmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmaW5kRW1wdHlSb3coKTogSlF1ZXJ5IHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdDogSlF1ZXJ5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucm93c0Rpdi5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24gKGluZGV4LCByb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWVsZElucHV0ID0gJChyb3cpLmNoaWxkcmVuKCdkaXYuZicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCdpbnB1dC5maWVsZC1zZWxlY3QnKS5maXJzdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkSW5wdXQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZmllbGRJbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPT0gbnVsbCB8fCB2YWwubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJChyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkRW1wdHlSb3cocG9wdXBGaWVsZDogYm9vbGVhbikge1xyXG4gICAgICAgICAgICB2YXIgZW1wdHlSb3cgPSB0aGlzLmZpbmRFbXB0eVJvdygpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVtcHR5Um93ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGVtcHR5Um93LmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpLnNlbGVjdDIoJ2ZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9wdXBGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5Um93LmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpLnNlbGVjdDIoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVJvdztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJvdyA9ICQoXHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2ZpbHRlci1saW5lJz5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxhIGNsYXNzPSdkZWxldGUnPjxzcGFuPjwvc3Bhbj48L2E+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdmJz5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGNsYXNzPSdmaWVsZC1zZWxlY3QnPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdvJz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J3YnPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgIFwiPGRpdiBzdHlsZT0nY2xlYXI6IGJvdGgnPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIpLmFwcGVuZFRvKHRoaXMucm93c0Rpdik7XHJcblxyXG5cclxuICAgICAgICAgICAgcm93LmNoaWxkcmVuKCdhLmRlbGV0ZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCBRLnRleHQoJ0NvbnRyb2xzLkZpbHRlclBhbmVsLlJlbW92ZUZpZWxkJykpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soKGUpID0+IHRoaXMuZGVsZXRlUm93Q2xpY2soZSkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZpZWxkU2VsID0gbmV3IE11bHRpRWRpdEZpZWxkU2VsZWN0KHJvdy5jaGlsZHJlbignZGl2LmYnKVxyXG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKCdpbnB1dCcpLCB0aGlzLmdldF9zdG9yZSgpLmdldF9maWVsZHMoKSlcclxuICAgICAgICAgICAgICAgIC5jaGFuZ2VTZWxlY3QyKGUgPT4gdGhpcy5vblJvd0ZpZWxkQ2hhbmdlKGUpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgcm93LmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpLnNlbGVjdDIoJ2ZvY3VzJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAocG9wdXBGaWVsZCkge1xyXG4gICAgICAgICAgICAgICAgcm93LmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpLnNlbGVjdDIoJ29wZW4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJvdztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblJvd0ZpZWxkQ2hhbmdlKGU6IEpRdWVyeUV2ZW50T2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYuZmlsdGVyLWxpbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5yb3dGaWVsZENoYW5nZShyb3cpO1xyXG4gICAgICAgICAgICB2YXIgb3BTZWxlY3QgPSByb3cuY2hpbGRyZW4oJ2Rpdi5vJykuZmluZCgnaW5wdXQub3Atc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIG9wU2VsZWN0LnNlbGVjdDIoJ2ZvY3VzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcm93RmllbGRDaGFuZ2Uocm93OiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgcm93LnJlbW92ZURhdGEoJ011bHRpRWRpdGluZycpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gcm93LmNoaWxkcmVuKCdkaXYuZicpLmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpXHJcbiAgICAgICAgICAgICAgICAuZ2V0V2lkZ2V0KE11bHRpRWRpdEZpZWxkU2VsZWN0KTtcclxuICAgICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IHNlbGVjdC5nZXRfdmFsdWUoKTtcclxuICAgICAgICAgICAgdmFyIGlzRW1wdHkgPSBmaWVsZE5hbWUgPT0gbnVsbCB8fCBmaWVsZE5hbWUgPT09ICcnO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU11bHRpRWRpdGluZyhyb3cpO1xyXG4gICAgICAgICAgICAvL3RoaXMucG9wdWxhdGVPcGVyYXRvckxpc3Qocm93KTtcclxuICAgICAgICAgICAgLy90aGlzLnJvd09wZXJhdG9yQ2hhbmdlKHJvdyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnV0dG9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHJlbW92ZU11bHRpRWRpdGluZyhyb3c6IEpRdWVyeSk6IHZvaWQge1xyXG4gICAgICAgICAgICByb3cuZGF0YSgnTXVsdGlFZGl0aW5nJywgbnVsbCk7XHJcbiAgICAgICAgICAgIHJvdy5kYXRhKCdNdWx0aUVkaXRpbmdGaWVsZCcsIG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZpZWxkRm9yKHJvdzogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIGlmIChyb3cubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gcm93LmNoaWxkcmVuKCdkaXYuZicpLmZpbmQoJ2lucHV0LmZpZWxkLXNlbGVjdCcpXHJcbiAgICAgICAgICAgICAgICAuZ2V0V2lkZ2V0KE11bHRpRWRpdEZpZWxkU2VsZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChRLmlzRW1wdHlPck51bGwoc2VsZWN0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldF9zdG9yZSgpLmdldF9maWVsZEJ5TmFtZSgpW3NlbGVjdC5nZXRfdmFsdWUoKV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TXVsdGlFZGl0aW5nRm9yKHJvdzogSlF1ZXJ5KTogSU11bHRpRWRpdGluZyB7XHJcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZ2V0RmllbGRGb3Iocm93KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWVsZCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICB2YXIgZmlsdGVyaW5nID0gUS5jYXN0KHJvdy5kYXRhKCdNdWx0aUVkaXRpbmcnKSwgSU11bHRpRWRpdGluZyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlsdGVyaW5nICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyaW5nO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZpbHRlcmluZ1R5cGUgPSBNdWx0aUVkaXRpbmdUeXBlUmVnaXN0cnkuZ2V0KFxyXG4gICAgICAgICAgICAgICAgUS5jb2FsZXNjZShmaWVsZC5maWx0ZXJpbmdUeXBlLCAnU3RyaW5nJykpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVkaXRvckRpdiA9IHJvdy5jaGlsZHJlbignZGl2LnYnKTtcclxuICAgICAgICAgICAgZmlsdGVyaW5nID0gbmV3IChmaWx0ZXJpbmdUeXBlIGFzIGFueSkoKSBhcyBJTXVsdGlFZGl0aW5nO1xyXG4gICAgICAgICAgICBTZXJlbml0eS5SZWZsZWN0aW9uT3B0aW9uc1NldHRlci5zZXQoZmlsdGVyaW5nLCBmaWVsZC5maWx0ZXJpbmdQYXJhbXMpO1xyXG4gICAgICAgICAgICBmaWx0ZXJpbmcuc2V0X2NvbnRhaW5lcihlZGl0b3JEaXYpO1xyXG4gICAgICAgICAgICBmaWx0ZXJpbmcuc2V0X2ZpZWxkKGZpZWxkKTtcclxuICAgICAgICAgICAgcm93LmRhdGEoJ011bHRpRWRpdGluZycsIGZpbHRlcmluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZGVsZXRlUm93Q2xpY2soZTogSlF1ZXJ5RXZlbnRPYmplY3QpOiB2b2lkIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnZGl2LmZpbHRlci1saW5lJyk7XHJcbiAgICAgICAgICAgIHJvdy5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnV0dG9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZUJ1dHRvbnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnUmVzZXRCdXR0b24nKS50b2dnbGUoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3NEaXYuY2hpbGRyZW4oKS5sZW5ndGggPj0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoJ011bHRpRWRpdFN0b3JlJylcclxuICAgIGV4cG9ydCBjbGFzcyBNdWx0aUVkaXRTdG9yZSB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGZpZWxkczogU2VyZW5pdHkuUHJvcGVydHlJdGVtW10pIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWVsZHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFEuQXJndW1lbnROdWxsRXhjZXB0aW9uKCdzb3VyY2UnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHMuc2xpY2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0X2ZpZWxkcygpLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXRsZVggPSBRLnRyeUdldFRleHQoeC50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGl0bGVYID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZVggPSB4LnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZVggPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVYID0geC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0aXRsZVkgPSBRLnRyeUdldFRleHQoeS50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGl0bGVZID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZVkgPSB5LnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZVkgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVZID0geS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBRLnR1cmtpc2hMb2NhbGVDb21wYXJlKHRpdGxlWCwgdGl0bGVZKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpZWxkQnlOYW1lID0ge307XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBmaWVsZCBvZiBmaWVsZHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0X2ZpZWxkQnlOYW1lKClbZmllbGQubmFtZV0gPSBmaWVsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGdldENyaXRlcmlhRm9yKGl0ZW1zOiBNdWx0aUVkaXRMaW5lW10pOiBhbnlbXSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbXMgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBbJyddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluUGFyZW5zID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50QmxvY2sgPSBbJyddO1xyXG4gICAgICAgICAgICB2YXIgaXNCbG9ja09yID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBjcml0ZXJpYSA9IFsnJ107XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGl0ZW1zW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlZnRQYXJlbiB8fCBpblBhcmVucyAmJiBsaW5lLnJpZ2h0UGFyZW4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFTZXJlbml0eS5Dcml0ZXJpYS5pc0VtcHR5KGN1cnJlbnRCbG9jaykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpblBhcmVucylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jayA9IFNlcmVuaXR5LkNyaXRlcmlhLnBhcmVuKGN1cnJlbnRCbG9jayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCbG9ja09yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5qb2luKGNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcicsIGN1cnJlbnRCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhID0gU2VyZW5pdHkuQ3JpdGVyaWEuam9pbihjcml0ZXJpYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5kJywgY3VycmVudEJsb2NrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jayA9IFsnJ107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpblBhcmVucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlZnRQYXJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzQmxvY2tPciA9IGxpbmUuaXNPcjtcclxuICAgICAgICAgICAgICAgICAgICBpblBhcmVucyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuaXNPcilcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2sgPSBTZXJlbml0eS5Dcml0ZXJpYS5qb2luKGN1cnJlbnRCbG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29yJywgbGluZS5jcml0ZXJpYSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEJsb2NrID0gU2VyZW5pdHkuQ3JpdGVyaWEuam9pbihjdXJyZW50QmxvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbmQnLCBsaW5lLmNyaXRlcmlhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFTZXJlbml0eS5Dcml0ZXJpYS5pc0VtcHR5KGN1cnJlbnRCbG9jaykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Jsb2NrT3IpXHJcbiAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5qb2luKGNyaXRlcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3InLCBTZXJlbml0eS5Dcml0ZXJpYS5wYXJlbihjdXJyZW50QmxvY2spKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBjcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmpvaW4oY3JpdGVyaWEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbmQnLCBTZXJlbml0eS5Dcml0ZXJpYS5wYXJlbihjdXJyZW50QmxvY2spKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNyaXRlcmlhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGdldERpc3BsYXlUZXh0Rm9yKGl0ZW1zOiBNdWx0aUVkaXRMaW5lW10pOiBzdHJpbmcge1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1zID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5QYXJlbnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGl0ZW1zW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpblBhcmVucyAmJiAobGluZS5yaWdodFBhcmVuIHx8IGxpbmUubGVmdFBhcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0ICs9ICcpJztcclxuICAgICAgICAgICAgICAgICAgICBpblBhcmVucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5VGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQgKz0gJyAnICsgUS50ZXh0KCdDb250cm9scy5GaWx0ZXJQYW5lbC4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGxpbmUuaXNPciA/ICdPcicgOiAnQW5kJykpICsgJyAnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlZnRQYXJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0ICs9ICcoJztcclxuICAgICAgICAgICAgICAgICAgICBpblBhcmVucyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVRleHQgKz0gbGluZS5kaXNwbGF5VGV4dDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGluUGFyZW5zKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dCArPSAnKSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkaXNwbGF5VGV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2hhbmdlZDogYW55O1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVRleHQ6IHN0cmluZztcclxuICAgICAgICBwcml2YXRlIGZpZWxkczogU2VyZW5pdHkuUHJvcGVydHlJdGVtW107XHJcbiAgICAgICAgcHJpdmF0ZSBmaWVsZEJ5TmFtZTogUS5EaWN0aW9uYXJ5PFNlcmVuaXR5LlByb3BlcnR5SXRlbT5cclxuICAgICAgICBwcml2YXRlIGl0ZW1zOiBNdWx0aUVkaXRMaW5lW107XHJcblxyXG4gICAgICAgIGdldF9maWVsZHMoKTogU2VyZW5pdHkuUHJvcGVydHlJdGVtW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfZmllbGRCeU5hbWUoKTogUS5EaWN0aW9uYXJ5PFNlcmVuaXR5LlByb3BlcnR5SXRlbT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZEJ5TmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9pdGVtcygpOiBNdWx0aUVkaXRMaW5lW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJhaXNlQ2hhbmdlZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCAmJiB0aGlzLmNoYW5nZWQodGhpcywge30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkX2NoYW5nZWQodmFsdWU6IChlOiBKUXVlcnlFdmVudE9iamVjdCwgYTogYW55KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IFEuZGVsZWdhdGVDb21iaW5lKHRoaXMuY2hhbmdlZCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVtb3ZlX2NoYW5nZWQodmFsdWU6IChlOiBKUXVlcnlFdmVudE9iamVjdCwgYTogYW55KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IFEuZGVsZWdhdGVSZW1vdmUodGhpcy5jaGFuZ2VkLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfYWN0aXZlQ3JpdGVyaWEoKTogYW55W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gTXVsdGlFZGl0U3RvcmUuZ2V0Q3JpdGVyaWFGb3IodGhpcy5pdGVtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfZGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheVRleHQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSBNdWx0aUVkaXRTdG9yZS5nZXREaXNwbGF5VGV4dEZvcih0aGlzLml0ZW1zKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSU11bHRpRWRpdGluZyB7XHJcbiAgICAgICAgY3JlYXRlRWRpdG9yKCk6IHZvaWQ7XHJcbiAgICAgICAgZ2V0Q3JpdGVyaWEoKTogQ3JpdGVyaWFXaXRoVGV4dDtcclxuICAgICAgICBnZXRPcGVyYXRvcnMoKTogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JbXTtcclxuICAgICAgICBsb2FkU3RhdGUoc3RhdGU6IGFueSk6IHZvaWQ7XHJcbiAgICAgICAgc2F2ZVN0YXRlKCk6IGFueTtcclxuICAgICAgICBnZXRfZmllbGQoKTogU2VyZW5pdHkuUHJvcGVydHlJdGVtO1xyXG4gICAgICAgIHNldF9maWVsZCh2YWx1ZTogU2VyZW5pdHkuUHJvcGVydHlJdGVtKTogdm9pZDtcclxuICAgICAgICBnZXRfY29udGFpbmVyKCk6IEpRdWVyeTtcclxuICAgICAgICBzZXRfY29udGFpbmVyKHZhbHVlOiBKUXVlcnkpOiB2b2lkO1xyXG4gICAgICAgIGdldF9vcGVyYXRvcigpOiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcjtcclxuICAgICAgICBzZXRfb3BlcmF0b3IodmFsdWU6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yKTogdm9pZDtcclxuICAgIH1cclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckludGVyZmFjZSgnU2VyZW5pdHkuSU11bHRpRWRpdGluZycpXHJcbiAgICBleHBvcnQgY2xhc3MgSU11bHRpRWRpdGluZyB7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBDcml0ZXJpYVdpdGhUZXh0IHtcclxuICAgICAgICBjcml0ZXJpYT86IGFueVtdO1xyXG4gICAgICAgIGRpc3BsYXlUZXh0Pzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGltcG9ydCBPcGVyYXRvcnMgPSBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcnM7XHJcbiAgICBpbXBvcnQgT3B0aW9uID0gU2VyZW5pdHkuRGVjb3JhdG9ycy5vcHRpb25cclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKCdTZXJlbml0eS5CYXNlTXVsdGlFZGl0aW5nJywgW0lNdWx0aUVkaXRpbmcsIFNlcmVuaXR5LklRdWlja0ZpbHRlcmluZ10pXHJcbiAgICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZU11bHRpRWRpdGluZyBpbXBsZW1lbnRzIElNdWx0aUVkaXRpbmcsIFNlcmVuaXR5LklRdWlja0ZpbHRlcmluZyB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZmllbGQ6IFNlcmVuaXR5LlByb3BlcnR5SXRlbTtcclxuXHJcbiAgICAgICAgcHVibGljIGdldF9maWVsZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfZmllbGQodmFsdWU6IFNlcmVuaXR5LlByb3BlcnR5SXRlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpZWxkID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogSlF1ZXJ5O1xyXG5cclxuICAgICAgICBnZXRfY29udGFpbmVyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfY29udGFpbmVyKHZhbHVlOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgb3BlcmF0b3I6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yO1xyXG5cclxuICAgICAgICBnZXRfb3BlcmF0b3IoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZXJhdG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0X29wZXJhdG9yKHZhbHVlOiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdG9yID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhYnN0cmFjdCBnZXRPcGVyYXRvcnMoKTogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JbXTtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFwcGVuZE51bGxhYmxlT3BlcmF0b3JzKGxpc3Q6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yW10pIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTnVsbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlzdC5wdXNoKHsga2V5OiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcnMuaXNOb3ROdWxsIH0pO1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9ycy5pc051bGwgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFwcGVuZENvbXBhcmlzb25PcGVyYXRvcnMobGlzdDogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JbXSkge1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9ycy5FUSB9KTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHsga2V5OiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcnMuTkUgfSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaCh7IGtleTogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JzLkxUIH0pO1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9ycy5MRSB9KTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKHsga2V5OiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcnMuR1QgfSk7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaCh7IGtleTogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JzLkdFIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpc051bGxhYmxlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfZmllbGQoKS5yZXF1aXJlZCAhPT0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBjcmVhdGVFZGl0b3IoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RydWUnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmFsc2UnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnaXNudWxsJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2lzbm90bnVsbCc6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjb250YWlucyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydHN3aXRoJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25lJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2dlJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0X2NvbnRhaW5lcigpLmh0bWwoJzxpbnB1dCB0eXBlPVwidGV4dFwiLz4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBRLkV4Y2VwdGlvbihRLmZvcm1hdChcIk11bHRpRWRpdGluZyAnezB9JyBoYXMgbm8gZWRpdG9yIGZvciAnezF9JyBvcGVyYXRvclwiLFxyXG4gICAgICAgICAgICAgICAgUS5nZXRUeXBlTmFtZShRLmdldEluc3RhbmNlVHlwZSh0aGlzKSksIHRoaXMuZ2V0X29wZXJhdG9yKCkua2V5KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgb3BlcmF0b3JGb3JtYXQob3A6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmNvYWxlc2NlKG9wLmZvcm1hdCwgUS5jb2FsZXNjZShRLnRyeUdldFRleHQoXHJcbiAgICAgICAgICAgICAgICAnQ29udHJvbHMuRmlsdGVyUGFuZWwuT3BlcmF0b3JGb3JtYXRzLicgKyBvcC5rZXkpLCBvcC5rZXkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUaXRsZShmaWVsZDogU2VyZW5pdHkuUHJvcGVydHlJdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmNvYWxlc2NlKFEudHJ5R2V0VGV4dChmaWVsZC50aXRsZSksIFEuY29hbGVzY2UoZmllbGQudGl0bGUsIGZpZWxkLm5hbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBkaXNwbGF5VGV4dChvcDogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3IsIHZhbHVlcz86IGFueVtdKSB7XHJcbiAgICAgICAgICAgIGlmICghdmFsdWVzIHx8IHZhbHVlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLmZvcm1hdCh0aGlzLm9wZXJhdG9yRm9ybWF0KG9wKSwgdGhpcy5nZXRUaXRsZSh0aGlzLmZpZWxkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuZm9ybWF0KHRoaXMub3BlcmF0b3JGb3JtYXQob3ApLCB0aGlzLmdldFRpdGxlKHRoaXMuZmllbGQpLCB2YWx1ZXNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuZm9ybWF0KHRoaXMub3BlcmF0b3JGb3JtYXQob3ApLCB0aGlzLmdldFRpdGxlKHRoaXMuZmllbGQpLCB2YWx1ZXNbMF0sIHZhbHVlc1sxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDcml0ZXJpYUZpZWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5uYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldENyaXRlcmlhKCk6IENyaXRlcmlhV2l0aFRleHQge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0OiBDcml0ZXJpYVdpdGhUZXh0ID0ge307XHJcbiAgICAgICAgICAgIHZhciB0ZXh0OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RydWUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3BsYXlUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dCh0aGlzLmdldF9vcGVyYXRvcigpLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gW1t0aGlzLmdldENyaXRlcmlhRmllbGQoKV0sICc9JywgdHJ1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdmYWxzZSc6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGlzcGxheVRleHQgPSB0aGlzLmRpc3BsYXlUZXh0KHRoaXMuZ2V0X29wZXJhdG9yKCksIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3JpdGVyaWEgPSBbW3RoaXMuZ2V0Q3JpdGVyaWFGaWVsZCgpXSwgJz0nLCBmYWxzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdpc251bGwnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3BsYXlUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dCh0aGlzLmdldF9vcGVyYXRvcigpLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gWydpcyBudWxsJywgW3RoaXMuZ2V0Q3JpdGVyaWFGaWVsZCgpXV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlICdpc25vdG51bGwnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3BsYXlUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dCh0aGlzLmdldF9vcGVyYXRvcigpLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gWydpcyBub3QgbnVsbCcsIFt0aGlzLmdldENyaXRlcmlhRmllbGQoKV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnY29udGFpbnMnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZ2V0RWRpdG9yVGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kaXNwbGF5VGV4dCA9IHRoaXMuZGlzcGxheVRleHQodGhpcy5nZXRfb3BlcmF0b3IoKSwgW3RleHRdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3JpdGVyaWEgPSBbW3RoaXMuZ2V0Q3JpdGVyaWFGaWVsZCgpXSwgJ2xpa2UnLCAnJScgKyB0ZXh0ICsgJyUnXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0c3dpdGgnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRoaXMuZ2V0RWRpdG9yVGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5kaXNwbGF5VGV4dCA9IHRoaXMuZGlzcGxheVRleHQodGhpcy5nZXRfb3BlcmF0b3IoKSwgW3RleHRdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3JpdGVyaWEgPSBbW3RoaXMuZ2V0Q3JpdGVyaWFGaWVsZCgpXSwgJ2xpa2UnLCB0ZXh0ICsgJyUnXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25lJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2dlJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmdldEVkaXRvclRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGlzcGxheVRleHQgPSB0aGlzLmRpc3BsYXlUZXh0KHRoaXMuZ2V0X29wZXJhdG9yKCksIFt0ZXh0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gW1t0aGlzLmdldENyaXRlcmlhRmllbGQoKV0sIFNlcmVuaXR5LkZpbHRlck9wZXJhdG9ycy50b0NyaXRlcmlhT3BlcmF0b3JbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0X29wZXJhdG9yKCkua2V5XSwgdGhpcy5nZXRFZGl0b3JWYWx1ZSgpXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUS5FeGNlcHRpb24oUS5mb3JtYXQoXCJNdWx0aUVkaXRpbmcgJ3swfScgaGFzIG5vIGhhbmRsZXIgZm9yICd7MX0nIG9wZXJhdG9yXCIsXHJcbiAgICAgICAgICAgICAgICBRLmdldFR5cGVOYW1lKFEuZ2V0SW5zdGFuY2VUeXBlKHRoaXMpKSwgdGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvYWRTdGF0ZShzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuZ2V0X2NvbnRhaW5lcigpLmZpbmQoJzppbnB1dCcpLmZpcnN0KCk7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbChzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzYXZlU3RhdGUoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRhaW5zJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0c3dpdGgnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXEnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbmUnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbHQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGUnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ3QnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2UnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5nZXRfY29udGFpbmVyKCkuZmluZCgnOmlucHV0JykuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYXJndW1lbnROdWxsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFEuQXJndW1lbnROdWxsRXhjZXB0aW9uKCd2YWx1ZScsIFEudGV4dCgnQ29udHJvbHMuRmlsdGVyUGFuZWwuVmFsdWVSZXF1aXJlZCcpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhbGlkYXRlRWRpdG9yVmFsdWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmFyZ3VtZW50TnVsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldEVkaXRvclZhbHVlKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmdldF9jb250YWluZXIoKS5maW5kKCc6aW5wdXQnKS5ub3QoJy5zZWxlY3QyLWZvY3Vzc2VyJykuZmlyc3QoKTtcclxuICAgICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFEuRXhjZXB0aW9uKFEuZm9ybWF0KFwiQ291bGRuJ3QgZmluZCBpbnB1dCBpbiBmaWx0ZXIgY29udGFpbmVyIGZvciB7MH1cIixcclxuICAgICAgICAgICAgICAgICAgICBRLmNvYWxlc2NlKHRoaXMuZmllbGQudGl0bGUsIHRoaXMuZmllbGQubmFtZSkpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSgnc2VsZWN0MicpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gaW5wdXQuc2VsZWN0MigndmFsJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGlucHV0LnZhbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YWx1ZSA9IFEuY29hbGVzY2UodmFsdWUsICcnKS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUVkaXRvclZhbHVlKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldEVkaXRvclRleHQoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuZ2V0X2NvbnRhaW5lcigpLmZpbmQoJzppbnB1dCcpLm5vdCgnLnNlbGVjdDItZm9jdXNzZXInKS5ub3QoJy5zZWxlY3QyLWlucHV0JykuZmlyc3QoKTtcclxuICAgICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X2NvbnRhaW5lcigpLnRleHQoKS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSgnc2VsZWN0MicpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gUS5jb2FsZXNjZShpbnB1dC5zZWxlY3QyKCdkYXRhJyksIHt9KS50ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpbnB1dC52YWwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0UXVpY2tGaWx0ZXIoZmlsdGVyOiBTZXJlbml0eS5RdWlja0ZpbHRlcjxTZXJlbml0eS5XaWRnZXQ8YW55PiwgYW55Pikge1xyXG4gICAgICAgICAgICBmaWx0ZXIuZmllbGQgPSB0aGlzLmdldENyaXRlcmlhRmllbGQoKTtcclxuICAgICAgICAgICAgZmlsdGVyLnR5cGUgPSBTZXJlbml0eS5TdHJpbmdFZGl0b3I7XHJcbiAgICAgICAgICAgIGZpbHRlci50aXRsZSA9IHRoaXMuZ2V0VGl0bGUodGhpcy5maWVsZCk7XHJcbiAgICAgICAgICAgIGZpbHRlci5vcHRpb25zID0gUS5kZWVwQ2xvbmUoe30sIHRoaXMuZ2V0X2ZpZWxkKCkucXVpY2tGaWx0ZXJQYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBNdWx0aUVkaXRpbmcobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygnU2VyZW5pdHkuJyArIG5hbWUgKyAnTXVsdGlFZGl0aW5nJylcclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdCYXNlRWRpdG9yJylcclxuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlRWRpdG9yTXVsdGlFZGl0aW5nPFRFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8YW55Pj4gZXh0ZW5kcyBCYXNlTXVsdGlFZGl0aW5nIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZWRpdG9yVHlwZTogYW55KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXNlRWRpdG9yKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBlZGl0b3I6IFRFZGl0b3I7XHJcblxyXG4gICAgICAgIGNyZWF0ZUVkaXRvcigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWRpdG9yKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gU2VyZW5pdHkuV2lkZ2V0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy5lZGl0b3JUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRfY29udGFpbmVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5nZXRFZGl0b3JPcHRpb25zKCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdDogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSkgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gbnVsbDtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlRWRpdG9yKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXNlSWRGaWVsZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0Q3JpdGVyaWFGaWVsZCgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWRpdG9yKCkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlSWRGaWVsZCgpICYmXHJcbiAgICAgICAgICAgICAgICAhUS5pc0VtcHR5T3JOdWxsKHRoaXMuZ2V0X2ZpZWxkKCkuZmlsdGVyaW5nSWRGaWVsZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldF9maWVsZCgpLmZpbHRlcmluZ0lkRmllbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXRDcml0ZXJpYUZpZWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRFZGl0b3JPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gUS5kZWVwQ2xvbmUoe30sIHRoaXMuZ2V0X2ZpZWxkKCkuZWRpdG9yUGFyYW1zKTtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdFsnY2FzY2FkZUZyb20nXTtcclxuICAgICAgICAgICAgLy8gY3VycmVudGx5IGNhbid0IHN1cHBvcnQgY2FzY2FkZUZyb20gaW4gZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIHJldHVybiBRLmRlZXBDbG9uZShvcHQsIHRoaXMuZ2V0X2ZpZWxkKCkuZmlsdGVyaW5nUGFyYW1zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvYWRTdGF0ZShzdGF0ZTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUVkaXRvcigpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRWYWx1ZSh0aGlzLmVkaXRvciwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdXBlci5sb2FkU3RhdGUoc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZVN0YXRlKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VFZGl0b3IoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNlcmVuaXR5LkVkaXRvclV0aWxzLmdldFZhbHVlKHRoaXMuZWRpdG9yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnNhdmVTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0RWRpdG9yVmFsdWUoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUVkaXRvcigpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBTZXJlbml0eS5FZGl0b3JVdGlscy5nZXRWYWx1ZSh0aGlzLmVkaXRvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmIHZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuYXJndW1lbnROdWxsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWRpdG9yVmFsdWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGluaXRRdWlja0ZpbHRlcihmaWx0ZXI6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFNlcmVuaXR5LldpZGdldDxhbnk+LCBhbnk+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmluaXRRdWlja0ZpbHRlcihmaWx0ZXIpO1xyXG5cclxuICAgICAgICAgICAgZmlsdGVyLnR5cGUgPSB0aGlzLmVkaXRvclR5cGU7XHJcbiAgICAgICAgICAgIGZpbHRlci5vcHRpb25zID0gUS5kZWVwQ2xvbmUoe30sXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEVkaXRvck9wdGlvbnMoKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0X2ZpZWxkKCkucXVpY2tGaWx0ZXJQYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdEYXRlJylcclxuICAgIGV4cG9ydCBjbGFzcyBEYXRlTXVsdGlFZGl0aW5nIGV4dGVuZHMgQmFzZUVkaXRvck11bHRpRWRpdGluZzxTZXJlbml0eS5EYXRlRWRpdG9yPiB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcihTZXJlbml0eS5EYXRlRWRpdG9yKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0T3BlcmF0b3JzKCk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmROdWxsYWJsZU9wZXJhdG9ycyh0aGlzLmFwcGVuZENvbXBhcmlzb25PcGVyYXRvcnMoW10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQE11bHRpRWRpdGluZygnQm9vbGVhbicpXHJcbiAgICBleHBvcnQgY2xhc3MgQm9vbGVhbk11bHRpRWRpdGluZyBleHRlbmRzIEJhc2VNdWx0aUVkaXRpbmcge1xyXG4gICAgICAgIGdldE9wZXJhdG9ycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kTnVsbGFibGVPcGVyYXRvcnMoW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9ycy5pc1RydWUgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcnMuaXNGYWxzZSB9XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdEYXRlVGltZScpXHJcbiAgICBleHBvcnQgY2xhc3MgRGF0ZVRpbWVNdWx0aUVkaXRpbmcgZXh0ZW5kcyBCYXNlRWRpdG9yTXVsdGlFZGl0aW5nPFNlcmVuaXR5LkRhdGVFZGl0b3I+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKFNlcmVuaXR5LkRhdGVUaW1lRWRpdG9yKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0T3BlcmF0b3JzKCk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmROdWxsYWJsZU9wZXJhdG9ycyhcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ29tcGFyaXNvbk9wZXJhdG9ycyhbXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0Q3JpdGVyaWEoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQ6IENyaXRlcmlhV2l0aFRleHQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25lJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2dlJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldEVkaXRvclRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3BsYXlUZXh0ID0gdGhpcy5kaXNwbGF5VGV4dCh0aGlzLmdldF9vcGVyYXRvcigpLCBbdGV4dF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IFEucGFyc2VJU09EYXRlVGltZSh0aGlzLmdldEVkaXRvclZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0gW3RoaXMuZ2V0Q3JpdGVyaWFGaWVsZCgpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVWYWx1ZSA9IFEuZm9ybWF0RGF0ZShkYXRlLCAneXl5eS1NTS1kZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gUS5mb3JtYXREYXRlKG5leHQsICd5eXl5LU1NLWRkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXRfb3BlcmF0b3IoKS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jcml0ZXJpYSA9IFNlcmVuaXR5LkNyaXRlcmlhLmpvaW4oW2NyaXRlcmlhLCAnPj0nLCBkYXRlVmFsdWVdLCAnYW5kJywgW2NyaXRlcmlhLCAnPCcsIG5leHRWYWx1ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICduZSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5wYXJlbihTZXJlbml0eS5Dcml0ZXJpYS5qb2luKFtjcml0ZXJpYSwgJzwnLCBkYXRlVmFsdWVdLCAnb3InLCBbY3JpdGVyaWEsICc+JywgbmV4dFZhbHVlXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsdCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuY3JpdGVyaWEgPSBbY3JpdGVyaWEsICc8JywgZGF0ZVZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gW2NyaXRlcmlhLCAnPCcsIG5leHRWYWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2d0Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jcml0ZXJpYSA9IFtjcml0ZXJpYSwgJz49JywgbmV4dFZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ2UnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNyaXRlcmlhID0gW2NyaXRlcmlhLCAnPj0nLCBkYXRlVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXRDcml0ZXJpYSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdEZWNpbWFsJylcclxuICAgIGV4cG9ydCBjbGFzcyBEZWNpbWFsTXVsdGlFZGl0aW5nIGV4dGVuZHMgQmFzZUVkaXRvck11bHRpRWRpdGluZzxTZXJlbml0eS5EZWNpbWFsRWRpdG9yPiB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKFNlcmVuaXR5LkRlY2ltYWxFZGl0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0T3BlcmF0b3JzKCk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmROdWxsYWJsZU9wZXJhdG9ycyhcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ29tcGFyaXNvbk9wZXJhdG9ycyhbXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdFZGl0b3InKVxyXG4gICAgZXhwb3J0IGNsYXNzIEVkaXRvck11bHRpRWRpdGluZyBleHRlbmRzIEJhc2VFZGl0b3JNdWx0aUVkaXRpbmc8U2VyZW5pdHkuV2lkZ2V0PGFueT4+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKFNlcmVuaXR5LldpZGdldClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBPcHRpb24oKVxyXG4gICAgICAgIGVkaXRvclR5cGU6IHN0cmluZztcclxuXHJcbiAgICAgICAgQE9wdGlvbigpXHJcbiAgICAgICAgdXNlUmVsYXRpdmU6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIEBPcHRpb24oKVxyXG4gICAgICAgIHVzZUxpa2U6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGdldE9wZXJhdG9ycygpOiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcltdIHtcclxuICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGxpc3QucHVzaCh7IGtleTogT3BlcmF0b3JzLkVRIH0pO1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IE9wZXJhdG9ycy5ORSB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZVJlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IE9wZXJhdG9ycy5MVCB9KTtcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7IGtleTogT3BlcmF0b3JzLkxFIH0pO1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHsga2V5OiBPcGVyYXRvcnMuR1QgfSk7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IE9wZXJhdG9ycy5HRSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlTGlrZSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHsga2V5OiBPcGVyYXRvcnMuY29udGFpbnMgfSk7XHJcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goeyBrZXk6IE9wZXJhdG9ycy5zdGFydHNXaXRoIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZE51bGxhYmxlT3BlcmF0b3JzKGxpc3QpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXNlRWRpdG9yKCkge1xyXG4gICAgICAgICAgICB2YXIgb3AgPSB0aGlzLmdldF9vcGVyYXRvcigpLmtleTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvcCA9PT0gT3BlcmF0b3JzLkVRIHx8XHJcbiAgICAgICAgICAgICAgICBvcCA9PT0gT3BlcmF0b3JzLk5FIHx8XHJcbiAgICAgICAgICAgICAgICAodGhpcy51c2VSZWxhdGl2ZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgb3AgPT09IE9wZXJhdG9ycy5MVCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIG9wID09PSBPcGVyYXRvcnMuTEUgfHxcclxuICAgICAgICAgICAgICAgICAgICBvcCA9PT0gT3BlcmF0b3JzLkdUIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgb3AgPT09IE9wZXJhdG9ycy5HRSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0RWRpdG9yT3B0aW9ucygpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IHN1cGVyLmdldEVkaXRvck9wdGlvbnMoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWRpdG9yKCkgJiYgdGhpcy5lZGl0b3JUeXBlID09PSBRLmNvYWxlc2NlKHRoaXMuZ2V0X2ZpZWxkKCkuZWRpdG9yVHlwZSwgJ1N0cmluZycpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHQgPSAkLmV4dGVuZChvcHQsIHRoaXMuZ2V0X2ZpZWxkKCkuZWRpdG9yUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZUVkaXRvcigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWRpdG9yKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlZGl0b3JUeXBlID0gU2VyZW5pdHkuRWRpdG9yVHlwZVJlZ2lzdHJ5LmdldCh0aGlzLmVkaXRvclR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gU2VyZW5pdHkuV2lkZ2V0LmNyZWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZWRpdG9yVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlID0+IGUuYXBwZW5kVG8odGhpcy5nZXRfY29udGFpbmVyKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMuZ2V0RWRpdG9yT3B0aW9ucygpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUVkaXRvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVzZUlkRmllbGQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZUVkaXRvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5pdFF1aWNrRmlsdGVyKGZpbHRlcjogU2VyZW5pdHkuUXVpY2tGaWx0ZXI8U2VyZW5pdHkuV2lkZ2V0PGFueT4sIGFueT4pIHtcclxuICAgICAgICAgICAgc3VwZXIuaW5pdFF1aWNrRmlsdGVyKGZpbHRlcik7XHJcblxyXG4gICAgICAgICAgICBmaWx0ZXIudHlwZSA9IFNlcmVuaXR5LkVkaXRvclR5cGVSZWdpc3RyeS5nZXQodGhpcy5lZGl0b3JUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQE11bHRpRWRpdGluZygnRW51bScpXHJcbiAgICBleHBvcnQgY2xhc3MgRW51bU11bHRpRWRpdGluZyBleHRlbmRzIEJhc2VFZGl0b3JNdWx0aUVkaXRpbmc8U2VyZW5pdHkuRW51bUVkaXRvcj4ge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICBzdXBlcihTZXJlbml0eS5FbnVtRWRpdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldE9wZXJhdG9ycygpIHtcclxuICAgICAgICAgICAgdmFyIG9wID0gW3sga2V5OiBPcGVyYXRvcnMuRVEgfSwgeyBrZXk6IE9wZXJhdG9ycy5ORSB9XTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kTnVsbGFibGVPcGVyYXRvcnMob3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdJbnRlZ2VyJylcclxuICAgIGV4cG9ydCBjbGFzcyBJbnRlZ2VyTXVsdGlFZGl0aW5nIGV4dGVuZHMgQmFzZUVkaXRvck11bHRpRWRpdGluZzxTZXJlbml0eS5JbnRlZ2VyRWRpdG9yPiB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKFNlcmVuaXR5LkludGVnZXJFZGl0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0T3BlcmF0b3JzKCk6IFNlcmVuaXR5LkZpbHRlck9wZXJhdG9yW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmROdWxsYWJsZU9wZXJhdG9ycyh0aGlzLmFwcGVuZENvbXBhcmlzb25PcGVyYXRvcnMoW10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQE11bHRpRWRpdGluZygnTG9va3VwJylcclxuICAgIGV4cG9ydCBjbGFzcyBMb29rdXBNdWx0aUVkaXRpbmcgZXh0ZW5kcyBCYXNlRWRpdG9yTXVsdGlFZGl0aW5nPFNlcmVuaXR5Lkxvb2t1cEVkaXRvcj4ge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoU2VyZW5pdHkuTG9va3VwRWRpdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldE9wZXJhdG9ycygpOiBTZXJlbml0eS5GaWx0ZXJPcGVyYXRvcltdIHtcclxuICAgICAgICAgICAgdmFyIG9wcyA9IFt7IGtleTogT3BlcmF0b3JzLkVRIH0sIHsga2V5OiBPcGVyYXRvcnMuTkUgfSwgeyBrZXk6IE9wZXJhdG9ycy5jb250YWlucyB9LCB7IGtleTogT3BlcmF0b3JzLnN0YXJ0c1dpdGggfV1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kTnVsbGFibGVPcGVyYXRvcnMob3BzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1c2VFZGl0b3IoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHZhciBvcCA9IHRoaXMuZ2V0X29wZXJhdG9yKCkua2V5O1xyXG4gICAgICAgICAgICByZXR1cm4gb3AgPT0gT3BlcmF0b3JzLkVRIHx8IG9wID09IE9wZXJhdG9ycy5ORTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1c2VJZEZpZWxkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51c2VFZGl0b3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldEVkaXRvclRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRWRpdG9yKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVkaXRvci50ZXh0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0RWRpdG9yVGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBATXVsdGlFZGl0aW5nKCdTdHJpbmcnKVxyXG4gICAgZXhwb3J0IGNsYXNzIFN0cmluZ011bHRpRWRpdGluZyBleHRlbmRzIEJhc2VNdWx0aUVkaXRpbmcge1xyXG5cclxuICAgICAgICBnZXRPcGVyYXRvcnMoKTogU2VyZW5pdHkuRmlsdGVyT3BlcmF0b3JbXSB7XHJcbiAgICAgICAgICAgIHZhciBvcHMgPSBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogT3BlcmF0b3JzLmNvbnRhaW5zIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogT3BlcmF0b3JzLnN0YXJ0c1dpdGggfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiBPcGVyYXRvcnMuRVEgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiBPcGVyYXRvcnMuTkUgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmROdWxsYWJsZU9wZXJhdG9ycyhvcHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsaWRhdGVFZGl0b3JWYWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnZhbGlkYXRlRWRpdG9yVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIE11bHRpRWRpdGluZ1R5cGVSZWdpc3RyeSB7XHJcblxyXG4gICAgICAgIGxldCBrbm93blR5cGVzOiBRLkRpY3Rpb25hcnk8RnVuY3Rpb24+O1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChrbm93blR5cGVzICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBrbm93blR5cGVzID0ge307XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciB0eXBlIG9mIFEuZ2V0VHlwZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFRLmlzQXNzaWduYWJsZUZyb20oX0V4dC5JTXVsdGlFZGl0aW5nLCB0eXBlKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZnVsbE5hbWUgPSBRLmdldFR5cGVGdWxsTmFtZSh0eXBlKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGtub3duVHlwZXNbZnVsbE5hbWVdID0gdHlwZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIG9mIFEuQ29uZmlnLnJvb3ROYW1lc3BhY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFEuc3RhcnRzV2l0aChmdWxsTmFtZSwgay50b0xvd2VyQ2FzZSgpICsgJy4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga3ggPSBmdWxsTmFtZS5zdWJzdHIoay5sZW5ndGggKyAxKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtub3duVHlwZXNba3hdID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtub3duVHlwZXNba3hdID0gdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0VHlwZUtleXNXaXRob3V0TXVsdGlFZGl0SGFuZGxlclN1ZmZpeCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VHlwZUtleXNXaXRob3V0TXVsdGlFZGl0SGFuZGxlclN1ZmZpeCgpIHtcclxuICAgICAgICAgICAgdmFyIHN1ZmZpeCA9ICdmaWx0ZXJpbmcnO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgayBvZiBPYmplY3Qua2V5cyhrbm93blR5cGVzKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFRLmVuZHNXaXRoKGssIHN1ZmZpeCkpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBrLnN1YnN0cigwLCBrLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbChwKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa25vd25UeXBlc1twXSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGtub3duVHlwZXNbcF0gPSBrbm93blR5cGVzW2tdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICAgICAga25vd25UeXBlcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZ2V0KGtleTogc3RyaW5nKTogRnVuY3Rpb24ge1xyXG5cclxuICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbChrZXkpKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFEuQXJndW1lbnROdWxsRXhjZXB0aW9uKCdrZXknKTtcclxuXHJcbiAgICAgICAgICAgIGluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdmFyIGZvcm1hdHRlclR5cGUgPSBrbm93blR5cGVzW2tleS50b0xvd2VyQ2FzZSgpXTtcclxuICAgICAgICAgICAgLy9pZiAoZm9ybWF0dGVyVHlwZSA9PSBudWxsKVxyXG4gICAgICAgICAgICAvLyAgICB0aHJvdyBuZXcgc3MuRXhjZXB0aW9uKFEuZm9ybWF0KFxyXG4gICAgICAgICAgICAvLyAgICAgICAgXCJDYW4ndCBmaW5kIHswfSBmaWx0ZXIgaGFuZGxlciB0eXBlIVwiLCBrZXkpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZXJUeXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuRXh0cmFTYW1wbGVzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZmlsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnk+IHtcclxuXHJcbiAgICAgICAgcmVuZGVyKCk6IFJlYWN0LlJlYWN0Tm9kZSB7XHJcbiAgICAgICAgICAgIHZhciB3ZWxjb21lU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7IGNvbG9yOiAncmVkJyB9O1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17d2VsY29tZVN0eWxlfT5cclxuICAgICAgICAgICAgICAgICAgICBXZWxjb21lIHRvIHJlYWN0XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLkV4dHJhU2FtcGxlcyB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgT3JkZXJzQnlDdXN0b21lclJlcG9ydFBhbmVsIGV4dGVuZHMgX0V4dC5SZXBvcnRQYW5lbEJhc2U8T3JkZXJzQnlDdXN0b21lclJlcG9ydFJlcXVlc3Q+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UmVwb3J0VGl0bGUoKSB7IHJldHVybiAnT3JkZXJzIEJ5IEN1c3RvbWVyJzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRSZXBvcnRLZXkoKSB7IHJldHVybiAnRXh0cmFTYW1wbGVzLk9yZGVyc0J5Q3VzdG9tZXJSZXBvcnQnOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBPcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0uZm9ybUtleTsgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGZvcm06IE9yZGVyc0J5Q3VzdG9tZXJSZXBvcnRSZXF1ZXN0Rm9ybSA9IG5ldyBPcmRlcnNCeUN1c3RvbWVyUmVwb3J0UmVxdWVzdEZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHQpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyLCBvcHQpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk1lbWJlcnNoaXAge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIExvZ2luUGFuZWwgZXh0ZW5kcyBTZXJlbml0eS5Qcm9wZXJ0eVBhbmVsPExvZ2luUmVxdWVzdCwgYW55PiB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtS2V5KCkgeyByZXR1cm4gTG9naW5Gb3JtLmZvcm1LZXk7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgICQuZm5bJ3ZlZ2FzJ10gJiYgJCgnYm9keScpWyd2ZWdhcyddKHtcclxuICAgICAgICAgICAgICAgIGRlbGF5OiAzMDAwMCxcclxuICAgICAgICAgICAgICAgIGNvdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFJQUFBQUNBUU1BQUFCSWVKOW5BQUFBQTNOQ1NWUUlDQWpiNFVcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIvZ0FBQUFCbEJNVkVYLy8vOEFBQUJWd3ROK0FBQUFBblJTVGxNQS8xdVJJclVBQUFBSmNFaFpjd0FBQXNRQUFBTEVBVnVSblFzQUFBQVdkRVZZZEVOeVpXRjBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJhVzl1SUZScGJXVUFNRFF2TVRNdk1UR3JXMFQ2QUFBQUhIUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkdhWEpsZDI5eWEzTWdRMU0xY2JYak5nQUFBQXhKUkVGVUNKbGphR0JnQUFBQmhBQ0JyT05JUGdBQUFBQkpSVTVFcmtKZ2dnPT1cIixcclxuICAgICAgICAgICAgICAgIHNsaWRlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgc3JjOiBRLnJlc29sdmVVcmwoXCJ+L0NvbnRlbnQvc2l0ZS9zbGlkZXMvc2xpZGUxLmpwZ1wiKSwgdHJhbnNpdGlvbjogJ2ZhZGUnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBzcmM6IFEucmVzb2x2ZVVybChcIn4vQ29udGVudC9zaXRlL3NsaWRlcy9zbGlkZTIuanBnXCIpLCB0cmFuc2l0aW9uOiAnem9vbU91dCcgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IHNyYzogUS5yZXNvbHZlVXJsKFwifi9Db250ZW50L3NpdGUvc2xpZGVzL3NsaWRlMy5qcGdcIiksIHRyYW5zaXRpb246ICdzd2lybExlZnQnIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5SWQoJ0xvZ2luQnV0dG9uJykuY2xpY2soZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlRm9ybSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5nZXRTYXZlRW50aXR5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBRLnJlc29sdmVVcmwoJ34vQWNjb3VudC9Mb2dpbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkaXJlY3RUb1JldHVyblVybCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcjogKHJlc3BvbnNlOiBTZXJlbml0eS5TZXJ2aWNlUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9IG51bGwgJiYgcmVzcG9uc2UuRXJyb3IgIT0gbnVsbCAmJiByZXNwb25zZS5FcnJvci5Db2RlID09IFwiUmVkaXJlY3RVc2VyVG9cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5FcnJvci5Bcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSBudWxsICYmIHJlc3BvbnNlLkVycm9yICE9IG51bGwgJiYgIVEuaXNFbXB0eU9yTnVsbChyZXNwb25zZS5FcnJvci5NZXNzYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUS5ub3RpZnlFcnJvcihyZXNwb25zZS5FcnJvci5NZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNQYXNzd29yZCcpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBRLkVycm9ySGFuZGxpbmcuc2hvd1NlcnZpY2VFcnJvcihyZXNwb25zZS5FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHJlZGlyZWN0VG9SZXR1cm5VcmwoKSB7XHJcbiAgICAgICAgICAgIHZhciBxID0gUS5wYXJzZVF1ZXJ5U3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5VcmwgPSBxWydyZXR1cm5VcmwnXSB8fCBxWydSZXR1cm5VcmwnXTtcclxuICAgICAgICAgICAgaWYgKHJldHVyblVybCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNoICE9IG51bGwgJiYgaGFzaCAhPSAnIycpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVXJsICs9IGhhc2g7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJldHVyblVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gUS5yZXNvbHZlVXJsKCd+LycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgXHJcbjxkaXYgY2xhc3M9XCJmbGV4LWxheW91dFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImxvZ29cIj48L2Rpdj5cclxuICAgIDxoMz4ke1EudGV4dChcIkZvcm1zLk1lbWJlcnNoaXAuTG9naW4uRm9ybVRpdGxlXCIpfTwvaDM+XHJcbiAgICA8Zm9ybSBpZD1cIn5fRm9ybVwiIGFjdGlvbj1cIlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzLUZvcm1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpZWxkc2V0IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwifl9Qcm9wZXJ0eUdyaWRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhclwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbnNcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ+X0xvZ2luQnV0dG9uXCIgdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtRLnRleHQoXCJGb3Jtcy5NZW1iZXJzaGlwLkxvZ2luLlNpZ25JbkJ1dHRvblwiKX1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIke1EucmVzb2x2ZVVybCgnfi9BY2NvdW50L0ZvcmdvdFBhc3N3b3JkJyl9XCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1yaWdodFwiPjwvaT4mbmJzcDske1EudGV4dChcIkZvcm1zLk1lbWJlcnNoaXAuTG9naW4uRm9yZ290UGFzc3dvcmRcIil9PC9hPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7US5yZXNvbHZlVXJsKCd+L0FjY291bnQvU2lnblVwJyl9XCI+PGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1yaWdodFwiPjwvaT4mbmJzcDske1EudGV4dChcIkZvcm1zLk1lbWJlcnNoaXAuTG9naW4uU2lnblVwQnV0dG9uXCIpfTwvYT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhclwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZm9ybT5cclxuPC9kaXY+XHJcbmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDaGFuZ2VQYXNzd29yZFBhbmVsIGV4dGVuZHMgU2VyZW5pdHkuUHJvcGVydHlQYW5lbDxDaGFuZ2VQYXNzd29yZFJlcXVlc3QsIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIENoYW5nZVBhc3N3b3JkRm9ybS5mb3JtS2V5OyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZm9ybTogQ2hhbmdlUGFzc3dvcmRGb3JtO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtID0gbmV3IENoYW5nZVBhc3N3b3JkRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLk5ld1Bhc3N3b3JkLmFkZFZhbGlkYXRpb25SdWxlKHRoaXMudW5pcXVlTmFtZSwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtLncoJ0NvbmZpcm1QYXNzd29yZCcsIFNlcmVuaXR5LlBhc3N3b3JkRWRpdG9yKS52YWx1ZS5sZW5ndGggPCA3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEuZm9ybWF0KFEudGV4dCgnVmFsaWRhdGlvbi5NaW5SZXF1aXJlZFBhc3N3b3JkTGVuZ3RoJyksIDcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5Db25maXJtUGFzc3dvcmQuYWRkVmFsaWRhdGlvblJ1bGUodGhpcy51bmlxdWVOYW1lLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uQ29uZmlybVBhc3N3b3JkLnZhbHVlICE9PSB0aGlzLmZvcm0uTmV3UGFzc3dvcmQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUS50ZXh0KCdWYWxpZGF0aW9uLlBhc3N3b3JkQ29uZmlybScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnlJZCgnU3VibWl0QnV0dG9uJykuY2xpY2soZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlRm9ybSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gdGhpcy5nZXRTYXZlRW50aXR5KCk7XHJcbiAgICAgICAgICAgICAgICBRLnNlcnZpY2VDYWxsKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFEucmVzb2x2ZVVybCgnfi9BY2NvdW50L0NoYW5nZVBhc3N3b3JkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3M6IHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUS5pbmZvcm1hdGlvbihRLnRleHQoJ0Zvcm1zLk1lbWJlcnNoaXAuQ2hhbmdlUGFzc3dvcmQuU3VjY2VzcycpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFEucmVzb2x2ZVVybCgnfi8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTWVtYmVyc2hpcCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgRm9yZ290UGFzc3dvcmRQYW5lbCBleHRlbmRzIFNlcmVuaXR5LlByb3BlcnR5UGFuZWw8Rm9yZ290UGFzc3dvcmRSZXF1ZXN0LCBhbnk+IHtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBGb3Jnb3RQYXNzd29yZEZvcm0uZm9ybUtleTsgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGZvcm06IEZvcmdvdFBhc3N3b3JkRm9ybTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBGb3Jnb3RQYXNzd29yZEZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5SWQoJ1N1Ym1pdEJ1dHRvbicpLmNsaWNrKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuZ2V0U2F2ZUVudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBRLnJlc29sdmVVcmwoJ34vQWNjb3VudC9Gb3Jnb3RQYXNzd29yZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFEuaW5mb3JtYXRpb24oUS50ZXh0KCdGb3Jtcy5NZW1iZXJzaGlwLkZvcmdvdFBhc3N3b3JkLlN1Y2Nlc3MnKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBRLnJlc29sdmVVcmwoJ34vJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk1lbWJlcnNoaXAge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRQYW5lbCBleHRlbmRzIFNlcmVuaXR5LlByb3BlcnR5UGFuZWw8UmVzZXRQYXNzd29yZFJlcXVlc3QsIGFueT4ge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFJlc2V0UGFzc3dvcmRGb3JtLmZvcm1LZXk7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBmb3JtOiBSZXNldFBhc3N3b3JkRm9ybTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBSZXNldFBhc3N3b3JkRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5OZXdQYXNzd29yZC5hZGRWYWxpZGF0aW9uUnVsZSh0aGlzLnVuaXF1ZU5hbWUsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5Db25maXJtUGFzc3dvcmQudmFsdWUubGVuZ3RoIDwgNykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBRLmZvcm1hdChRLnRleHQoJ1ZhbGlkYXRpb24uTWluUmVxdWlyZWRQYXNzd29yZExlbmd0aCcpLCA3KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uQ29uZmlybVBhc3N3b3JkLmFkZFZhbGlkYXRpb25SdWxlKHRoaXMudW5pcXVlTmFtZSwgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtLkNvbmZpcm1QYXNzd29yZC52YWx1ZSAhPT0gdGhpcy5mb3JtLk5ld1Bhc3N3b3JkLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEudGV4dCgnVmFsaWRhdGlvbi5QYXNzd29yZENvbmZpcm0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ5SWQoJ1N1Ym1pdEJ1dHRvbicpLmNsaWNrKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHRoaXMuZ2V0U2F2ZUVudGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5Ub2tlbiA9IHRoaXMuYnlJZCgnVG9rZW4nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIFEuc2VydmljZUNhbGwoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogUS5yZXNvbHZlVXJsKCd+L0FjY291bnQvUmVzZXRQYXNzd29yZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzOiByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFEuaW5mb3JtYXRpb24oUS50ZXh0KCdGb3Jtcy5NZW1iZXJzaGlwLlJlc2V0UGFzc3dvcmQuU3VjY2VzcycpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFEucmVzb2x2ZVVybCgnfi9BY2NvdW50L0xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5NZW1iZXJzaGlwIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBTaWduVXBQYW5lbCBleHRlbmRzIFNlcmVuaXR5LlByb3BlcnR5UGFuZWw8U2lnblVwUmVxdWVzdCwgYW55PiB7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtS2V5KCkgeyByZXR1cm4gU2lnblVwRm9ybS5mb3JtS2V5OyB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZm9ybTogU2lnblVwRm9ybTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybSA9IG5ldyBTaWduVXBGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLkNvbmZpcm1FbWFpbC5hZGRWYWxpZGF0aW9uUnVsZSh0aGlzLnVuaXF1ZU5hbWUsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5Db25maXJtRW1haWwudmFsdWUgIT09IHRoaXMuZm9ybS5FbWFpbC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBRLnRleHQoJ1ZhbGlkYXRpb24uRW1haWxDb25maXJtJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLkNvbmZpcm1QYXNzd29yZC5hZGRWYWxpZGF0aW9uUnVsZSh0aGlzLnVuaXF1ZU5hbWUsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5Db25maXJtUGFzc3dvcmQudmFsdWUgIT09IHRoaXMuZm9ybS5QYXNzd29yZC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBRLnRleHQoJ1ZhbGlkYXRpb24uUGFzc3dvcmRDb25maXJtJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ieUlkKCdTdWJtaXRCdXR0b24nKS5jbGljayhlID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVGb3JtKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBRLnJlc29sdmVVcmwoJ34vQWNjb3VudC9TaWduVXAnKSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXlOYW1lOiB0aGlzLmZvcm0uRGlzcGxheU5hbWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsOiB0aGlzLmZvcm0uRW1haWwudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkOiB0aGlzLmZvcm0uUGFzc3dvcmQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzczogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBRLmluZm9ybWF0aW9uKFEudGV4dCgnRm9ybXMuTWVtYmVyc2hpcC5TaWduVXAuU3VjY2VzcycpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFEucmVzb2x2ZVVybCgnfi8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEN1c3RvbWVyRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuTG9va3VwRWRpdG9yQmFzZTxTZXJlbml0eS5Mb29rdXBFZGl0b3JPcHRpb25zLCBDdXN0b21lclJvdz4ge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihoaWRkZW46IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihoaWRkZW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvb2t1cEtleSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdOb3J0aHdpbmQuQ3VzdG9tZXInO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1UZXh0KGl0ZW0sIGxvb2t1cCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0SXRlbVRleHQoaXRlbSwgbG9va3VwKSArICcgWycgKyBpdGVtLkN1c3RvbWVySUQgKyAnXSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL09yZGVyL09yZGVyRGlhbG9nLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21lck9yZGVyRGlhbG9nIGV4dGVuZHMgT3JkZXJEaWFsb2cge1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVwZGF0ZUludGVyZmFjZSgpIHtcclxuICAgICAgICAgICAgc3VwZXIudXBkYXRlSW50ZXJmYWNlKCk7XHJcblxyXG4gICAgICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRSZWFkT25seSh0aGlzLmZvcm0uQ3VzdG9tZXJJRCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL09yZGVyL09yZGVyR3JpZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgaW1wb3J0IGZsZCA9IE9yZGVyUm93LkZpZWxkcztcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBDdXN0b21lck9yZGVyc0dyaWQgZXh0ZW5kcyBPcmRlckdyaWQge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gQ3VzdG9tZXJPcmRlckRpYWxvZzsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnMoKTogU2xpY2suQ29sdW1uW10ge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29sdW1ucygpLmZpbHRlcih4ID0+IHguZmllbGQgIT09IGZsZC5DdXN0b21lckNvbXBhbnlOYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0RW50aXR5RGlhbG9nKGl0ZW1UeXBlLCBkaWFsb2cpIHtcclxuICAgICAgICAgICAgc3VwZXIuaW5pdEVudGl0eURpYWxvZyhpdGVtVHlwZSwgZGlhbG9nKTtcclxuICAgICAgICAgICAgU2VyZW5pdHkuU3ViRGlhbG9nSGVscGVyLmNhc2NhZGUoZGlhbG9nLCB0aGlzLmVsZW1lbnQuY2xvc2VzdCgnLnVpLWRpYWxvZycpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRCdXR0b25DbGljaygpIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0SXRlbSh7IEN1c3RvbWVySUQ6IHRoaXMuY3VzdG9tZXJJRCB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJbml0aWFsVGl0bGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEdyaWRDYW5Mb2FkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0R3JpZENhbkxvYWQoKSAmJiAhIXRoaXMuY3VzdG9tZXJJRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2N1c3RvbWVySUQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgZ2V0IGN1c3RvbWVySUQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21lcklEO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0IGN1c3RvbWVySUQodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3VzdG9tZXJJRCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1c3RvbWVySUQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXF1YWxpdHkoJ0N1c3RvbWVySUQnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckZvcm1hdHRlcigpXHJcbiAgICBleHBvcnQgY2xhc3MgRW1wbG95ZWVMaXN0Rm9ybWF0dGVyIGltcGxlbWVudHMgU2xpY2suRm9ybWF0dGVyIHtcclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciBpZExpc3QgPSBjdHgudmFsdWUgYXMgc3RyaW5nW107XHJcbiAgICAgICAgICAgIGlmICghaWRMaXN0IHx8ICFpZExpc3QubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgYnlJZCA9IEVtcGxveWVlUm93LmdldExvb2t1cCgpLml0ZW1CeUlkO1xyXG4gICAgICAgICAgICBsZXQgejogRW1wbG95ZWVSb3c7XHJcbiAgICAgICAgICAgIHJldHVybiBpZExpc3QubWFwKHggPT4gKCh6ID0gYnlJZFt4XSkgPyB6LkZ1bGxOYW1lIDogeCkpLmpvaW4oXCIsIFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJGb3JtYXR0ZXIoW1NlcmVuaXR5LklTbGlja0Zvcm1hdHRlciwgU2VyZW5pdHkuSUluaXRpYWxpemVDb2x1bW5dKVxyXG4gICAgZXhwb3J0IGNsYXNzIEVtcGxveWVlRm9ybWF0dGVyIGltcGxlbWVudHMgU2xpY2suRm9ybWF0dGVyIHtcclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gUS5odG1sRW5jb2RlKGN0eC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2VuZGVyUHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gY3R4Lml0ZW1bdGhpcy5nZW5kZXJQcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIHJldHVybiBcIjxzcGFuIGNsYXNzPSdcIiArICgoZ2VuZGVyID09PSBHZW5kZXIuRmVtYWxlKSA/XHJcbiAgICAgICAgICAgICAgICAnZW1wbG95ZWUtc3ltYm9sIGZlbWFsZScgOiAnZW1wbG95ZWUtc3ltYm9sIG1hbGUnKSArXHJcbiAgICAgICAgICAgICAgICBcIic+XCIgKyB0ZXh0ICsgJzwvc3Bhbj4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQFNlcmVuaXR5LkRlY29yYXRvcnMub3B0aW9uKClcclxuICAgICAgICBwdWJsaWMgZ2VuZGVyUHJvcGVydHk6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGluaXRpYWxpemVDb2x1bW4oY29sdW1uOiBTbGljay5Db2x1bW4pIHtcclxuICAgICAgICAgICAgY29sdW1uLnJlZmVyZW5jZWRGaWVsZHMgPSBjb2x1bW4ucmVmZXJlbmNlZEZpZWxkcyB8fCBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2VuZGVyUHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICBjb2x1bW4ucmVmZXJlbmNlZEZpZWxkcy5wdXNoKHRoaXMuZ2VuZGVyUHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIGV4cG9ydCBjbGFzcyBOb3RlRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nPGFueT4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIHRleHRFZGl0b3I6IFNlcmVuaXR5Lkh0bWxDb250ZW50RWRpdG9yO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGV4dEVkaXRvciA9IG5ldyBTZXJlbml0eS5IdG1sTm90ZUNvbnRlbnRFZGl0b3IodGhpcy5ieUlkKCdUZXh0JykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRlbXBsYXRlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgXCI8Zm9ybSBpZD0nfl9Gb3JtJyBjbGFzcz0ncy1Gb3JtJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8dGV4dGFyZWEgaWQ9J35fVGV4dCcgY2xhc3M9J3JlcXVpcmVkJz48L3RleHRhcmVhPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPC9mb3JtPlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zKCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0ID0gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgb3B0LmJ1dHRvbnMgPSBbe1xyXG4gICAgICAgICAgICAgICAgdGV4dDogUS50ZXh0KCdEaWFsb2dzLk9rQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9rQ2xpY2sgJiYgdGhpcy5va0NsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBRLnRleHQoJ0RpYWxvZ3MuQ2FuY2VsQnV0dG9uJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHRoaXMuZGlhbG9nQ2xvc2UoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldCB0ZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRFZGl0b3IudmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXQgdGV4dCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEVkaXRvci52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIG9rQ2xpY2s6ICgpID0+IHZvaWQ7XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWVdKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudChcIjxkaXYvPlwiKVxyXG4gICAgZXhwb3J0IGNsYXNzIE5vdGVzRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkV2lkZ2V0PGFueT5cclxuICAgICAgICBpbXBsZW1lbnRzIFNlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUge1xyXG5cclxuICAgICAgICBwcml2YXRlIGlzRGlydHk6IGJvb2xlYW47XHJcbiAgICAgICAgcHJpdmF0ZSBpdGVtczogTm90ZVJvd1tdO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihkaXY6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihkaXYpO1xyXG5cclxuICAgICAgICAgICAgbmV3IFNlcmVuaXR5LlRvb2xiYXIodGhpcy5ieUlkKCdUb29sYmFyJyksIHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBZGQgTm90ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdhZGQtYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjxkaXY+PGRpdiBpZD0nfl9Ub29sYmFyJz48L2Rpdj48dWwgaWQ9J35fTm90ZUxpc3QnPjwvdWw+PC9kaXY+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgdXBkYXRlQ29udGVudCgpIHtcclxuICAgICAgICAgICAgdmFyIG5vdGVMaXN0ID0gdGhpcy5ieUlkKCdOb3RlTGlzdCcpO1xyXG4gICAgICAgICAgICBub3RlTGlzdC5jaGlsZHJlbigpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHQxID0gMDsgdDEgPCB0aGlzLml0ZW1zLmxlbmd0aDsgdDErKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1t0MV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpID0gJCgnPGxpLz4nKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2Lz4nKS5hZGRDbGFzcygnbm90ZS10ZXh0JykuaHRtbChRLmNvYWxlc2NlKGl0ZW0uVGV4dCwgJycpKS5hcHBlbmRUbyhsaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJzxhLz4nKS5hdHRyKCdocmVmJywgJyMnKS5hZGRDbGFzcygnbm90ZS1kYXRlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoaXRlbS5JbnNlcnRVc2VyRGlzcGxheU5hbWUgKyAnIC0gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLmZvcm1hdERhdGUoaXRlbS5JbnNlcnREYXRlLCAnZycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSgnaW5kZXgnLCBpbmRleCkuYXBwZW5kVG8obGkpLmNsaWNrKChlKSA9PiB0aGlzLmVkaXRDbGljayhlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJzxhLz4nKS5hdHRyKCdocmVmJywgJyMnKS5hZGRDbGFzcygnbm90ZS1kZWxldGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndGl0bGUnLCAnZGVsZXRlIG5vdGUnKS5kYXRhKCdpbmRleCcsIGluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8obGkpLmNsaWNrKChlKSA9PiB0aGlzLmRlbGV0ZUNsaWNrKGUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGkuYXBwZW5kVG8obm90ZUxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRDbGljaygpIHtcclxuICAgICAgICAgICAgdmFyIGRsZyA9IG5ldyBOb3RlRGlhbG9nKCk7XHJcbiAgICAgICAgICAgIGRsZy5kaWFsb2dUaXRsZSA9ICdBZGQgTm90ZSc7XHJcbiAgICAgICAgICAgIGRsZy5va0NsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBRLnRyaW1Ub051bGwoZGxnLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcyB8fCBbXTtcclxuICAgICAgICAgICAgICAgIFEuaW5zZXJ0KHRoaXMuaXRlbXMsIDAsIHtcclxuICAgICAgICAgICAgICAgICAgICBUZXh0OiB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIEluc2VydFVzZXJEaXNwbGF5TmFtZTogQXV0aG9yaXphdGlvbi51c2VyRGVmaW5pdGlvbi5EaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBJbnNlcnREYXRlOiBRLmZvcm1hdElTT0RhdGVUaW1lVVRDKG5ldyBEYXRlKCkpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgIGRsZy5kaWFsb2dDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfaXNEaXJ0eSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UgJiYgdGhpcy5vbkNoYW5nZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkbGcuZGlhbG9nT3BlbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGVkaXRDbGljayhlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnaW5kZXgnKTtcclxuICAgICAgICAgICAgdmFyIG9sZCA9IHRoaXMuaXRlbXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgZGxnID0gbmV3IE5vdGVEaWFsb2coKTtcclxuICAgICAgICAgICAgZGxnLmRpYWxvZ1RpdGxlID0gJ0VkaXQgTm90ZSc7XHJcbiAgICAgICAgICAgIGRsZy50ZXh0ID0gb2xkLlRleHQ7XHJcbiAgICAgICAgICAgIGRsZy5va0NsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBRLnRyaW1Ub051bGwoZGxnLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLlRleHQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBkbGcuZGlhbG9nQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X2lzRGlydHkodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlICYmIHRoaXMub25DaGFuZ2UoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZGxnLmRpYWxvZ09wZW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkZWxldGVDbGljayhlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnaW5kZXgnKTtcclxuICAgICAgICAgICAgUS5jb25maXJtKCdEZWxldGUgdGhpcyBub3RlPycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfaXNEaXJ0eSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UgJiYgdGhpcy5vbkNoYW5nZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWx1ZTogTm90ZVJvd1tdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB2YWx1ZSB8fCBbXTtcclxuICAgICAgICAgICAgdGhpcy5zZXRfaXNEaXJ0eShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wOiBTZXJlbml0eS5Qcm9wZXJ0eUl0ZW0sIHRhcmdldCkge1xyXG4gICAgICAgICAgICB0YXJnZXRbcHJvcC5uYW1lXSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZSwgcHJvcDogU2VyZW5pdHkuUHJvcGVydHlJdGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBzb3VyY2VbcHJvcC5uYW1lXSB8fCBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRfaXNEaXJ0eSgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRfaXNEaXJ0eSh2YWx1ZSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmlzRGlydHkgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBvbkNoYW5nZTogKCkgPT4gdm9pZDtcclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckZvcm1hdHRlcigpXHJcbiAgICBleHBvcnQgY2xhc3MgRnJlaWdodEZvcm1hdHRlciBpbXBsZW1lbnRzIFNsaWNrLkZvcm1hdHRlciB7XHJcbiAgICAgICAgZm9ybWF0KGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nZnJlaWdodC1zeW1ib2wnPlwiICsgUS5odG1sRW5jb2RlKGN0eC52YWx1ZSkgKyAnPC9zcGFuPidcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUmVnaW9uRGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPFJlZ2lvblJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBSZWdpb25Gb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFJlZ2lvblJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIFJlZ2lvblJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gUmVnaW9uUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gUmVnaW9uU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IFJlZ2lvbkZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMYW5ndWFnZXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZUxpc3QuZ2V0VmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgUmVnaW9uR3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8UmVnaW9uUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlJlZ2lvblwiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiA8YW55PlJlZ2lvbkRpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gUmVnaW9uUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gUmVnaW9uUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gUmVnaW9uU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyRWRpdG9yKClcclxuICAgIGV4cG9ydCBjbGFzcyBQaG9uZUVkaXRvciBleHRlbmRzIFNlcmVuaXR5LlN0cmluZ0VkaXRvciB7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGlucHV0OiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoaW5wdXQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRWYWxpZGF0aW9uUnVsZSh0aGlzLnVuaXF1ZU5hbWUsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gUS50cmltVG9OdWxsKHRoaXMuZ2V0X3ZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQaG9uZUVkaXRvci52YWxpZGF0ZSh2YWx1ZSwgdGhpcy5tdWx0aXBsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaW5wdXQuYmluZCgnY2hhbmdlJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIVNlcmVuaXR5LldYLmhhc09yaWdpbmFsRXZlbnQoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1hdFZhbHVlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaW5wdXQuYmluZCgnYmx1cicsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5oYXNDbGFzcygndmFsaWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybWF0VmFsdWUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWwodGhpcy5nZXRGb3JtYXR0ZWRWYWx1ZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtYXR0ZWRWYWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUGhvbmVFZGl0b3IuZm9ybWF0TXVsdGkodmFsdWUsIFBob25lRWRpdG9yLmZvcm1hdFBob25lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUGhvbmVFZGl0b3IuZm9ybWF0UGhvbmUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQFNlcmVuaXR5LkRlY29yYXRvcnMub3B0aW9uKClcclxuICAgICAgICBwdWJsaWMgbXVsdGlwbGU6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIGdldF92YWx1ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybWF0dGVkVmFsdWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldF92YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWwodmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHZhbGlkYXRlKHBob25lOiBzdHJpbmcsIGlzTXVsdGlwbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdmFyIHZhbGlkID0gKGlzTXVsdGlwbGUgPyBQaG9uZUVkaXRvci5pc1ZhbGlkTXVsdGkocGhvbmUsIFBob25lRWRpdG9yLmlzVmFsaWRQaG9uZSkgOiBQaG9uZUVkaXRvci5pc1ZhbGlkUGhvbmUocGhvbmUpKTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUS50ZXh0KChpc011bHRpcGxlID8gJ1ZhbGlkYXRpb24uTm9ydGh3aW5kUGhvbmVNdWx0aXBsZScgOiAnVmFsaWRhdGlvbi5Ob3J0aHdpbmRQaG9uZScpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBpc1ZhbGlkUGhvbmUocGhvbmU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAoUS5pc0VtcHR5T3JOdWxsKHBob25lKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBob25lID0gUS5yZXBsYWNlQWxsKFEucmVwbGFjZUFsbChwaG9uZSwgJyAnLCAnJyksICctJywgJycpO1xyXG4gICAgICAgICAgICBpZiAocGhvbmUubGVuZ3RoIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKFEuc3RhcnRzV2l0aChwaG9uZSwgJzAnKSkge1xyXG4gICAgICAgICAgICAgICAgcGhvbmUgPSBwaG9uZS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChRLnN0YXJ0c1dpdGgocGhvbmUsICcoJykgJiYgcGhvbmUuY2hhckF0KDQpID09PSAnKScpIHtcclxuICAgICAgICAgICAgICAgIHBob25lID0gcGhvbmUuc3Vic3RyKDEsIDMpICsgcGhvbmUuc3Vic3RyaW5nKDUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGhvbmUubGVuZ3RoICE9PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoUS5zdGFydHNXaXRoKHBob25lLCAnMCcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGhvbmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gcGhvbmUuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGMgPCAnMCcgfHwgYyA+ICc5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZm9ybWF0UGhvbmUocGhvbmUpIHtcclxuICAgICAgICAgICAgaWYgKCFQaG9uZUVkaXRvci5pc1ZhbGlkUGhvbmUocGhvbmUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGhvbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGhvbmUgPSBRLnJlcGxhY2VBbGwoUS5yZXBsYWNlQWxsKFEucmVwbGFjZUFsbChRLnJlcGxhY2VBbGwocGhvbmUsICcgJywgJycpLCAnLScsICcnKSwgJygnLCAnJyksICcpJywgJycpO1xyXG4gICAgICAgICAgICBpZiAoUS5zdGFydHNXaXRoKHBob25lLCAnMCcpKSB7XHJcbiAgICAgICAgICAgICAgICBwaG9uZSA9IHBob25lLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwaG9uZSA9ICcoJyArIHBob25lLnN1YnN0cigwLCAzKSArICcpICcgKyBwaG9uZS5zdWJzdHIoMywgMykgKyAnLScgKyBwaG9uZS5zdWJzdHIoNiwgMikgKyBwaG9uZS5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgIHJldHVybiBwaG9uZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBmb3JtYXRNdWx0aShwaG9uZTogc3RyaW5nLCBmb3JtYXQ6IChzOiBzdHJpbmcpID0+IHN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgcGhvbmVzID0gUS5yZXBsYWNlQWxsKHBob25lLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDU5KSwgU3RyaW5nLmZyb21DaGFyQ29kZSg0NCkpLnNwbGl0KFN0cmluZy5mcm9tQ2hhckNvZGUoNDQpKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciB4IG9mIHBob25lcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBRLnRyaW1Ub051bGwoeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJywgJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb3JtYXQocyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBpc1ZhbGlkTXVsdGkocGhvbmU6IHN0cmluZywgY2hlY2s6IChzOiBzdHJpbmcpID0+IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbChwaG9uZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcGhvbmVzID0gUS5yZXBsYWNlQWxsKHBob25lLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDU5KSwgU3RyaW5nLmZyb21DaGFyQ29kZSg0NCkpLnNwbGl0KFN0cmluZy5mcm9tQ2hhckNvZGUoNDQpKTtcclxuICAgICAgICAgICAgdmFyIGFueVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyICR0MSA9IDA7ICR0MSA8IHBob25lcy5sZW5ndGg7ICR0MSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHBob25lc1skdDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBRLnRyaW1Ub051bGwoeCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNrKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYW55VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghYW55VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgU2hpcHBlckRpYWxvZyBleHRlbmRzIFNlcmVuaXR5LkVudGl0eURpYWxvZzxTaGlwcGVyUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Rm9ybUtleSgpIHsgcmV0dXJuIFNoaXBwZXJGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFNoaXBwZXJSb3cuaWRQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IHJldHVybiBTaGlwcGVyUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXROYW1lUHJvcGVydHkoKSB7IHJldHVybiBTaGlwcGVyUm93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gU2hpcHBlclNlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBTaGlwcGVyRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExhbmd1YWdlcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIExhbmd1YWdlTGlzdC5nZXRWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBTZXJFeHRyYUNvcmUuTm9ydGh3aW5kIHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckZvcm1hdHRlcigpXHJcbiAgICBleHBvcnQgY2xhc3MgU2hpcHBlckZvcm1hdHRlciBpbXBsZW1lbnRzIFNsaWNrLkZvcm1hdHRlciB7XHJcbiAgICAgICAgZm9ybWF0KGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nc2hpcHBlci1zeW1ib2wgc2hpcHBlci1cIiArXHJcbiAgICAgICAgICAgICAgICBRLnJlcGxhY2VBbGwoKGN0eC52YWx1ZSB8fCAnJykudG9TdHJpbmcoKSwgJyAnLCAnJykgK1xyXG4gICAgICAgICAgICAgICAgXCInPlwiICsgUS5odG1sRW5jb2RlKGN0eC52YWx1ZSkgKyAnPC9zcGFuPic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIFNlckV4dHJhQ29yZS5Ob3J0aHdpbmQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIFNoaXBwZXJHcmlkIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5R3JpZDxTaGlwcGVyUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlNoaXBwZXJcIjsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gPGFueT5TaGlwcGVyRGlhbG9nOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElkUHJvcGVydHkoKSB7IHJldHVybiBTaGlwcGVyUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gU2hpcHBlclJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIFNoaXBwZXJTZXJ2aWNlLmJhc2VVcmw7IH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnkpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgVGVycml0b3J5RGlhbG9nIGV4dGVuZHMgU2VyZW5pdHkuRW50aXR5RGlhbG9nPFRlcnJpdG9yeVJvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBUZXJyaXRvcnlGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgcmV0dXJuIFRlcnJpdG9yeVJvdy5pZFByb3BlcnR5OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dFByZWZpeCgpIHsgcmV0dXJuIFRlcnJpdG9yeVJvdy5sb2NhbFRleHRQcmVmaXg7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCkgeyByZXR1cm4gVGVycml0b3J5Um93Lm5hbWVQcm9wZXJ0eTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gVGVycml0b3J5U2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IFRlcnJpdG9yeUZvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMYW5ndWFnZXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMYW5ndWFnZUxpc3QuZ2V0VmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgU2VyRXh0cmFDb3JlLk5vcnRod2luZCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcygpXHJcbiAgICBleHBvcnQgY2xhc3MgVGVycml0b3J5R3JpZCBleHRlbmRzIFNlcmVuaXR5LkVudGl0eUdyaWQ8VGVycml0b3J5Um93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuIFwiTm9ydGh3aW5kLlRlcnJpdG9yeVwiOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKSB7IHJldHVybiA8YW55PlRlcnJpdG9yeURpYWxvZzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJZFByb3BlcnR5KCkgeyByZXR1cm4gVGVycml0b3J5Um93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCkgeyByZXR1cm4gVGVycml0b3J5Um93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTZXJ2aWNlKCkgeyByZXR1cm4gVGVycml0b3J5U2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyRm9ybWF0dGVyKFtTZXJlbml0eS5JU2xpY2tGb3JtYXR0ZXJdKVxyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGl0TG9nQWN0aW9uVHlwZUZvcm1hdHRlciBpbXBsZW1lbnRzIFNsaWNrLkZvcm1hdHRlciB7XHJcbiAgICAgICAgc3RhdGljIGZvcm1hdChjdHg6IFNsaWNrLkZvcm1hdHRlckNvbnRleHQpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjdHguaXRlbSBhcyBBdWRpdExvZ1JvdztcclxuXHJcbiAgICAgICAgICAgIGxldCBrbGFzcyA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5BY3Rpb25UeXBlID09IEF1ZGl0QWN0aW9uVHlwZS5VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGtsYXNzID0gJ3dhcm5pbmcnXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5BY3Rpb25UeXBlID09IEF1ZGl0QWN0aW9uVHlwZS5EZWxldGUpIHtcclxuICAgICAgICAgICAgICAgIGtsYXNzID0gJ2RhbmdlcidcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtsYXNzID0gJ2RlZmF1bHQnXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC0ke2tsYXNzfVwiPiR7QXVkaXRBY3Rpb25UeXBlW2l0ZW0uQWN0aW9uVHlwZV19PC9zcGFuPmA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdWRpdExvZ0FjdGlvblR5cGVGb3JtYXR0ZXIuZm9ybWF0KGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9CYXNlcy9EaWFsb2dCYXNlLnRzXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlc3BvbnNpdmUoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGl0TG9nRGlhbG9nIGV4dGVuZHMgRGlhbG9nQmFzZTxBdWRpdExvZ1JvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBBdWRpdExvZ0Zvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRSb3dUeXBlKCkgeyByZXR1cm4gQXVkaXRMb2dSb3c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIEF1ZGl0TG9nU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IEF1ZGl0TG9nRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyTG9hZEVudGl0eSgpIHtcclxuICAgICAgICAgICAgc3VwZXIuYWZ0ZXJMb2FkRW50aXR5KCk7XHJcblxyXG4gICAgICAgICAgICB1c2luZ0pzb25EaWZmUGF0Y2goKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvd2luZyBkaWZmIHZpc3VhbGx5XHJcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gSlNPTi5wYXJzZSh0aGlzLmVudGl0eS5PbGRFbnRpdHkpO1xyXG4gICAgICAgICAgICBpZiAobGVmdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnQuUGxhbnRKc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdC5QbGFudEluZm8gPSBKU09OLnBhcnNlKGxlZnQuUGxhbnRKc29uKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgKGxlZnQuUGxhbnRKc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAobGVmdC5JZCk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgKGxlZnQuSURhdGUpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIChsZWZ0LklVc2VyKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAobGVmdC5FRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgKGxlZnQuRVVzZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBKU09OLnBhcnNlKHRoaXMuZW50aXR5Lk5ld0VudGl0eSk7XHJcbiAgICAgICAgICAgIGlmIChyaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0LlBsYW50SnNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0LlBsYW50SW5mbyA9IEpTT04ucGFyc2UocmlnaHQuUGxhbnRKc29uKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgKHJpZ2h0LlBsYW50SnNvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGpzb25kaWZmcGF0Y2guZGlmZihsZWZ0LCByaWdodCk7XHJcblxyXG4gICAgICAgICAgICAvLyBiZWF1dGlmdWwgaHRtbCBkaWZmXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5EaWZmZXJlbmNlcy52YWx1ZSA9IGpzb25kaWZmcGF0Y2guZm9ybWF0dGVycy5odG1sLmZvcm1hdChkZWx0YSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQmFzZXMvR3JpZEJhc2UudHNcIiAvPlxyXG5cclxubmFtZXNwYWNlIF9FeHQge1xyXG5cclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGl0TG9nR3JpZCBleHRlbmRzIEdyaWRCYXNlPEF1ZGl0TG9nUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuICdfRXh0LkF1ZGl0TG9nJzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gQXVkaXRMb2dEaWFsb2c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Um93VHlwZSgpIHsgcmV0dXJuIEF1ZGl0TG9nUm93OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBBdWRpdExvZ1NlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpIHtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcbiAgICAgICAgICAgIGJ1dHRvbnMuc3BsaWNlKDAsIDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZGVjbGFyZSB2YXIganNvbmRpZmZwYXRjaDogYW55O1xyXG5cclxubmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEF1ZGl0TG9nVmlld2VyIHtcclxuICAgICAgICBlbCA9ICcuY29udGVudC13cmFwcGVyJztcclxuICAgICAgICBkYXRhID0ge1xyXG4gICAgICAgICAgICBlbnRpdHlWZXJzaW9uczogW11cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBlbnRpdHlcclxuICAgICAgICBlbnRpdHlJZFxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihlbDogc3RyaW5nLCBlbnRpdHlWZXJzaW9uczogQXVkaXRMb2dSb3dbXSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsID0gZWwgfHwgdGhpcy5lbDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLmVudGl0eVZlcnNpb25zID0gZW50aXR5VmVyc2lvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb3VudGVkID0gKCkgPT4ge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbXB1dGVkID0ge1xyXG4gICAgICAgICAgICB0ZXN0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3Rlc3QgY29tcHV0ZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaWx0ZXJzID0ge1xyXG4gICAgICAgICAgICBmaWx0ZXJCeVlhcmRJZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXRob2RzID0ge1xyXG4gICAgICAgICAgICBzaG93RGlmZjogKHZlcnNpb25JbmZvOiBBdWRpdExvZ1JvdykgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9zaG93aW5nIGRpZmYgdmlzdWFsbHlcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gdmVyc2lvbkluZm8uT2xkRW50aXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gdmVyc2lvbkluZm8uTmV3RW50aXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0ganNvbmRpZmZwYXRjaC5kaWZmKGxlZnQsIHJpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBiZWF1dGlmdWwgaHRtbCBkaWZmXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlzdWFsaXplRGlmZicpLmlubmVySFRNTCA9IGpzb25kaWZmcGF0Y2guZm9ybWF0dGVycy5odG1sLmZvcm1hdChkZWx0YSwgbGVmdCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgZ2V0RGlmZjogKHZlcnNpb25JbmZvOiBBdWRpdExvZ1JvdykgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9zaG93aW5nIGRpZmYgdmlzdWFsbHlcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gdmVyc2lvbkluZm8uT2xkRW50aXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gdmVyc2lvbkluZm8uTmV3RW50aXR5O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0ganNvbmRpZmZwYXRjaC5kaWZmKGxlZnQsIHJpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBiZWF1dGlmdWwgaHRtbCBkaWZmXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbmRpZmZwYXRjaC5mb3JtYXR0ZXJzLmh0bWwuZm9ybWF0KGRlbHRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZhciBkZWx0YSA9IGpzb25kaWZmcGF0Y2guZGlmZihsZWZ0LCByaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8vLyBsZWZ0IGlzIG9wdGlvbmFsLCBpZiBzcGVjaWZpZWQgdW5jaGFuZ2VkIHZhbHVlcyB3aWxsIGJlIHZpc2libGUgdG9vXHJcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeSgndGhlLWRpZmYnKS5pbm5lckhUTUwgPSBqc29uZGlmZnBhdGNoLmZvcm1hdHRlcnMuaHRtbC5mb3JtYXQoZGVsdGEsIGxlZnQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLy8vIEFsc28geW91IGNhbiBkaW5hbWljYWxseSBzaG93L2hpZGUgdW5jaGFuZ2VkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgLy9qc29uZGlmZnBhdGNoLmZvcm1hdHRlcnMuaHRtbC5zaG93VW5jaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICAvL2pzb25kaWZmcGF0Y2guZm9ybWF0dGVycy5odG1sLmhpZGVVbmNoYW5nZWQoKTtcclxuICAgICAgICAgICAgICAgIC8vLy8gdGhlc2Ugd2lsbCBhbHNvIGFkanVzdCBhcnJheSBtb3ZlIGFycm93cyAoU1ZHKSwgd2hpY2ggaXMgdXNlZnVsIGlmIHNvbWV0aGluZyBhbHRlcnMgdGhlIGh0bWwgbGF5b3V0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlc3Ryb3llZCgpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiXHJcbm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLm1heGltaXphYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBBdWRpdExvZ1ZpZXdlckRpYWxvZyBleHRlbmRzIFNlcmVuaXR5LlRlbXBsYXRlZERpYWxvZzxhbnk+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHVibGljIHJlcXVlc3Q6IEF1ZGl0TG9nVmlld2VyUmVxdWVzdCkge1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICdBdWRpdCBMb2cgVmlld2VyJ1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkRpYWxvZ09wZW4gPSAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgQXVkaXRMb2dWaWV3ZXJTZXJ2aWNlLkxpc3QodGhpcy5yZXF1ZXN0LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuRW50aXR5VmVyc2lvbnMuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIChlLklkKVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuT2xkRW50aXR5ID0gSlNPTi5wYXJzZShlLk9sZEVudGl0eSkgYXMgYW55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLk5ld0VudGl0eSA9IEpTT04ucGFyc2UoZS5OZXdFbnRpdHkpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgKChlLk9sZEVudGl0eSBhcyBhbnkpLklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICgoZS5PbGRFbnRpdHkgYXMgYW55KS5JRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAoKGUuT2xkRW50aXR5IGFzIGFueSkuSVVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgKChlLk9sZEVudGl0eSBhcyBhbnkpLkVEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICgoZS5PbGRFbnRpdHkgYXMgYW55KS5FVXNlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLkFjdGlvblR5cGUgPSBBdWRpdEFjdGlvblR5cGVbZS5BY3Rpb25UeXBlXSBhcyBhbnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChlIGFzIGFueSkuaXNTaG93ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZ1ZShuZXcgQXVkaXRMb2dWaWV3ZXIoJyMnICsgdGhpcy5pZFByZWZpeCArICdkaWFsb2dDb250ZW50JywgcmVzcG9uc2UuRW50aXR5VmVyc2lvbnMpKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHVzaW5nVnVlanMoKTtcclxuICAgICAgICAgICAgdXNpbmdKc29uRGlmZlBhdGNoKCk7XHJcbiAgICAgICAgICAgIHJldHVybiAnX0V4dC5BdWRpdExvZ1ZpZXdlcidcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIERpYWxvZ1NuaXBwZXRzIGV4dGVuZHMgRGlhbG9nQmFzZTxBdWRpdExvZ1JvdywgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBBdWRpdExvZ0Zvcm0uZm9ybUtleTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRSb3dUeXBlKCkgeyByZXR1cm4gQXVkaXRMb2dSb3c7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgcmV0dXJuIEF1ZGl0TG9nU2VydmljZS5iYXNlVXJsOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IEF1ZGl0TG9nRm9ybSh0aGlzLmlkUHJlZml4KTtcclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRDc3NDbGFzcygpOiB2b2lkIHsgc3VwZXIuYWRkQ3NzQ2xhc3MoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0VGVtcGxhdGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldFRlbXBsYXRlTmFtZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZhbGxiYWNrVGVtcGxhdGUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldEZhbGxiYWNrVGVtcGxhdGUoKTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdFZhbGlkYXRvcigpOiB2b2lkIHsgc3VwZXIuaW5pdFZhbGlkYXRvcigpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFZhbGlkYXRvck9wdGlvbnMoKTogSlF1ZXJ5VmFsaWRhdGlvbi5WYWxpZGF0aW9uT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXRWYWxpZGF0b3JPcHRpb25zKCk7IH1cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0VGFicygpOiB2b2lkIHsgc3VwZXIuaW5pdFRhYnMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0VG9vbGJhcigpOiB2b2lkIHsgc3VwZXIuaW5pdFRvb2xiYXIoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUb29sYmFyQnV0dG9ucygpOiBTZXJlbml0eS5Ub29sQnV0dG9uW10geyByZXR1cm4gc3VwZXIuZ2V0VG9vbGJhckJ1dHRvbnMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0UHJvcGVydHlHcmlkKCk6IHZvaWQgeyBzdXBlci5pbml0UHJvcGVydHlHcmlkKCk7IH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBpbml0UHJvcGVydHlHcmlkQXN5bmMoKTogUHJvbWlzZUxpa2U8dm9pZD4geyByZXR1cm4gc3VwZXIuaW5pdFByb3BlcnR5R3JpZEFzeW5jKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlHcmlkT3B0aW9ucygpOiBTZXJlbml0eS5Qcm9wZXJ0eUdyaWRPcHRpb25zIHsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5R3JpZE9wdGlvbnMoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFByb3BlcnR5R3JpZE9wdGlvbnNBc3luYygpOiBQcm9taXNlTGlrZTxTZXJlbml0eS5Qcm9wZXJ0eUdyaWRPcHRpb25zPiB7IHJldHVybiBzdXBlci5nZXRQcm9wZXJ0eUdyaWRPcHRpb25zQXN5bmMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0TG9jYWxpemF0aW9uR3JpZCgpOiB2b2lkIHsgc3VwZXIuaW5pdExvY2FsaXphdGlvbkdyaWQoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGluaXRMb2NhbGl6YXRpb25HcmlkQXN5bmMoKTogUHJvbWlzZUxpa2U8dm9pZD4geyByZXR1cm4gc3VwZXIuaW5pdExvY2FsaXphdGlvbkdyaWRBc3luYygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGluaXRMb2NhbGl6YXRpb25HcmlkQ29tbW9uKHBnT3B0aW9uczogU2VyZW5pdHkuUHJvcGVydHlHcmlkT3B0aW9ucyk6IHZvaWQgeyBzdXBlci5pbml0TG9jYWxpemF0aW9uR3JpZENvbW1vbihwZ09wdGlvbnMpOyB9XHJcblxyXG4gICAgICAgIGxvYWQoZW50aXR5T3JJZDogYW55LCBkb25lOiAoKSA9PiB2b2lkLCBmYWlsOiAoZXg6IFEuRXhjZXB0aW9uKSA9PiB2b2lkKTogdm9pZCB7IHN1cGVyLmxvYWQoZW50aXR5T3JJZCwgZG9uZSwgZmFpbCk7IH1cclxuICAgICAgICBsb2FkUmVzcG9uc2UoZGF0YTogYW55KTogdm9pZCB7IHN1cGVyLmxvYWRSZXNwb25zZShkYXRhKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBvbkxvYWRpbmdEYXRhKGRhdGE6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KTogdm9pZCB7IHN1cGVyLm9uTG9hZGluZ0RhdGEoZGF0YSk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlTG9hZEVudGl0eShlbnRpdHk6IEF1ZGl0TG9nUm93KTogdm9pZCB7IHN1cGVyLmJlZm9yZUxvYWRFbnRpdHkoZW50aXR5KTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBsb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3cpOiB2b2lkIHsgc3VwZXIubG9hZEVudGl0eShlbnRpdHkpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHNldF9lbnRpdHlJZCh2YWx1ZTogYW55KTogdm9pZCB7IHN1cGVyLnNldF9lbnRpdHlJZCh2YWx1ZSk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0X2VudGl0eShlbnRpdHk6IGFueSk6IHZvaWQgeyBzdXBlci5zZXRfZW50aXR5KGVudGl0eSk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGlzRWRpdE1vZGUoKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5pc0VkaXRNb2RlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X2VudGl0eUlkKCk6IGFueSB7IHJldHVybiBzdXBlci5nZXRfZW50aXR5SWQoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRfZW50aXR5KCk6IEF1ZGl0TG9nUm93IHsgcmV0dXJuIHN1cGVyLmdldF9lbnRpdHkoKTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWZ0ZXJMb2FkRW50aXR5KCk6IHZvaWQgeyBzdXBlci5hZnRlckxvYWRFbnRpdHkoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKTogdm9pZCB7IHN1cGVyLnVwZGF0ZUludGVyZmFjZSgpOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpc0RlbGV0ZWQoKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5pc0RlbGV0ZWQoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc0xvY2FsaXphdGlvbk1vZGUoKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5pc0xvY2FsaXphdGlvbk1vZGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc05ldygpOiBib29sZWFuIHsgcmV0dXJuIHN1cGVyLmlzTmV3KCk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZVRpdGxlKCk6IHZvaWQgeyBzdXBlci51cGRhdGVUaXRsZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVRpdGxlKCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRFbnRpdHlUaXRsZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVNpbmd1bGFyKCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRFbnRpdHlTaW5ndWxhcigpOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYXZlRW50aXR5KCk6IEF1ZGl0TG9nUm93IHsgcmV0dXJuIHN1cGVyLmdldFNhdmVFbnRpdHkoKTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdERpYWxvZygpOiB2b2lkIHsgc3VwZXIuaW5pdERpYWxvZygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ09wdGlvbnMoKTogSlF1ZXJ5VUkuRGlhbG9nT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXREaWFsb2dPcHRpb25zKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nVGl0bGUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldERpYWxvZ1RpdGxlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgaGFuZGxlUmVzcG9uc2l2ZSgpOiB2b2lkIHsgc3VwZXIuaGFuZGxlUmVzcG9uc2l2ZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIG9uRGlhbG9nT3BlbigpOiB2b2lkIHsgc3VwZXIub25EaWFsb2dPcGVuKCk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFycmFuZ2UoKTogdm9pZCB7IHN1cGVyLmFycmFuZ2UoKTsgfVxyXG5cclxuXHJcbiAgICAgICAgLy9zYXZlIGN5Y2xlXHJcbiAgICAgICAgcHJvdGVjdGVkIHNhdmUoY2FsbGJhY2s/OiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgfCBib29sZWFuIHsgcmV0dXJuIHN1cGVyLnNhdmUoY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHZhbGlkYXRlQmVmb3JlU2F2ZSgpOiBib29sZWFuIHsgcmV0dXJuIHN1cGVyLnZhbGlkYXRlQmVmb3JlU2F2ZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHNhdmVfc3VibWl0SGFuZGxlcihjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHsgc3VwZXIuc2F2ZV9zdWJtaXRIYW5kbGVyKGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYXZlT3B0aW9ucyhjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpOiBTZXJlbml0eS5TZXJ2aWNlT3B0aW9uczxTZXJlbml0eS5TYXZlUmVzcG9uc2U+IHsgcmV0dXJuIHN1cGVyLmdldFNhdmVPcHRpb25zKGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIC8vaXNFZGl0TW9kZVxyXG4gICAgICAgIC8vZ2V0X2VudGl0eUlkXHJcbiAgICAgICAgLy9pc0Nsb25lTW9kZVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRTYXZlUmVxdWVzdCgpOiBTZXJlbml0eS5TYXZlUmVxdWVzdDxBdWRpdExvZ1Jvdz4geyByZXR1cm4gc3VwZXIuZ2V0U2F2ZVJlcXVlc3QoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFNhdmVFbnRpdHkoKTogQXVkaXRMb2dSb3cgeyByZXR1cm4gc3VwZXIuZ2V0U2F2ZUVudGl0eSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHNhdmVIYW5kbGVyKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlNhdmVSZXNwb25zZT4sIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBzdXBlci5zYXZlSGFuZGxlcihvcHRpb25zLCBjYWxsYmFjayk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uU2F2ZVN1Y2Nlc3MocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSk6IHZvaWQgeyBzdXBlci5vblNhdmVTdWNjZXNzKHJlc3BvbnNlKTsgfVxyXG4gICAgICAgIGxvYWRCeUlkKGlkOiBhbnksIGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZCwgZmFpbD86ICgpID0+IHZvaWQpOiB2b2lkIHsgc3VwZXIubG9hZEJ5SWQoaWQsIGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2FkQnlJZFJlcXVlc3QoaWQ6IGFueSk6IFNlcmVuaXR5LlJldHJpZXZlUmVxdWVzdCB7IHJldHVybiBzdXBlci5nZXRMb2FkQnlJZFJlcXVlc3QoaWQpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvYWRCeUlkT3B0aW9ucyhpZDogYW55LCBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZCk6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+PiB7IHJldHVybiBzdXBlci5nZXRMb2FkQnlJZE9wdGlvbnMoaWQsIGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBsb2FkQnlJZEhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxBdWRpdExvZ1Jvdz4+LCBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZCwgZmFpbDogKCkgPT4gdm9pZCk6IHZvaWQgeyBzdXBlci5sb2FkQnlJZEhhbmRsZXIob3B0aW9ucywgY2FsbGJhY2ssIGZhaWwpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHNob3dTYXZlU3VjY2Vzc01lc3NhZ2UocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSk6IHZvaWQgeyBzdXBlci5zaG93U2F2ZVN1Y2Nlc3NNZXNzYWdlKHJlc3BvbnNlKTsgfVxyXG4gICAgICAgIC8vbG9hZFJlc3BvbnNlKGRhdGE6IGFueSk6IHZvaWQgeyBzdXBlci5sb2FkUmVzcG9uc2UoZGF0YSk7IH1cclxuXHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBpbml0aWFsaXplQXN5bmMoKTogUHJvbWlzZUxpa2U8dm9pZD4geyByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZUFzeW5jKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RW50aXR5TmFtZUZpZWxkVmFsdWUoKTogYW55IHsgcmV0dXJuIHN1cGVyLmdldEVudGl0eU5hbWVGaWVsZFZhbHVlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgaXNDbG9uZU1vZGUoKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5pc0Nsb25lTW9kZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGlzTmV3T3JEZWxldGVkKCk6IGJvb2xlYW4geyByZXR1cm4gc3VwZXIuaXNOZXdPckRlbGV0ZWQoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREZWxldGVPcHRpb25zKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkKTogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuRGVsZXRlUmVzcG9uc2U+IHsgcmV0dXJuIHN1cGVyLmdldERlbGV0ZU9wdGlvbnMoY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGRlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuRGVsZXRlUmVzcG9uc2U+LCBjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBzdXBlci5kZWxldGVIYW5kbGVyKG9wdGlvbnMsIGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBkb0RlbGV0ZShjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBzdXBlci5kb0RlbGV0ZShjYWxsYmFjayk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgb25EZWxldGVTdWNjZXNzKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSk6IHZvaWQgeyBzdXBlci5vbkRlbGV0ZVN1Y2Nlc3MocmVzcG9uc2UpOyB9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgYXR0cnM8VEF0dHI+KGF0dHJUeXBlOiB7XHJcbiAgICAgICAgLy8gICAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFRBdHRyO1xyXG4gICAgICAgIC8vfSk6IFRBdHRyW107XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVR5cGUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldEVudGl0eVR5cGUoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldEZvcm1LZXkoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldEZvcm1LZXkoKTt9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExvY2FsVGV4dERiUHJlZml4KCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRMb2NhbFRleHREYlByZWZpeCgpOyB9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRMb2NhbFRleHRQcmVmaXgoKTt9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0TmFtZVByb3BlcnR5KCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXROYW1lUHJvcGVydHkoKTt9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0SWRQcm9wZXJ0eSgpO31cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElzRGVsZXRlZFByb3BlcnR5KCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRJc0RlbGV0ZWRQcm9wZXJ0eSgpOyB9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0U2VydmljZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0U2VydmljZSgpO31cclxuICAgICAgICBsb2FkTmV3QW5kT3BlbkRpYWxvZyhhc1BhbmVsPzogYm9vbGVhbik6IHZvaWQgeyBzdXBlci5sb2FkTmV3QW5kT3BlbkRpYWxvZyhhc1BhbmVsKTsgfVxyXG4gICAgICAgIGxvYWRFbnRpdHlBbmRPcGVuRGlhbG9nKGVudGl0eTogQXVkaXRMb2dSb3csIGFzUGFuZWw/OiBib29sZWFuKTogdm9pZCB7IHN1cGVyLmxvYWROZXdBbmRPcGVuRGlhbG9nKGFzUGFuZWwpOyB9XHJcblxyXG4gICAgICAgIGxvYWRCeUlkQW5kT3BlbkRpYWxvZyhlbnRpdHlJZDogYW55LCBhc1BhbmVsPzogYm9vbGVhbik6IHZvaWQgeyBzdXBlci5sb2FkQnlJZEFuZE9wZW5EaWFsb2coZW50aXR5SWQsIGFzUGFuZWwpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHJlbG9hZEJ5SWQoKTogdm9pZCB7IHN1cGVyLnJlbG9hZEJ5SWQoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc0xvY2FsaXphdGlvbk1vZGVBbmRDaGFuZ2VkKCk6IGJvb2xlYW4geyByZXR1cm4gc3VwZXIuaXNMb2NhbGl6YXRpb25Nb2RlQW5kQ2hhbmdlZCgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGxvY2FsaXphdGlvbkJ1dHRvbkNsaWNrKCk6IHZvaWQgeyBzdXBlci5sb2NhbGl6YXRpb25CdXR0b25DbGljaygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldExhbmd1YWdlcygpOiBhbnlbXSB7IHJldHVybiBzdXBlci5nZXRMYW5ndWFnZXMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBsb2FkTG9jYWxpemF0aW9uKCk6IHZvaWQgeyBzdXBlci5sb2FkTG9jYWxpemF0aW9uKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0TG9jYWxpemF0aW9uR3JpZEN1cnJlbnRWYWx1ZXMoKTogdm9pZCB7IHN1cGVyLnNldExvY2FsaXphdGlvbkdyaWRDdXJyZW50VmFsdWVzKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9jYWxpemF0aW9uR3JpZFZhbHVlKCk6IGFueSB7IHJldHVybiBzdXBlci5nZXRMb2NhbGl6YXRpb25HcmlkVmFsdWUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQZW5kaW5nTG9jYWxpemF0aW9ucygpOiBhbnkgeyByZXR1cm4gc3VwZXIuZ2V0UGVuZGluZ0xvY2FsaXphdGlvbnMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eUl0ZW1zKCk6IFNlcmVuaXR5LlByb3BlcnR5SXRlbVtdIHsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5SXRlbXMoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFByb3BlcnR5SXRlbXNBc3luYygpOiBQcm9taXNlTGlrZTxTZXJlbml0eS5Qcm9wZXJ0eUl0ZW1bXT4geyByZXR1cm4gc3VwZXIuZ2V0UHJvcGVydHlJdGVtc0FzeW5jKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q2xvbmluZ0VudGl0eSgpOiBBdWRpdExvZ1JvdyB7IHJldHVybiBzdXBlci5nZXRDbG9uaW5nRW50aXR5KCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VW5kZWxldGVPcHRpb25zKGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTZXJlbml0eS5VbmRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkKTogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZT4geyByZXR1cm4gc3VwZXIuZ2V0VW5kZWxldGVPcHRpb25zKGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1bmRlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZT4sIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlVuZGVsZXRlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHsgc3VwZXIudW5kZWxldGVIYW5kbGVyKG9wdGlvbnMsIGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1bmRlbGV0ZShjYWxsYmFjaz86IChyZXNwb25zZTogU2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBzdXBlci51bmRlbGV0ZShjYWxsYmFjayk7IH1cclxuXHJcbiAgICAgICAgLy9kZXN0cm95KCk6IHZvaWQ7XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgaW5pdFRvb2xiYXIoKTogdm9pZCB7IHN1cGVyLmluaXRUb29sYmFyKCk7fVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFRvb2xiYXJCdXR0b25zKCk6IFNlcmVuaXR5LlRvb2xCdXR0b25bXSB7IHJldHVybiBzdXBlci5nZXRUb29sYmFyQnV0dG9ucygpO31cclxuICAgICAgICBwcm90ZWN0ZWQgcmVzZXRWYWxpZGF0aW9uKCk6IHZvaWQgeyBzdXBlci5yZXNldFZhbGlkYXRpb24oKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB2YWxpZGF0ZUZvcm0oKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci52YWxpZGF0ZUZvcm0oKTsgfVxyXG4gICAgICAgIC8vZGlhbG9nT3Blbihhc1BhbmVsPzogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICAgICAgLy9zdGF0aWMgb3BlblBhbmVsKGVsZW1lbnQ6IEpRdWVyeSwgdW5pcXVlTmFtZTogc3RyaW5nKTogdm9pZDtcclxuICAgICAgICAvL3N0YXRpYyBjbG9zZVBhbmVsKGVsZW1lbnQ6IEpRdWVyeSwgZT86IEpRdWVyeUV2ZW50T2JqZWN0KTogdm9pZDtcclxuICAgICAgICBwcm90ZWN0ZWQgb25EaWFsb2dDbG9zZSgpOiB2b2lkIHsgc3VwZXIub25EaWFsb2dDbG9zZSgpOyB9XHJcbiAgICAgICAgZGVzdHJveSgpOiB2b2lkIHsgc3VwZXIuZGVzdHJveSgpOyB9XHJcblxyXG4gICAgICAgIC8vZGlhbG9nQ2xvc2UoKTogdm9pZDtcclxuICAgICAgICAvL3NldF9kaWFsb2dUaXRsZSh2YWx1ZTogc3RyaW5nKTogdm9pZDtcclxuXHJcblxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRGlhbG9nV2l0aEFsbE92ZXJyaWRhYmxlTWV0aG9kcyBleHRlbmRzIERpYWxvZ0Jhc2U8QXVkaXRMb2dSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRGb3JtS2V5KCkgeyByZXR1cm4gQXVkaXRMb2dGb3JtLmZvcm1LZXk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Um93VHlwZSgpIHsgcmV0dXJuIEF1ZGl0TG9nUm93OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBBdWRpdExvZ1NlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZm9ybSA9IG5ldyBBdWRpdExvZ0Zvcm0odGhpcy5pZFByZWZpeCk7XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkQ3NzQ2xhc3MoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdhZGRDc3NDbGFzcycpOyBzdXBlci5hZGRDc3NDbGFzcygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFRlbXBsYXRlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRUZW1wbGF0ZScpOyByZXR1cm4gc3VwZXIuZ2V0VGVtcGxhdGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZU5hbWUoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldFRlbXBsYXRlTmFtZScpOyByZXR1cm4gc3VwZXIuZ2V0VGVtcGxhdGVOYW1lKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RmFsbGJhY2tUZW1wbGF0ZSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0RmFsbGJhY2tUZW1wbGF0ZScpOyByZXR1cm4gc3VwZXIuZ2V0RmFsbGJhY2tUZW1wbGF0ZSgpOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0VmFsaWRhdG9yKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnaW5pdFZhbGlkYXRvcicpOyBzdXBlci5pbml0VmFsaWRhdG9yKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VmFsaWRhdG9yT3B0aW9ucygpOiBKUXVlcnlWYWxpZGF0aW9uLlZhbGlkYXRpb25PcHRpb25zIHsgY29uc29sZS5sb2coJ2dldFZhbGlkYXRvck9wdGlvbnMnKTsgcmV0dXJuIHN1cGVyLmdldFZhbGlkYXRvck9wdGlvbnMoKTsgfVxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGluaXRUYWJzKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnaW5pdFRhYnMnKTsgc3VwZXIuaW5pdFRhYnMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0VG9vbGJhcigpOiB2b2lkIHsgY29uc29sZS5sb2coJ2luaXRUb29sYmFyJyk7IHN1cGVyLmluaXRUb29sYmFyKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VG9vbGJhckJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHsgY29uc29sZS5sb2coJ2dldFRvb2xiYXJCdXR0b25zJyk7IHJldHVybiBzdXBlci5nZXRUb29sYmFyQnV0dG9ucygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGluaXRQcm9wZXJ0eUdyaWQoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbml0UHJvcGVydHlHcmlkJyk7IHN1cGVyLmluaXRQcm9wZXJ0eUdyaWQoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGluaXRQcm9wZXJ0eUdyaWRBc3luYygpOiBQcm9taXNlTGlrZTx2b2lkPiB7IGNvbnNvbGUubG9nKCdpbml0UHJvcGVydHlHcmlkQXN5bmMnKTsgcmV0dXJuIHN1cGVyLmluaXRQcm9wZXJ0eUdyaWRBc3luYygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFByb3BlcnR5R3JpZE9wdGlvbnMoKTogU2VyZW5pdHkuUHJvcGVydHlHcmlkT3B0aW9ucyB7IGNvbnNvbGUubG9nKCdnZXRQcm9wZXJ0eUdyaWRPcHRpb25zJyk7IHJldHVybiBzdXBlci5nZXRQcm9wZXJ0eUdyaWRPcHRpb25zKCk7IH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRQcm9wZXJ0eUdyaWRPcHRpb25zQXN5bmMoKTogUHJvbWlzZUxpa2U8U2VyZW5pdHkuUHJvcGVydHlHcmlkT3B0aW9ucz4geyBjb25zb2xlLmxvZygnZ2V0UHJvcGVydHlHcmlkT3B0aW9uc0FzeW5jJyk7IHJldHVybiBzdXBlci5nZXRQcm9wZXJ0eUdyaWRPcHRpb25zQXN5bmMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0TG9jYWxpemF0aW9uR3JpZCgpOiB2b2lkIHsgY29uc29sZS5sb2coJ2luaXRMb2NhbGl6YXRpb25HcmlkJyk7IHN1cGVyLmluaXRMb2NhbGl6YXRpb25HcmlkKCk7IH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBpbml0TG9jYWxpemF0aW9uR3JpZEFzeW5jKCk6IFByb21pc2VMaWtlPHZvaWQ+IHsgY29uc29sZS5sb2coJ2luaXRMb2NhbGl6YXRpb25HcmlkQXN5bmMnKTsgcmV0dXJuIHN1cGVyLmluaXRMb2NhbGl6YXRpb25HcmlkQXN5bmMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0TG9jYWxpemF0aW9uR3JpZENvbW1vbihwZ09wdGlvbnM6IFNlcmVuaXR5LlByb3BlcnR5R3JpZE9wdGlvbnMpOiB2b2lkIHsgY29uc29sZS5sb2coJ2luaXRMb2NhbGl6YXRpb25HcmlkQ29tbW9uKHBnT3B0aW9uczogUHJvcGVydHlHcmlkT3B0aW9ucycpOyBzdXBlci5pbml0TG9jYWxpemF0aW9uR3JpZENvbW1vbihwZ09wdGlvbnMpOyB9XHJcblxyXG4gICAgICAgIGxvYWQoZW50aXR5T3JJZDogYW55LCBkb25lOiAoKSA9PiB2b2lkLCBmYWlsOiAoZXg6IFEuRXhjZXB0aW9uKSA9PiB2b2lkKTogdm9pZCB7IGNvbnNvbGUubG9nKCdsb2FkJyk7IHN1cGVyLmxvYWQoZW50aXR5T3JJZCwgZG9uZSwgZmFpbCk7IH1cclxuICAgICAgICBsb2FkUmVzcG9uc2UoZGF0YTogYW55KTogdm9pZCB7IGNvbnNvbGUubG9nKCdsb2FkUmVzcG9uc2UoZGF0YTogYW55Jyk7IHN1cGVyLmxvYWRSZXNwb25zZShkYXRhKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBvbkxvYWRpbmdEYXRhKGRhdGE6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KTogdm9pZCB7IGNvbnNvbGUubG9nKCdvbkxvYWRpbmdEYXRhKGRhdGE6IFJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+Jyk7IHN1cGVyLm9uTG9hZGluZ0RhdGEoZGF0YSk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgYmVmb3JlTG9hZEVudGl0eShlbnRpdHk6IEF1ZGl0TG9nUm93KTogdm9pZCB7IGNvbnNvbGUubG9nKCdiZWZvcmVMb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3cnKTsgc3VwZXIuYmVmb3JlTG9hZEVudGl0eShlbnRpdHkpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGxvYWRFbnRpdHkoZW50aXR5OiBBdWRpdExvZ1Jvdyk6IHZvaWQgeyBjb25zb2xlLmxvZygnbG9hZEVudGl0eShlbnRpdHk6IEF1ZGl0TG9nUm93Jyk7IHN1cGVyLmxvYWRFbnRpdHkoZW50aXR5KTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRfZW50aXR5SWQodmFsdWU6IGFueSk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0X2VudGl0eUlkKHZhbHVlOiBhbnknKTsgc3VwZXIuc2V0X2VudGl0eUlkKHZhbHVlKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRfZW50aXR5KGVudGl0eTogYW55KTogdm9pZCB7IGNvbnNvbGUubG9nKCdzZXRfZW50aXR5KGVudGl0eTogYW55Jyk7IHN1cGVyLnNldF9lbnRpdHkoZW50aXR5KTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaXNFZGl0TW9kZSgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2lzRWRpdE1vZGUnKTsgcmV0dXJuIHN1cGVyLmlzRWRpdE1vZGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRfZW50aXR5SWQoKTogYW55IHsgY29uc29sZS5sb2coJ2dldF9lbnRpdHlJZCcpOyByZXR1cm4gc3VwZXIuZ2V0X2VudGl0eUlkKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X2VudGl0eSgpOiBBdWRpdExvZ1JvdyB7IGNvbnNvbGUubG9nKCdnZXRfZW50aXR5Jyk7IHJldHVybiBzdXBlci5nZXRfZW50aXR5KCk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFmdGVyTG9hZEVudGl0eSgpOiB2b2lkIHsgY29uc29sZS5sb2coJ2FmdGVyTG9hZEVudGl0eScpOyBzdXBlci5hZnRlckxvYWRFbnRpdHkoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJbnRlcmZhY2UoKTogdm9pZCB7IGNvbnNvbGUubG9nKCd1cGRhdGVJbnRlcmZhY2UnKTsgc3VwZXIudXBkYXRlSW50ZXJmYWNlKCk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGlzRGVsZXRlZCgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2lzRGVsZXRlZCcpOyByZXR1cm4gc3VwZXIuaXNEZWxldGVkKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgaXNMb2NhbGl6YXRpb25Nb2RlKCk6IGJvb2xlYW4geyBjb25zb2xlLmxvZygnaXNMb2NhbGl6YXRpb25Nb2RlJyk7IHJldHVybiBzdXBlci5pc0xvY2FsaXphdGlvbk1vZGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc05ldygpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2lzTmV3Jyk7IHJldHVybiBzdXBlci5pc05ldygpOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVUaXRsZSgpOiB2b2lkIHsgY29uc29sZS5sb2coJ3VwZGF0ZVRpdGxlJyk7IHN1cGVyLnVwZGF0ZVRpdGxlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RW50aXR5VGl0bGUoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldEVudGl0eVRpdGxlJyk7IHJldHVybiBzdXBlci5nZXRFbnRpdHlUaXRsZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVNpbmd1bGFyKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRFbnRpdHlTaW5ndWxhcicpOyByZXR1cm4gc3VwZXIuZ2V0RW50aXR5U2luZ3VsYXIoKTsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2F2ZUVudGl0eSgpOiBBdWRpdExvZ1JvdyB7IGNvbnNvbGUubG9nKCdnZXRTYXZlRW50aXR5Jyk7IHJldHVybiBzdXBlci5nZXRTYXZlRW50aXR5KCk7IH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGluaXREaWFsb2coKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbml0RGlhbG9nJyk7IHN1cGVyLmluaXREaWFsb2coKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zKCk6IEpRdWVyeVVJLkRpYWxvZ09wdGlvbnMgeyBjb25zb2xlLmxvZygnZ2V0RGlhbG9nT3B0aW9ucycpOyByZXR1cm4gc3VwZXIuZ2V0RGlhbG9nT3B0aW9ucygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ1RpdGxlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXREaWFsb2dUaXRsZScpOyByZXR1cm4gc3VwZXIuZ2V0RGlhbG9nVGl0bGUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBoYW5kbGVSZXNwb25zaXZlKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnaGFuZGxlUmVzcG9uc2l2ZScpOyBzdXBlci5oYW5kbGVSZXNwb25zaXZlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgb25EaWFsb2dPcGVuKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnb25EaWFsb2dPcGVuJyk7IHN1cGVyLm9uRGlhbG9nT3BlbigpOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhcnJhbmdlKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnYXJyYW5nZScpOyBzdXBlci5hcnJhbmdlKCk7IH1cclxuXHJcblxyXG4gICAgICAgIC8vc2F2ZSBjeWNsZVxyXG4gICAgICAgIHByb3RlY3RlZCBzYXZlKGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHwgYm9vbGVhbiB7IGNvbnNvbGUubG9nKCdzYXZlKGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTYXZlUmVzcG9uc2UpID0+IHZvaWQnKTsgcmV0dXJuIHN1cGVyLnNhdmUoY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHZhbGlkYXRlQmVmb3JlU2F2ZSgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ3ZhbGlkYXRlQmVmb3JlU2F2ZScpOyByZXR1cm4gc3VwZXIudmFsaWRhdGVCZWZvcmVTYXZlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZV9zdWJtaXRIYW5kbGVyKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2F2ZV9zdWJtaXRIYW5kbGVyKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNhdmVSZXNwb25zZSkgPT4gdm9pZCcpOyBzdXBlci5zYXZlX3N1Ym1pdEhhbmRsZXIoY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNhdmVPcHRpb25zKGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlNhdmVSZXNwb25zZSkgPT4gdm9pZCk6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlNhdmVSZXNwb25zZT4geyBjb25zb2xlLmxvZygnZ2V0U2F2ZU9wdGlvbnMoY2FsbGJhY2s6IChyZXNwb25zZTogU2F2ZVJlc3BvbnNlKSA9PiB2b2lkJyk7IHJldHVybiBzdXBlci5nZXRTYXZlT3B0aW9ucyhjYWxsYmFjayk7IH1cclxuICAgICAgICAvL2lzRWRpdE1vZGVcclxuICAgICAgICAvL2dldF9lbnRpdHlJZFxyXG4gICAgICAgIC8vaXNDbG9uZU1vZGVcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2F2ZVJlcXVlc3QoKTogU2VyZW5pdHkuU2F2ZVJlcXVlc3Q8QXVkaXRMb2dSb3c+IHsgY29uc29sZS5sb2coJ2dldFNhdmVSZXF1ZXN0Jyk7IHJldHVybiBzdXBlci5nZXRTYXZlUmVxdWVzdCgpOyB9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0U2F2ZUVudGl0eSgpOiBBdWRpdExvZ1JvdyB7IGNvbnNvbGUubG9nKCdnZXRTYXZlRW50aXR5Jyk7IHJldHVybiBzdXBlci5nZXRTYXZlRW50aXR5KCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgc2F2ZUhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuU2F2ZVJlc3BvbnNlPiwgY2FsbGJhY2s6IChyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKSA9PiB2b2lkKTogdm9pZCB7IGNvbnNvbGUubG9nKCdzYXZlSGFuZGxlcihvcHRpb25zOiBTZXJ2aWNlT3B0aW9uczxTYXZlUmVzcG9uc2U+LCBjYWxsYmFjazogKHJlc3BvbnNlOiBTYXZlUmVzcG9uc2UpID0+IHZvaWQnKTsgc3VwZXIuc2F2ZUhhbmRsZXIob3B0aW9ucywgY2FsbGJhY2spOyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvblNhdmVTdWNjZXNzKHJlc3BvbnNlOiBTZXJlbml0eS5TYXZlUmVzcG9uc2UpOiB2b2lkIHsgY29uc29sZS5sb2coJ29uU2F2ZVN1Y2Nlc3MocmVzcG9uc2U6IFNhdmVSZXNwb25zZScpOyBzdXBlci5vblNhdmVTdWNjZXNzKHJlc3BvbnNlKTsgfVxyXG4gICAgICAgIGxvYWRCeUlkKGlkOiBhbnksIGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZCwgZmFpbD86ICgpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWRCeUlkJyk7IHN1cGVyLmxvYWRCeUlkKGlkLCBjYWxsYmFjayk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9hZEJ5SWRSZXF1ZXN0KGlkOiBhbnkpOiBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3QgeyBjb25zb2xlLmxvZygnZ2V0TG9hZEJ5SWRSZXF1ZXN0KGlkOiBhbnknKTsgcmV0dXJuIHN1cGVyLmdldExvYWRCeUlkUmVxdWVzdChpZCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TG9hZEJ5SWRPcHRpb25zKGlkOiBhbnksIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KSA9PiB2b2lkKTogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxBdWRpdExvZ1Jvdz4+IHsgY29uc29sZS5sb2coJ2dldExvYWRCeUlkT3B0aW9ucyhpZDogYW55LCBjYWxsYmFjazogKHJlc3BvbnNlOiBSZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZCcpOyByZXR1cm4gc3VwZXIuZ2V0TG9hZEJ5SWRPcHRpb25zKGlkLCBjYWxsYmFjayk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgbG9hZEJ5SWRIYW5kbGVyKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+PiwgY2FsbGJhY2s6IChyZXNwb25zZTogU2VyZW5pdHkuUmV0cmlldmVSZXNwb25zZTxBdWRpdExvZ1Jvdz4pID0+IHZvaWQsIGZhaWw6ICgpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWRCeUlkSGFuZGxlcihvcHRpb25zOiBTZXJ2aWNlT3B0aW9uczxSZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93Pj4sIGNhbGxiYWNrOiAocmVzcG9uc2U6IFJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KSA9PiB2b2lkLCBmYWlsOiAoKSA9PiB2b2lkJyk7IHN1cGVyLmxvYWRCeUlkSGFuZGxlcihvcHRpb25zLCBjYWxsYmFjaywgZmFpbCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgc2hvd1NhdmVTdWNjZXNzTWVzc2FnZShyZXNwb25zZTogU2VyZW5pdHkuU2F2ZVJlc3BvbnNlKTogdm9pZCB7IGNvbnNvbGUubG9nKCdzaG93U2F2ZVN1Y2Nlc3NNZXNzYWdlKHJlc3BvbnNlOiBTYXZlUmVzcG9uc2UnKTsgc3VwZXIuc2hvd1NhdmVTdWNjZXNzTWVzc2FnZShyZXNwb25zZSk7IH1cclxuICAgICAgICAvL2xvYWRSZXNwb25zZShkYXRhOiBhbnkpOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWRSZXNwb25zZShkYXRhOiBhbnknKTsgc3VwZXIubG9hZFJlc3BvbnNlKGRhdGEpOyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGluaXRpYWxpemVBc3luYygpOiBQcm9taXNlTGlrZTx2b2lkPiB7IGNvbnNvbGUubG9nKCdpbml0aWFsaXplQXN5bmMnKTsgcmV0dXJuIHN1cGVyLmluaXRpYWxpemVBc3luYygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eU5hbWVGaWVsZFZhbHVlKCk6IGFueSB7IGNvbnNvbGUubG9nKCdnZXRFbnRpdHlOYW1lRmllbGRWYWx1ZScpOyByZXR1cm4gc3VwZXIuZ2V0RW50aXR5TmFtZUZpZWxkVmFsdWUoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBpc0Nsb25lTW9kZSgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2lzQ2xvbmVNb2RlJyk7IHJldHVybiBzdXBlci5pc0Nsb25lTW9kZSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGlzTmV3T3JEZWxldGVkKCk6IGJvb2xlYW4geyBjb25zb2xlLmxvZygnaXNOZXdPckRlbGV0ZWQnKTsgcmV0dXJuIHN1cGVyLmlzTmV3T3JEZWxldGVkKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVsZXRlT3B0aW9ucyhjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlPiB7IGNvbnNvbGUubG9nKCdnZXREZWxldGVPcHRpb25zKGNhbGxiYWNrOiAocmVzcG9uc2U6IERlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkJyk7IHJldHVybiBzdXBlci5nZXREZWxldGVPcHRpb25zKGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBkZWxldGVIYW5kbGVyKG9wdGlvbnM6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LkRlbGV0ZVJlc3BvbnNlPiwgY2FsbGJhY2s6IChyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ2RlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VydmljZU9wdGlvbnM8RGVsZXRlUmVzcG9uc2U+LCBjYWxsYmFjazogKHJlc3BvbnNlOiBEZWxldGVSZXNwb25zZSkgPT4gdm9pZCcpOyBzdXBlci5kZWxldGVIYW5kbGVyKG9wdGlvbnMsIGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBkb0RlbGV0ZShjYWxsYmFjazogKHJlc3BvbnNlOiBTZXJlbml0eS5EZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IHZvaWQgeyBjb25zb2xlLmxvZygnZG9EZWxldGUoY2FsbGJhY2s6IChyZXNwb25zZTogRGVsZXRlUmVzcG9uc2UpID0+IHZvaWQnKTsgc3VwZXIuZG9EZWxldGUoY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIG9uRGVsZXRlU3VjY2VzcyhyZXNwb25zZTogU2VyZW5pdHkuRGVsZXRlUmVzcG9uc2UpOiB2b2lkIHsgY29uc29sZS5sb2coJ29uRGVsZXRlU3VjY2VzcyhyZXNwb25zZTogRGVsZXRlUmVzcG9uc2UnKTsgc3VwZXIub25EZWxldGVTdWNjZXNzKHJlc3BvbnNlKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGF0dHJzPFRBdHRyPihhdHRyVHlwZToge1xyXG4gICAgICAgIC8vICAgIG5ldyAoLi4uYXJnczogYW55W10pOiBUQXR0cjtcclxuICAgICAgICAvL30pOiBUQXR0cltdO1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRFbnRpdHlUeXBlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRFbnRpdHlUeXBlJyk7IHJldHVybiBzdXBlci5nZXRFbnRpdHlUeXBlKCk7IH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRGb3JtS2V5KCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRGb3JtS2V5Jyk7IHJldHVybiBzdXBlci5nZXRGb3JtS2V5KCk7fVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHREYlByZWZpeCgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0TG9jYWxUZXh0RGJQcmVmaXgnKTsgcmV0dXJuIHN1cGVyLmdldExvY2FsVGV4dERiUHJlZml4KCk7IH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldExvY2FsVGV4dFByZWZpeCcpOyByZXR1cm4gc3VwZXIuZ2V0TG9jYWxUZXh0UHJlZml4KCk7fVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldE5hbWVQcm9wZXJ0eSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0TmFtZVByb3BlcnR5Jyk7IHJldHVybiBzdXBlci5nZXROYW1lUHJvcGVydHkoKTt9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0SWRQcm9wZXJ0eScpOyByZXR1cm4gc3VwZXIuZ2V0SWRQcm9wZXJ0eSgpO31cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0SXNBY3RpdmVQcm9wZXJ0eScpOyByZXR1cm4gc3VwZXIuZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElzRGVsZXRlZFByb3BlcnR5KCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRJc0RlbGV0ZWRQcm9wZXJ0eScpOyByZXR1cm4gc3VwZXIuZ2V0SXNEZWxldGVkUHJvcGVydHkoKTsgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFNlcnZpY2UoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldFNlcnZpY2UnKTsgcmV0dXJuIHN1cGVyLmdldFNlcnZpY2UoKTt9XHJcbiAgICAgICAgbG9hZE5ld0FuZE9wZW5EaWFsb2coYXNQYW5lbD86IGJvb2xlYW4pOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWROZXdBbmRPcGVuRGlhbG9nJyk7IHN1cGVyLmxvYWROZXdBbmRPcGVuRGlhbG9nKGFzUGFuZWwpOyB9XHJcbiAgICAgICAgbG9hZEVudGl0eUFuZE9wZW5EaWFsb2coZW50aXR5OiBBdWRpdExvZ1JvdywgYXNQYW5lbD86IGJvb2xlYW4pOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWROZXdBbmRPcGVuRGlhbG9nJyk7IHN1cGVyLmxvYWROZXdBbmRPcGVuRGlhbG9nKGFzUGFuZWwpOyB9XHJcblxyXG4gICAgICAgIGxvYWRCeUlkQW5kT3BlbkRpYWxvZyhlbnRpdHlJZDogYW55LCBhc1BhbmVsPzogYm9vbGVhbik6IHZvaWQgeyBjb25zb2xlLmxvZygnbG9hZE5ld0FuZE9wZW5EaWFsb2cnKTsgc3VwZXIubG9hZEJ5SWRBbmRPcGVuRGlhbG9nKGVudGl0eUlkLCBhc1BhbmVsKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCByZWxvYWRCeUlkKCk6IHZvaWQgeyBjb25zb2xlLmxvZygncmVsb2FkQnlJZCcpOyBzdXBlci5yZWxvYWRCeUlkKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgaXNMb2NhbGl6YXRpb25Nb2RlQW5kQ2hhbmdlZCgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2lzTG9jYWxpemF0aW9uTW9kZUFuZENoYW5nZWQnKTsgcmV0dXJuIHN1cGVyLmlzTG9jYWxpemF0aW9uTW9kZUFuZENoYW5nZWQoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBsb2NhbGl6YXRpb25CdXR0b25DbGljaygpOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvY2FsaXphdGlvbkJ1dHRvbkNsaWNrJyk7IHN1cGVyLmxvY2FsaXphdGlvbkJ1dHRvbkNsaWNrKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0TGFuZ3VhZ2VzKCk6IGFueVtdIHsgY29uc29sZS5sb2coJ2dldExhbmd1YWdlcycpOyByZXR1cm4gc3VwZXIuZ2V0TGFuZ3VhZ2VzKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgbG9hZExvY2FsaXphdGlvbigpOiB2b2lkIHsgY29uc29sZS5sb2coJ2xvYWRMb2NhbGl6YXRpb24nKTsgc3VwZXIubG9hZExvY2FsaXphdGlvbigpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHNldExvY2FsaXphdGlvbkdyaWRDdXJyZW50VmFsdWVzKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0TG9jYWxpemF0aW9uR3JpZEN1cnJlbnRWYWx1ZXMnKTsgc3VwZXIuc2V0TG9jYWxpemF0aW9uR3JpZEN1cnJlbnRWYWx1ZXMoKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbGl6YXRpb25HcmlkVmFsdWUoKTogYW55IHsgY29uc29sZS5sb2coJ2dldExvY2FsaXphdGlvbkdyaWRWYWx1ZScpOyByZXR1cm4gc3VwZXIuZ2V0TG9jYWxpemF0aW9uR3JpZFZhbHVlKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UGVuZGluZ0xvY2FsaXphdGlvbnMoKTogYW55IHsgY29uc29sZS5sb2coJ2dldFBlbmRpbmdMb2NhbGl6YXRpb25zJyk7IHJldHVybiBzdXBlci5nZXRQZW5kaW5nTG9jYWxpemF0aW9ucygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFByb3BlcnR5SXRlbXMoKTogU2VyZW5pdHkuUHJvcGVydHlJdGVtW10geyBjb25zb2xlLmxvZygnZ2V0UHJvcGVydHlJdGVtcycpOyByZXR1cm4gc3VwZXIuZ2V0UHJvcGVydHlJdGVtcygpOyB9XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0UHJvcGVydHlJdGVtc0FzeW5jKCk6IFByb21pc2VMaWtlPFNlcmVuaXR5LlByb3BlcnR5SXRlbVtdPiB7IGNvbnNvbGUubG9nKCdnZXRQcm9wZXJ0eUl0ZW1zQXN5bmMnKTsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5SXRlbXNBc3luYygpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENsb25pbmdFbnRpdHkoKTogQXVkaXRMb2dSb3cgeyBjb25zb2xlLmxvZygnZ2V0Q2xvbmluZ0VudGl0eScpOyByZXR1cm4gc3VwZXIuZ2V0Q2xvbmluZ0VudGl0eSgpOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFVuZGVsZXRlT3B0aW9ucyhjYWxsYmFjaz86IChyZXNwb25zZTogU2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCk6IFNlcmVuaXR5LlNlcnZpY2VPcHRpb25zPFNlcmVuaXR5LlVuZGVsZXRlUmVzcG9uc2U+IHsgY29uc29sZS5sb2coJ2dldFVuZGVsZXRlT3B0aW9ucyhjYWxsYmFjaz86IChyZXNwb25zZTogVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCcpOyByZXR1cm4gc3VwZXIuZ2V0VW5kZWxldGVPcHRpb25zKGNhbGxiYWNrKTsgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1bmRlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VyZW5pdHkuU2VydmljZU9wdGlvbnM8U2VyZW5pdHkuVW5kZWxldGVSZXNwb25zZT4sIGNhbGxiYWNrOiAocmVzcG9uc2U6IFNlcmVuaXR5LlVuZGVsZXRlUmVzcG9uc2UpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ3VuZGVsZXRlSGFuZGxlcihvcHRpb25zOiBTZXJ2aWNlT3B0aW9uczxVbmRlbGV0ZVJlc3BvbnNlPiwgY2FsbGJhY2s6IChyZXNwb25zZTogVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCcpOyBzdXBlci51bmRlbGV0ZUhhbmRsZXIob3B0aW9ucywgY2FsbGJhY2spOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHVuZGVsZXRlKGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTZXJlbml0eS5VbmRlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkKTogdm9pZCB7IGNvbnNvbGUubG9nKCd1bmRlbGV0ZShjYWxsYmFjaz86IChyZXNwb25zZTogVW5kZWxldGVSZXNwb25zZSkgPT4gdm9pZCcpOyBzdXBlci51bmRlbGV0ZShjYWxsYmFjayk7IH1cclxuXHJcbiAgICAgICAgLy9kZXN0cm95KCk6IHZvaWQ7XHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgaW5pdFRvb2xiYXIoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbml0VG9vbGJhcicpOyBzdXBlci5pbml0VG9vbGJhcigpO31cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRUb29sYmFyQnV0dG9ucygpOiBTZXJlbml0eS5Ub29sQnV0dG9uW10geyBjb25zb2xlLmxvZygnZ2V0VG9vbGJhckJ1dHRvbnMnKTsgcmV0dXJuIHN1cGVyLmdldFRvb2xiYXJCdXR0b25zKCk7fVxyXG4gICAgICAgIHByb3RlY3RlZCByZXNldFZhbGlkYXRpb24oKTogdm9pZCB7IGNvbnNvbGUubG9nKCdyZXNldFZhbGlkYXRpb24nKTsgc3VwZXIucmVzZXRWYWxpZGF0aW9uKCk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgdmFsaWRhdGVGb3JtKCk6IGJvb2xlYW4geyBjb25zb2xlLmxvZygndmFsaWRhdGVGb3JtJyk7IHJldHVybiBzdXBlci52YWxpZGF0ZUZvcm0oKTsgfVxyXG4gICAgICAgIC8vZGlhbG9nT3Blbihhc1BhbmVsPzogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICAgICAgLy9zdGF0aWMgb3BlblBhbmVsKGVsZW1lbnQ6IEpRdWVyeSwgdW5pcXVlTmFtZTogc3RyaW5nKTogdm9pZDtcclxuICAgICAgICAvL3N0YXRpYyBjbG9zZVBhbmVsKGVsZW1lbnQ6IEpRdWVyeSwgZT86IEpRdWVyeUV2ZW50T2JqZWN0KTogdm9pZDtcclxuICAgICAgICBwcm90ZWN0ZWQgb25EaWFsb2dDbG9zZSgpOiB2b2lkIHsgY29uc29sZS5sb2coJ29uRGlhbG9nQ2xvc2UnKTsgc3VwZXIub25EaWFsb2dDbG9zZSgpOyB9XHJcbiAgICAgICAgZGVzdHJveSgpOiB2b2lkIHsgY29uc29sZS5sb2coJ2Rlc3Ryb3knKTsgc3VwZXIuZGVzdHJveSgpOyB9XHJcblxyXG4gICAgICAgIC8vZGlhbG9nQ2xvc2UoKTogdm9pZDtcclxuICAgICAgICAvL3NldF9kaWFsb2dUaXRsZSh2YWx1ZTogc3RyaW5nKTogdm9pZDtcclxuXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4vL29wZW4gYSBuZXcgZGlhbG9nIGN5Y2xlLS0tLS0tLS0tLS0tLVxyXG4vL2FkZENzc0NsYXNzXHJcbi8vIGdldFRlbXBsYXRlXHJcbi8vIGdldFRlbXBsYXRlTmFtZVxyXG4vL2luaXRWYWxpZGF0b3JcclxuLy9nZXRWYWxpZGF0b3JPcHRpb25zXHJcbi8vIGluaXRUYWJzXHJcbi8vaW5pdFRvb2xiYXJcclxuLy9nZXRUb29sYmFyQnV0dG9uc1xyXG4vL2luaXRQcm9wZXJ0eUdyaWRcclxuLy9nZXRQcm9wZXJ0eUdyaWRPcHRpb25zXHJcbi8vZ2V0UHJvcGVydHlJdGVtc1xyXG4vL2luaXRMb2NhbGl6YXRpb25HcmlkXHJcbi8vZ2V0UHJvcGVydHlHcmlkT3B0aW9uc1xyXG4vL2dldFByb3BlcnR5SXRlbXNcclxuLy9pbml0TG9jYWxpemF0aW9uR3JpZENvbW1vbihwZ09wdGlvbnM6IFByb3BlcnR5R3JpZE9wdGlvbnNcclxuLy9sb2FkXHJcbi8vbG9hZFJlc3BvbnNlKGRhdGE6IGFueVxyXG4vL29uTG9hZGluZ0RhdGEoZGF0YTogUmV0cmlldmVSZXNwb25zZTxBdWRpdExvZ1Jvdz5cclxuLy9iZWZvcmVMb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3dcclxuLy9sb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3dcclxuLy9zZXRfZW50aXR5SWQodmFsdWU6IGFueVxyXG4vL3NldF9lbnRpdHkoZW50aXR5OiBhbnlcclxuLy9pc0VkaXRNb2RlXHJcbi8vZ2V0X2VudGl0eUlkXHJcbi8vc2V0X2VudGl0eShlbnRpdHk6IGFueVxyXG4vL2FmdGVyTG9hZEVudGl0eVxyXG4vL3VwZGF0ZUludGVyZmFjZVxyXG4vL2lzRGVsZXRlZFxyXG4vL2lzTG9jYWxpemF0aW9uTW9kZVxyXG4vL2lzTmV3XHJcbi8vdXBkYXRlVGl0bGVcclxuLy9nZXRFbnRpdHlUaXRsZVxyXG4vL2dldEVudGl0eVNpbmd1bGFyXHJcbi8vZ2V0TG9jYWxUZXh0RGJQcmVmaXhcclxuLy9nZXRTYXZlRW50aXR5XHJcbi8vaW5pdERpYWxvZ1xyXG4vLyBnZXREaWFsb2dPcHRpb25zXHJcbi8vIGdldERpYWxvZ1RpdGxlXHJcbi8vIGhhbmRsZVJlc3BvbnNpdmVcclxuLy8gb25EaWFsb2dPcGVuXHJcbi8vIGFycmFuZ2VcclxuXHJcbi8vZGlhbG9nIGNsb3NpbmcgY3ljbGUtLS0tLS0tLS0tLS0tLS0tLVxyXG4vL2dldFNhdmVFbnRpdHlcclxuLy9pc0VkaXRNb2RlXHJcbi8vZ2V0X2VudGl0eUlkXHJcbi8vIG9uRGlhbG9nQ2xvc2VcclxuLy9kZXN0cm95XHJcblxyXG4vL3NhdmUgY3ljbGUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9zYXZlKGNhbGxiYWNrPzogKHJlc3BvbnNlOiBTYXZlUmVzcG9uc2UpID0+IHZvaWRcclxuLy92YWxpZGF0ZUJlZm9yZVNhdmVcclxuLy9zYXZlX3N1Ym1pdEhhbmRsZXIoY2FsbGJhY2s6IChyZXNwb25zZTogU2F2ZVJlc3BvbnNlKSA9PiB2b2lkXHJcbi8vZ2V0U2F2ZU9wdGlvbnMoY2FsbGJhY2s6IChyZXNwb25zZTogU2F2ZVJlc3BvbnNlKSA9PiB2b2lkXHJcbi8vaXNFZGl0TW9kZVxyXG4vL2dldF9lbnRpdHlJZFxyXG4vL2lzQ2xvbmVNb2RlXHJcbi8vZ2V0U2F2ZVJlcXVlc3RcclxuLy9nZXRTYXZlRW50aXR5XHJcbi8vc2F2ZUhhbmRsZXIob3B0aW9uczogU2VydmljZU9wdGlvbnM8U2F2ZVJlc3BvbnNlPiwgY2FsbGJhY2s6IChyZXNwb25zZTogU2F2ZVJlc3BvbnNlKSA9PiB2b2lkXHJcbi8vb25TYXZlU3VjY2VzcyhyZXNwb25zZTogU2F2ZVJlc3BvbnNlXHJcbi8vbG9hZEJ5SWRcclxuLy9nZXRMb2FkQnlJZFJlcXVlc3QoaWQ6IGFueVxyXG4vL2dldExvYWRCeUlkT3B0aW9ucyhpZDogYW55LCBjYWxsYmFjazogKHJlc3BvbnNlOiBSZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93PikgPT4gdm9pZFxyXG4vL2xvYWRCeUlkSGFuZGxlcihvcHRpb25zOiBTZXJ2aWNlT3B0aW9uczxSZXRyaWV2ZVJlc3BvbnNlPEF1ZGl0TG9nUm93Pj4sIGNhbGxiYWNrOiAocmVzcG9uc2U6IFJldHJpZXZlUmVzcG9uc2U8QXVkaXRMb2dSb3c+KSA9PiB2b2lkLCBmYWlsOiAoKSA9PiB2b2lkXHJcbi8vc2hvd1NhdmVTdWNjZXNzTWVzc2FnZShyZXNwb25zZTogU2F2ZVJlc3BvbnNlXHJcbi8vbG9hZFJlc3BvbnNlKGRhdGE6IGFueVxyXG4vL29uTG9hZGluZ0RhdGEoZGF0YTogUmV0cmlldmVSZXNwb25zZTxBdWRpdExvZ1Jvdz5cclxuLy9iZWZvcmVMb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3dcclxuLy9sb2FkRW50aXR5KGVudGl0eTogQXVkaXRMb2dSb3dcclxuLy9zZXRfZW50aXR5SWQodmFsdWU6IGFueVxyXG4vL3NldF9lbnRpdHkoZW50aXR5OiBhbnlcclxuLy9zZXRfZW50aXR5KGVudGl0eTogYW55XHJcbi8vYWZ0ZXJMb2FkRW50aXR5XHJcbi8vdXBkYXRlSW50ZXJmYWNlXHJcbi8vaXNEZWxldGVkXHJcbi8vZ2V0SXNEZWxldGVkUHJvcGVydHlcclxuLy9nZXRfZW50aXR5XHJcbi8vZ2V0SXNBY3RpdmVQcm9wZXJ0eVxyXG4vL2lzTG9jYWxpemF0aW9uTW9kZVxyXG4vL2lzTG9jYWxpemF0aW9uTW9kZVxyXG4vL2lzTmV3XHJcbi8vdXBkYXRlVGl0bGVcclxuLy9nZXRFbnRpdHlUaXRsZVxyXG4vL2dldEVudGl0eU5hbWVGaWVsZFZhbHVlXHJcbi8vZ2V0X2VudGl0eVxyXG4vL2dldEVudGl0eVNpbmd1bGFyXHJcbi8vZ2V0U2F2ZUVudGl0eVxyXG5cclxuLy9kZWxldGUgZW50aXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL2RvRGVsZXRlKGNhbGxiYWNrOiAocmVzcG9uc2U6IERlbGV0ZVJlc3BvbnNlKSA9PiB2b2lkXHJcbi8vZ2V0X2VudGl0eUlkXHJcbi8vZ2V0RGVsZXRlT3B0aW9ucyhjYWxsYmFjazogKHJlc3BvbnNlOiBEZWxldGVSZXNwb25zZSkgPT4gdm9pZFxyXG4vL2RlbGV0ZUhhbmRsZXIob3B0aW9uczogU2VydmljZU9wdGlvbnM8RGVsZXRlUmVzcG9uc2U+LCBjYWxsYmFjazogKHJlc3BvbnNlOiBEZWxldGVSZXNwb25zZSkgPT4gdm9pZFxyXG4vL29uRGVsZXRlU3VjY2VzcyhyZXNwb25zZTogRGVsZXRlUmVzcG9uc2VcclxuLy8gb25EaWFsb2dDbG9zZVxyXG4vL2Rlc3Ryb3kiLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5maWx0ZXJhYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkU25pcHBldHMgZXh0ZW5kcyBfRXh0LkdyaWRCYXNlPEF1ZGl0TG9nUm93LCBhbnk+IHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1uc0tleSgpIHsgcmV0dXJuICdfRXh0LkF1ZGl0TG9nJzsgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyByZXR1cm4gRGlhbG9nU25pcHBldHM7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Um93VHlwZSgpIHsgcmV0dXJuIEF1ZGl0TG9nUm93OyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlcnZpY2UoKSB7IHJldHVybiBBdWRpdExvZ1NlcnZpY2UuYmFzZVVybDsgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X0V4dEdyaWRPcHRpb25zKCk6IEV4dEdyaWRPcHRpb25zIHtcclxuICAgICAgICAgICAgbGV0IG9wdCA9IFEuZGVlcENsb25lKHN1cGVyLmdldF9FeHRHcmlkT3B0aW9ucygpKTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFrZSBzb21lIGNoYW5nZXMgaGVyZVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zPykge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEluaXRpYWxUaXRsZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0SW5pdGlhbFRpdGxlKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaXNwbGF5TmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0RGlzcGxheU5hbWUoKSB9XHJcblxyXG4gICAgICAgIHNldFRpdGxlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHsgc3VwZXIuc2V0VGl0bGUodmFsdWUpIH1cclxuICAgICAgICBnZXRUaXRsZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0VGl0bGUoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIG9uIHJlc2l6aW5nIHRoZSBncmlkIGNhbnZhc1xyXG4gICAgICAgIHByb3RlY3RlZCBsYXlvdXQoKTogdm9pZCB7IHN1cGVyLmxheW91dCgpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBzdXBlci5nZXRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgICAgICAvL1RvIHJlbW92ZSBBZGQgYnV0dG9uXHJcbiAgICAgICAgICAgIC8vYnV0dG9ucyA9IGJ1dHRvbnMuZmlsdGVyKGYgPT4gZi5jc3NDbGFzcyAhPSAnYWRkLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICAgICAgLy9UbyBjcmVhdGUgYSBuZXcgYnV0dG9uXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NhbXBsZSBCdXR0b24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWJlbGwnLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgUS5hbGVydCgnU2FtcGxlIEJ1dHRvbiBpcyBjbGlja2VkIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBidXR0b25zXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRBZGRCdXR0b25DYXB0aW9uKCk6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRBZGRCdXR0b25DYXB0aW9uKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SXRlbU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldEl0ZW1OYW1lKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgbmV3UmVmcmVzaEJ1dHRvbihub1RleHQ/OiBib29sZWFuKTogU2VyZW5pdHkuVG9vbEJ1dHRvbiB7IHJldHVybiBzdXBlci5uZXdSZWZyZXNoQnV0dG9uKCkgfVxyXG5cclxuICAgICAgICBnZXRWaWV3KCk6IFNsaWNrLlJlbW90ZVZpZXc8QXVkaXRMb2dSb3c+IHsgcmV0dXJuIHN1cGVyLmdldFZpZXcoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUb29sYmFyKGJ1dHRvbnM6IFNlcmVuaXR5LlRvb2xCdXR0b25bXSk6IHZvaWQgeyBzdXBlci5jcmVhdGVUb29sYmFyKGJ1dHRvbnMpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlU2xpY2tDb250YWluZXIoKTogSlF1ZXJ5IHsgcmV0dXJuIHN1cGVyLmNyZWF0ZVNsaWNrQ29udGFpbmVyKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVWaWV3KCk6IFNsaWNrLlJlbW90ZVZpZXc8QXVkaXRMb2dSb3c+IHsgcmV0dXJuIHN1cGVyLmNyZWF0ZVZpZXcoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFZpZXdPcHRpb25zKCk6IFNsaWNrLlJlbW90ZVZpZXdPcHRpb25zIHsgcmV0dXJuIHN1cGVyLmdldFZpZXdPcHRpb25zKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREZWZhdWx0U29ydEJ5KCk6IGFueVtdIHsgcmV0dXJuIHN1cGVyLmdldERlZmF1bHRTb3J0QnkoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIHVzZVBhZ2VyKCk6IGJvb2xlYW4geyByZXR1cm4gdHJ1ZSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNsaWNrR3JpZCgpOiBTbGljay5HcmlkIHsgcmV0dXJuIHN1cGVyLmNyZWF0ZVNsaWNrR3JpZCgpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnMoKTogU2xpY2suQ29sdW1uW10geyByZXR1cm4gc3VwZXIuZ2V0Q29sdW1ucygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlJdGVtcygpOiBTZXJlbml0eS5Qcm9wZXJ0eUl0ZW1bXSB7IHJldHVybiBzdXBlci5nZXRQcm9wZXJ0eUl0ZW1zKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBwcm9wZXJ0eUl0ZW1zVG9TbGlja0NvbHVtbnMocHJvcGVydHlJdGVtczogU2VyZW5pdHkuUHJvcGVydHlJdGVtW10pOiBTbGljay5Db2x1bW5bXSB7IHJldHVybiBzdXBlci5wcm9wZXJ0eUl0ZW1zVG9TbGlja0NvbHVtbnMocHJvcGVydHlJdGVtcykgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaXRlbUxpbmsoaXRlbVR5cGU/OiBzdHJpbmcsIGlkRmllbGQ/OiBzdHJpbmcsIHRleHQ/OiAoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSA9PiBzdHJpbmcsIGNzc0NsYXNzPzogKGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCkgPT4gc3RyaW5nLCBlbmNvZGU/OiBib29sZWFuKTogU2xpY2suRm9ybWF0IHsgcmV0dXJuIHN1cGVyLml0ZW1MaW5rKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJdGVtVHlwZSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0SXRlbVR5cGUoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVR5cGUoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldEVudGl0eVR5cGUoKSB9XHJcbiAgICAgICAgLy9nZXRJZFByb3BlcnR5XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNsaWNrT3B0aW9ucygpOiBTbGljay5HcmlkT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXRTbGlja09wdGlvbnMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBwb3N0UHJvY2Vzc0NvbHVtbnMoY29sdW1uczogU2xpY2suQ29sdW1uW10pOiBTbGljay5Db2x1bW5bXSB7IHJldHVybiBzdXBlci5wb3N0UHJvY2Vzc0NvbHVtbnMoY29sdW1ucykgfVxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRJbml0aWFsU29ydE9yZGVyKCk6IHZvaWQgeyBzdXBlci5zZXRJbml0aWFsU29ydE9yZGVyKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZW5hYmxlRmlsdGVyaW5nKCk6IGJvb2xlYW4geyByZXR1cm4gc3VwZXIuZW5hYmxlRmlsdGVyaW5nKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVGaWx0ZXJCYXIoKTogdm9pZCB7IHN1cGVyLmNyZWF0ZUZpbHRlckJhcigpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZUZpbHRlckJhcigpOiB2b2lkIHsgc3VwZXIuaW5pdGlhbGl6ZUZpbHRlckJhcigpIH1cclxuICAgICAgICAvL2NhbGwgZm9yIGVhY2ggcXVpY2sgQ29sdW1uXHJcbiAgICAgICAgcHJvdGVjdGVkIGNhbkZpbHRlckNvbHVtbihjb2x1bW46IFNsaWNrLkNvbHVtbik6IGJvb2xlYW4geyByZXR1cm4gc3VwZXIuY2FuRmlsdGVyQ29sdW1uKGNvbHVtbikgfVxyXG5cclxuICAgICAgICAvL3VzZVBhZ2VyXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVBhZ2VyKCk6IHZvaWQgeyBzdXBlci5jcmVhdGVQYWdlcigpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UGFnZXJPcHRpb25zKCk6IFNsaWNrLlBhZ2VyT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXRQYWdlck9wdGlvbnMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBiaW5kVG9TbGlja0V2ZW50cygpOiB2b2lkIHsgc3VwZXIuYmluZFRvU2xpY2tFdmVudHMoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGJpbmRUb1ZpZXdFdmVudHMoKTogdm9pZCB7IHN1cGVyLmJpbmRUb1ZpZXdFdmVudHMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVUb29sYmFyRXh0ZW5zaW9ucygpOiB2b2lkIHsgc3VwZXIuY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUluY2x1ZGVEZWxldGVkQnV0dG9uKCk6IHZvaWQgeyBzdXBlci5jcmVhdGVJbmNsdWRlRGVsZXRlZEJ1dHRvbigpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlUXVpY2tTZWFyY2hJbnB1dCgpOiB2b2lkIHsgc3VwZXIuY3JlYXRlUXVpY2tTZWFyY2hJbnB1dCgpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UXVpY2tTZWFyY2hGaWVsZHMoKTogU2VyZW5pdHkuUXVpY2tTZWFyY2hGaWVsZFtdIHsgcmV0dXJuIHN1cGVyLmdldFF1aWNrU2VhcmNoRmllbGRzKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlUXVpY2tGaWx0ZXJzKCk6IHZvaWQgeyBzdXBlci5jcmVhdGVRdWlja0ZpbHRlcnMoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFF1aWNrRmlsdGVycygpOiBTZXJlbml0eS5RdWlja0ZpbHRlcjxTZXJlbml0eS5XaWRnZXQ8YW55PiwgYW55PltdIHsgcmV0dXJuIHN1cGVyLmdldFF1aWNrRmlsdGVycygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZGF0ZVRpbWVSYW5nZVF1aWNrRmlsdGVyKGZpZWxkOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKTogU2VyZW5pdHkuUXVpY2tGaWx0ZXI8U2VyZW5pdHkuRGF0ZVRpbWVFZGl0b3IsIFNlcmVuaXR5LkRhdGVUaW1lRWRpdG9yT3B0aW9ucz4geyByZXR1cm4gc3VwZXIuZGF0ZVRpbWVSYW5nZVF1aWNrRmlsdGVyKGZpZWxkLCB0aXRsZSkgfVxyXG5cclxuICAgICAgICAvL2NhbGwgZm9yIGVhY2ggcXVpY2sgZmlsdGVyXHJcbiAgICAgICAgcHJvdGVjdGVkIGFkZFF1aWNrRmlsdGVyPFRXaWRnZXQgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8YW55PiwgVE9wdGlvbnM+KG9wdDogU2VyZW5pdHkuUXVpY2tGaWx0ZXI8VFdpZGdldCwgVE9wdGlvbnM+KTogVFdpZGdldCB7IHJldHVybiBzdXBlci5hZGRRdWlja0ZpbHRlcihvcHQpIH1cclxuICAgICAgICAvL3Byb3RlY3RlZCBhZGRfc3VibWl0SGFuZGxlcnMoYWN0aW9uOiAoKSA9PiB2b2lkKTogdm9pZCB7IHN1cGVyLmFkZF9zdWJtaXRIYW5kbGVycyhhY3Rpb24pIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHVwZGF0ZURpc2FibGVkU3RhdGUoKTogdm9pZCB7IHN1cGVyLnVwZGF0ZURpc2FibGVkU3RhdGUoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDdXJyZW50U2V0dGluZ3MoZmxhZ3M/OiBTZXJlbml0eS5HcmlkUGVyc2lzdGFuY2VGbGFncyk6IFNlcmVuaXR5LlBlcnNpc3RlZEdyaWRTZXR0aW5ncyB7IHJldHVybiBzdXBlci5nZXRDdXJyZW50U2V0dGluZ3MoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdyaWRQZXJzaXN0YW5jZUZsYWdzKCk6IFNlcmVuaXR5LkdyaWRQZXJzaXN0YW5jZUZsYWdzIHsgcmV0dXJuIHN1cGVyLmdyaWRQZXJzaXN0YW5jZUZsYWdzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCByZXN0b3JlU2V0dGluZ3Moc2V0dGluZ3M/OiBTZXJlbml0eS5QZXJzaXN0ZWRHcmlkU2V0dGluZ3MsIGZsYWdzPzogU2VyZW5pdHkuR3JpZFBlcnNpc3RhbmNlRmxhZ3MpOiB2b2lkIHsgc3VwZXIucmVzdG9yZVNldHRpbmdzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQZXJzaXN0ZWRTZXR0aW5ncygpOiBTZXJlbml0eS5QZXJzaXN0ZWRHcmlkU2V0dGluZ3MgeyByZXR1cm4gc3VwZXIuZ2V0UGVyc2lzdGVkU2V0dGluZ3MoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFBlcnNpc3RhbmNlU3RvcmFnZSgpOiBTZXJlbml0eS5TZXR0aW5nU3RvcmFnZSB7IHJldHVybiBzdXBlci5nZXRQZXJzaXN0YW5jZVN0b3JhZ2UoKSB9XHJcblxyXG4gICAgICAgIC8vZ2V0Vmlld1xyXG4gICAgICAgIGdldEdyaWQoKTogU2xpY2suR3JpZCB7IHJldHVybiBzdXBlci5nZXRHcmlkKCkgfVxyXG4gICAgICAgIC8vZ2V0Vmlld1xyXG4gICAgICAgIC8vZ2V0R3JpZFxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdGlhbFBvcHVsYXRlKCk6IHZvaWQgeyBzdXBlci5pbml0aWFsUG9wdWxhdGUoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIHBvcHVsYXRlV2hlblZpc2libGUoKTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5wb3B1bGF0ZVdoZW5WaXNpYmxlKCkgfVxyXG5cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3U3VibWl0KCk6IGJvb2xlYW4geyByZXR1cm4gc3VwZXIub25WaWV3U3VibWl0KCkgfVxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRHcmlkQ2FuTG9hZCgpOiBib29sZWFuIHsgcmV0dXJuIHN1cGVyLmdldEdyaWRDYW5Mb2FkKCkgfVxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRDcml0ZXJpYVBhcmFtZXRlcigpOiB2b2lkIHsgc3VwZXIuc2V0Q3JpdGVyaWFQYXJhbWV0ZXIoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIHNldEluY2x1ZGVDb2x1bW5zUGFyYW1ldGVyKCk6IHZvaWQgeyBzdXBlci5zZXRJbmNsdWRlQ29sdW1uc1BhcmFtZXRlcigpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SW5jbHVkZUNvbHVtbnMoaW5jbHVkZTogeyBba2V5OiBzdHJpbmddOiBib29sZWFuOyB9KTogdm9pZCB7IHN1cGVyLmdldEluY2x1ZGVDb2x1bW5zKGluY2x1ZGUpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIGludm9rZVN1Ym1pdEhhbmRsZXJzKCk6IHZvaWQgeyBzdXBlci5pbnZva2VTdWJtaXRIYW5kbGVycygpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld1Byb2Nlc3NEYXRhKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8QXVkaXRMb2dSb3c+KTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPEF1ZGl0TG9nUm93PiB7IHJldHVybiBzdXBlci5vblZpZXdQcm9jZXNzRGF0YShyZXNwb25zZSkgfVxyXG5cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByb3cgb24gZXZlcnkgUmVmcmVzaCBPUiBMYXlvdXQgY2hhbmdlXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1NZXRhZGF0YShpdGVtOiBBdWRpdExvZ1JvdywgaW5kZXg6IG51bWJlcik6IGFueSB7IHJldHVybiBzdXBlci5nZXRJdGVtTWV0YWRhdGEoaXRlbSwgaW5kZXgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByb3cgb24gZXZlcnkgUmVmcmVzaCBPUiBMYXlvdXQgY2hhbmdlXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1Dc3NDbGFzcyhpdGVtOiBBdWRpdExvZ1JvdywgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7IHJldHVybiBzdXBlci5nZXRJdGVtQ3NzQ2xhc3MoaXRlbSwgaW5kZXgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByb3cgb24gZXZlcnkgUmVmcmVzaCBPUiBMYXlvdXQgY2hhbmdlXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElzQWN0aXZlUHJvcGVydHkoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldElzQWN0aXZlUHJvcGVydHkoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcm93IG9uIGV2ZXJ5IFJlZnJlc2ggT1IgTGF5b3V0IGNoYW5nZVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJc0RlbGV0ZWRQcm9wZXJ0eSgpOiBzdHJpbmcgeyByZXR1cm4gc3VwZXIuZ2V0SXNEZWxldGVkUHJvcGVydHkoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJvdyBvbiBldmVyeSByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3RmlsdGVyKGl0ZW06IEF1ZGl0TG9nUm93KTogYm9vbGVhbiB7IHJldHVybiBzdXBlci5vblZpZXdGaWx0ZXIoaXRlbSkgfVxyXG5cclxuICAgICAgICBnZXRFbGVtZW50KCk6IEpRdWVyeSB7IHJldHVybiBzdXBlci5nZXRFbGVtZW50KCkgfVxyXG5cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgdmlld0RhdGFDaGFuZ2VkKGU6IGFueSwgcm93czogQXVkaXRMb2dSb3dbXSk6IHZvaWQgeyBzdXBlci52aWV3RGF0YUNoYW5nZWQoZSwgcm93cykgfVxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCBtYXJrdXBSZWFkeSgpOiB2b2lkIHsgc3VwZXIubWFya3VwUmVhZHkoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIGdldEl0ZW1zKCk6IEF1ZGl0TG9nUm93W10geyByZXR1cm4gc3VwZXIuZ2V0SXRlbXMoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgc2V0SXRlbXModmFsdWU6IEF1ZGl0TG9nUm93W10pOiB2b2lkIHsgc3VwZXIuc2V0SXRlbXModmFsdWUpIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRCdXR0b25DbGljaygpOiB2b2lkIHsgc3VwZXIuYWRkQnV0dG9uQ2xpY2soKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBlZGl0SXRlbShlbnRpdHlPcklkOiBhbnkpOiB2b2lkIHsgc3VwZXIuZWRpdEl0ZW0oZW50aXR5T3JJZCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZWRpdEl0ZW1PZlR5cGUoaXRlbVR5cGU6IHN0cmluZywgZW50aXR5T3JJZDogYW55KTogdm9pZCB7IHN1cGVyLmVkaXRJdGVtT2ZUeXBlKGl0ZW1UeXBlLCBlbnRpdHlPcklkKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFNlcnZpY2UoKTogc3RyaW5nIHsgIHJldHVybiBzdXBlci5nZXRCdXR0b25zKCkgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCByb3V0ZURpYWxvZyhpdGVtVHlwZTogc3RyaW5nLCBkaWFsb2c6IFNlcmVuaXR5LldpZGdldDxhbnk+KTogdm9pZCB7IHN1cGVyLnJvdXRlRGlhbG9nKGl0ZW1UeXBlLCBkaWFsb2cpIH1cclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgaW5pdERpYWxvZyhkaWFsb2cpOiB2b2lkIHsgIHN1cGVyLmluaXREaWFsb2coZGlhbG9nKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0RW50aXR5RGlhbG9nKGl0ZW1UeXBlOiBzdHJpbmcsIGRpYWxvZzogU2VyZW5pdHkuV2lkZ2V0PGFueT4pOiB2b2lkIHsgc3VwZXIuaW5pdEVudGl0eURpYWxvZyhpdGVtVHlwZSwgZGlhbG9nKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVFbnRpdHlEaWFsb2coaXRlbVR5cGU6IHN0cmluZywgY2FsbGJhY2s/OiAoZGxnOiBTZXJlbml0eS5XaWRnZXQ8YW55PikgPT4gdm9pZCk6IFNlcmVuaXR5LldpZGdldDxhbnk+IHsgcmV0dXJuIHN1cGVyLmNyZWF0ZUVudGl0eURpYWxvZyhpdGVtVHlwZSwgY2FsbGJhY2spIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldERpYWxvZ09wdGlvbnMoKTogSlF1ZXJ5VUkuRGlhbG9nT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXREaWFsb2dPcHRpb25zKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nT3B0aW9uc0ZvcihpdGVtVHlwZTogc3RyaW5nKTogSlF1ZXJ5VUkuRGlhbG9nT3B0aW9ucyB7IHJldHVybiBzdXBlci5nZXREaWFsb2dPcHRpb25zRm9yKGl0ZW1UeXBlKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldERpYWxvZ1R5cGVGb3IoaXRlbVR5cGU6IHN0cmluZyk6IHsgXHJcblxyXG4gICAgICAgIC8vICAgIG5ldyguLi5hcmdzOiBhbnlbXSk6IFNlcmVuaXR5LldpZGdldDxhbnk+O1xyXG5cclxuICAgICAgICAvL307XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldERpYWxvZ1R5cGUoKTogeyBcclxuXHJcbiAgICAgICAgLy8gICAgbmV3KC4uLmFyZ3M6IGFueVtdKTogU2VyZW5pdHkuV2lkZ2V0PGFueT47XHJcblxyXG4gICAgICAgIC8vfTtcclxuICAgICAgICAvL0luaGVyaXRlZCBmcm9tIFNlcmVuaXR5LkRhdGFHcmlkIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIHJlbW92ZV9zdWJtaXRIYW5kbGVycyhhY3Rpb246ICgpID0+IHZvaWQpOiB2b2lkIHsgc3VwZXIucmVtb3ZlX3N1Ym1pdEhhbmRsZXJzKGFjdGlvbikgfVxyXG5cclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0SW5pdGlhbFRpdGxlKCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTogdm9pZDtcclxuXHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBmaW5kUXVpY2tGaWx0ZXI8VFdpZGdldD4odHlwZTogeyBcclxuXHJcbiAgICAgICAgLy8gICAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFRXaWRnZXQ7XHJcblxyXG4gICAgICAgIC8vfSwgZmllbGQ6IHN0cmluZyk6IFRXaWRnZXQ7XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIHRyeUZpbmRRdWlja0ZpbHRlcjxUV2lkZ2V0Pih0eXBlOiB7IFxyXG5cclxuICAgICAgICAvLyAgICBuZXcoLi4uYXJnczogYW55W10pOiBUV2lkZ2V0O1xyXG5cclxuICAgICAgICAvL30sIGZpZWxkOiBzdHJpbmcpOiBUV2lkZ2V0O1xyXG5cclxuXHJcblxyXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZCB7IHN1cGVyLmRlc3Ryb3koKSB9XHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBpbml0aWFsaXplQXN5bmMoKTogUHJvbWlzZUxpa2U8dm9pZD4geyByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZUFzeW5jKCkgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vaXRlbUF0KHJvdzogbnVtYmVyKTogYW55O1xyXG5cclxuICAgICAgICAvL3Jvd0NvdW50KCk6IG51bWJlcjtcclxuXHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRBZGRCdXR0b25DYXB0aW9uKCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0QnV0dG9ucygpOiBUb29sQnV0dG9uW107XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGVkaXRJdGVtKGVudGl0eU9ySWQ6IGFueSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGVkaXRJdGVtT2ZUeXBlKGl0ZW1UeXBlOiBzdHJpbmcsIGVudGl0eU9ySWQ6IGFueSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKTogdm9pZCB7IHN1cGVyLm9uQ2xpY2soZSwgcm93LCBjZWxsKSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0RXF1YWxpdHkoZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQgeyBzdXBlci5zZXRFcXVhbGl0eShmaWVsZCwgdmFsdWUpIH1cclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgdXNlUGFnZXIoKTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0Vmlld09wdGlvbnMoKTogU2xpY2suUmVtb3RlVmlld09wdGlvbnM7XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldEl0ZW1UeXBlKCk6IHN0cmluZztcclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldENvbHVtbnNLZXkoKTogc3RyaW5nO1xyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRQcm9wZXJ0eUl0ZW1zQXN5bmMoKTogUHJvbWlzZUxpa2U8U2VyZW5pdHkuUHJvcGVydHlJdGVtW10+IHsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5SXRlbXNBc3luYygpIH1cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldENvbHVtbnNBc3luYygpOiBQcm9taXNlTGlrZTxTbGljay5Db2x1bW5bXT4geyByZXR1cm4gc3VwZXIuZ2V0Q29sdW1uc0FzeW5jKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcG9wdWxhdGVMb2NrKCk6IHZvaWQgeyBzdXBlci5wb3B1bGF0ZUxvY2soKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBwb3B1bGF0ZVVubG9jaygpOiB2b2lkIHsgc3VwZXIucG9wdWxhdGVVbmxvY2soKSB9XHJcblxyXG5cclxuICAgICAgICByZWZyZXNoKCk6IHZvaWQgeyBzdXBlci5yZWZyZXNoKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcmVmcmVzaElmTmVlZGVkKCk6IHZvaWQgeyBzdXBlci5yZWZyZXNoSWZOZWVkZWQoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlZnJlc2goKTogdm9pZCB7IHN1cGVyLmludGVybmFsUmVmcmVzaCgpIH1cclxuXHJcbiAgICAgICAgc2V0SXNEaXNhYmxlZCh2YWx1ZTogYm9vbGVhbik6IHZvaWQgeyBzdXBlci5zZXRJc0Rpc2FibGVkKHZhbHVlKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldExvY2FsVGV4dERiUHJlZml4KCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpOiBzdHJpbmc7XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHJlc2l6ZUNhbnZhcygpOiB2b2lkIHsgc3VwZXIucmVzaXplQ2FudmFzKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc3ViRGlhbG9nRGF0YUNoYW5nZSgpOiB2b2lkIHsgc3VwZXIuc3ViRGlhbG9nRGF0YUNoYW5nZSgpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFkZEZpbHRlclNlcGFyYXRvcigpOiB2b2lkIHsgc3VwZXIuYWRkRmlsdGVyU2VwYXJhdG9yKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZGV0ZXJtaW5lVGV4dChnZXRLZXk6IChwcmVmaXg6IHN0cmluZykgPT4gc3RyaW5nKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmRldGVybWluZVRleHQoZ2V0S2V5KSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkRGF0ZVJhbmdlRmlsdGVyKGZpZWxkOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKTogU2VyZW5pdHkuRGF0ZUVkaXRvciB7IHJldHVybiBzdXBlci5hZGREYXRlUmFuZ2VGaWx0ZXIoZmllbGQsIHRpdGxlKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBkYXRlUmFuZ2VRdWlja0ZpbHRlcihmaWVsZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFNlcmVuaXR5LkRhdGVFZGl0b3IsIFNlcmVuaXR5LkRhdGVUaW1lRWRpdG9yT3B0aW9ucz4geyByZXR1cm4gc3VwZXIuZGF0ZVJhbmdlUXVpY2tGaWx0ZXIoZmllbGQsIHRpdGxlKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGREYXRlVGltZVJhbmdlRmlsdGVyKGZpZWxkOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKTogU2VyZW5pdHkuRGF0ZVRpbWVFZGl0b3IgeyByZXR1cm4gc3VwZXIuYWRkRGF0ZVRpbWVSYW5nZUZpbHRlcihmaWVsZCwgdGl0bGUpIH1cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRCb29sZWFuRmlsdGVyKGZpZWxkOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nLCB5ZXM/OiBzdHJpbmcsIG5vPzogc3RyaW5nKTogU2VyZW5pdHkuU2VsZWN0RWRpdG9yIHsgcmV0dXJuIHN1cGVyLmFkZEJvb2xlYW5GaWx0ZXIoZmllbGQsIHRpdGxlLCB5ZXMsIG5vKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBib29sZWFuUXVpY2tGaWx0ZXIoZmllbGQ6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIHllcz86IHN0cmluZywgbm8/OiBzdHJpbmcpOiBTZXJlbml0eS5RdWlja0ZpbHRlcjxTZXJlbml0eS5TZWxlY3RFZGl0b3IsIFNlcmVuaXR5LlNlbGVjdEVkaXRvck9wdGlvbnM+IHsgcmV0dXJuIHN1cGVyLmJvb2xlYW5RdWlja0ZpbHRlcihmaWVsZCwgdGl0bGUsIHllcywgbm8pIH1cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBxdWlja0ZpbHRlckNoYW5nZShlOiBKUXVlcnlFdmVudE9iamVjdCk6IHZvaWQgeyBzdXBlci5xdWlja0ZpbHRlckNoYW5nZShlKSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UGVyc2lzdGFuY2VLZXkoKTogc3RyaW5nIHsgcmV0dXJuIHN1cGVyLmdldFBlcnNpc3RhbmNlS2V5KCkgfVxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNhblNob3dDb2x1bW4oY29sdW1uOiBTbGljay5Db2x1bW4pOiBib29sZWFuIHsgcmV0dXJuIHN1cGVyLmNhblNob3dDb2x1bW4oY29sdW1uKSB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHBlcnNpc3RTZXR0aW5ncyhmbGFncz86IFNlcmVuaXR5LkdyaWRQZXJzaXN0YW5jZUZsYWdzKTogdm9pZCB7IHN1cGVyLnBlcnNpc3RTZXR0aW5ncygpIH1cclxuXHJcbiAgICAgICAgZ2V0RmlsdGVyU3RvcmUoKTogU2VyZW5pdHkuRmlsdGVyU3RvcmUgeyByZXR1cm4gc3VwZXIuZ2V0RmlsdGVyU3RvcmUoKSB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5maWx0ZXJhYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkV2l0aEFsbE92ZXJyaWRhYmxlTWV0aG9kcyBleHRlbmRzIF9FeHQuR3JpZEJhc2U8QXVkaXRMb2dSb3csIGFueT4ge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dUeXBlKCkgeyBjb25zb2xlLmxvZygnZ2V0RGlhbG9nVHlwZScpOyByZXR1cm4gRGlhbG9nV2l0aEFsbE92ZXJyaWRhYmxlTWV0aG9kczsgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zPykge1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbnN0cnVjdG9yJyk7XHJcblxyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJbml0aWFsVGl0bGUoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldEluaXRpYWxUaXRsZScpOyByZXR1cm4gc3VwZXIuZ2V0SW5pdGlhbFRpdGxlKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaXNwbGF5TmFtZSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0RGlzcGxheU5hbWUnKTsgcmV0dXJuIHN1cGVyLmdldERpc3BsYXlOYW1lKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRMb2NhbFRleHRQcmVmaXgoKSB7IGNvbnNvbGUubG9nKCdnZXRMb2NhbFRleHRQcmVmaXgnKTsgcmV0dXJuIEF1ZGl0TG9nUm93LmxvY2FsVGV4dFByZWZpeDsgfVxyXG5cclxuICAgICAgICBzZXRUaXRsZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7IGNvbnNvbGUubG9nKCdzZXRUaXRsZScpOyBzdXBlci5zZXRUaXRsZSh2YWx1ZSkgfVxyXG4gICAgICAgIGdldFRpdGxlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRUaXRsZScpOyByZXR1cm4gc3VwZXIuZ2V0VGl0bGUoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIG9uIHJlc2l6aW5nIHRoZSBncmlkIGNhbnZhc1xyXG4gICAgICAgIHByb3RlY3RlZCBsYXlvdXQoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdsYXlvdXQnKTsgc3VwZXIubGF5b3V0KCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QnV0dG9ucygpOiBTZXJlbml0eS5Ub29sQnV0dG9uW10geyBjb25zb2xlLmxvZygnZ2V0QnV0dG9ucycpOyByZXR1cm4gc3VwZXIuZ2V0QnV0dG9ucygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0QWRkQnV0dG9uQ2FwdGlvbigpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0QWRkQnV0dG9uQ2FwdGlvbicpOyByZXR1cm4gc3VwZXIuZ2V0QWRkQnV0dG9uQ2FwdGlvbigpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1OYW1lKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRJdGVtTmFtZScpOyByZXR1cm4gc3VwZXIuZ2V0SXRlbU5hbWUoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBuZXdSZWZyZXNoQnV0dG9uKG5vVGV4dD86IGJvb2xlYW4pOiBTZXJlbml0eS5Ub29sQnV0dG9uIHsgY29uc29sZS5sb2coJ25ld1JlZnJlc2hCdXR0b24nKTsgcmV0dXJuIHN1cGVyLm5ld1JlZnJlc2hCdXR0b24oKSB9XHJcblxyXG4gICAgICAgIGdldFZpZXcoKTogU2xpY2suUmVtb3RlVmlldzxBdWRpdExvZ1Jvdz4geyBjb25zb2xlLmxvZygnZ2V0VmlldycpOyByZXR1cm4gc3VwZXIuZ2V0VmlldygpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVRvb2xiYXIoYnV0dG9uczogU2VyZW5pdHkuVG9vbEJ1dHRvbltdKTogdm9pZCB7IGNvbnNvbGUubG9nKCdjcmVhdGVUb29sYmFyJyk7IHN1cGVyLmNyZWF0ZVRvb2xiYXIoYnV0dG9ucykgfVxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVTbGlja0NvbnRhaW5lcigpOiBKUXVlcnkgeyBjb25zb2xlLmxvZygnY3JlYXRlU2xpY2tDb250YWluZXInKTsgcmV0dXJuIHN1cGVyLmNyZWF0ZVNsaWNrQ29udGFpbmVyKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVWaWV3KCk6IFNsaWNrLlJlbW90ZVZpZXc8QXVkaXRMb2dSb3c+IHsgY29uc29sZS5sb2coJ2NyZWF0ZVZpZXcnKTsgcmV0dXJuIHN1cGVyLmNyZWF0ZVZpZXcoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFZpZXdPcHRpb25zKCk6IFNsaWNrLlJlbW90ZVZpZXdPcHRpb25zIHsgY29uc29sZS5sb2coJ2dldFZpZXdPcHRpb25zJyk7IHJldHVybiBzdXBlci5nZXRWaWV3T3B0aW9ucygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpIHsgY29uc29sZS5sb2coJ2dldElkUHJvcGVydHknKTsgcmV0dXJuIEF1ZGl0TG9nUm93LmlkUHJvcGVydHk7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGVmYXVsdFNvcnRCeSgpOiBhbnlbXSB7IGNvbnNvbGUubG9nKCdnZXREZWZhdWx0U29ydEJ5Jyk7IHJldHVybiBzdXBlci5nZXREZWZhdWx0U29ydEJ5KCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCB1c2VQYWdlcigpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ3VzZVBhZ2VyJyk7IHJldHVybiB0cnVlIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0U2VydmljZSgpIHsgY29uc29sZS5sb2coJ2dldFNlcnZpY2UnKTsgcmV0dXJuIEF1ZGl0TG9nU2VydmljZS5iYXNlVXJsOyB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVNsaWNrR3JpZCgpOiBTbGljay5HcmlkIHsgY29uc29sZS5sb2coJ2NyZWF0ZVNsaWNrR3JpZCcpOyByZXR1cm4gc3VwZXIuY3JlYXRlU2xpY2tHcmlkKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q29sdW1ucygpOiBTbGljay5Db2x1bW5bXSB7IGNvbnNvbGUubG9nKCdnZXRDb2x1bW5zJyk7IHJldHVybiBzdXBlci5nZXRDb2x1bW5zKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eUl0ZW1zKCk6IFNlcmVuaXR5LlByb3BlcnR5SXRlbVtdIHsgY29uc29sZS5sb2coJ2dldFByb3BlcnR5SXRlbXMnKTsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5SXRlbXMoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldENvbHVtbnNLZXkoKSB7IGNvbnNvbGUubG9nKCdnZXRDb2x1bW5zS2V5Jyk7IHJldHVybiAnX0V4dC5BdWRpdExvZyc7IH1cclxuICAgICAgICBwcm90ZWN0ZWQgcHJvcGVydHlJdGVtc1RvU2xpY2tDb2x1bW5zKHByb3BlcnR5SXRlbXM6IFNlcmVuaXR5LlByb3BlcnR5SXRlbVtdKTogU2xpY2suQ29sdW1uW10geyBjb25zb2xlLmxvZygncHJvcGVydHlJdGVtc1RvU2xpY2tDb2x1bW5zJyk7IHJldHVybiBzdXBlci5wcm9wZXJ0eUl0ZW1zVG9TbGlja0NvbHVtbnMocHJvcGVydHlJdGVtcykgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaXRlbUxpbmsoaXRlbVR5cGU/OiBzdHJpbmcsIGlkRmllbGQ/OiBzdHJpbmcsIHRleHQ/OiAoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSA9PiBzdHJpbmcsIGNzc0NsYXNzPzogKGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCkgPT4gc3RyaW5nLCBlbmNvZGU/OiBib29sZWFuKTogU2xpY2suRm9ybWF0IHsgY29uc29sZS5sb2coJ2l0ZW1MaW5rKGl0ZW1UeXBlPzogc3RyaW5nLCBpZEZpZWxkPzogc3RyaW5nLCB0ZXh0PzogKGN0eDogU2xpY2suRm9ybWF0dGVyQ29udGV4dCkgPT4gc3RyaW5nLCBjc3NDbGFzcz86ICcpOyByZXR1cm4gc3VwZXIuaXRlbUxpbmsoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1UeXBlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRJdGVtVHlwZScpOyByZXR1cm4gc3VwZXIuZ2V0SXRlbVR5cGUoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEVudGl0eVR5cGUoKTogc3RyaW5nIHsgY29uc29sZS5sb2coJ2dldEVudGl0eVR5cGUnKTsgcmV0dXJuIHN1cGVyLmdldEVudGl0eVR5cGUoKSB9XHJcbiAgICAgICAgLy9nZXRJZFByb3BlcnR5XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNsaWNrT3B0aW9ucygpOiBTbGljay5HcmlkT3B0aW9ucyB7IGNvbnNvbGUubG9nKCdnZXRTbGlja09wdGlvbnMnKTsgcmV0dXJuIHN1cGVyLmdldFNsaWNrT3B0aW9ucygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X0V4dEdyaWRPcHRpb25zKCk6IEV4dEdyaWRPcHRpb25zIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldF9FeHRHcmlkT3B0aW9ucycpO1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gUS5kZWVwQ2xvbmUoc3VwZXIuZ2V0X0V4dEdyaWRPcHRpb25zKCkpO1xyXG4gICAgICAgICAgICAvL2NoYW5nZSBzb21lIG9wdGlvbnMgaGVyZVxyXG5cclxuICAgICAgICAgICAgb3B0LlNob3dSb3dTZWxlY3Rpb25DaGVja2JveENvbHVtbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBwcm90ZWN0ZWQgcG9zdFByb2Nlc3NDb2x1bW5zKGNvbHVtbnM6IFNsaWNrLkNvbHVtbltdKTogU2xpY2suQ29sdW1uW10geyBjb25zb2xlLmxvZygncG9zdFByb2Nlc3NDb2x1bW5zJyk7IHJldHVybiBzdXBlci5wb3N0UHJvY2Vzc0NvbHVtbnMoY29sdW1ucykgfVxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRJbml0aWFsU29ydE9yZGVyKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0SW5pdGlhbFNvcnRPcmRlcicpOyBzdXBlci5zZXRJbml0aWFsU29ydE9yZGVyKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZW5hYmxlRmlsdGVyaW5nKCk6IGJvb2xlYW4geyBjb25zb2xlLmxvZygnZW5hYmxlRmlsdGVyaW5nJyk7IHJldHVybiBzdXBlci5lbmFibGVGaWx0ZXJpbmcoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZUZpbHRlckJhcigpOiB2b2lkIHsgY29uc29sZS5sb2coJ2NyZWF0ZUZpbHRlckJhcicpOyBzdXBlci5jcmVhdGVGaWx0ZXJCYXIoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGluaXRpYWxpemVGaWx0ZXJCYXIoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbml0aWFsaXplRmlsdGVyQmFyJyk7IHN1cGVyLmluaXRpYWxpemVGaWx0ZXJCYXIoKSB9XHJcbiAgICAgICAgLy9jYWxsIGZvciBlYWNoIHF1aWNrIENvbHVtblxyXG4gICAgICAgIHByb3RlY3RlZCBjYW5GaWx0ZXJDb2x1bW4oY29sdW1uOiBTbGljay5Db2x1bW4pOiBib29sZWFuIHsgY29uc29sZS5sb2coJ2NhbkZpbHRlckNvbHVtbicpOyByZXR1cm4gc3VwZXIuY2FuRmlsdGVyQ29sdW1uKGNvbHVtbikgfVxyXG5cclxuICAgICAgICAvL3VzZVBhZ2VyXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVBhZ2VyKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnY3JlYXRlUGFnZXInKTsgc3VwZXIuY3JlYXRlUGFnZXIoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFBhZ2VyT3B0aW9ucygpOiBTbGljay5QYWdlck9wdGlvbnMgeyBjb25zb2xlLmxvZygnZ2V0UGFnZXJPcHRpb25zJyk7IHJldHVybiBzdXBlci5nZXRQYWdlck9wdGlvbnMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBiaW5kVG9TbGlja0V2ZW50cygpOiB2b2lkIHsgY29uc29sZS5sb2coJ2JpbmRUb1NsaWNrRXZlbnRzJyk7IHN1cGVyLmJpbmRUb1NsaWNrRXZlbnRzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBiaW5kVG9WaWV3RXZlbnRzKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnYmluZFRvVmlld0V2ZW50cycpOyBzdXBlci5iaW5kVG9WaWV3RXZlbnRzKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlVG9vbGJhckV4dGVuc2lvbnMoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdjcmVhdGVUb29sYmFyRXh0ZW5zaW9ucycpOyBzdXBlci5jcmVhdGVUb29sYmFyRXh0ZW5zaW9ucygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlSW5jbHVkZURlbGV0ZWRCdXR0b24oKTogdm9pZCB7IGNvbnNvbGUubG9nKCdjcmVhdGVJbmNsdWRlRGVsZXRlZEJ1dHRvbicpOyBzdXBlci5jcmVhdGVJbmNsdWRlRGVsZXRlZEJ1dHRvbigpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgY3JlYXRlUXVpY2tTZWFyY2hJbnB1dCgpOiB2b2lkIHsgY29uc29sZS5sb2coJ2NyZWF0ZVF1aWNrU2VhcmNoSW5wdXQnKTsgc3VwZXIuY3JlYXRlUXVpY2tTZWFyY2hJbnB1dCgpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0UXVpY2tTZWFyY2hGaWVsZHMoKTogU2VyZW5pdHkuUXVpY2tTZWFyY2hGaWVsZFtdIHsgY29uc29sZS5sb2coJ2dldFF1aWNrU2VhcmNoRmllbGRzJyk7IHJldHVybiBzdXBlci5nZXRRdWlja1NlYXJjaEZpZWxkcygpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNyZWF0ZVF1aWNrRmlsdGVycygpOiB2b2lkIHsgY29uc29sZS5sb2coJ2NyZWF0ZVF1aWNrRmlsdGVycycpOyBzdXBlci5jcmVhdGVRdWlja0ZpbHRlcnMoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFF1aWNrRmlsdGVycygpOiBTZXJlbml0eS5RdWlja0ZpbHRlcjxTZXJlbml0eS5XaWRnZXQ8YW55PiwgYW55PltdIHsgY29uc29sZS5sb2coJ2dldFF1aWNrRmlsdGVycycpOyByZXR1cm4gc3VwZXIuZ2V0UXVpY2tGaWx0ZXJzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBkYXRlVGltZVJhbmdlUXVpY2tGaWx0ZXIoZmllbGQ6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpOiBTZXJlbml0eS5RdWlja0ZpbHRlcjxTZXJlbml0eS5EYXRlVGltZUVkaXRvciwgU2VyZW5pdHkuRGF0ZVRpbWVFZGl0b3JPcHRpb25zPiB7IGNvbnNvbGUubG9nKCdkYXRlVGltZVJhbmdlUXVpY2tGaWx0ZXInKTsgcmV0dXJuIHN1cGVyLmRhdGVUaW1lUmFuZ2VRdWlja0ZpbHRlcihmaWVsZCwgdGl0bGUpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsIGZvciBlYWNoIHF1aWNrIGZpbHRlclxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRRdWlja0ZpbHRlcjxUV2lkZ2V0IGV4dGVuZHMgU2VyZW5pdHkuV2lkZ2V0PGFueT4sIFRPcHRpb25zPihvcHQ6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFRXaWRnZXQsIFRPcHRpb25zPik6IFRXaWRnZXQgeyBjb25zb2xlLmxvZygnYWRkUXVpY2tGaWx0ZXI8VFdpZGdldCBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxhbnk+LCBUT3B0aW9ucz4nKTsgcmV0dXJuIHN1cGVyLmFkZFF1aWNrRmlsdGVyKG9wdCkgfVxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGFkZF9zdWJtaXRIYW5kbGVycyhhY3Rpb246ICgpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ2FkZF9zdWJtaXRIYW5kbGVycyhhY3Rpb246ICcpOyBzdXBlci5hZGRfc3VibWl0SGFuZGxlcnMoYWN0aW9uKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVEaXNhYmxlZFN0YXRlKCk6IHZvaWQgeyBjb25zb2xlLmxvZygndXBkYXRlRGlzYWJsZWRTdGF0ZScpOyBzdXBlci51cGRhdGVEaXNhYmxlZFN0YXRlKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q3VycmVudFNldHRpbmdzKGZsYWdzPzogU2VyZW5pdHkuR3JpZFBlcnNpc3RhbmNlRmxhZ3MpOiBTZXJlbml0eS5QZXJzaXN0ZWRHcmlkU2V0dGluZ3MgeyBjb25zb2xlLmxvZygnZ2V0Q3VycmVudFNldHRpbmdzJyk7IHJldHVybiBzdXBlci5nZXRDdXJyZW50U2V0dGluZ3MoKSB9XHJcbiAgICAgICAgcHJvdGVjdGVkIGdyaWRQZXJzaXN0YW5jZUZsYWdzKCk6IFNlcmVuaXR5LkdyaWRQZXJzaXN0YW5jZUZsYWdzIHsgY29uc29sZS5sb2coJ2dyaWRQZXJzaXN0YW5jZUZsYWdzJyk7IHJldHVybiBzdXBlci5ncmlkUGVyc2lzdGFuY2VGbGFncygpIH1cclxuICAgICAgICBwcm90ZWN0ZWQgcmVzdG9yZVNldHRpbmdzKHNldHRpbmdzPzogU2VyZW5pdHkuUGVyc2lzdGVkR3JpZFNldHRpbmdzLCBmbGFncz86IFNlcmVuaXR5LkdyaWRQZXJzaXN0YW5jZUZsYWdzKTogdm9pZCB7IGNvbnNvbGUubG9nKCdyZXN0b3JlU2V0dGluZ3MnKTsgc3VwZXIucmVzdG9yZVNldHRpbmdzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQZXJzaXN0ZWRTZXR0aW5ncygpOiBTZXJlbml0eS5QZXJzaXN0ZWRHcmlkU2V0dGluZ3MgeyBjb25zb2xlLmxvZygnZ2V0UGVyc2lzdGVkU2V0dGluZ3MnKTsgcmV0dXJuIHN1cGVyLmdldFBlcnNpc3RlZFNldHRpbmdzKCkgfVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRQZXJzaXN0YW5jZVN0b3JhZ2UoKTogU2VyZW5pdHkuU2V0dGluZ1N0b3JhZ2UgeyBjb25zb2xlLmxvZygnZ2V0UGVyc2lzdGFuY2VTdG9yYWdlJyk7IHJldHVybiBzdXBlci5nZXRQZXJzaXN0YW5jZVN0b3JhZ2UoKSB9XHJcblxyXG4gICAgICAgIC8vZ2V0Vmlld1xyXG4gICAgICAgIGdldEdyaWQoKTogU2xpY2suR3JpZCB7IGNvbnNvbGUubG9nKCdnZXRHcmlkJyk7IHJldHVybiBzdXBlci5nZXRHcmlkKCkgfVxyXG4gICAgICAgIC8vZ2V0Vmlld1xyXG4gICAgICAgIC8vZ2V0R3JpZFxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgaW5pdGlhbFBvcHVsYXRlKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnaW5pdGlhbFBvcHVsYXRlJyk7IHN1cGVyLmluaXRpYWxQb3B1bGF0ZSgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgcG9wdWxhdGVXaGVuVmlzaWJsZSgpOiBib29sZWFuIHsgY29uc29sZS5sb2coJ3BvcHVsYXRlV2hlblZpc2libGUnKTsgcmV0dXJuIHN1cGVyLnBvcHVsYXRlV2hlblZpc2libGUoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCBvblZpZXdTdWJtaXQoKTogYm9vbGVhbiB7IGNvbnNvbGUubG9nKCdvblZpZXdTdWJtaXQnKTsgcmV0dXJuIHN1cGVyLm9uVmlld1N1Ym1pdCgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0R3JpZENhbkxvYWQoKTogYm9vbGVhbiB7IGNvbnNvbGUubG9nKCdnZXRHcmlkQ2FuTG9hZCcpOyByZXR1cm4gc3VwZXIuZ2V0R3JpZENhbkxvYWQoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIHNldENyaXRlcmlhUGFyYW1ldGVyKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0Q3JpdGVyaWFQYXJhbWV0ZXInKTsgc3VwZXIuc2V0Q3JpdGVyaWFQYXJhbWV0ZXIoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIHNldEluY2x1ZGVDb2x1bW5zUGFyYW1ldGVyKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0SW5jbHVkZUNvbHVtbnNQYXJhbWV0ZXInKTsgc3VwZXIuc2V0SW5jbHVkZUNvbHVtbnNQYXJhbWV0ZXIoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEluY2x1ZGVDb2x1bW5zKGluY2x1ZGU6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbjsgfSk6IHZvaWQgeyBjb25zb2xlLmxvZygnZ2V0SW5jbHVkZUNvbHVtbnMnKTsgc3VwZXIuZ2V0SW5jbHVkZUNvbHVtbnMoaW5jbHVkZSkgfVxyXG5cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgaW52b2tlU3VibWl0SGFuZGxlcnMoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbnZva2VTdWJtaXRIYW5kbGVycycpOyBzdXBlci5pbnZva2VTdWJtaXRIYW5kbGVycygpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgcHJvdGVjdGVkIG9uVmlld1Byb2Nlc3NEYXRhKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8QXVkaXRMb2dSb3c+KTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPEF1ZGl0TG9nUm93PiB7IGNvbnNvbGUubG9nKCdvblZpZXdQcm9jZXNzRGF0YScpOyByZXR1cm4gc3VwZXIub25WaWV3UHJvY2Vzc0RhdGEocmVzcG9uc2UpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcm93IG9uIGV2ZXJ5IFJlZnJlc2ggT1IgTGF5b3V0IGNoYW5nZVxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRJdGVtTWV0YWRhdGEoaXRlbTogQXVkaXRMb2dSb3csIGluZGV4OiBudW1iZXIpOiBhbnkgeyBjb25zb2xlLmxvZygnZ2V0SXRlbU1ldGFkYXRhJyk7IHJldHVybiBzdXBlci5nZXRJdGVtTWV0YWRhdGEoaXRlbSwgaW5kZXgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByb3cgb24gZXZlcnkgUmVmcmVzaCBPUiBMYXlvdXQgY2hhbmdlXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEl0ZW1Dc3NDbGFzcyhpdGVtOiBBdWRpdExvZ1JvdywgaW5kZXg6IG51bWJlcik6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRJdGVtQ3NzQ2xhc3MnKTsgcmV0dXJuIHN1cGVyLmdldEl0ZW1Dc3NDbGFzcyhpdGVtLCBpbmRleCkgfVxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJvdyBvbiBldmVyeSBSZWZyZXNoIE9SIExheW91dCBjaGFuZ2VcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpOiBzdHJpbmcgeyBjb25zb2xlLmxvZygnZ2V0SXNBY3RpdmVQcm9wZXJ0eScpOyByZXR1cm4gc3VwZXIuZ2V0SXNBY3RpdmVQcm9wZXJ0eSgpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByb3cgb24gZXZlcnkgUmVmcmVzaCBPUiBMYXlvdXQgY2hhbmdlXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldElzRGVsZXRlZFByb3BlcnR5KCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRJc0RlbGV0ZWRQcm9wZXJ0eScpOyByZXR1cm4gc3VwZXIuZ2V0SXNEZWxldGVkUHJvcGVydHkoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJvdyBvbiBldmVyeSByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgb25WaWV3RmlsdGVyKGl0ZW06IEF1ZGl0TG9nUm93KTogYm9vbGVhbiB7IGNvbnNvbGUubG9nKCdvblZpZXdGaWx0ZXInKTsgcmV0dXJuIHN1cGVyLm9uVmlld0ZpbHRlcihpdGVtKSB9XHJcblxyXG4gICAgICAgIGdldEVsZW1lbnQoKTogSlF1ZXJ5IHsgY29uc29sZS5sb2coJ2dldEVsZW1lbnQnKTsgcmV0dXJuIHN1cGVyLmdldEVsZW1lbnQoKSB9XHJcblxyXG4gICAgICAgIC8vY2FsbGVkIGZvciBlYWNoIHJlZnJlc2ggcmVxdWVzdFxyXG4gICAgICAgIHByb3RlY3RlZCB2aWV3RGF0YUNoYW5nZWQoZTogYW55LCByb3dzOiBBdWRpdExvZ1Jvd1tdKTogdm9pZCB7IGNvbnNvbGUubG9nKCd2aWV3RGF0YUNoYW5nZWQnKTsgc3VwZXIudmlld0RhdGFDaGFuZ2VkKGUsIHJvd3MpIH1cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgbWFya3VwUmVhZHkoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdtYXJrdXBSZWFkeScpOyBzdXBlci5tYXJrdXBSZWFkeSgpIH1cclxuXHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgZ2V0SXRlbXMoKTogQXVkaXRMb2dSb3dbXSB7IGNvbnNvbGUubG9nKCdnZXRJdGVtcycpOyByZXR1cm4gc3VwZXIuZ2V0SXRlbXMoKSB9XHJcbiAgICAgICAgLy9jYWxsZWQgZm9yIGVhY2ggcmVmcmVzaCByZXF1ZXN0XHJcbiAgICAgICAgc2V0SXRlbXModmFsdWU6IEF1ZGl0TG9nUm93W10pOiB2b2lkIHsgY29uc29sZS5sb2coJ3NldEl0ZW1zJyk7IHN1cGVyLnNldEl0ZW1zKHZhbHVlKSB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkQnV0dG9uQ2xpY2soKTogdm9pZCB7IGNvbnNvbGUubG9nKCdhZGRCdXR0b25DbGljaycpOyBzdXBlci5hZGRCdXR0b25DbGljaygpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGVkaXRJdGVtKGVudGl0eU9ySWQ6IGFueSk6IHZvaWQgeyBjb25zb2xlLmxvZygnZWRpdEl0ZW0nKTsgc3VwZXIuZWRpdEl0ZW0oZW50aXR5T3JJZCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZWRpdEl0ZW1PZlR5cGUoaXRlbVR5cGU6IHN0cmluZywgZW50aXR5T3JJZDogYW55KTogdm9pZCB7IGNvbnNvbGUubG9nKCdlZGl0SXRlbU9mVHlwZScpOyBzdXBlci5lZGl0SXRlbU9mVHlwZShpdGVtVHlwZSwgZW50aXR5T3JJZCkgfVxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRTZXJ2aWNlKCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRTZXJ2aWNlJyk7IHJldHVybiBzdXBlci5nZXRCdXR0b25zKCkgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCByb3V0ZURpYWxvZyhpdGVtVHlwZTogc3RyaW5nLCBkaWFsb2c6IFNlcmVuaXR5LldpZGdldDxhbnk+KTogdm9pZCB7IGNvbnNvbGUubG9nKCdyb3V0ZURpYWxvZycpOyBzdXBlci5yb3V0ZURpYWxvZyhpdGVtVHlwZSwgZGlhbG9nKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGluaXREaWFsb2coZGlhbG9nKTogdm9pZCB7IGNvbnNvbGUubG9nKCdpbml0RGlhbG9nJyk7IHN1cGVyLmluaXREaWFsb2coZGlhbG9nKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbml0RW50aXR5RGlhbG9nKGl0ZW1UeXBlOiBzdHJpbmcsIGRpYWxvZzogU2VyZW5pdHkuV2lkZ2V0PGFueT4pOiB2b2lkIHsgY29uc29sZS5sb2coJ2luaXRFbnRpdHlEaWFsb2cnKTsgc3VwZXIuaW5pdEVudGl0eURpYWxvZyhpdGVtVHlwZSwgZGlhbG9nKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBjcmVhdGVFbnRpdHlEaWFsb2coaXRlbVR5cGU6IHN0cmluZywgY2FsbGJhY2s/OiAoZGxnOiBTZXJlbml0eS5XaWRnZXQ8YW55PikgPT4gdm9pZCk6IFNlcmVuaXR5LldpZGdldDxhbnk+IHsgY29uc29sZS5sb2coJ2NyZWF0ZUVudGl0eURpYWxvZyhpdGVtVHlwZTogc3RyaW5nLCBjYWxsYmFjaz86ICcpOyByZXR1cm4gc3VwZXIuY3JlYXRlRW50aXR5RGlhbG9nKGl0ZW1UeXBlLCBjYWxsYmFjaykgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0RGlhbG9nT3B0aW9ucygpOiBKUXVlcnlVSS5EaWFsb2dPcHRpb25zIHsgY29uc29sZS5sb2coJ2dldERpYWxvZ09wdGlvbnMnKTsgcmV0dXJuIHN1cGVyLmdldERpYWxvZ09wdGlvbnMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXREaWFsb2dPcHRpb25zRm9yKGl0ZW1UeXBlOiBzdHJpbmcpOiBKUXVlcnlVSS5EaWFsb2dPcHRpb25zIHsgY29uc29sZS5sb2coJ2dldERpYWxvZ09wdGlvbnNGb3InKTsgcmV0dXJuIHN1cGVyLmdldERpYWxvZ09wdGlvbnNGb3IoaXRlbVR5cGUpIH1cclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0RGlhbG9nVHlwZUZvcihpdGVtVHlwZTogc3RyaW5nKTogeyBjb25zb2xlLmxvZygnZ2V0RGlhbG9nVHlwZUZvcicpO1xyXG5cclxuICAgICAgICAvLyAgICBuZXcoLi4uYXJnczogYW55W10pOiBTZXJlbml0eS5XaWRnZXQ8YW55PjtcclxuXHJcbiAgICAgICAgLy99O1xyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXREaWFsb2dUeXBlKCk6IHsgY29uc29sZS5sb2coJ2dldERpYWxvZ1R5cGUnKTtcclxuXHJcbiAgICAgICAgLy8gICAgbmV3KC4uLmFyZ3M6IGFueVtdKTogU2VyZW5pdHkuV2lkZ2V0PGFueT47XHJcblxyXG4gICAgICAgIC8vfTtcclxuICAgICAgICAvL0luaGVyaXRlZCBmcm9tIFNlcmVuaXR5LkRhdGFHcmlkIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIHJlbW92ZV9zdWJtaXRIYW5kbGVycyhhY3Rpb246ICgpID0+IHZvaWQpOiB2b2lkIHsgY29uc29sZS5sb2coJ3JlbW92ZV9zdWJtaXRIYW5kbGVycyhhY3Rpb246ICcpOyBzdXBlci5yZW1vdmVfc3VibWl0SGFuZGxlcnMoYWN0aW9uKSB9XHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRJbml0aWFsVGl0bGUoKTogc3RyaW5nO1xyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBjcmVhdGVUb29sYmFyRXh0ZW5zaW9ucygpOiB2b2lkO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGZpbmRRdWlja0ZpbHRlcjxUV2lkZ2V0Pih0eXBlOiB7IGNvbnNvbGUubG9nKCdmaW5kUXVpY2tGaWx0ZXI8VFdpZGdldD4nKTtcclxuXHJcbiAgICAgICAgLy8gICAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFRXaWRnZXQ7XHJcblxyXG4gICAgICAgIC8vfSwgZmllbGQ6IHN0cmluZyk6IFRXaWRnZXQ7XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIHRyeUZpbmRRdWlja0ZpbHRlcjxUV2lkZ2V0Pih0eXBlOiB7IGNvbnNvbGUubG9nKCd0cnlGaW5kUXVpY2tGaWx0ZXI8VFdpZGdldD4nKTtcclxuXHJcbiAgICAgICAgLy8gICAgbmV3KC4uLmFyZ3M6IGFueVtdKTogVFdpZGdldDtcclxuXHJcbiAgICAgICAgLy99LCBmaWVsZDogc3RyaW5nKTogVFdpZGdldDtcclxuXHJcblxyXG5cclxuICAgICAgICBkZXN0cm95KCk6IHZvaWQgeyBjb25zb2xlLmxvZygnZGVzdHJveScpOyBzdXBlci5kZXN0cm95KCkgfVxyXG5cclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgaW5pdGlhbGl6ZUFzeW5jKCk6IFByb21pc2VMaWtlPHZvaWQ+IHsgY29uc29sZS5sb2coJ2luaXRpYWxpemVBc3luYycpOyByZXR1cm4gc3VwZXIuaW5pdGlhbGl6ZUFzeW5jKCkgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vaXRlbUF0KHJvdzogbnVtYmVyKTogYW55O1xyXG5cclxuICAgICAgICAvL3Jvd0NvdW50KCk6IG51bWJlcjtcclxuXHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRBZGRCdXR0b25DYXB0aW9uKCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0QnV0dG9ucygpOiBUb29sQnV0dG9uW107XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGVkaXRJdGVtKGVudGl0eU9ySWQ6IGFueSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGVkaXRJdGVtT2ZUeXBlKGl0ZW1UeXBlOiBzdHJpbmcsIGVudGl0eU9ySWQ6IGFueSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBvbkNsaWNrKGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyKTogdm9pZCB7IGNvbnNvbGUubG9nKCdvbkNsaWNrJyk7IHN1cGVyLm9uQ2xpY2soZSwgcm93LCBjZWxsKSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0RXF1YWxpdHkoZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0RXF1YWxpdHknKTsgc3VwZXIuc2V0RXF1YWxpdHkoZmllbGQsIHZhbHVlKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIHVzZVBhZ2VyKCk6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldFZpZXdPcHRpb25zKCk6IFNsaWNrLlJlbW90ZVZpZXdPcHRpb25zO1xyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRJdGVtVHlwZSgpOiBzdHJpbmc7XHJcblxyXG5cclxuICAgICAgICAvL3Byb3RlY3RlZCBnZXRDb2x1bW5zS2V5KCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0UHJvcGVydHlJdGVtc0FzeW5jKCk6IFByb21pc2VMaWtlPFNlcmVuaXR5LlByb3BlcnR5SXRlbVtdPiB7IGNvbnNvbGUubG9nKCdnZXRQcm9wZXJ0eUl0ZW1zQXN5bmMnKTsgcmV0dXJuIHN1cGVyLmdldFByb3BlcnR5SXRlbXNBc3luYygpIH1cclxuXHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldENvbHVtbnNBc3luYygpOiBQcm9taXNlTGlrZTxTbGljay5Db2x1bW5bXT4geyBjb25zb2xlLmxvZygnZ2V0Q29sdW1uc0FzeW5jJyk7IHJldHVybiBzdXBlci5nZXRDb2x1bW5zQXN5bmMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBwb3B1bGF0ZUxvY2soKTogdm9pZCB7IGNvbnNvbGUubG9nKCdwb3B1bGF0ZUxvY2snKTsgc3VwZXIucG9wdWxhdGVMb2NrKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcG9wdWxhdGVVbmxvY2soKTogdm9pZCB7IGNvbnNvbGUubG9nKCdwb3B1bGF0ZVVubG9jaycpOyBzdXBlci5wb3B1bGF0ZVVubG9jaygpIH1cclxuXHJcblxyXG4gICAgICAgIHJlZnJlc2goKTogdm9pZCB7IGNvbnNvbGUubG9nKCdyZWZyZXNoJyk7IHN1cGVyLnJlZnJlc2goKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCByZWZyZXNoSWZOZWVkZWQoKTogdm9pZCB7IGNvbnNvbGUubG9nKCdyZWZyZXNoSWZOZWVkZWQnKTsgc3VwZXIucmVmcmVzaElmTmVlZGVkKCkgfVxyXG5cclxuICAgICAgICAvL2NhbGxlZCBmb3IgZWFjaCByZWZyZXNoIHJlcXVlc3RcclxuICAgICAgICBwcm90ZWN0ZWQgaW50ZXJuYWxSZWZyZXNoKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnaW50ZXJuYWxSZWZyZXNoJyk7IHN1cGVyLmludGVybmFsUmVmcmVzaCgpIH1cclxuXHJcbiAgICAgICAgc2V0SXNEaXNhYmxlZCh2YWx1ZTogYm9vbGVhbik6IHZvaWQgeyBjb25zb2xlLmxvZygnc2V0SXNEaXNhYmxlZCcpOyBzdXBlci5zZXRJc0Rpc2FibGVkKHZhbHVlKSB9XHJcblxyXG4gICAgICAgIC8vcHJvdGVjdGVkIGdldExvY2FsVGV4dERiUHJlZml4KCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0TG9jYWxUZXh0UHJlZml4KCk6IHN0cmluZztcclxuXHJcbiAgICAgICAgLy9wcm90ZWN0ZWQgZ2V0SWRQcm9wZXJ0eSgpOiBzdHJpbmc7XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHJlc2l6ZUNhbnZhcygpOiB2b2lkIHsgY29uc29sZS5sb2coJ3Jlc2l6ZUNhbnZhcycpOyBzdXBlci5yZXNpemVDYW52YXMoKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzdWJEaWFsb2dEYXRhQ2hhbmdlKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnc3ViRGlhbG9nRGF0YUNoYW5nZScpOyBzdXBlci5zdWJEaWFsb2dEYXRhQ2hhbmdlKCkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkRmlsdGVyU2VwYXJhdG9yKCk6IHZvaWQgeyBjb25zb2xlLmxvZygnYWRkRmlsdGVyU2VwYXJhdG9yJyk7IHN1cGVyLmFkZEZpbHRlclNlcGFyYXRvcigpIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGRldGVybWluZVRleHQoZ2V0S2V5OiAocHJlZml4OiBzdHJpbmcpID0+IHN0cmluZyk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdkZXRlcm1pbmVUZXh0Jyk7IHJldHVybiBzdXBlci5kZXRlcm1pbmVUZXh0KGdldEtleSkgfVxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGFkZERhdGVSYW5nZUZpbHRlcihmaWVsZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IFNlcmVuaXR5LkRhdGVFZGl0b3IgeyBjb25zb2xlLmxvZygnYWRkRGF0ZVJhbmdlRmlsdGVyJyk7IHJldHVybiBzdXBlci5hZGREYXRlUmFuZ2VGaWx0ZXIoZmllbGQsIHRpdGxlKSB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBkYXRlUmFuZ2VRdWlja0ZpbHRlcihmaWVsZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IFNlcmVuaXR5LlF1aWNrRmlsdGVyPFNlcmVuaXR5LkRhdGVFZGl0b3IsIFNlcmVuaXR5LkRhdGVUaW1lRWRpdG9yT3B0aW9ucz4geyBjb25zb2xlLmxvZygnZGF0ZVJhbmdlUXVpY2tGaWx0ZXInKTsgcmV0dXJuIHN1cGVyLmRhdGVSYW5nZVF1aWNrRmlsdGVyKGZpZWxkLCB0aXRsZSkgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkRGF0ZVRpbWVSYW5nZUZpbHRlcihmaWVsZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IFNlcmVuaXR5LkRhdGVUaW1lRWRpdG9yIHsgY29uc29sZS5sb2coJ2FkZERhdGVUaW1lUmFuZ2VGaWx0ZXInKTsgcmV0dXJuIHN1cGVyLmFkZERhdGVUaW1lUmFuZ2VGaWx0ZXIoZmllbGQsIHRpdGxlKSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYWRkQm9vbGVhbkZpbHRlcihmaWVsZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZywgeWVzPzogc3RyaW5nLCBubz86IHN0cmluZyk6IFNlcmVuaXR5LlNlbGVjdEVkaXRvciB7IGNvbnNvbGUubG9nKCdhZGRCb29sZWFuRmlsdGVyJyk7IHJldHVybiBzdXBlci5hZGRCb29sZWFuRmlsdGVyKGZpZWxkLCB0aXRsZSwgeWVzLCBubykgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgYm9vbGVhblF1aWNrRmlsdGVyKGZpZWxkOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nLCB5ZXM/OiBzdHJpbmcsIG5vPzogc3RyaW5nKTogU2VyZW5pdHkuUXVpY2tGaWx0ZXI8U2VyZW5pdHkuU2VsZWN0RWRpdG9yLCBTZXJlbml0eS5TZWxlY3RFZGl0b3JPcHRpb25zPiB7IGNvbnNvbGUubG9nKCdib29sZWFuUXVpY2tGaWx0ZXInKTsgcmV0dXJuIHN1cGVyLmJvb2xlYW5RdWlja0ZpbHRlcihmaWVsZCwgdGl0bGUsIHllcywgbm8pIH1cclxuXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBxdWlja0ZpbHRlckNoYW5nZShlOiBKUXVlcnlFdmVudE9iamVjdCk6IHZvaWQgeyBjb25zb2xlLmxvZygncXVpY2tGaWx0ZXJDaGFuZ2UnKTsgc3VwZXIucXVpY2tGaWx0ZXJDaGFuZ2UoZSkgfVxyXG5cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFBlcnNpc3RhbmNlS2V5KCk6IHN0cmluZyB7IGNvbnNvbGUubG9nKCdnZXRQZXJzaXN0YW5jZUtleScpOyByZXR1cm4gc3VwZXIuZ2V0UGVyc2lzdGFuY2VLZXkoKSB9XHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgY2FuU2hvd0NvbHVtbihjb2x1bW46IFNsaWNrLkNvbHVtbik6IGJvb2xlYW4geyBjb25zb2xlLmxvZygnY2FuU2hvd0NvbHVtbicpOyByZXR1cm4gc3VwZXIuY2FuU2hvd0NvbHVtbihjb2x1bW4pIH1cclxuXHJcblxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgcGVyc2lzdFNldHRpbmdzKGZsYWdzPzogU2VyZW5pdHkuR3JpZFBlcnNpc3RhbmNlRmxhZ3MpOiB2b2lkIHsgY29uc29sZS5sb2coJ3BlcnNpc3RTZXR0aW5ncycpOyBzdXBlci5wZXJzaXN0U2V0dGluZ3MoKSB9XHJcblxyXG4gICAgICAgIGdldEZpbHRlclN0b3JlKCk6IFNlcmVuaXR5LkZpbHRlclN0b3JlIHsgY29uc29sZS5sb2coJ2dldEZpbHRlclN0b3JlJyk7IHJldHVybiBzdXBlci5nZXRGaWx0ZXJTdG9yZSgpIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyAqIHJlcHJlc250cyB0aGUgZnJlcXVlbmN5XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vR1JJRCBSZWZyZXNoIENZQ0xFIFxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gIHJlZnJlc2hcclxuLy8gIHBvcHVsYXRlV2hlblZpc2libGVcclxuLy8gIGludGVybmFsUmVmcmVzaFxyXG4vLyAgb25WaWV3U3VibWl0ICoqKlxyXG4vLyAgZ2V0R3JpZENhbkxvYWRcclxuLy8gIHNldENyaXRlcmlhUGFyYW1ldGVyXHJcbi8vICBzZXRJbmNsdWRlQ29sdW1uc1BhcmFtZXRlclxyXG4vLyAgZ2V0SW5jbHVkZUNvbHVtbnNcclxuLy8gIGludm9rZVN1Ym1pdEhhbmRsZXJzXHJcbi8vICBvblZpZXdQcm9jZXNzRGF0YSAqKlxyXG4vLyAgZ2V0X0V4dEdyaWRPcHRpb25zXHJcbi8vZm9yIGVhY2ggcm93IHtcclxuLy8gIG9uVmlld0ZpbHRlclxyXG4vLyAgZ2V0SXRlbU1ldGFkYXRhXHJcbi8vICBnZXRJdGVtQ3NzQ2xhc3NcclxuLy8gIGdldElzQWN0aXZlUHJvcGVydHlcclxuLy8gIGdldElzRGVsZXRlZFByb3BlcnR5XHJcbi8vICB9XHJcbi8vICB2aWV3RGF0YUNoYW5nZWRcclxuLy8gIG1hcmt1cFJlYWR5ICpcclxuLy90aGUgZm9sbG93aW5nIHNob3VsZCBub3QgYmUgY2FsbGVkLiBub3cgaXQgaXMgY2FsbGVkIGJlY2F1c2Ugb2YgX0V4dCByb3cgbnVtYmVyIGdlbmVyYXRpb24uXHJcbi8vICBnZXRJdGVtc1xyXG4vLyAgc2V0SXRlbXNcclxuLy8gIG9uVmlld0ZpbHRlclxyXG4vLyAgdmlld0RhdGFDaGFuZ2VkXHJcbi8vICBtYXJrdXBSZWFkeVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9HUklEIG9uQ2xpY2sgQ1lDTEUgXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICBvbkNsaWNrXHJcbi8vICBnZXRJZFByb3BlcnR5XHJcbi8vdGhlIGZvbGxvd2luZyBhcmUgY2FsbGVkIHR3aWNlID8/IHtcclxuLy8gIGdldEl0ZW1NZXRhZGF0YVxyXG4vLyAgZ2V0SXRlbUNzc0NsYXNzXHJcbi8vICBnZXRJc0FjdGl2ZVByb3BlcnR5XHJcbi8vICBnZXRJc0RlbGV0ZWRQcm9wZXJ0eSBcclxuLy8gIH1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vR1JJRCBlZGl0IGxpbmsgb25DbGljayBDWUNMRSBcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vICBvbkNsaWNrXHJcbi8vICBnZXRJZFByb3BlcnR5XHJcbi8vICBlZGl0SXRlbVxyXG4vLyAgZ2V0SXRlbVR5cGVcclxuLy8gIGdldEVudGl0eVR5cGVcclxuLy8gIGNyZWF0ZUVudGl0eURpYWxvZyhpdGVtVHlwZTogc3RyaW5nLCBjYWxsYmFjaz86IFxyXG4vLyAgZ2V0SXRlbVR5cGVcclxuLy8gIGdldEVudGl0eVR5cGVcclxuLy8gIGdldERpYWxvZ1R5cGVcclxuLy8gIGdldERpYWxvZ09wdGlvbnNGb3JcclxuLy8gIGdldEl0ZW1UeXBlXHJcbi8vICBnZXRFbnRpdHlUeXBlXHJcbi8vICBnZXREaWFsb2dPcHRpb25zXHJcbi8vICBpbml0RW50aXR5RGlhbG9nXHJcbi8vICBnZXRJdGVtVHlwZVxyXG4vLyAgZ2V0RW50aXR5VHlwZVxyXG4vLyAgZ2V0SXRlbVR5cGVcclxuLy8gIGdldEVudGl0eVR5cGVcclxuLy8gIHJvdXRlRGlhbG9nXHJcbi8vdGhlIGZvbGxvd2luZyBhcmUgY2FsbGVkIHR3aWNlID8/IHtcclxuLy8gIGdldEl0ZW1NZXRhZGF0YVxyXG4vLyAgZ2V0SXRlbUNzc0NsYXNzXHJcbi8vICBnZXRJc0FjdGl2ZVByb3BlcnR5XHJcbi8vICBnZXRJc0RlbGV0ZWRQcm9wZXJ0eVxyXG4vLyAgfVxyXG4vLyAgZ2V0SXRlbVR5cGVcclxuLy8gIGdldEVudGl0eVR5cGVcclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL0dSSUQgcXVpY2tGaWx0ZXJDaGFuZ2UgQ1lDTEUgXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAgcXVpY2tGaWx0ZXJDaGFuZ2VcclxuLy8gIHBlcnNpc3RTZXR0aW5nc1xyXG4vLyAgZ2V0UGVyc2lzdGFuY2VTdG9yYWdlXHJcbi8vICByZWZyZXNoIENZQ0xFIiwiXHJcbm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLm1heGltaXphYmxlKClcclxuICAgIGV4cG9ydCBjbGFzcyBSZXBsYWNlUm93RGlhbG9nIGV4dGVuZHMgX0V4dC5EaWFsb2dCYXNlPGFueSwgYW55PiB7XHJcbiAgICAgICAgcHJvdGVjdGVkIGdldEZvcm1LZXkoKSB7IHJldHVybiBSZXBsYWNlUm93Rm9ybS5mb3JtS2V5OyB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBmb3JtID0gbmV3IFJlcGxhY2VSb3dGb3JtKHRoaXMuaWRQcmVmaXgpO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVxdWVzdDogUmVwbGFjZVJvd1JlcXVlc3QsIHB1YmxpYyBlbnRpdHlMaXN0OiBBcnJheTxhbnk+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ1JlcGxhY2UgUm93J1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mb3JtLkRlbGV0ZWRFbnRpdHlOYW1lLnZhbHVlID0gcmVxdWVzdC5EZWxldGVkRW50aXR5TmFtZVxyXG4gICAgICAgICAgICB0aGlzLmZvcm0uUmVwbGFjZVdpdGhFbnRpdHlJZC5pdGVtcyA9IGVudGl0eUxpc3QubWFwPFNlcmVuaXR5LlNlbGVjdDJJdGVtPihtID0+IHsgcmV0dXJuIHsgaWQ6IFN0cmluZyhtW3JlcXVlc3QuSWRQcm9wZXJ0eV0pLCB0ZXh0OiBtW3JlcXVlc3QuTmFtZVByb3BlcnR5XSwgc291cmNlOiBtIH0gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VG9vbGJhckJ1dHRvbnMoKTogU2VyZW5pdHkuVG9vbEJ1dHRvbltdIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBbXTsgc3VwZXIuZ2V0VG9vbGJhckJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1JlcGxhY2UnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhIGZhLXRyYXNoLW8nLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRlRm9ybSgpID09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgUS5jb25maXJtKGBBcmUgeW91IHN1cmU/IFxyXG5cclxuJHt0aGlzLnJlcXVlc3QuRW50aXR5VHlwZVRpdGxlfTogXCIke3RoaXMucmVxdWVzdC5EZWxldGVkRW50aXR5TmFtZX1cIiB3aWxsIGJlIGRlbGV0ZWQgXHJcbmFuZCBhbGwgcmVmZXJlbmNlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggXCIke3RoaXMuZm9ybS5SZXBsYWNlV2l0aEVudGl0eUlkLnRleHR9XCIuIFxyXG5cclxuVGhpcyBhY3Rpb24gY2Fubm90IGJlIHVuZG9uZSFcclxuXHJcbmAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdC5SZXBsYWNlV2l0aEVudGl0eUlkID0gUS50b0lkKHRoaXMuZm9ybS5SZXBsYWNlV2l0aEVudGl0eUlkLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLnNlcnZpY2VSZXF1ZXN0KFEucmVzb2x2ZVVybCgnfi9TZXJ2aWNlcy9SZXBsYWNlUm93L1JlcGxhY2UnKSwgdGhpcy5yZXF1ZXN0LCByZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDbG9zZSgpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbJ2xhc3RHcmlkJ10pIC8vZm9yIHNpbmdsZSBwYWdlZCBhcHBzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1snbGFzdEdyaWQnXS5yZWZyZXNoKClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9ucztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEF1dG9Db21wbGV0ZUVkaXRvciBleHRlbmRzIFNlcmVuaXR5LlN0cmluZ0VkaXRvciB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoaW5wdXQ6IEpRdWVyeSwgb3B0aW9uczogQXV0b0NvbXBsZXRlT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihpbnB1dCk7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICBpbnB1dC5iaW5kKCdjaGFuZ2UnLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghU2VyZW5pdHkuV1guaGFzT3JpZ2luYWxFdmVudChlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZEF1dG9Db21wbGV0ZShpbnB1dCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGJpbmRBdXRvQ29tcGxldGUoaW5wdXQpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IG9wdCA9IHRoaXMub3B0aW9ucyBhcyBBdXRvQ29tcGxldGVPcHRpb25zO1xyXG4gICAgICAgICAgICBsZXQgc291cmNlID0gb3B0LnNvdXJjZUFycmF5O1xyXG4gICAgICAgICAgICBpZiAob3B0LnNvdXJjZUNTVikge1xyXG4gICAgICAgICAgICAgICAgc291cmNlID0gb3B0LnNvdXJjZUNTVi5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5sb29rdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBsb29rdXAgPSBRLmdldExvb2t1cChvcHQubG9va3VwS2V5KTtcclxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGxvb2t1cC5pdGVtcy5tYXAobSA9PiBtW2xvb2t1cC50ZXh0RmllbGRdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5wdXQuYXV0b2NvbXBsZXRlKHtcclxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogb3B0Lm1pblNlYXJjaExlbmd0aCB8fCAwLFxyXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyQoXCIudWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpLmhpZGUoKTsgIC8vZml4IGlzc3VlIHdpdGggdGhlIHNlbGVjdGVkIGRhdGEgc2hvd2luZyB1cCBvbiB3ZWJwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaW5wdXQuZGF0YShcInVpLWF1dG9jb21wbGV0ZVwiKS5fcmVuZGVySXRlbSA9IGZ1bmN0aW9uICh1bCwgaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQoXCI8bGk+XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcIjxhPlwiICsgaXRlbS5sYWJlbCArIFwiPC9hPlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyh1bCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpbnB1dC5iaW5kKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdhc09wZW4gPSBpbnB1dC5hdXRvY29tcGxldGUoXCJ3aWRnZXRcIikuaXMoXCI6dmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIC8vIENsb3NlIGlmIGFscmVhZHkgdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgaWYgKHdhc09wZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUGFzcyBlbXB0eSBzdHJpbmcgYXMgdmFsdWUgdG8gc2VhcmNoIGZvciwgZGlzcGxheWluZyBhbGwgcmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2NvbXBsZXRlKFwic2VhcmNoXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQXV0b0NvbXBsZXRlT3B0aW9ucyB7XHJcbiAgICAgICAgbG9va3VwS2V5OiBzdHJpbmc7XHJcbiAgICAgICAgc291cmNlQXJyYXk6IHN0cmluZ1tdO1xyXG4gICAgICAgIHNvdXJjZUNTVjogc3RyaW5nO1xyXG4gICAgICAgIG1pblNlYXJjaExlbmd0aDogbnVtYmVyO1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcyhbU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZV0pXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lZGl0b3IoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudChcIjxkaXYvPlwiKVxyXG4gICAgZXhwb3J0IGNsYXNzIENvbG9yRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuVGVtcGxhdGVkV2lkZ2V0PGFueT5cclxuICAgICAgICBpbXBsZW1lbnRzIFNlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUge1xyXG4gICAgICAgIHByb3RlY3RlZCBnZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICAgICAgdXNpbmdCb290c3RyYXBDb2xvclBpY2tlcigpXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cCBjb2xvcnBpY2tlci1jb21wb25lbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIjMDBBQUJCXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCI+PGk+PC9pPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgKDxhbnk+dGhpcy5lbGVtZW50KS5jb2xvcnBpY2tlcih7IGZvcm1hdDogXCJoZXhcIiB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0RWRpdFZhbHVlKHByb3BlcnR5LCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBlZGl0VmFsID0gKDxhbnk+dGhpcy5lbGVtZW50KS5jb2xvcnBpY2tlcigpLmRhdGEoKS5jb2xvcjtcclxuICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IGVkaXRWYWw7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldEVkaXRWYWx1ZShzb3VyY2UsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGxldCB2YWwgPSBzb3VyY2VbcHJvcGVydHkubmFtZV07XHJcbiAgICAgICAgICAgIC8vdGhpcy5lbGVtZW50LmNoaWxkcmVuKCdpbnB1dCcpLnZhbCh2YWwpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRhdGEoJ2NvbG9ycGlja2VyJykuc2V0VmFsdWUodmFsKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklSZWFkT25seV0pXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lZGl0b3IoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudChcIjxpbnB1dC8+XCIpXHJcbiAgICBleHBvcnQgY2xhc3MgRGF0ZVRpbWVQaWNrZXJFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8YW55PiBpbXBsZW1lbnRzIFNlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklSZWFkT25seSB7XHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7IHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHRoaXMudmFsdWU7IH1cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZSwgcHJvcGVydHkpIHsgdGhpcy52YWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eS5uYW1lXTsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIpO1xyXG4gICAgICAgICAgICB1c2luZ0pxdWVyeVVJVGltZXBpY2tlckFkZG9uKCk7XHJcblxyXG4gICAgICAgICAgICAoPGFueT50aGlzLmVsZW1lbnQpLmRhdGV0aW1lcGlja2VyKHtcclxuICAgICAgICAgICAgICAgIHRpbWVJbnB1dDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xUeXBlOiAnc2VsZWN0JyxcclxuICAgICAgICAgICAgICAgIG9uZUxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0aW1lRm9ybWF0OiBcIkhIOm1tXCIsXHJcbiAgICAgICAgICAgICAgICBzaG93T246IFwiYnV0dG9uXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2h0dHA6Ly90cmVudHJpY2hhcmRzb24uY29tL2V4YW1wbGVzL3RpbWVwaWNrZXJcclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gUS5mb3JtYXREYXRlKHRoaXMudmFsdWVBc0RhdGUsICd5eXl5LU1NLWRkVEhIOm1tJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0IHZhbHVlKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBRLnBhcnNlSVNPRGF0ZVRpbWUodmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdmFsdWVBc0RhdGUoKTogRGF0ZSB7XHJcbiAgICAgICAgICAgIGxldCB2YWwgPSAoPGFueT50aGlzLmVsZW1lbnQpLmRhdGV0aW1lcGlja2VyKCdnZXREYXRlJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZUFzRGF0ZSh2YWw6IERhdGUpIHtcclxuICAgICAgICAgICAgKDxhbnk+dGhpcy5lbGVtZW50KS5kYXRldGltZXBpY2tlcignc2V0RGF0ZScsIHZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXRfcmVhZE9ubHkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfcmVhZE9ubHkodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICg8YW55PnRoaXMuZWxlbWVudCkuZGF0ZXRpbWVwaWNrZXIoXCJvcHRpb25cIiwgXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRDbGFzcygncmVhZG9ubHknKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAoPGFueT50aGlzLmVsZW1lbnQpLmRhdGV0aW1lcGlja2VyKFwib3B0aW9uXCIsIFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCdyZWFkb25seScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0X21pbkRhdGUoZGF0ZTogRGF0ZSkge1xyXG4gICAgICAgICAgICAoPGFueT50aGlzLmVsZW1lbnQpLmRhdGV0aW1lcGlja2VyKCdvcHRpb24nLCAnbWluRGF0ZScsIGRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRfbWF4RGF0ZShkYXRlOiBEYXRlKSB7XHJcbiAgICAgICAgICAgICg8YW55PnRoaXMuZWxlbWVudCkuZGF0ZXRpbWVwaWNrZXIoJ29wdGlvbicsICdtYXhEYXRlJywgZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRfbWluRGF0ZVRpbWUoZGF0ZTogRGF0ZSkge1xyXG4gICAgICAgICAgICAoPGFueT50aGlzLmVsZW1lbnQpLmRhdGV0aW1lcGlja2VyKCdvcHRpb24nLCAnbWluRGF0ZVRpbWUnLCBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0X21heERhdGVUaW1lKGRhdGU6IERhdGUpIHtcclxuICAgICAgICAgICAgKDxhbnk+dGhpcy5lbGVtZW50KS5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ21heERhdGVUaW1lJywgZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEVtcHR5TG9va3VwRWRpdG9yIGV4dGVuZHMgU2VyZW5pdHkuTG9va3VwRWRpdG9yQmFzZTxTZXJlbml0eS5Mb29rdXBFZGl0b3JPcHRpb25zLCBhbnk+IHtcclxuXHJcbiAgICAgICAgcHVibGljIHNldFNlbGVjdDJJdGVtcyhpdGVtczogU2VyZW5pdHkuU2VsZWN0Mkl0ZW1bXSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsgdGhpcy5hZGRJdGVtKGl0ZW0pOyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXRMb29rdXBJdGVtcyhsb29rdXA6IFEuTG9va3VwPGFueT4pIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gbG9va3VwLml0ZW1zLm1hcDxTZXJlbml0eS5TZWxlY3QySXRlbT4obSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBtW2xvb2t1cC5pZEZpZWxkXSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtW2xvb2t1cC50ZXh0RmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogbVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3QySXRlbXMoaXRlbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoKVxyXG4gICAgZXhwb3J0IGNsYXNzIEhhcmRDb2RlZExvb2t1cEVkaXRvciBleHRlbmRzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3I8YW55LCBhbnk+IHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBKUXVlcnksIG9wdGlvbnM6IEhhcmRDb2RlZExvb2t1cEVkaXRvck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZUFycmF5O1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3VyY2VDU1YpIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IG9wdGlvbnMuc291cmNlQ1NWLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGkgPT4gdGhpcy5hZGRPcHRpb24oaSwgaSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldFNlbGVjdDJPcHRpb25zKCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0ID0gc3VwZXIuZ2V0U2VsZWN0Mk9wdGlvbnMoKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG9wdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBIYXJkQ29kZWRMb29rdXBFZGl0b3JPcHRpb25zIHtcclxuICAgICAgICBzb3VyY2VBcnJheTogc3RyaW5nW107XHJcbiAgICAgICAgc291cmNlQ1NWOiBzdHJpbmc7XHJcbiAgICAgICAgYWxsb3dPdGhlclZhbHVlOiBib29sZWFuO1xyXG4gICAgfVxyXG59IiwibmFtZXNwYWNlIF9FeHQge1xyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWRpdG9yKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmVsZW1lbnQoXCI8ZGl2Lz5cIilcclxuICAgIGV4cG9ydCBjbGFzcyBIdG1sVGVtcGxhdGVFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5IdG1sQ29udGVudEVkaXRvciB7XHJcbiAgICAgICAgY29uc3RydWN0b3IodGV4dEFyZWE6IEpRdWVyeSwgb3B0PzogSHRtbFRlbXBsYXRlRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcih0ZXh0QXJlYSwgb3B0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRDb25maWcoKTogU2VyZW5pdHkuQ0tFZGl0b3JDb25maWcge1xyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gc3VwZXIuZ2V0Q29uZmlnKCkgYXMgYW55O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBsYWNlaG9yZGVycyA9ICh0aGlzLm9wdGlvbnMgYXMgYW55KS5wbGFjZWhvbGRlcnMgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAocGxhY2Vob3JkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25maWcucGxhY2Vob2xkZXJfc2VsZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyczogcGxhY2Vob3JkZXJzLnNwbGl0KCcsJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbmZpZy5leHRyYVBsdWdpbnMgKz0gJyxyaWNoY29tYm8scGxhY2Vob2xkZXJfc2VsZWN0JztcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbmZpZy5hbGxvd2VkQ29udGVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbmZpZy5lbnRlck1vZGUgPSB3aW5kb3dbJ0NLRURJVE9SJ10uRU5URVJfQlI7XHJcbiAgICAgICAgICAgIGNvbmZpZy5leHRyYVBsdWdpbnMgKz0gJyxzaG93Ym9yZGVycyc7XHJcbiAgICAgICAgICAgIGNvbmZpZy5yZW1vdmVQbHVnaW5zICs9ICcsdXBsb2FkaW1hZ2UnO1xyXG5cclxuICAgICAgICAgICAgLy9jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vY29uZmlnLnRvb2xiYXIgPSBbWydwbGFjZWhvbGRlcl9zZWxlY3QnXV07XHJcblxyXG4gICAgICAgICAgICBjb25maWcucmVtb3ZlQnV0dG9ucyArPSAnLEN1dCxDb3B5LFBhc3RlLFBhc3RlVGV4dCxQYXN0ZUZyb21Xb3JkJyArXHJcbiAgICAgICAgICAgICAgICAnLFNwZWNpYWxDaGFyLFN1YnNjcmlwdCxTdXBlcnNjcmlwdCxTdHlsZXMsJyArXHJcbiAgICAgICAgICAgICAgICAnTGluayxVbmxpbmssQ3JlYXRlUGxhY2Vob2xkZXIsJyArXHJcbiAgICAgICAgICAgICAgICAnSW1hZ2UsQW5jaG9yLEJsb2NrcXVvdGUsQkdDb2xvciwnICtcclxuICAgICAgICAgICAgICAgICdTdXBlcnNjcmlwdCxSZW1vdmVGb3JtYXQnO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBIdG1sVGVtcGxhdGVFZGl0b3JPcHRpb25zIGV4dGVuZHMgU2VyZW5pdHkuSHRtbENvbnRlbnRFZGl0b3JPcHRpb25zIHtcclxuICAgICAgICBjb2xzPzogYW55O1xyXG4gICAgICAgIHJvd3M/OiBhbnk7XHJcblxyXG4gICAgICAgIHBsYWNlaG9sZGVycz86IGFueTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lZGl0b3IoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJDbGFzcyhbU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZV0pXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lbGVtZW50KFwiPGRpdi8+XCIpXHJcbiAgICBleHBvcnQgY2xhc3MgSnNvblZpZXdlciBleHRlbmRzIFNlcmVuaXR5LlRlbXBsYXRlZFdpZGdldDxhbnk+XHJcbiAgICAgICAgaW1wbGVtZW50cyBTZXJlbml0eS5JR2V0RWRpdFZhbHVlLCBTZXJlbml0eS5JU2V0RWRpdFZhbHVlIHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgYDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIF92YWx1ZTtcclxuXHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZSwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eS5uYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50ZXh0KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklSZWFkT25seV0pXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lZGl0b3IoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudCgnPGlucHV0IHR5cGU9XCJtb250aFwiLz4nKVxyXG4gICAgZXhwb3J0IGNsYXNzIE1vbnRoWWVhckVkaXRvciBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxhbnk+IGltcGxlbWVudHMgU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVJlYWRPbmx5IHtcclxuICAgICAgICBwdWJsaWMgZ2V0RWRpdFZhbHVlKHByb3BlcnR5LCB0YXJnZXQpIHsgdGFyZ2V0W3Byb3BlcnR5Lm5hbWVdID0gdGhpcy52YWx1ZTsgfVxyXG4gICAgICAgIHB1YmxpYyBzZXRFZGl0VmFsdWUoc291cmNlLCBwcm9wZXJ0eSkgeyB0aGlzLnZhbHVlID0gc291cmNlW3Byb3BlcnR5Lm5hbWVdOyB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQudmFsKFEuZm9ybWF0RGF0ZSh2YWwsICd5eXl5LU1NJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0X3JlYWRPbmx5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmhhc0NsYXNzKCdyZWFkb25seScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0X3JlYWRPbmx5KHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCdyZWFkb25seScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJyZWFkb25seVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLnJlZ2lzdGVyQ2xhc3MoW1NlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklSZWFkT25seV0pXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5lZGl0b3IoKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIvPicpXHJcbiAgICBleHBvcnQgY2xhc3MgUHJlZml4ZWRTdHJpbmdFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5XaWRnZXQ8UHJlZml4ZWRTdHJpbmdFZGl0b3JPcHRpb25zPiBpbXBsZW1lbnRzIFNlcmVuaXR5LklHZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklTZXRFZGl0VmFsdWUsIFNlcmVuaXR5LklSZWFkT25seSB7XHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7IHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHRoaXMudmFsdWU7IH1cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZSwgcHJvcGVydHkpIHsgdGhpcy52YWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eS5uYW1lXTsgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHByZWZpeElucHV0OiBKUXVlcnk7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zOiBQcmVmaXhlZFN0cmluZ0VkaXRvck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgc3VwZXIoY29udGFpbmVyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuXHJcbiAgICAgICAgICAgIGxldCBmb250U2l6ZSA9IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50WzBdKS5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIGxldCBwcmVmaXhJbnB1dFdpZHRoID0gb3B0aW9ucy5wcmVmaXhMZW5ndGggKiBmb250U2l6ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJlZml4SW5wdXQgPSAkKCc8aW5wdXQgdHlwZT1cInRleHRcIi8+JylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygncHJlZml4IHJlYWRvbmx5JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGB3aWR0aDoke3ByZWZpeElucHV0V2lkdGh9cHg7YClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXHJcbiAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ2hhcy1pbnBsYWNlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRNYXhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmVsZW1lbnQuYXR0cignbWF4bGVuZ3RoJywgb3B0aW9ucy5pbnB1dE1heExlbmd0aCk7IH0sIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRWYWwgPSB0aGlzLmVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWZpeCArIGlucHV0VmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZSh2YWw6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSgnICcsICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlZml4ID0gdmFsLnN1YnN0cigwLCB0aGlzLm9wdGlvbnMucHJlZml4TGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dFZhbCA9IHZhbC5zdWJzdHIodGhpcy5vcHRpb25zLnByZWZpeExlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudmFsKGlucHV0VmFsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWwodmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfcHJlZml4ID0gJyc7XHJcbiAgICAgICAgcHVibGljIGdldCBwcmVmaXgoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZpeDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXQgcHJlZml4KHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZWZpeCA9IHZhbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVmaXhGb3JtYXR0ZXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm9ybWF0dGVyVHlwZSA9IFEuZ2V0VHlwZSh0aGlzLm9wdGlvbnMucHJlZml4Rm9ybWF0dGVyVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVyVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeElucHV0LnZhbCgoZm9ybWF0dGVyVHlwZSBhcyBhbnkpLmZvcm1hdCh2YWwpKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZWZpeElucHV0LnZhbCh2YWwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmaXhJbnB1dC52YWwodmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0X3JlYWRPbmx5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmhhc0NsYXNzKCdyZWFkb25seScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0X3JlYWRPbmx5KHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXR0cihcInJlYWRvbmx5XCIsIFwicmVhZG9ubHlcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3JlYWRvbmx5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cihcInJlYWRvbmx5XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBQcmVmaXhlZFN0cmluZ0VkaXRvck9wdGlvbnMge1xyXG4gICAgICAgIHByZWZpeExlbmd0aDogbnVtYmVyO1xyXG4gICAgICAgIGlucHV0TWF4TGVuZ3RoOiBudW1iZXI7XHJcbiAgICAgICAgcHJlZml4Rm9ybWF0dGVyVHlwZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWxlbWVudChcIjxkaXYvPlwiKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJFZGl0b3IoW1NlcmVuaXR5LklTZXRFZGl0VmFsdWVdKVxyXG4gICAgZXhwb3J0IGNsYXNzIFN0YXRpY1RleHRCbG9jayBleHRlbmRzIFNlcmVuaXR5LldpZGdldDxTdGF0aWNUZXh0QmxvY2tPcHRpb25zPlxyXG4gICAgICAgIGltcGxlbWVudHMgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3ZhbHVlOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSlF1ZXJ5LCBvcHRpb25zOiBTdGF0aWNUZXh0QmxvY2tPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGNvbnRhaW5lciwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAvLyBoaWRlIHRoZSBjYXB0aW9uIGxhYmVsIGZvciB0aGlzIGVkaXRvciBpZiBpbiBhIGZvcm0uIHVnbHkgaGFja1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGVMYWJlbClcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbG9zZXN0KCcuZmllbGQnKS5maW5kKCcuY2FwdGlvbicpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSByZXF1aXJlZCBhc3RlcmlzayAoKilcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsb3Nlc3QoJy5maWVsZCcpLmZpbmQoJ3N1cCcpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudENvbnRlbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXBkYXRlRWxlbWVudENvbnRlbnQoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gUS5jb2FsZXNjZSh0aGlzLm9wdGlvbnMudGV4dCwgdGhpcy5fdmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc0RhdGUpXHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUS5mb3JtYXREYXRlKHRleHQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc0RhdGVUaW1lKVxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IFEuZm9ybWF0RGF0ZSh0ZXh0LCBRLkN1bHR1cmUuZGF0ZVRpbWVGb3JtYXQpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgaXNMb2NhbFRleHQgaXMgc2V0LCB0ZXh0IGlzIGFjdHVhbGx5IGEgbG9jYWwgdGV4dCBrZXlcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc0xvY2FsVGV4dClcclxuICAgICAgICAgICAgICAgIHRleHQgPSBRLnRleHQodGV4dCk7XHJcblxyXG4gICAgICAgICAgICAvLyBkb24ndCBodG1sIGVuY29kZSBpZiBpc0h0bWwgb3B0aW9uIGlzIHRydWVcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc0h0bWwpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaHRtbCh0ZXh0KTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRleHQodGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCeSBpbXBsZW1lbnRpbmcgSVNldEVkaXRWYWx1ZSBpbnRlcmZhY2UsIHdlIGFsbG93IHRoaXMgZWRpdG9yIHRvIGRpc3BsYXkgaXRzIGZpZWxkIHZhbHVlLlxyXG4gICAgICAgICAqIEJ1dCBvbmx5IGRvIHRoaXMgd2hlbiBvdXIgdGV4dCBjb250ZW50IGlzIG5vdCBleHBsaWNpdGx5IHNldCBpbiBvcHRpb25zXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHNldEVkaXRWYWx1ZShzb3VyY2U6IGFueSwgcHJvcGVydHk6IFNlcmVuaXR5LlByb3BlcnR5SXRlbSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRleHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBRLmNvYWxlc2NlKHRoaXMub3B0aW9ucy50ZXh0LCBzb3VyY2VbcHJvcGVydHkubmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50Q29udGVudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0IHZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudENvbnRlbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU3RhdGljVGV4dEJsb2NrT3B0aW9ucyB7XHJcbiAgICAgICAgdGV4dDogc3RyaW5nO1xyXG4gICAgICAgIGlzSHRtbDogYm9vbGVhbjtcclxuICAgICAgICBpc0xvY2FsVGV4dDogYm9vbGVhbjtcclxuICAgICAgICBoaWRlTGFiZWw6IGJvb2xlYW47XHJcbiAgICAgICAgaXNEYXRlOiBib29sZWFuO1xyXG4gICAgICAgIGlzRGF0ZVRpbWU6IGJvb2xlYW47XHJcbiAgICB9XHJcbiAgICBcclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuXHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckVkaXRvcigpXHJcbiAgICBleHBvcnQgY2xhc3MgWWVzTm9FZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5TZWxlY3QyRWRpdG9yPGFueSwgYW55PiB7XHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7IHRhcmdldFtwcm9wZXJ0eS5uYW1lXSA9IHRoaXMudmFsdWVBc0Jvb2xlYW47IH1cclxuICAgICAgICBwdWJsaWMgc2V0RWRpdFZhbHVlKHNvdXJjZSwgcHJvcGVydHkpIHsgdGhpcy52YWx1ZUFzQm9vbGVhbiA9IHNvdXJjZVtwcm9wZXJ0eS5uYW1lXTsgfVxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSkge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24oXCIxXCIsIFEudGV4dCgnRGlhbG9ncy5ZZXNCdXR0b24nKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uKFwiMFwiLCBRLnRleHQoJ0RpYWxvZ3MuTm9CdXR0b24nKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IHZhbHVlQXNCb29sZWFuKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXRfdmFsdWUoKTtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PSBcIjFcIikgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09IFwiMFwiKSByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZUFzQm9vbGVhbih2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PSB0cnVlKSB0aGlzLnNldF92YWx1ZShcIjFcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA9PSBmYWxzZSkgdGhpcy5zZXRfdmFsdWUoXCIwXCIpO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuc2V0X3ZhbHVlKG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBAU2VyZW5pdHkuRGVjb3JhdG9ycy5yZWdpc3RlckNsYXNzKFtTZXJlbml0eS5JU2V0RWRpdFZhbHVlLCBTZXJlbml0eS5JR2V0RWRpdFZhbHVlLCBTZXJlbml0eS5JU3RyaW5nVmFsdWUsIFNlcmVuaXR5LklSZWFkT25seSwgU2VyZW5pdHkuSVZhbGlkYXRlUmVxdWlyZWRdKVxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMuZWRpdG9yKClcclxuICAgIEBTZXJlbml0eS5EZWNvcmF0b3JzLmVsZW1lbnQoJzxkaXYvPicpXHJcbiAgICBleHBvcnQgY2xhc3MgR3JpZEl0ZW1QaWNrZXJFZGl0b3IgZXh0ZW5kcyBTZXJlbml0eS5UZW1wbGF0ZWRXaWRnZXQ8R3JpZEl0ZW1QaWNrZXJFZGl0b3JPcHRpb25zPlxyXG4gICAgICAgIGltcGxlbWVudHMgU2VyZW5pdHkuSVNldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSUdldEVkaXRWYWx1ZSwgU2VyZW5pdHkuSVN0cmluZ1ZhbHVlLCBTZXJlbml0eS5JUmVhZE9ubHksIFNlcmVuaXR5LklWYWxpZGF0ZVJlcXVpcmVkIHtcclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2YWx1ZSBzZWxlY3QyLW9mZnNjcmVlblwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzZWxlY3QyLWNob2ljZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRpc3BsYXktdGV4dFwiIHN0eWxlPVwidXNlci1zZWxlY3Q6IHRleHQ7IHBhZGRpbmctcmlnaHQ6IDIwcHg7XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInNlbGVjdDItc2VhcmNoLWNob2ljZS1jbG9zZSBidG4tY2xlYXItc2VsZWN0aW9uXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAycHg7IGN1cnNvcjogcG9pbnRlclwiPjwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpbnBsYWNlU2VhcmNoQnV0dG9uOiBKUXVlcnk7XHJcbiAgICAgICAgaW5wbGFjZVZpZXdCdXR0b246IEpRdWVyeTtcclxuICAgICAgICBjbGVhclNlbGVjdGlvbkJ1dHRvbjogSlF1ZXJ5O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEpRdWVyeSwgcHVibGljIG9wdGlvbnM6IEdyaWRJdGVtUGlja2VyRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdXBlcihjb250YWluZXIsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRJbnBsYWNlQnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRDYXNjYWRlRnJvbSh0aGlzLm9wdGlvbnMuY2FzY2FkZUZyb20pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBhZGRJbnBsYWNlQnV0dG9ucygpOiB2b2lkIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ3NlbGVjdDItY29udGFpbmVyIGhhcy1pbnBsYWNlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pbnBsYWNlU2VhcmNoQnV0dG9uID0gJCgnPGEgc3R5bGU9XCJwYWRkaW5nLXRvcDogMnB4O1wiPjxpIGNsYXNzPVwiZmEgZmEtc2VhcmNoXCI+PC9pPjwvYT4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdpbnBsYWNlLWJ1dHRvbiBpbnBsYWNlLXNlYXJjaCBhbGlnbi1jZW50ZXInKS5hdHRyKCd0aXRsZScsICdzZWFyY2gnKVxyXG4gICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudClcclxuICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5wbGFjZVNlYXJjaENsaWNrKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlucGxhY2VWaWV3QnV0dG9uID0gJCgnPGEgc3R5bGU9XCJwYWRkaW5nLXRvcDogMnB4O1wiPjxpIGNsYXNzPVwiZmEgZmEtZXllXCI+PC9pPjwvYT4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdpbnBsYWNlLWJ1dHRvbiBpbnBsYWNlLXZpZXcgYWxpZ24tY2VudGVyJykuYXR0cigndGl0bGUnLCAndmlldycpXHJcbiAgICAgICAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmlucGxhY2VWaWV3Q2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5wbGFjZVZpZXcgIT0gZmFsc2UgJiYgIXRoaXMub3B0aW9ucy5tdWx0aXBsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnBsYWNlVmlld0J1dHRvbi5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uQnV0dG9uID0gdGhpcy5lbGVtZW50LmZpbmQoJy5zZWxlY3QyLXNlYXJjaC1jaG9pY2UtY2xvc2UnKVxyXG4gICAgICAgICAgICAgICAgLmNsaWNrKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChlLnRhcmdldCkuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5oaWRlKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGlucGxhY2VTZWFyY2hDbGljayhlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByZVNlbGVjdGVkS2V5cyA9IHRoaXMudmFsdWVzO1xyXG4gICAgICAgICAgICB2YXIgcGlja2VyRGlhbG9nID0gbmV3IF9FeHQuR3JpZEl0ZW1QaWNrZXJEaWFsb2codGhpcy5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIHBpY2tlckRpYWxvZy5vblN1Y2Nlc3MgPSAoc2VsZWN0ZWRJdGVtczogYW55W10pID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBwaWNrZXJEaWFsb2cuY2hlY2tHcmlkLnJvd1NlbGVjdGlvbi5nZXRTZWxlY3RlZEtleXMoKS5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBzZWxlY3RlZEl0ZW1zLm1hcChtID0+IG1bdGhpcy5vcHRpb25zLm5hbWVGaWVsZEluR3JpZFJvd10pLmpvaW4oJywgJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbCh0aGlzLnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCduYW1lRmllbGRJbkdyaWRSb3cgbWlnaHQgYmUgd3JvbmcgaW4gJyArIHRoaXMud2lkZ2V0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtID0gc2VsZWN0ZWRJdGVtc1swXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IHNlbGVjdGVkSXRlbXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ2NoYW5nZScpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwaWNrZXJEaWFsb2cuZGlhbG9nT3BlbigpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBpbnBsYWNlVmlld0NsaWNrKGU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghUS5pc0VtcHR5T3JOdWxsKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkbGcgPSB0aGlzLmdldERpYWxvZ0luc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICBkbGcuaXNSZWFkT25seSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkbGcubG9hZEJ5SWRBbmRPcGVuRGlhbG9nKHZhbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldERpYWxvZ0luc3RhbmNlKCk6IERpYWxvZ0Jhc2U8YW55LCBhbnk+IHtcclxuICAgICAgICAgICAgdmFyIGRpYWxvZ1R5cGUgPSB0aGlzLm9wdGlvbnMuZGlhbG9nVHlwZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGlhbG9nVHlwZS5wcm90b3R5cGUpXHJcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlID0gUS5nZXRUeXBlKHRoaXMub3B0aW9ucy5kaWFsb2dUeXBlKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGxnID0gbmV3IGRpYWxvZ1R5cGUoKSBhcyBEaWFsb2dCYXNlPGFueSwgYW55PjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkbGc7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBpbnRpYWxpemUgJyArIHRoaXMub3B0aW9ucy5kaWFsb2dUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQgZWRpdFZhbCA9IHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dC52YWx1ZScpLnZhbCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWRpdFZhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXQgdmFsdWUodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJ2lucHV0LnZhbHVlJykudmFsKHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoUS5pc0VtcHR5T3JOdWxsKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnBsYWNlVmlld0J1dHRvbi5oaWRlKClcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb25CdXR0b24uaGlkZSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucGxhY2VWaWV3QnV0dG9uLnNob3coKVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0X3JlYWRPbmx5KCkgPT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbkJ1dHRvbi5zaG93KClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdmFsdWVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICAgICAgbGV0IHZhbENWUyA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChRLmlzRW1wdHlPck51bGwodmFsQ1ZTKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbENWUy5zcGxpdCgnLCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNldCB2YWx1ZXModmFsOiBzdHJpbmdbXSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsLmpvaW4oJywnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgdGV4dCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBsZXQgZWRpdFZhbCA9IHRoaXMuZWxlbWVudC5maW5kKCdzcGFuLmRpc3BsYXktdGV4dCcpLnRleHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVkaXRWYWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2V0IHRleHQodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZpbmQoJ3NwYW4uZGlzcGxheS10ZXh0JykudGV4dCh2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldEVkaXRWYWx1ZShwcm9wZXJ0eSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlwbGUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BlcnR5Lm5hbWVdID0gdGhpcy52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcGVydHkubmFtZV0gPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBzZXRFZGl0VmFsdWUoc291cmNlLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gc291cmNlW3Byb3BlcnR5Lm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gc291cmNlW3RoaXMub3B0aW9ucy5uYW1lRmllbGRJblRoaXNSb3ddO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNvdXJjZVtwcm9wZXJ0eS5uYW1lXSAmJiBzb3VyY2VbdGhpcy5vcHRpb25zLm5hbWVGaWVsZEluVGhpc1Jvd10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtW3RoaXMub3B0aW9ucy5pZEZpZWxkSW5HcmlkUm93XSA9IHNvdXJjZVtwcm9wZXJ0eS5uYW1lXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbVt0aGlzLm9wdGlvbnMubmFtZUZpZWxkSW5HcmlkUm93XSA9IHNvdXJjZVt0aGlzLm9wdGlvbnMubmFtZUZpZWxkSW5UaGlzUm93XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0X3ZhbHVlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldF92YWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9yZWFkT25seSgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5oYXNDbGFzcygncmVhZG9ubHknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0X3JlYWRPbmx5KHZhbHVlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZENsYXNzKCdzZWxlY3QyLWNvbnRhaW5lci1kaXNhYmxlZCByZWFkb25seScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnBsYWNlU2VhcmNoQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb25CdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJykuaGlkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCdzZWxlY3QyLWNvbnRhaW5lci1kaXNhYmxlZCByZWFkb25seScpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucGxhY2VTZWFyY2hCdXR0b24ucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbkJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldF9yZXF1aXJlZCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKCdpbnB1dC52YWx1ZScpLmhhc0NsYXNzKCdyZXF1aXJlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRfcmVxdWlyZWQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuZmluZCgnaW5wdXQudmFsdWUsIC5zZWxlY3QyLWNob2ljZSwgc3Bhbi5kaXNwbGF5LXRleHQnKS5hZGRDbGFzcygncmVxdWlyZWQnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIF9zZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkSXRlbUluY2x1ZGVDb2x1bW5zOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IHNlbGVjdGVkSXRlbSgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkSXRlbVxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5fc2VsZWN0ZWRJdGVtW3RoaXMub3B0aW9ucy5uYW1lRmllbGRJbkdyaWRSb3ddXHJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLnNlbGVjdGVkSXRlbUluY2x1ZGVDb2x1bW5zLmV2ZXJ5KGUgPT4gdGhpcy5fc2VsZWN0ZWRJdGVtW2VdKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICBlbHNlIGlmICghUS5pc0VtcHR5T3JOdWxsKHRoaXMudmFsdWUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbDxTZXJlbml0eS5SZXRyaWV2ZVJlc3BvbnNlPGFueT4+KHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlOiB0aGlzLnNlcnZpY2VVcmwgKyAnL1JldHJpZXZlJyxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVudGl0eUlkOiB0aGlzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDb2x1bW5TZWxlY3Rpb246IFNlcmVuaXR5LlJldHJpZXZlQ29sdW1uU2VsZWN0aW9uLmxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEluY2x1ZGVDb2x1bW5zOiB0aGlzLnNlbGVjdGVkSXRlbUluY2x1ZGVDb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBTZXJlbml0eS5SZXRyaWV2ZVJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbSA9IHJlc3BvbnNlLkVudGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRJdGVtczogYW55W107XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3NlcnZpY2VVcmw6IHN0cmluZztcclxuICAgICAgICBnZXQgc2VydmljZVVybCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBpZiAoUS5pc0VtcHR5T3JOdWxsKHRoaXMuX3NlcnZpY2VVcmwpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGxnID0gdGhpcy5nZXREaWFsb2dJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VydmljZVVybCA9IGRsZ1snZ2V0U2VydmljZSddKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2VVcmw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRWYWx1ZUFuZFRleHQodmFsdWUsIHRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tY2FzY2FkaW5nIGFuZCBmaWx0ZXJpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0Q2FzY2FkZUZyb21WYWx1ZShwYXJlbnQ6IFNlcmVuaXR5LldpZGdldDxhbnk+KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZXJlbml0eS5FZGl0b3JVdGlscy5nZXRWYWx1ZShwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGNhc2NhZGVMaW5rOiBTZXJlbml0eS5DYXNjYWRlZFdpZGdldExpbms8U2VyZW5pdHkuV2lkZ2V0PGFueT4+O1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0Q2FzY2FkZUZyb20odmFsdWU6IHN0cmluZykge1xyXG5cclxuICAgICAgICAgICAgaWYgKFEuaXNFbXB0eU9yTnVsbCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhc2NhZGVMaW5rICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2NhZGVMaW5rLnNldF9wYXJlbnRJRChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2NhZGVMaW5rID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmNhc2NhZGVGcm9tID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYXNjYWRlTGluayA9IG5ldyBTZXJlbml0eS5DYXNjYWRlZFdpZGdldExpbms8U2VyZW5pdHkuV2lkZ2V0PGFueT4+KFNlcmVuaXR5LldpZGdldCwgdGhpcywgcCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF9jYXNjYWRlVmFsdWUodGhpcy5nZXRDYXNjYWRlRnJvbVZhbHVlKHApKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhc2NhZGVMaW5rLnNldF9wYXJlbnRJRCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmNhc2NhZGVGcm9tID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X2Nhc2NhZGVGcm9tKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5vcHRpb25zIGFzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3JPcHRpb25zKS5jYXNjYWRlRnJvbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldCBjYXNjYWRlRnJvbSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfY2FzY2FkZUZyb20oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBzZXRfY2FzY2FkZUZyb20odmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmNhc2NhZGVGcm9tKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENhc2NhZGVGcm9tKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSXRlbXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0IGNhc2NhZGVGcm9tKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRfY2FzY2FkZUZyb20odmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIGdldF9jYXNjYWRlRmllbGQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBRLmNvYWxlc2NlKCh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmNhc2NhZGVGaWVsZCwgKHRoaXMub3B0aW9ucyBhcyBTZXJlbml0eS5TZWxlY3QyRWRpdG9yT3B0aW9ucykuY2FzY2FkZUZyb20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IGNhc2NhZGVGaWVsZCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfY2FzY2FkZUZpZWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0X2Nhc2NhZGVGaWVsZCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmNhc2NhZGVGaWVsZCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0IGNhc2NhZGVGaWVsZCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0X2Nhc2NhZGVGaWVsZCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X2Nhc2NhZGVWYWx1ZSgpOiBhbnkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMub3B0aW9ucyBhcyBTZXJlbml0eS5TZWxlY3QyRWRpdG9yT3B0aW9ucykuY2FzY2FkZVZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IGNhc2NhZGVWYWx1ZSgpOiBhbnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRfY2FzY2FkZVZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0X2Nhc2NhZGVWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5vcHRpb25zIGFzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3JPcHRpb25zKS5jYXNjYWRlVmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zIGFzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3JPcHRpb25zKS5jYXNjYWRlVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3ZhbHVlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJdGVtcygpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0IGNhc2NhZGVWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0X2Nhc2NhZGVWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0X2ZpbHRlckZpZWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMub3B0aW9ucyBhcyBTZXJlbml0eS5TZWxlY3QyRWRpdG9yT3B0aW9ucykuZmlsdGVyRmllbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZXQgZmlsdGVyRmllbGQoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X2ZpbHRlckZpZWxkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgc2V0X2ZpbHRlckZpZWxkKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgKHRoaXMub3B0aW9ucyBhcyBTZXJlbml0eS5TZWxlY3QyRWRpdG9yT3B0aW9ucykuZmlsdGVyRmllbGQgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldCBmaWx0ZXJGaWVsZCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0X2ZpbHRlckZpZWxkKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBnZXRfZmlsdGVyVmFsdWUoKTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmZpbHRlclZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0IGZpbHRlclZhbHVlKCk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldF9maWx0ZXJWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJvdGVjdGVkIHNldF9maWx0ZXJWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICgodGhpcy5vcHRpb25zIGFzIFNlcmVuaXR5LlNlbGVjdDJFZGl0b3JPcHRpb25zKS5maWx0ZXJWYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMgYXMgU2VyZW5pdHkuU2VsZWN0MkVkaXRvck9wdGlvbnMpLmZpbHRlclZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldF92YWx1ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSXRlbXMoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldCBmaWx0ZXJWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0X2ZpbHRlclZhbHVlKHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb3RlY3RlZCB1cGRhdGVJdGVtcygpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgR3JpZEl0ZW1QaWNrZXJFZGl0b3JPcHRpb25zIGV4dGVuZHMgU2VyZW5pdHkuU2VsZWN0MkZpbHRlck9wdGlvbnMge1xyXG4gICAgICAgIGdyaWRUeXBlOiBhbnk7XHJcbiAgICAgICAgbmFtZUZpZWxkSW5UaGlzUm93Pzogc3RyaW5nO1xyXG4gICAgICAgIHNlcnZpY2VVcmw/OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHJvd1R5cGU/OiBzdHJpbmc7XHJcbiAgICAgICAgaWRGaWVsZEluR3JpZFJvdz86IHN0cmluZztcclxuICAgICAgICBuYW1lRmllbGRJbkdyaWRSb3c/OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGlucGxhY2VWaWV3PzogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgbXVsdGlwbGU/OiBib29sZWFuO1xyXG4gICAgICAgIHByZVNlbGVjdGVkS2V5cz86IGFueVtdO1xyXG5cclxuICAgICAgICBmaWx0ZXJpbmdDcml0ZXJpYT86IGFueTtcclxuICAgICAgICBjdXN0b21QcmFtcz86IGFueTtcclxuXHJcbiAgICAgICAgZGlhbG9nVHlwZT86IGFueTtcclxuXHJcbiAgICAgICAgLy9mcm9tIFNlcmVuaXR5LlNlbGVjdDJGaWx0ZXJPcHRpb25zXHJcbiAgICAgICAgY2FzY2FkZUZyb20/OiBzdHJpbmc7XHJcbiAgICAgICAgY2FzY2FkZUZpZWxkPzogc3RyaW5nO1xyXG4gICAgICAgIGNhc2NhZGVWYWx1ZT86IGFueTtcclxuICAgICAgICBmaWx0ZXJGaWVsZD86IHN0cmluZztcclxuICAgICAgICBmaWx0ZXJWYWx1ZT86IGFueTtcclxuXHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgQFNlcmVuaXR5LkRlY29yYXRvcnMucmVnaXN0ZXJGb3JtYXR0ZXIoW1NlcmVuaXR5LklTbGlja0Zvcm1hdHRlcl0pXHJcbiAgICBleHBvcnQgY2xhc3MgTW9udGhZZWFyRm9ybWF0dGVyIGltcGxlbWVudHMgU2xpY2suRm9ybWF0dGVyIHtcclxuICAgICAgICBzdGF0aWMgZm9ybWF0KHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwubGVuZ3RoID09IDcpIHZhbCArPSAnLTAxJztcclxuICAgICAgICAgICAgICAgIGxldCB2YWxEYXRlID0gUS5wYXJzZUlTT0RhdGVUaW1lKHZhbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZ2V0RW51bVRleHQoJ01vbnRocycsIHZhbERhdGUuZ2V0TW9udGgoKSkgKyAnLScgKyB2YWxEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JtYXQoY3R4OiBTbGljay5Gb3JtYXR0ZXJDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNb250aFllYXJGb3JtYXR0ZXIuZm9ybWF0KGN0eC52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsIm5hbWVzcGFjZSBfRXh0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBDYXJkVmlld01peGluPFRJdGVtPiAge1xyXG4gICAgICAgIHByaXZhdGUgZGF0YUdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPFRJdGVtLCBhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgZ2V0SWQ6IChpdGVtOiBUSXRlbSkgPT4gYW55O1xyXG4gICAgICAgIHByaXZhdGUgdm07XHJcbiAgICAgICAgcHJpdmF0ZSBjYXJkQ29udGFpbmVyO1xyXG4gICAgICAgIHB1YmxpYyB2aWV3VHlwZTogKCdsaXN0JyB8ICdjYXJkJyk7XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnM6IENhcmRWaWV3TWl4aW5PcHRpb25zPFRJdGVtPikge1xyXG4gICAgICAgICAgICB2YXIgdSwgZjtcclxuICAgICAgICAgICAgdmFyIGRnOiBhbnkgPSB0aGlzLmRhdGFHcmlkID0gb3B0aW9ucy5ncmlkO1xyXG4gICAgICAgICAgICB2YXIgaWRQcm9wZXJ0eSA9IChkZyBhcyBhbnkpLmdldElkUHJvcGVydHkoKTtcclxuICAgICAgICAgICAgdmFyIGdldElkID0gdGhpcy5nZXRJZCA9IChpdGVtOiBUSXRlbSkgPT4gKGl0ZW0gYXMgYW55KVtpZFByb3BlcnR5XTtcclxuICAgICAgICAgICAgb3B0aW9ucy5kZWZhdWx0Vmlld1R5cGUgPSBvcHRpb25zLmRlZmF1bHRWaWV3VHlwZSB8fCAnbGlzdCc7XHJcbiAgICAgICAgICAgIHRoaXMudmlld1R5cGUgPSBvcHRpb25zLmRlZmF1bHRWaWV3VHlwZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaXZWaWV3U3dpdGNoID0gJCgnXFxuPGRpdiBjbGFzcz1cImJ0bi1ncm91cCB2aWV3LXN3aXRjaFwiIGRhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiIHN0eWxlPVwiZmxvYXQ6IHJpZ2h0XCI+XFxuICAgIDxsYWJlbCBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBhY3RpdmVcIiB0aXRsZT1cIkxpc3QgVmlld1wiPlxcbiAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS10aC1saXN0IHRleHQtcHVycGxlXCI+PFxcL2k+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIicgKyBkZy5lbGVtZW50LmF0dHIoXCJpZFwiKSArICdfVmlld1R5cGVcIiB2YWx1ZT1cImxpc3RcIiBjaGVja2VkIC8+XFxuICAgIDxcXC9sYWJlbD5cXG4gICAgPGxhYmVsIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgdGl0bGU9XCJDYXJkIFZpZXdcIj5cXG4gICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGgtbGFyZ2UgdGV4dC1wdXJwbGVcIj48XFwvaT5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiJyArIGRnLmVsZW1lbnQuYXR0cihcImlkXCIpICsgJ19WaWV3VHlwZVwiIHZhbHVlPVwiY2FyZFwiIC8+ICAgIFxcbiAgICA8XFwvbGFiZWw+XFxuPFxcL2Rpdj4nKVxyXG4gICAgICAgICAgICAgICAgLnByZXBlbmRUbyhkZy5lbGVtZW50LmZpbmQoXCIuZ3JpZC10aXRsZVwiKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhcmRDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwiY2FyZC1jb250YWluZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PGRpdiBjbGFzcz1cImNhcmQtaXRlbXNcIj48XFwvZGl2PjxcXC9kaXY+JykuaW5zZXJ0QWZ0ZXIoZGcuZWxlbWVudC5jaGlsZHJlbihcIi5ncmlkLWNvbnRhaW5lclwiKSk7XHJcblxyXG4gICAgICAgICAgICBkaXZWaWV3U3dpdGNoLmZpbmQoXCJpbnB1dFwiKS5jaGFuZ2UoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN3aXRjaFZpZXcoJChlLnRhcmdldCkudmFsKCkpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNpemVDYXJkVmlldygpO1xyXG5cclxuICAgICAgICAgICAgZGcuZWxlbWVudC5iaW5kKFwibGF5b3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2l6ZUNhcmRWaWV3KClcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkZy52aWV3Lm9uRGF0YUNoYW5nZWQuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudm0gJiYgdGhpcy51cGRhdGVDYXJkSXRlbXMoKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHUgPSBkZy5nZXRDdXJyZW50U2V0dGluZ3M7XHJcbiAgICAgICAgICAgIGRnLmdldEN1cnJlbnRTZXR0aW5ncyA9IChuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHUuYXBwbHkoZGcsIFtuXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaS52aWV3VHlwZSA9IGRpdlZpZXdTd2l0Y2guZmluZChcImlucHV0OmNoZWNrZWRcIikudmFsKCksIGlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGYgPSBkZy5yZXN0b3JlU2V0dGluZ3M7XHJcbiAgICAgICAgICAgIGRnLnJlc3RvcmVTZXR0aW5ncyA9IGZ1bmN0aW9uIChuLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdSwgZSwgbywgcztcclxuICAgICAgICAgICAgICAgIGlmIChmLmFwcGx5KGRnLCBbbiwgaV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG4gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID0gdGhpcy5nZXRQZXJzaXN0YW5jZVN0b3JhZ2UoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgPSBRLnRyaW1Ub051bGwodS5nZXRJdGVtKHRoaXMuZ2V0UGVyc2lzdGFuY2VLZXkoKSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBKU09OLnBhcnNlKGUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvID0gbi52aWV3VHlwZSB8fCBvcHRpb25zLmRlZmF1bHRWaWV3VHlwZTtcclxuICAgICAgICAgICAgICAgIHMgPSBkaXZWaWV3U3dpdGNoLmZpbmQoXCJpbnB1dDpjaGVja2VkXCIpLnZhbCgpIHx8IG9wdGlvbnMuZGVmYXVsdFZpZXdUeXBlO1xyXG4gICAgICAgICAgICAgICAgbyAhPSBzICYmIGRpdlZpZXdTd2l0Y2guZmluZChcImlucHV0XCIpLmVxKG8gPT0gXCJjYXJkXCIgPyAxIDogMCkuY2xpY2soKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2hWaWV3KHZpZXdUeXBlOiAoJ2dyaWQnIHwgJ2NhcmQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUNhcmRWaWV3KCk7XHJcbiAgICAgICAgICAgIHZhciBpc0NhcmRWaWV3ID0gdmlld1R5cGUgPT0gXCJjYXJkXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdyaWQuZWxlbWVudC5jaGlsZHJlbihcIi5jYXJkLWNvbnRhaW5lclwiKS50b2dnbGUoaXNDYXJkVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdyaWQuZWxlbWVudC5jaGlsZHJlbihcIi5ncmlkLWNvbnRhaW5lclwiKS50b2dnbGUoIWlzQ2FyZFZpZXcpO1xyXG4gICAgICAgICAgICBpc0NhcmRWaWV3ICYmIHRoaXMudXBkYXRlQ2FyZEl0ZW1zKCk7XHJcbiAgICAgICAgICAgICh0aGlzLmRhdGFHcmlkIGFzIGFueSkucGVyc2lzdFNldHRpbmdzKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVwZGF0ZUNhcmRJdGVtcygpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudm0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZtLml0ZW1zID0gdGhpcy5kYXRhR3JpZC5nZXRJdGVtcygpXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNpbmdWdWVqcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52bSA9IG5ldyBWdWUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsOiB0aGlzLmNhcmRDb250YWluZXIuY2hpbGRyZW4oKVswXSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5vcHRpb25zLmNvbnRhaW5lclRlbXBsYXRlID8gYDxkaXY+ICR7dGhpcy5vcHRpb25zLmNvbnRhaW5lclRlbXBsYXRlfSA8L2Rpdj5gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCJjYXJkLWl0ZW1zXCI+XHJcbiAgICA8ZGl2IHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBpdGVtc1wiIGNsYXNzPVwiJHsodGhpcy5vcHRpb25zLml0ZW1Dc3NDbGFzcyB8fCAnY29sLXNtLTEyIGNvbC1tZC02IGNvbC1sZy00Jyl9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaXRlbVwiIHN0eWxlPVwiJHt0aGlzLm9wdGlvbnMuaXRlbUNzc1N0eWxlfVwiPlxyXG4gICAgICAgICR7dGhpcy5vcHRpb25zLml0ZW1UZW1wbGF0ZX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMuZGF0YUdyaWQuZ2V0SXRlbXMoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kczogdGhpcy5vcHRpb25zLm1ldGhvZHNcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzaXplQ2FyZFZpZXcoKSB7XHJcbiAgICAgICAgICAgIHZhciBncmlkQ29udGFpbmVyID0gdGhpcy5kYXRhR3JpZC5lbGVtZW50LmNoaWxkcmVuKFwiLmdyaWQtY29udGFpbmVyXCIpXHJcbiAgICAgICAgICAgICAgICAsIHdpZHRoID0gdGhpcy5kYXRhR3JpZC5lbGVtZW50LndpZHRoKClcclxuICAgICAgICAgICAgICAgICwgaGVpZ2h0ID0gZ3JpZENvbnRhaW5lci5oZWlnaHQoKTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhR3JpZC5lbGVtZW50LmNoaWxkcmVuKFwiLmNhcmQtY29udGFpbmVyXCIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCArIFwicHhcIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIENhcmRWaWV3TWl4aW5PcHRpb25zPFRJdGVtPiB7XHJcbiAgICAgICAgLy8gZGF0YSBncmlkIG9iamVjdFxyXG4gICAgICAgIGdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPFRJdGVtLCBhbnk+O1xyXG4gICAgICAgIGNvbnRhaW5lclRlbXBsYXRlPzogc3RyaW5nO1xyXG4gICAgICAgIGl0ZW1UZW1wbGF0ZT86IHN0cmluZztcclxuICAgICAgICBtZXRob2RzPzogYW55O1xyXG4gICAgICAgIGl0ZW1Dc3NDbGFzcz86IHN0cmluZztcclxuICAgICAgICBkZWZhdWx0Vmlld1R5cGU/OiAoJ2xpc3QnIHwgJ2NhcmQnKTtcclxuICAgICAgICBpdGVtc0Nzc1N0eWxlPzogc3RyaW5nO1xyXG4gICAgICAgIGl0ZW1Dc3NTdHlsZT86IHN0cmluZztcclxuICAgIH1cclxufVxyXG4iLCLvu79uYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIG1peGluIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYSBEYXRhR3JpZCBmb3IgZXhjZWwgc3R5bGUgZmlsdGVyaW5nIGZ1bmN0aW9uYWxpdHlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIEhlYWRlckZpbHRlcnNNaXhpbjxUSXRlbT4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIGRhdGFHcmlkOiBTZXJlbml0eS5EYXRhR3JpZDxUSXRlbSwgYW55PjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBIZWFkZXJGaWx0ZXJzTWl4aW5PcHRpb25zPFRJdGVtPikge1xyXG4gICAgICAgICAgICB2YXIgZGcgPSB0aGlzLmRhdGFHcmlkID0gb3B0aW9ucy5ncmlkO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2x1bW4gPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgY2FjaGVkVmFsdWVzID0ge307XHJcbiAgICAgICAgICAgIHVzaW5nU2xpY2tIZWFkZXJGaWx0ZXJzKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaGVhZGVyRmlsdGVycyA9IG5ldyBTbGlja1snUGx1Z2lucyddLkhlYWRlckZpbHRlcnMoe1xyXG4gICAgICAgICAgICAgICAgZ2V0RmlsdGVyVmFsdWVzOiBmdW5jdGlvbiAoY29sdW1uLCBzZXRGaWx0ZXJhYmxlVmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZy52aWV3LnVybCB8fCAhZGcudmlld1tcImdldFBhZ2luZ0luZm9cIl0oKS5yb3dzUGVyUGFnZSB8fCBkZy52aWV3LmdldExlbmd0aCgpID09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIVEuYW55KGRnLnNsaWNrR3JpZC5nZXRDb2x1bW5zKCksICh4OiBhbnkpID0+IHguZmlsdGVyVmFsdWVzICYmIHguZmlsdGVyVmFsdWVzLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW4gPSBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGcgYXMgYW55KS5vblZpZXdTdWJtaXQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyYWJsZVZhbHVlcyhbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW4gPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gUS5kZWVwQ2xvbmUoZGcudmlldy5wYXJhbXMpIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuRGlzdGluY3RGaWVsZHMgPSBbY29sdW1uLmZpZWxkXTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LlNraXAgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuVGFrZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlS2V5ID0gJC50b0pTT04ocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhY2hlZFZhbHVlID0gY2FjaGVkVmFsdWVzW2NhY2hlS2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkVmFsdWUgJiYgY2FjaGVkVmFsdWUuZXhwaXJlcyA+IChuZXcgRGF0ZSkuZ2V0VGltZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJhYmxlVmFsdWVzKGNhY2hlZFZhbHVlLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUS5zZXJ2aWNlQ2FsbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBkZy52aWV3LnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlOiBTZXJlbml0eS5MaXN0UmVzcG9uc2U8VEl0ZW0+KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkVmFsdWVzW2NhY2hlS2V5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlLlZhbHVlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogKG5ldyBEYXRlKS5nZXRUaW1lKCkgKyAxZTMgKiAzMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyYWJsZVZhbHVlcyhyZXNwb25zZS5WYWx1ZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzRmlsdGVyYWJsZTogZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uc291cmNlSXRlbSAhPSBudWxsICYmIGNvbHVtbi5zb3J0YWJsZSAmJiAoY29sdW1uLnNvdXJjZUl0ZW0ubm90RmlsdGVyYWJsZSA9PSBudWxsIHx8ICFjb2x1bW4uc291cmNlSXRlbS5ub3RGaWx0ZXJhYmxlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaGVhZGVyRmlsdGVycy5vbkZpbHRlckFwcGxpZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGRnLnJlZnJlc2goKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGcuc2xpY2tHcmlkLnJlZ2lzdGVyUGx1Z2luKGhlYWRlckZpbHRlcnMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9sZE9uVmlld1N1Ym1pdCA9IChkZyBhcyBhbnkpLm9uVmlld1N1Ym1pdDtcclxuICAgICAgICAgICAgKGRnIGFzIGFueSkub25WaWV3U3VibWl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvbGRPblZpZXdTdWJtaXQuY2FsbChkZykpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBkZy5zbGlja0dyaWQuZ2V0Q29sdW1ucygpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBkZy52aWV3LnBhcmFtcyBhcyBTZXJlbml0eS5MaXN0UmVxdWVzdDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY29sdW1ucy5sZW5ndGg7IG4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBjb2x1bW5zW25dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gPT09IGN1cnJlbnRDb2x1bW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJWYWx1ZXMgPSAoY29sdW1uIGFzIGFueSkuZmlsdGVyVmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJWYWx1ZXMgJiYgZmlsdGVyVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IGZpbHRlclZhbHVlcy5maWx0ZXIoZiA9PiBmIT0gbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gW1tjb2x1bW4uZmllbGRdLCBcImluXCIsIFt1XV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1Lmxlbmd0aCAhPT0gZmlsdGVyVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gU2VyZW5pdHkuQ3JpdGVyaWEub3IoW1wiaXMgbnVsbFwiLCBbY29sdW1uLmZpZWxkXV0sIGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBbXCJpcyBudWxsXCIsIFtjb2x1bW4uZmllbGRdXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuQ3JpdGVyaWEgPSBTZXJlbml0eS5Dcml0ZXJpYS5hbmQocmVxdWVzdC5Dcml0ZXJpYSwgZClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEhlYWRlckZpbHRlcnNNaXhpbk9wdGlvbnM8VEl0ZW0+IHtcclxuICAgICAgICAvLyBkYXRhIGdyaWQgb2JqZWN0XHJcbiAgICAgICAgZ3JpZDogU2VyZW5pdHkuRGF0YUdyaWQ8VEl0ZW0sIGFueT47XHJcbiAgICB9XHJcbn0iLCLvu79uYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIG1peGluIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYSBEYXRhR3JpZCBmb3IgdHJlZSBmdW5jdGlvbmFsaXR5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBUcmVlR3JpZE1peGluPFRJdGVtPiB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGF0YUdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPFRJdGVtLCBhbnk+O1xyXG4gICAgICAgIHByaXZhdGUgZ2V0SWQ6IChpdGVtOiBUSXRlbSkgPT4gYW55O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnM6IFRyZWVHcmlkTWl4aW5PcHRpb25zPFRJdGVtPikge1xyXG4gICAgICAgICAgICB2YXIgZGcgPSB0aGlzLmRhdGFHcmlkID0gb3B0aW9ucy5ncmlkO1xyXG4gICAgICAgICAgICB2YXIgaWRQcm9wZXJ0eSA9IG9wdGlvbnMuaWRGaWVsZCB8fCAoZGcgYXMgYW55KS5nZXRJZFByb3BlcnR5KCk7XHJcbiAgICAgICAgICAgIHZhciBnZXRJZCA9IHRoaXMuZ2V0SWQgPSAoaXRlbTogVEl0ZW0pID0+IChpdGVtIGFzIGFueSlbaWRQcm9wZXJ0eV07XHJcblxyXG4gICAgICAgICAgICBkZy5lbGVtZW50LmZpbmQoJy5ncmlkLWNvbnRhaW5lcicpLm9uKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCdzLVRyZWVUb2dnbGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBkZy5zbGlja0dyaWQuZ2V0Q2VsbEZyb21FdmVudChlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjLmNlbGwgPj0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmMucm93ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVHJlZUdyaWRNaXhpbi50b2dnbGVDbGljazxUSXRlbT4oZSwgc3JjLnJvdywgc3JjLnJvdywgZGcudmlldywgZ2V0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb2xkVmlld0ZpbHRlciA9IChkZyBhcyBhbnkpLm9uVmlld0ZpbHRlcjtcclxuICAgICAgICAgICAgKGRnIGFzIGFueSkub25WaWV3RmlsdGVyID0gZnVuY3Rpb24gKGl0ZW06IFRJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9sZFZpZXdGaWx0ZXIuYXBwbHkodGhpcywgW2l0ZW1dKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRyZWVHcmlkTWl4aW4uZmlsdGVyQnlJZChpdGVtLCBkZy52aWV3LCBpZFByb3BlcnR5LCBvcHRpb25zLmdldFBhcmVudElkKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvbGRQcm9jZXNzRGF0YSA9IChkZyBhcyBhbnkpLm9uVmlld1Byb2Nlc3NEYXRhO1xyXG4gICAgICAgICAgICAoZGcgYXMgYW55KS5vblZpZXdQcm9jZXNzRGF0YSA9IGZ1bmN0aW9uIChyZXNwb25zZTogU2VyZW5pdHkuTGlzdFJlc3BvbnNlPFRJdGVtPikge1xyXG5cclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gb2xkUHJvY2Vzc0RhdGEuYXBwbHkodGhpcywgW3Jlc3BvbnNlXSk7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5FbnRpdGllcyA9IFRyZWVHcmlkTWl4aW4uYXBwbHlUcmVlT3JkZXJpbmcocmVzcG9uc2UuRW50aXRpZXMsIGdldElkLCBvcHRpb25zLmdldFBhcmVudElkKTtcclxuICAgICAgICAgICAgICAgIFNlcmVuaXR5LlNsaWNrVHJlZUhlbHBlci5zZXRJbmRlbnRzKHJlc3BvbnNlLkVudGl0aWVzLCBnZXRJZCwgb3B0aW9ucy5nZXRQYXJlbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAob3B0aW9ucy5pbml0aWFsQ29sbGFwc2UgJiYgb3B0aW9ucy5pbml0aWFsQ29sbGFwc2UoKSkgfHwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9nZ2xlRmllbGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBRLmZpcnN0KGRnLmdldEdyaWQoKS5nZXRDb2x1bW5zKCksIHggPT4geC5maWVsZCA9PSBvcHRpb25zLnRvZ2dsZUZpZWxkKTtcclxuICAgICAgICAgICAgICAgIGNvbC5mb3JtYXQgPSBUcmVlR3JpZE1peGluLnRyZWVUb2dnbGUoKCkgPT4gZGcudmlldywgZ2V0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sLmZvcm1hdCB8fCAoY3R4ID0+IFEuaHRtbEVuY29kZShjdHgudmFsdWUpKSk7XHJcbiAgICAgICAgICAgICAgICBjb2wuZm9ybWF0dGVyID0gU2VyZW5pdHkuU2xpY2tIZWxwZXIuY29udmVydFRvRm9ybWF0dGVyKGNvbC5mb3JtYXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFeHBhbmRzIC8gY29sbGFwc2VzIGFsbCByb3dzIGluIGEgZ3JpZCBhdXRvbWF0aWNhbGx5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdG9nZ2xlQWxsKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBTZXJlbml0eS5TbGlja1RyZWVIZWxwZXIuc2V0Q29sbGFwc2VkKHRoaXMuZGF0YUdyaWQudmlldy5nZXRJdGVtcygpLFxyXG4gICAgICAgICAgICAgICAgIXRoaXMuZGF0YUdyaWQudmlldy5nZXRJdGVtcygpLmV2ZXJ5KHggPT4gKHggYXMgYW55KS5fY29sbGFwc2VkID09IHRydWUpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdyaWQudmlldy5zZXRJdGVtcyh0aGlzLmRhdGFHcmlkLnZpZXcuZ2V0SXRlbXMoKSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cGFuZEFsbCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgU2VyZW5pdHkuU2xpY2tUcmVlSGVscGVyLnNldENvbGxhcHNlZCh0aGlzLmRhdGFHcmlkLnZpZXcuZ2V0SXRlbXMoKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhR3JpZC52aWV3LnNldEl0ZW1zKHRoaXMuZGF0YUdyaWQudmlldy5nZXRJdGVtcygpLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29sbGFwc2VkQWxsKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBTZXJlbml0eS5TbGlja1RyZWVIZWxwZXIuc2V0Q29sbGFwc2VkKHRoaXMuZGF0YUdyaWQudmlldy5nZXRJdGVtcygpLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUdyaWQudmlldy5zZXRJdGVtcyh0aGlzLmRhdGFHcmlkLnZpZXcuZ2V0SXRlbXMoKSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlb3JkZXJzIGEgc2V0IG9mIGl0ZW1zIHNvIHRoYXQgcGFyZW50cyBjb21lcyBiZWZvcmUgdGhlaXIgY2hpbGRyZW4uXHJcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgcmVxdWlyZWQgZm9yIHByb3BlciB0cmVlIG9yZGVyaW5nLCBhcyBpdCBpcyBub3Qgc28gZWFzeSB0byBwZXJmb3JtIHdpdGggU1FMLlxyXG4gICAgICAgICAqIEBwYXJhbSBpdGVtcyBsaXN0IG9mIGl0ZW1zIHRvIGJlIG9yZGVyZWRcclxuICAgICAgICAgKiBAcGFyYW0gZ2V0SWQgYSBkZWxlZ2F0ZSB0byBnZXQgSUQgb2YgYSByZWNvcmQgKG11c3QgcmV0dXJuIHNhbWUgSUQgd2l0aCBncmlkIGlkZW50aXR5IGZpZWxkKVxyXG4gICAgICAgICAqIEBwYXJhbSBnZXRQYXJlbnRJZCBhIGRlbGVnYXRlIHRvIGdldCBwYXJlbnQgSUQgb2YgYSByZWNvcmRcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgYXBwbHlUcmVlT3JkZXJpbmc8VEl0ZW0+KGl0ZW1zOiBUSXRlbVtdLCBnZXRJZDogKGl0ZW06IFRJdGVtKSA9PiBhbnksIGdldFBhcmVudElkOiAoaXRlbTogVEl0ZW0pID0+IGFueSk6IFRJdGVtW10ge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0OiBUSXRlbVtdID0gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgYnlJZCA9IFEudG9Hcm91cGluZyhpdGVtcywgZ2V0SWQpO1xyXG4gICAgICAgICAgICB2YXIgYnlQYXJlbnRJZCA9IFEudG9Hcm91cGluZyhpdGVtcywgZ2V0UGFyZW50SWQpO1xyXG4gICAgICAgICAgICB2YXIgdmlzaXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdGFrZUNoaWxkcmVuKHRoZVBhcmVudElkOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2aXNpdGVkW3RoZVBhcmVudElkXSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmlzaXRlZFt0aGVQYXJlbnRJZF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hpbGQgb2YgKGJ5UGFyZW50SWRbdGhlUGFyZW50SWRdIHx8IFtdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oZ2V0SWQoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBvZiBpdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudElkID0gZ2V0UGFyZW50SWQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzUGFyZW50ID0gcGFyZW50SWQgIT0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBieUlkW3BhcmVudElkXTtcclxuICAgICAgICAgICAgICAgIGxldCBpc1Jvb3RJdGVtID0gIWhhc1BhcmVudCB8fCAhKHBhcmVudCB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUm9vdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oZ2V0SWQoaXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGZpbHRlckJ5SWQ8VEl0ZW0+KGl0ZW06IFRJdGVtLCB2aWV3OiBTbGljay5SZW1vdGVWaWV3PFRJdGVtPiwgaWRQcm9wZXJ0eSwgZ2V0UGFyZW50SWQ6ICh4OiBUSXRlbSkgPT4gYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBTZXJlbml0eS5TbGlja1RyZWVIZWxwZXIuZmlsdGVyQ3VzdG9tKGl0ZW0sIGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SWQgPSBnZXRQYXJlbnRJZCh4KTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSB2aWV3LmdldEl0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50SXRlbSA9IGl0ZW1zLmZpbHRlcihmID0+IGZbaWRQcm9wZXJ0eV0gPT0gcGFyZW50SWQpWzBdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEl0ZW07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIHRyZWVUb2dnbGU8VEl0ZW0+KGdldFZpZXc6ICgpID0+IFNsaWNrLlJlbW90ZVZpZXc8VEl0ZW0+LCBnZXRJZDogKHg6IFRJdGVtKSA9PiBhbnksXHJcbiAgICAgICAgICAgIGZvcm1hdHRlcjogU2xpY2suRm9ybWF0KTogU2xpY2suRm9ybWF0IHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdHg6IFNsaWNrLkZvcm1hdHRlckNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZm9ybWF0dGVyKGN0eCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGdldFZpZXcoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRlbnQgPSBRLmNvYWxlc2NlKGN0eC5pdGVtLl9pbmRlbnQsIDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNwYWNlciA9ICc8c3BhbiBjbGFzcz1cInMtVHJlZUluZGVudFwiIHN0eWxlPVwid2lkdGg6JyArIDE1ICogaW5kZW50ICsgJ3B4XCI+PC9zcGFuPic7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBnZXRJZChjdHguaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gdmlldy5nZXRJZHhCeUlkKGN0eC5pdGVtLl9faWQgfHwgaWQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSB2aWV3LmdldEl0ZW1CeUlkeChpZHggKyAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEluZGVudCA9IFEuY29hbGVzY2UobmV4dC5faW5kZW50LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEluZGVudCA+IGluZGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISEhIWN0eC5pdGVtLl9jb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZXIgKyAnPHNwYW4gY2xhc3M9XCJzLVRyZWVUb2dnbGUgcy1UcmVlRXhwYW5kXCI+PC9zcGFuPicgKyB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwYWNlciArICc8c3BhbiBjbGFzcz1cInMtVHJlZVRvZ2dsZSBzLVRyZWVDb2xsYXBzZVwiPjwvc3Bhbj4nICsgdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZXIgKyAnPHNwYW4gY2xhc3M9XCJzLVRyZWVUb2dnbGVcIj48L3NwYW4+JyArIHRleHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgdG9nZ2xlQ2xpY2s8VEl0ZW0+KGU6IEpRdWVyeUV2ZW50T2JqZWN0LCByb3c6IG51bWJlciwgY2VsbDogbnVtYmVyLFxyXG4gICAgICAgICAgICB2aWV3OiBTbGljay5SZW1vdGVWaWV3PFRJdGVtPiwgZ2V0SWQ6ICh4OiBUSXRlbSkgPT4gYW55KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXQuaGFzQ2xhc3MoJ3MtVHJlZVRvZ2dsZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNDbGFzcygncy1UcmVlQ29sbGFwc2UnKSB8fCB0YXJnZXQuaGFzQ2xhc3MoJ3MtVHJlZUV4cGFuZCcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHZpZXcuZ2V0SXRlbShyb3cpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghISFpdGVtLl9jb2xsYXBzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5fY29sbGFwc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uX2NvbGxhcHNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gZ2V0SWQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlldy51cGRhdGVJdGVtKGl0ZW0uX19pZCB8fCBpZCwgaXRlbSk7IC8vdG8gc3VwcG9ydCBpbi1tZW1vcnkgZ3JpZCB3ZSBjaGVjayBmYWtlIGl0ZW0uX19pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3LmJlZ2luVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2VyZW5pdHkuU2xpY2tUcmVlSGVscGVyLnNldENvbGxhcHNlZCh2aWV3LmdldEl0ZW1zKCksICEhaXRlbS5fY29sbGFwc2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRJdGVtcyh2aWV3LmdldEl0ZW1zKCksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5lbmRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFRyZWVHcmlkTWl4aW5PcHRpb25zPFRJdGVtPiB7XHJcbiAgICAgICAgLy8gZGF0YSBncmlkIG9iamVjdFxyXG4gICAgICAgIGdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPFRJdGVtLCBhbnk+O1xyXG4gICAgICAgIGlkRmllbGQ/OiBzdHJpbmc7XHJcbiAgICAgICAgLy8gYSBmdW5jdGlvbiB0byBnZXQgcGFyZW50IGlkXHJcbiAgICAgICAgZ2V0UGFyZW50SWQ6IChpdGVtOiBUSXRlbSkgPT4gYW55O1xyXG4gICAgICAgIC8vIHdoZXJlIHNob3VsZCB0aGUgdG9nZ2xlIGJ1dHRvbiBiZSBwbGFjZWRcclxuICAgICAgICB0b2dnbGVGaWVsZDogc3RyaW5nO1xyXG4gICAgICAgIC8vIGEgZGVsZWdhdGUgdGhhdCBzaG91bGQgcmV0dXJuIGluaXRpYWwgY29sbGFwc2luZyBzdGF0ZVxyXG4gICAgICAgIGluaXRpYWxDb2xsYXBzZT86ICgpID0+IGJvb2xlYW47XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBFeGNlbEV4cG9ydE9wdGlvbnMge1xyXG4gICAgICAgIGdyaWQ6IFNlcmVuaXR5LkRhdGFHcmlkPGFueSwgYW55PjtcclxuICAgICAgICBzZXJ2aWNlOiBzdHJpbmc7XHJcbiAgICAgICAgb25WaWV3U3VibWl0OiAoKSA9PiBib29sZWFuO1xyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIGhpbnQ/OiBzdHJpbmc7XHJcbiAgICAgICAgc2VwYXJhdG9yPzogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgbmFtZXNwYWNlIEV4Y2VsRXhwb3J0SGVscGVyIHtcclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvb2xCdXR0b24ob3B0aW9uczogRXhjZWxFeHBvcnRPcHRpb25zKTogU2VyZW5pdHkuVG9vbEJ1dHRvbiB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaGludDogUS5jb2FsZXNjZShvcHRpb25zLnRpdGxlLCAnRXhjZWwnKSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBRLmNvYWxlc2NlKG9wdGlvbnMuaGludCwgJycpLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdleHBvcnQteGxzeC1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5vblZpZXdTdWJtaXQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZCA9IG9wdGlvbnMuZ3JpZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBRLmRlZXBDbG9uZShncmlkLmdldFZpZXcoKS5wYXJhbXMpIGFzIFNlcmVuaXR5Lkxpc3RSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuVGFrZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5Ta2lwID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc29ydEJ5ID0gZ3JpZC5nZXRWaWV3KCkuc29ydEJ5O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0QnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5Tb3J0ID0gc29ydEJ5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5JbmNsdWRlQ29sdW1ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW5zID0gZ3JpZC5nZXRHcmlkKCkuZ2V0Q29sdW1ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiBvZiBjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuSW5jbHVkZUNvbHVtbnMucHVzaChjb2x1bW4uaWQgfHwgY29sdW1uLmZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUS5wb3N0VG9TZXJ2aWNlKHsgc2VydmljZTogb3B0aW9ucy5zZXJ2aWNlLCByZXF1ZXN0OiByZXF1ZXN0LCB0YXJnZXQ6ICdfYmxhbmsnIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogb3B0aW9ucy5zZXBhcmF0b3JcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJkZWNsYXJlIHZhciBqc1BERjtcclxubmFtZXNwYWNlIF9FeHQge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBQZGZFeHBvcnRPcHRpb25zIHtcclxuICAgICAgICBncmlkOiBTZXJlbml0eS5EYXRhR3JpZDxhbnksIGFueT47XHJcbiAgICAgICAgb25WaWV3U3VibWl0OiAoKSA9PiBib29sZWFuO1xyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIGhpbnQ/OiBzdHJpbmc7XHJcbiAgICAgICAgc2VwYXJhdG9yPzogYm9vbGVhbjtcclxuICAgICAgICByZXBvcnRUaXRsZT86IHN0cmluZztcclxuICAgICAgICB0aXRsZVRvcD86IG51bWJlcjtcclxuICAgICAgICB0aXRsZUZvbnRTaXplPzogbnVtYmVyO1xyXG4gICAgICAgIGZpbGVOYW1lPzogc3RyaW5nO1xyXG4gICAgICAgIHBhZ2VOdW1iZXJzPzogYm9vbGVhbjtcclxuICAgICAgICBjb2x1bW5UaXRsZXM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xyXG4gICAgICAgIHRhYmxlT3B0aW9ucz86IGpzUERGLkF1dG9UYWJsZU9wdGlvbnM7XHJcbiAgICAgICAgb3V0cHV0Pzogc3RyaW5nO1xyXG4gICAgICAgIGF1dG9QcmludD86IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBQZGZFeHBvcnRIZWxwZXIge1xyXG4gICAgICAgIGZ1bmN0aW9uIHRvQXV0b1RhYmxlQ29sdW1ucyhzcmNDb2x1bW5zOiBTbGljay5Db2x1bW5bXSwgY29sdW1uU3R5bGVzOiB7IFtkYXRhS2V5OiBzdHJpbmddOiBqc1BERi5BdXRvVGFibGVTdHlsZXM7IH0sXHJcbiAgICAgICAgICAgIGNvbHVtblRpdGxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3JjQ29sdW1ucy5tYXAoc3JjID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2w6IGpzUERGLkF1dG9UYWJsZUNvbHVtbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhS2V5OiBzcmMuaWQgfHwgc3JjLmZpZWxkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzcmMubmFtZSB8fCAnJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uVGl0bGVzICYmIGNvbHVtblRpdGxlc1tjb2wuZGF0YUtleV0gIT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICBjb2wudGl0bGUgPSBjb2x1bW5UaXRsZXNbY29sLmRhdGFLZXldO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdHlsZToganNQREYuQXV0b1RhYmxlU3R5bGVzID0ge307XHJcbiAgICAgICAgICAgICAgICBpZiAoKHNyYy5jc3NDbGFzcyB8fCAnJykuaW5kZXhPZihcImFsaWduLXJpZ2h0XCIpID49IDApXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUuaGFsaWduID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChzcmMuY3NzQ2xhc3MgfHwgJycpLmluZGV4T2YoXCJhbGlnbi1jZW50ZXJcIikgPj0gMClcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5oYWxpZ24gPSAnY2VudGVyJztcclxuXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5TdHlsZXNbY29sLmRhdGFLZXldID0gc3R5bGU7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB0b0F1dG9UYWJsZURhdGEoZW50aXRpZXM6IGFueVtdLCBrZXlzOiBzdHJpbmdbXSwgc3JjQ29sdW1uczogU2xpY2suQ29sdW1uW10pIHtcclxuICAgICAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICBsZXQgcm93ID0gMDtcclxuICAgICAgICAgICAgcmV0dXJuIGVudGl0aWVzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBkc3QgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNlbGwgPSAwOyBjZWxsIDwgc3JjQ29sdW1ucy5sZW5ndGg7IGNlbGwrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzcmMgPSBzcmNDb2x1bW5zW2NlbGxdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmbGQgPSBzcmMuZmllbGQgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IGtleXNbY2VsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR4dDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbDogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcmMuZm9ybWF0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgPSBzcmMuZm9ybWF0dGVyKHJvdywgY2VsbCwgaXRlbVtmbGRdLCBzcmMsIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzcmMuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgPSBzcmMuZm9ybWF0KHsgcm93OiByb3csIGNlbGw6IGNlbGwsIGl0ZW06IGl0ZW0sIHZhbHVlOiBpdGVtW2ZsZF0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IGl0ZW1bZmxkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWh0bWwgfHwgKGh0bWwuaW5kZXhPZignPCcpIDwgMCAmJiBodG1sLmluZGV4T2YoJyYnKSA8IDApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IGh0bWw7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggPT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbC5jaGlsZHJlblswXSkuaXMoXCI6aW5wdXRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdFtrZXldID0gJChlbC5jaGlsZHJlblswXSkudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID09IDEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZWwuY2hpbGRyZW4pLmlzKCcuY2hlY2stYm94JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdFtrZXldID0gJChlbC5jaGlsZHJlbikuaGFzQ2xhc3MoXCJjaGVja2VkXCIpID8gXCJZZXNcIiA6IFwiTm9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdFtrZXldID0gZWwudGV4dENvbnRlbnQgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcm93Kys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZHN0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBleHBvcnRUb1BkZihvcHRpb25zOiBQZGZFeHBvcnRPcHRpb25zKTogdm9pZCB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZyA9IG9wdGlvbnMuZ3JpZDtcclxuXHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5vblZpZXdTdWJtaXQoKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGluY2x1ZGVBdXRvVGFibGUoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gUS5kZWVwQ2xvbmUoZy52aWV3LnBhcmFtcykgYXMgU2VyZW5pdHkuTGlzdFJlcXVlc3Q7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuVGFrZSA9IDA7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuU2tpcCA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgc29ydEJ5ID0gZy52aWV3LnNvcnRCeTtcclxuICAgICAgICAgICAgaWYgKHNvcnRCeSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5Tb3J0ID0gc29ydEJ5O1xyXG5cclxuICAgICAgICAgICAgdmFyIGdyaWRDb2x1bW5zID0gZy5zbGlja0dyaWQuZ2V0Q29sdW1ucygpO1xyXG4gICAgICAgICAgICBncmlkQ29sdW1ucyA9IGdyaWRDb2x1bW5zLmZpbHRlcih4ID0+IHguaWQgIT09IFwiX19zZWxlY3RfX1wiICYmIHguY3NzQ2xhc3MgIT09IFwibm90LWV4cG9ydGFibGVcIiAmJiB4Lm5hbWUubGVuZ3RoID4gMCk7XHJcblxyXG4gICAgICAgICAgICByZXF1ZXN0LkluY2x1ZGVDb2x1bW5zID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGNvbHVtbiBvZiBncmlkQ29sdW1ucylcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuSW5jbHVkZUNvbHVtbnMucHVzaChjb2x1bW4uaWQgfHwgY29sdW1uLmZpZWxkKTtcclxuXHJcbiAgICAgICAgICAgIFEuc2VydmljZUNhbGwoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBnLnZpZXcudXJsLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogcmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSBuZXcganNQREYoJ2wnLCAncHQnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBpbmdzID0gZy52aWV3LmdldEdyb3VwaW5nKCk7IC8vZ3JvdXAgZmllbGRzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwaW5nQ29sdW1ucyA9IGdyaWRDb2x1bW5zLmZpbHRlcihmID0+IGdyb3VwaW5ncy5zb21lKHMgPT4gcy5nZXR0ZXIgPT0gZi5maWVsZCkgPT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNyY0NvbHVtbnMgPSBncmlkQ29sdW1ucy5maWx0ZXIoZiA9PiBncm91cGluZ3Muc29tZShzID0+IHMuZ2V0dGVyID09IGYuZmllbGQpID09IGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uU3R5bGVzOiB7IFtkYXRhS2V5OiBzdHJpbmddOiBqc1BERi5BdXRvVGFibGVTdHlsZXM7IH0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1ucyA9IHRvQXV0b1RhYmxlQ29sdW1ucyhzcmNDb2x1bW5zLCBjb2x1bW5TdHlsZXMsIG9wdGlvbnMuY29sdW1uVGl0bGVzKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGNvbHVtbnMuZmlsdGVyKGYgPT4gZ3JvdXBpbmdzLnNvbWUocyA9PiBzLmdldHRlciA9PSBmKSA9PSBmYWxzZSkubWFwKHggPT4geC5kYXRhS2V5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsUGFnZXNFeHAgPSBcInt7VH19XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWdlTnVtYmVycyA9IG9wdGlvbnMucGFnZU51bWJlcnMgPT0gbnVsbCB8fCBvcHRpb25zLnBhZ2VOdW1iZXJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXV0b09wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogeyB0b3A6IDQwLCBsZWZ0OiA0MCwgcmlnaHQ6IDQwLCBib3R0b206IHBhZ2VOdW1iZXJzID8gMTEwIDogMTAwIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WTogOTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2xpbmVicmVhaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsUGFkZGluZzogNSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlnbjogJ21pZGRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lQ29sb3I6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyU3R5bGVzOiB7IGZpbGxDb2xvcjogMjU1LCB0ZXh0Q29sb3I6IDAsIGxpbmVXaWR0aDogMSwgZmlsbFN0eWxlOiAnUycsIGhhbGlnbjogJ2NlbnRlcicsIHZhbGlnbjogJ21pZGRsZScgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtblN0eWxlczogY29sdW1uU3R5bGVzXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy50YWJsZU9wdGlvbnMpIGFzIGpzUERGLkF1dG9UYWJsZU9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vL3JlZ2lvbiBUaXRsZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEuanNQREZIZWFkZXJJbWFnZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hZGRJbWFnZShxLmpzUERGSGVhZGVySW1hZ2VEYXRhLCAnUE5HJywgNDAsIDQwLCA2MCwgNjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGUoW3EuanNQREZIZWFkZXJUaXRsZV0sIFtdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHsgYm90dG9tOiAxMCAsIGxlZnQ6IDExMH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IG9wdGlvbnMudGl0bGVUb3AgfHwgNDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJTdHlsZXM6IHsgZmlsbENvbG9yOiAyNTUsIHRleHRDb2xvcjogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiB7IGhhbGlnbjogJ2xlZnQnLCBmb250U2l6ZTogMTggfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBvcnRUaXRsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXBpbmdDb2x1bW5zWzBdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0VGl0bGUgPSBncm91cGluZ0NvbHVtbnMubWFwKG0gPT4gbS5uYW1lKS5qb2luKCcsICcpICsgJyB3aXNlICdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydFRpdGxlICs9IG9wdGlvbnMucmVwb3J0VGl0bGUgfHwgZy5nZXRUaXRsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRUaXRsZSArPSBcIiBSZXBvcnRcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvVGFibGUoW3JlcG9ydFRpdGxlXSwgW10sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogeyB0b3A6IDEwLCBib3R0b206IDEwLCBsZWZ0OiAxMTB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRZOiBkb2MuYXV0b1RhYmxlRW5kUG9zWSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyU3R5bGVzOiB7IGZpbGxDb2xvcjogMjU1LCB0ZXh0Q29sb3I6IDAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlczogeyBoYWxpZ246ICdsZWZ0JywgZm9udFNpemU6IDE0IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLy9yZWdpb24gSGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PcHRpb25zLmJlZm9yZVBhZ2VDb250ZW50ID0gaGVhZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vcmVnaW9uIEZvb3RlclxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9vdGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gZGF0YS5wYWdlQ291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG90YWwgcGFnZSBudW1iZXIgcGx1Z2luIG9ubHkgYXZhaWxhYmxlIGluIGpzcGRmIHYxLjArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2MucHV0VG90YWxQYWdlcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIgKyBcIiAvIFwiICsgdG90YWxQYWdlc0V4cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmF1dG9UYWJsZVRleHQoc3RyLCBkb2MuaW50ZXJuYWwucGFnZVNpemUud2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0IC0gYXV0b09wdGlvbnMubWFyZ2luLmJvdHRvbSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvT3B0aW9ucy5hZnRlclBhZ2VDb250ZW50ID0gZm9vdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLy9yZWdpb24gQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9leHRyYSBzcGFjZSBhZnRlciB0aXRsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuYXV0b1RhYmxlKFsnJ10sIFtdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IGRvYy5hdXRvVGFibGVFbmRQb3NZKCkgKyAyMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclN0eWxlczogeyBmaWxsQ29sb3I6IDI1NSwgdGV4dENvbG9yOiAwIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVySGVpZ2h0ID0gMTI1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyRm9udFNpemVCYXNlID0gMTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXRpZXMgPSAoPFNlcmVuaXR5Lkxpc3RSZXNwb25zZTxhbnk+PnJlc3BvbnNlKS5FbnRpdGllcyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGcuc2V0SXRlbXMoZW50aXRpZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwcyA9IGcudmlldy5nZXRHcm91cHMoKTsgLy9ncm91cGVkIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2dnID0gZnVuY3Rpb24gKGdycHM6IFNsaWNrLkdyb3VwPGFueT5bXSwgcGFyZW50R3JvdXBJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRQb3NZID0gZG9jLmF1dG9UYWJsZUVuZFBvc1koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdycHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZ3Jwc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsID0gZ3JvdXAubGV2ZWwgKyAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmF1dG9UYWJsZShbZ3JvdXAudGl0bGVdLCBbXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7IGxlZnQ6IDMwICsgbGV2ZWwgKiAxMCwgdG9wOiAyIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFk6IGRvYy5hdXRvVGFibGVFbmRQb3NZKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJTdHlsZXM6IHsgZmlsbENvbG9yOiAyNTUsIHRleHRDb2xvcjogMCwgZm9udFNpemU6IDEwIC0gZ3JvdXAubGV2ZWwsIGNlbGxQYWRkaW5nOiAwIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuZ3JvdXBzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2dnKGdyb3VwLmdyb3VwcywgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdG9BdXRvVGFibGVEYXRhKGdyb3VwLnJvd3MsIGtleXMsIHNyY0NvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09wdGlvbnMuc3RhcnRZID0gZG9jLmF1dG9UYWJsZUVuZFBvc1koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9PcHRpb25zLm1hcmdpbi5sZWZ0ID0gMzAgKyBsZXZlbCAqIDEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09wdGlvbnMubWFyZ2luLmJvdHRvbSA9IDEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmF1dG9UYWJsZShjb2x1bW5zLCBkYXRhLCBhdXRvT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBleHRyYSBzcGFjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmF1dG9UYWJsZShbJyddLCBbXSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogeyBsZWZ0OiAzMCArIGxldmVsICogMTAsIHRvcDogMiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0WTogZG9jLmF1dG9UYWJsZUVuZFBvc1koKSArIDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclN0eWxlczogeyBmaWxsQ29sb3I6IDI1NSwgdGV4dENvbG9yOiAwIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdnZyhncm91cHMsIC0xKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHRvQXV0b1RhYmxlRGF0YShnLmdldEl0ZW1zKCksIGtleXMsIHNyY0NvbHVtbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b09wdGlvbnMuc3RhcnRZID0gaGVhZGVySGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmF1dG9UYWJsZShjb2x1bW5zLCBkYXRhLCBhdXRvT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jLnB1dFRvdGFsUGFnZXMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnB1dFRvdGFsUGFnZXModG90YWxQYWdlc0V4cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLm91dHB1dCB8fCBvcHRpb25zLm91dHB1dCA9PSBcImZpbGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBvcHRpb25zLnJlcG9ydFRpdGxlIHx8IFwiezB9X3sxfS5wZGZcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBRLmZvcm1hdChmaWxlTmFtZSwgZy5nZXRUaXRsZSgpIHx8IFwicmVwb3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRLmZvcm1hdERhdGUobmV3IERhdGUoKSwgXCJ5eXl5TU1kZF9ISG1tXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnNhdmUoZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvUHJpbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5hdXRvUHJpbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IG9wdGlvbnMub3V0cHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPT0gJ25ld3dpbmRvdycgfHwgJ19ibGFuaycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9ICdkYXRhdXJsbmV3d2luZG93JztcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXRwdXQgPT0gJ3dpbmRvdycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9ICdkYXRhdXJpJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jLm91dHB1dChvdXRwdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb29sQnV0dG9uKG9wdGlvbnM6IFBkZkV4cG9ydE9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiA8U2VyZW5pdHkuVG9vbEJ1dHRvbj57XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGhpbnQ6IG9wdGlvbnMuaGludCB8fCAnUERGJyxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnZXhwb3J0LXBkZi1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gZXhwb3J0VG9QZGYob3B0aW9ucyksXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IG9wdGlvbnMuc2VwYXJhdG9yXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbmNsdWRlSnNQREYoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YganNQREYgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gJChcImpzUERGU2NyaXB0XCIpO1xyXG4gICAgICAgICAgICBpZiAoc2NyaXB0Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAkKFwiPHNjcmlwdC8+XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0L2phdmFzY3JpcHRcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJqc1BERlNjcmlwdFwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJzcmNcIiwgUS5yZXNvbHZlVXJsKFwifi9TY3JpcHRzL2pzcGRmLm1pbi5qc1wiKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhkb2N1bWVudC5oZWFkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluY2x1ZGVBdXRvVGFibGUoKSB7XHJcbiAgICAgICAgICAgIGluY2x1ZGVKc1BERigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBqc1BERiA9PT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIChqc1BERiBhcyBhbnkpLkFQSSA9PSBcInVuZGVmaW5lZFwiIHx8XHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgKGpzUERGIGFzIGFueSkuQVBJLmF1dG9UYWJsZSAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSAkKFwianNQREZBdXRvVGFibGVTY3JpcHRcIik7XHJcbiAgICAgICAgICAgIGlmIChzY3JpcHQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICQoXCI8c2NyaXB0Lz5cIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHQvamF2YXNjcmlwdFwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImpzUERGQXV0b1RhYmxlU2NyaXB0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInNyY1wiLCBRLnJlc29sdmVVcmwoXCJ+L1NjcmlwdHMvanNwZGYucGx1Z2luLmF1dG90YWJsZS5taW4uanNcIikpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5kZWNsYXJlIG5hbWVzcGFjZSBTbGljayB7XHJcbiAgICBpbnRlcmZhY2UgUmVtb3RlVmlldzxURW50aXR5PiB7XHJcbiAgICAgICAgZ2V0R3JvdXBzKCk6IFNsaWNrLkdyb3VwPFRFbnRpdHk+W107XHJcbiAgICAgICAgZ2V0R3JvdXBpbmcoKTogU2xpY2suR3JvdXBJbmZvPFRFbnRpdHk+W107XHJcbiAgICB9XHJcbn0iLCJuYW1lc3BhY2UgX0V4dCB7XHJcbiAgICBcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0RXhlY3V0ZU9wdGlvbnMge1xyXG4gICAgICAgIHJlcG9ydEtleTogc3RyaW5nO1xyXG4gICAgICAgIGRvd25sb2FkPzogYm9vbGVhbjtcclxuICAgICAgICBleHRlbnNpb24/OiAncGRmJyB8ICdodG0nIHwgJ2h0bWwnIHwgJ3hsc3gnIHwgJ2RvY3gnO1xyXG4gICAgICAgIGdldFBhcmFtcz86ICgpID0+IGFueTtcclxuICAgICAgICBwYXJhbXM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9XHJcbiAgICAgICAgdGFyZ2V0Pzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0QnV0dG9uT3B0aW9ucyBleHRlbmRzIFJlcG9ydEV4ZWN1dGVPcHRpb25zIHtcclxuICAgICAgICB0aXRsZT86IHN0cmluZztcclxuICAgICAgICBjc3NDbGFzcz86IHN0cmluZztcclxuICAgICAgICBpY29uPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgUmVwb3J0SGVscGVyIHtcclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvb2xCdXR0b24ob3B0aW9uczogUmVwb3J0QnV0dG9uT3B0aW9ucyk6IFNlcmVuaXR5LlRvb2xCdXR0b24ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFEuY29hbGVzY2Uob3B0aW9ucy50aXRsZSwgJ1JlcG9ydCcpLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6IFEuY29hbGVzY2Uob3B0aW9ucy5jc3NDbGFzcywgJ3ByaW50LWJ1dHRvbicpLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogb3B0aW9ucy5pY29uLFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlcG9ydEhlbHBlci5leGVjdXRlKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUob3B0aW9uczogUmVwb3J0RXhlY3V0ZU9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIG9wdCA9IG9wdGlvbnMuZ2V0UGFyYW1zID8gb3B0aW9ucy5nZXRQYXJhbXMoKSA6IG9wdGlvbnMucGFyYW1zO1xyXG5cclxuICAgICAgICAgICAgUS5wb3N0VG9Vcmwoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnfi9SZXBvcnQvJyArIChvcHRpb25zLmRvd25sb2FkID8gJ0Rvd25sb2FkJyA6ICdSZW5kZXInKSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogb3B0aW9ucy5yZXBvcnRLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0OiBRLmNvYWxlc2NlKG9wdGlvbnMuZXh0ZW5zaW9uLCAncGRmJyksXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0OiBvcHQgPyAkLnRvSlNPTihvcHQpIDogJydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFEuY29hbGVzY2Uob3B0aW9ucy50YXJnZXQsICdfYmxhbmsnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIm5hbWVzcGFjZSBfRXh0LkRpYWxvZ1V0aWxzIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBwZW5kaW5nQ2hhbmdlc0NvbmZpcm1hdGlvbihlbGVtZW50OiBKUXVlcnksIGhhc1BlbmRpbmdDaGFuZ2VzOiAoKSA9PiBib29sZWFuKSB7XHJcbiAgICAgICAgZWxlbWVudC5vbignZGlhbG9nYmVmb3JlY2xvc2UgcGFuZWxiZWZvcmVjbG9zZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghU2VyZW5pdHkuV1guaGFzT3JpZ2luYWxFdmVudChlKSB8fCAhaGFzUGVuZGluZ0NoYW5nZXMoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBRLmNvbmZpcm0ocS50ZXh0KCdDb250cm9scy5FbnRpdHlEaWFsb2cuUGVuZGluZ0NoYW5nZXNDb25maXJtYXRpb24nLCAnWW91IGhhdmUgcGVuZGluZyBjaGFuZ2VzLiBTYXZlIHRoZW0/JyksXHJcbiAgICAgICAgICAgICAgICAoKSA9PiBlbGVtZW50LmZpbmQoJ2Rpdi5zYXZlLWFuZC1jbG9zZS1idXR0b24nKS5jbGljaygpLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uTm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ3VpLWRpYWxvZy1jb250ZW50JykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmRpYWxvZygnY2xvc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC5oYXNDbGFzcygncy1QYW5lbCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VyZW5pdHkuVGVtcGxhdGVkRGlhbG9nLmNsb3NlUGFuZWwoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmZ1bmN0aW9uIGxvYWRTY3JpcHRBc3luYyh1cmwsIGNhbGxiYWNrKSB7XHJcbiAgICAvLyBBZGRpbmcgdGhlIHNjcmlwdCB0YWcgdG8gdGhlIGhlYWQgYXMgc3VnZ2VzdGVkIGJlZm9yZVxyXG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xyXG4gICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpIGFzIEhUTUxTY3JpcHRFbGVtZW50O1xyXG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuICAgIHNjcmlwdC5zcmMgPSB1cmw7XHJcblxyXG4gICAgLy8gVGhlbiBiaW5kIHRoZSBldmVudCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAvLyBUaGVyZSBhcmUgc2V2ZXJhbCBldmVudHMgZm9yIGNyb3NzIGJyb3dzZXIgY29tcGF0aWJpbGl0eS5cclxuICAgIHNjcmlwdC5vbmxvYWQgPSBjYWxsYmFjaztcclxuXHJcbiAgICAvLyBGaXJlIHRoZSBsb2FkaW5nXHJcbiAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkU2NyaXB0KHVybCkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICBkYXRhVHlwZTogXCJzY3JpcHRcIixcclxuICAgICAgICBhc3luYzogZmFsc2UsICAgICAgICAgICAvLyA8LS0gVGhpcyBpcyB0aGUga2V5XHJcbiAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBhbGwgZ29vZC4uLlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgc2NyaXB0IFwiICsgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXNpbmdWdWVqcygpIHtcclxuICAgIGlmICh3aW5kb3dbJ1Z1ZSddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy92dWUuanNcIikpO1xyXG5cclxuICAgICAgICAvL2ZpbHRlcnNcclxuICAgICAgICB3aW5kb3dbJ1Z1ZSddLmZpbHRlcignZm9ybWF0RGF0ZScsIGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFEuZm9ybWF0RGF0ZSh2YWx1ZSwgZm9ybWF0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvd1snVnVlJ10uZmlsdGVyKCdmb3JtYXREYXRlUmVhZGFibGUnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IFEucGFyc2VJU09EYXRlVGltZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCkgKyAnICcgKyBfRXh0Lk1vbnRoc1tkYXRlLmdldE1vbnRoKCldLnN1YnN0cigwLCAzKSArICcgJyArIGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3dbJ1Z1ZSddLmZpbHRlcignZGF5T25seScsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLmZvcm1hdERhdGUodmFsdWUsICdkZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvd1snVnVlJ10uZmlsdGVyKCdtb250aE9ubHknLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IFEucGFyc2VJU09EYXRlVGltZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX0V4dC5Nb250aHNbZGF0ZS5nZXRNb250aCgpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvd1snVnVlJ10uZmlsdGVyKCdtb250aE9ubHkzJywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBRLnBhcnNlSVNPRGF0ZVRpbWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9FeHQuTW9udGhzW2RhdGUuZ2V0TW9udGgoKV0uc3Vic3RyKDAsIDMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvd1snVnVlJ10uZmlsdGVyKCd5ZWFyT25seScsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRlID0gUS5wYXJzZUlTT0RhdGVUaW1lKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgd2luZG93WydWdWUnXS5maWx0ZXIoJ3RpbWVPbmx5SEhtbScsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBRLmZvcm1hdERhdGUodmFsdWUsICdISDptbScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvd1snVnVlJ10uZmlsdGVyKCdmb3JtYXREYXRlVGltZVJlYWRhYmxlJywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBRLnBhcnNlSVNPRGF0ZVRpbWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpICsgJyAnICsgX0V4dC5Nb250aHNbZGF0ZS5nZXRNb250aCgpXSArICcgJyArIGRhdGUuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICsgJyAnICsgZGF0ZS5nZXRIb3VycygpICsgJzonICsgZGF0ZS5nZXRNaW51dGVzKCkgKyAnOicgKyBkYXRlLmdldFNlY29uZHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3dbJ1Z1ZSddLmZpbHRlcignZW51bVRleHQnLCBmdW5jdGlvbiAodmFsdWUsIGVudW1LZXkpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VyZW5pdHkuRW51bUZvcm1hdHRlci5mb3JtYXQoU2VyZW5pdHkuRW51bVR5cGVSZWdpc3RyeS5nZXQoZW51bUtleSksIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3dbJ1Z1ZSddLmZpbHRlcigndHJ1bmNhdGUnLCBmdW5jdGlvbiAodGV4dCwgbGVuZ3RoLCBjbGFtcCkge1xyXG4gICAgICAgICAgICBjbGFtcCA9IGNsYW1wIHx8ICcuLi4nO1xyXG4gICAgICAgICAgICBsZW5ndGggPSBsZW5ndGggfHwgMzA7XHJcblxyXG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPD0gbGVuZ3RoKSByZXR1cm4gdGV4dDtcclxuXHJcbiAgICAgICAgICAgIHZhciB0Y1RleHQgPSB0ZXh0LnNsaWNlKDAsIGxlbmd0aCAtIGNsYW1wLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHZhciBsYXN0ID0gdGNUZXh0Lmxlbmd0aCAtIDE7XHJcblxyXG5cclxuICAgICAgICAgICAgd2hpbGUgKGxhc3QgPiAwICYmIHRjVGV4dFtsYXN0XSAhPT0gJyAnICYmIHRjVGV4dFtsYXN0XSAhPT0gY2xhbXBbMF0pIGxhc3QgLT0gMTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpeCBmb3IgY2FzZSB3aGVuIHRleHQgZG9udCBoYXZlIGFueSBgc3BhY2VgXHJcbiAgICAgICAgICAgIGxhc3QgPSBsYXN0IHx8IGxlbmd0aCAtIGNsYW1wLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIHRjVGV4dCA9IHRjVGV4dC5zbGljZSgwLCBsYXN0KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0Y1RleHQgKyBjbGFtcDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgd2luZG93WydWdWUnXS5maWx0ZXIoJ2NhcGl0YWxpemUnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnXHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2YWx1ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDEpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVCb290c3RyYXBDb2xvclBpY2tlckNzcygpIHtcclxuICAgIHZhciBzdHlsZSA9ICQoXCIjY29sb3JwaWNrZXJcIik7XHJcbiAgICBpZiAoc3R5bGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkKFwiPGxpbmsvPlwiKVxyXG4gICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHQvY3NzXCIpXHJcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcImNvbG9ycGlja2VyXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJocmVmXCIsIFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy9jb2xvcnBpY2tlci9ib290c3RyYXAtY29sb3JwaWNrZXIubWluLmNzc1wiKSlcclxuICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcblxyXG59XHJcbmZ1bmN0aW9uIHVzaW5nQm9vdHN0cmFwQ29sb3JQaWNrZXIoKSB7XHJcbiAgICBpZiAod2luZG93Wydjb2xvcnBpY2tlciddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpbmNsdWRlQm9vdHN0cmFwQ29sb3JQaWNrZXJDc3MoKTtcclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy9jb2xvcnBpY2tlci9ib290c3RyYXAtY29sb3JwaWNrZXIubWluLmpzXCIpKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNsdWRlSnF1ZXJ5VUlUaW1lcGlja2VyQWRkb25Dc3MoKSB7XHJcbiAgICB2YXIgc3R5bGUgPSAkKFwiI2RhdGV0aW1lcGlja2VyXCIpO1xyXG4gICAgaWYgKHN0eWxlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJChcIjxsaW5rLz5cIilcclxuICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKVxyXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJkYXRldGltZXBpY2tlclwiKVxyXG4gICAgICAgIC5hdHRyKFwicmVsXCIsIFwic3R5bGVzaGVldFwiKVxyXG4gICAgICAgIC5hdHRyKFwiaHJlZlwiLCBRLnJlc29sdmVVcmwoXCJ+L0NvbnRlbnQvanF1ZXJ5LXVpLXRpbWVwaWNrZXItYWRkb24uY3NzXCIpKVxyXG4gICAgICAgIC5hcHBlbmRUbyhkb2N1bWVudC5oZWFkKTtcclxuXHJcbn1cclxuZnVuY3Rpb24gdXNpbmdKcXVlcnlVSVRpbWVwaWNrZXJBZGRvbigpIHtcclxuICAgIGlmICh3aW5kb3dbJ2RhdGV0aW1lcGlja2VyJ10pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluY2x1ZGVKcXVlcnlVSVRpbWVwaWNrZXJBZGRvbkNzcygpO1xyXG4gICAgICAgIGxvYWRTY3JpcHQoUS5yZXNvbHZlVXJsKFwifi9TY3JpcHRzL2pxdWVyeS11aS10aW1lcGlja2VyLWFkZG9uLmpzXCIpKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1c2luZ0JhYnlsb25qcygpIHtcclxuICAgIGlmICh3aW5kb3dbJ0JBQllMT04nXSAmJiB3aW5kb3dbJ0JBQllMT04nXVsnRW5naW5lJ10pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxvYWRTY3JpcHQoUS5yZXNvbHZlVXJsKFwifi9TY3JpcHRzL2JhYnlsb24uanNcIikpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB1c2luZ0NoYXJ0anMoKSB7XHJcbiAgICBpZiAod2luZG93WydDaGFydCddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybCgnfi9TY3JpcHRzL2NoYXJ0anMvQ2hhcnQubWluLmpzJykpXHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93WydDaGFydCddLmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSA9ICQoJ2JvZHknKS5jc3MoJ2ZvbnQtZmFtaWx5Jyk7XHJcbiAgICB3aW5kb3dbJ0NoYXJ0J10uZGVmYXVsdHMuZ2xvYmFsLm1haW50YWluQXNwZWN0UmF0aW8gPSBmYWxzZTtcclxuICAgIHdpbmRvd1snQ2hhcnQnXS5kZWZhdWx0cy5nbG9iYWwudG9vbHRpcHMubW9kZSA9ICdpbmRleCc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVDdXN0b21NYXJrZXJDc3MoKSB7XHJcbiAgICB2YXIgc3R5bGUgPSAkKFwiI2N1c3RvbU1hcmtlclwiKTtcclxuICAgIGlmIChzdHlsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQoXCI8bGluay8+XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIilcclxuICAgICAgICAuYXR0cihcImlkXCIsIFwiY3VzdG9tTWFya2VyXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJocmVmXCIsIFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy9nb29nbGVtYXAvQ3VzdG9tTWFya2VyLmNzc1wiKSlcclxuICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB1c2luZ0N1c3RvbU1hcmtlcigpIHtcclxuICAgIGlmICh3aW5kb3dbJ0N1c3RvbU1hcmtlciddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpbmNsdWRlQ3VzdG9tTWFya2VyQ3NzKCk7XHJcbiAgICAgICAgbG9hZFNjcmlwdChRLnJlc29sdmVVcmwoXCJ+L1NjcmlwdHMvZ29vZ2xlbWFwL0N1c3RvbU1hcmtlci5qc1wiKSlcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVHb29nbGVNYXAoY2FsbGJhY2s/OiBGdW5jdGlvbiwgY2FsbGJhY2tGdWxsTmFtZT86IHN0cmluZykge1xyXG4gICAgaWYgKHdpbmRvd1snZ29vZ2xlJ10pIHtcclxuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY3JpcHQgPSAkKFwiI2dvb2dsZVNjcmlwdFwiKTtcclxuICAgIGlmIChzY3JpcHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJChcIjxzY3JpcHQvPlwiKVxyXG4gICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHQvamF2YXNjcmlwdFwiKVxyXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJnb29nbGVTY3JpcHRcIilcclxuICAgICAgICAuYXR0cihcInNyY1wiLCAnaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBzL2FwaS9qcz92PTMuMzEma2V5PUFJemFTeUNSaVk3YUZBMmNJNlNUYmwzWVEzcjZtMUlwVUZtQk05OCZjYWxsYmFjaz0nICsgY2FsbGJhY2tGdWxsTmFtZSB8fCAnaW5jbHVkZUdvb2dsZU1hcCcpXHJcbiAgICAgICAgLmFwcGVuZFRvKGRvY3VtZW50LmhlYWQpO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gaW5jbHVkZU1hcmtlcldpdGhMYWJlbCgpIHtcclxuICAgIGlmICh3aW5kb3dbJ01hcmtlcldpdGhMYWJlbCddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY3JpcHQgPSAkKFwiI01hcmtlcldpdGhMYWJlbFNjcmlwdFwiKTtcclxuICAgIGlmIChzY3JpcHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkKFwiPHNjcmlwdC8+XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dC9qYXZhc2NyaXB0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcIk1hcmtlcldpdGhMYWJlbFNjcmlwdFwiKVxyXG4gICAgICAgIC5hdHRyKFwic3JjXCIsIFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy9nb29nbGVtYXAvbWFya2Vyd2l0aGxhYmVsLmpzXCIpKVxyXG4gICAgICAgIC5hcHBlbmRUbyhkb2N1bWVudC5oZWFkKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVWaXNDc3MoKSB7XHJcbiAgICB2YXIgc3R5bGUgPSAkKFwiI1Zpc1wiKTtcclxuICAgIGlmIChzdHlsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQoXCI8bGluay8+XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIilcclxuICAgICAgICAuYXR0cihcImlkXCIsIFwiVmlzXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJocmVmXCIsIFEucmVzb2x2ZVVybChcIn4vU2NyaXB0cy92aXNqcy92aXMubWluLmNzc1wiKSlcclxuICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB1c2luZ1Zpc2pzKCkge1xyXG4gICAgaWYgKHdpbmRvd1sndmlzJ10pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluY2x1ZGVWaXNDc3MoKVxyXG4gICAgICAgIGxvYWRTY3JpcHQoUS5yZXNvbHZlVXJsKFwifi9TY3JpcHRzL3Zpc2pzL3Zpcy5taW4uanNcIikpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdXNpbmdKc29uRGlmZlBhdGNoKCkge1xyXG4gICAgaWYgKHdpbmRvd1snanNvbmRpZmZwYXRjaCddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgJChcIjxsaW5rLz5cIikuYXR0cihcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKS5hdHRyKFwiaWRcIiwgXCJKc29uRGlmZlBhdGNoXCIpLmF0dHIoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaHJlZlwiLCBRLnJlc29sdmVVcmwoXCJ+L01vZHVsZXMvX0V4dC9BdWRpdExvZ1ZpZXdlci9qc29uZGlmZnBhdGNoL2Zvcm1hdHRlcnMtc3R5bGVzL2h0bWwuY3NzXCIpKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XHJcblxyXG5cclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybChcIn4vTW9kdWxlcy9fRXh0L0F1ZGl0TG9nVmlld2VyL2pzb25kaWZmcGF0Y2gvanNvbmRpZmZwYXRjaC5taW4uanNcIikpXHJcbiAgICAgICAgbG9hZFNjcmlwdChRLnJlc29sdmVVcmwoXCJ+L01vZHVsZXMvX0V4dC9BdWRpdExvZ1ZpZXdlci9qc29uZGlmZnBhdGNoL2pzb25kaWZmcGF0Y2gtZm9ybWF0dGVycy5taW4uanNcIikpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzaW5nU2xpY2tHcmlkRWRpdG9ycygpIHtcclxuICAgIGlmICh3aW5kb3dbJ1NsaWNrJ10gJiYgd2luZG93WydTbGljayddWydFZGl0b3JzJ10gJiYgd2luZG93WydTbGljayddWydFZGl0b3JzJ11bJ1RleHQnXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9hZFNjcmlwdChRLnJlc29sdmVVcmwoXCJ+L01vZHVsZXMvX0V4dC9FZGl0b3JzL3NsaWNrLmVkaXRvcnMuanNcIikpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVzaW5nU2xpY2tBdXRvQ29sdW1uU2l6ZSgpIHtcclxuICAgIGlmICh3aW5kb3dbJ1NsaWNrJ10gJiYgd2luZG93WydTbGljayddWydBdXRvQ29sdW1uU2l6ZSddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybChcIn4vTW9kdWxlcy9fRXh0L0N1c3RvbVNsaWNrR3JpZFBsdWdpbi9zbGljay5hdXRvY29sdW1uc2l6ZS5qc1wiKSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXNpbmdTbGlja0hlYWRlckZpbHRlcnMoKSB7XHJcbiAgICBpZiAod2luZG93WydTbGljayddICYmIHdpbmRvd1snU2xpY2snXVsnSGVhZGVyRmlsdGVycyddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiPGxpbmsvPlwiKVxyXG4gICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHQvY3NzXCIpXHJcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcIkN1c3RvbVNsaWNrR3JpZFBsdWdpblwiKVxyXG4gICAgICAgIC5hdHRyKFwicmVsXCIsIFwic3R5bGVzaGVldFwiKVxyXG4gICAgICAgIC5hdHRyKFwiaHJlZlwiLCBRLnJlc29sdmVVcmwoXCJ+L01vZHVsZXMvX0V4dC9DdXN0b21TbGlja0dyaWRQbHVnaW4vc2xpY2staGVhZGVyZmlsdGVycy5jc3NcIikpXHJcbiAgICAgICAgLmFwcGVuZFRvKGRvY3VtZW50LmhlYWQpO1xyXG5cclxuICAgICAgICBsb2FkU2NyaXB0KFEucmVzb2x2ZVVybChcIn4vTW9kdWxlcy9fRXh0L0N1c3RvbVNsaWNrR3JpZFBsdWdpbi9zbGljay5oZWFkZXJmaWx0ZXJzLmpzXCIpKTtcclxuICAgIH1cclxufSIsIlxyXG5uYW1lc3BhY2UgcSB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc3VtKHhzOiBhbnlbXSwga2V5KSB7XHJcbiAgICAgICAgbGV0IGluaXRPYmogPSB7fTtcclxuICAgICAgICBpbml0T2JqW2tleV0gPSAwO1xyXG5cclxuICAgICAgICBsZXQgc3VtT2JqID0geHMucmVkdWNlKGZ1bmN0aW9uIChydiwgeCkge1xyXG4gICAgICAgICAgICAocnZba2V5XSArPSB4W2tleV0gfHwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBydjtcclxuICAgICAgICB9LCBpbml0T2JqKVxyXG5cclxuICAgICAgICByZXR1cm4gc3VtT2JqW2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnkoeHM6IGFueVtdLCBrZXkpIHtcclxuICAgICAgICByZXR1cm4geHMucmVkdWNlKGZ1bmN0aW9uIChydiwgeCkge1xyXG4gICAgICAgICAgICAocnZbeFtrZXldXSA9IHJ2W3hba2V5XV0gfHwgW10pLnB1c2goeCk7XHJcbiAgICAgICAgICAgIHJldHVybiBydjtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNvcnRCeTxUPih4czogVFtdLCBrZXkpIHtcclxuICAgICAgICByZXR1cm4geHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYVtrZXldIDwgYltrZXldKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFba2V5XSA+IGJba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzb3J0QnlEZXNjPFQ+KHhzOiBUW10sIGtleSkge1xyXG4gICAgICAgIHJldHVybiB4cy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhW2tleV0gPiBiW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYVtrZXldIDwgYltrZXldKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIlxyXG5uYW1lc3BhY2UgcSB7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5leHRUaWNrKGRhdGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkTWludXRlcyhkYXRlOiBEYXRlLCBtaW51dGVzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRIb3VycyhkYXRlOiBEYXRlLCBob3VyczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgaG91cnMgKiAzNjAwMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0SG91cnMoZnJvbURhdGU6IERhdGUsIHRvRGF0ZTogRGF0ZSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGhvdXJzID0gMDtcclxuICAgICAgICBpZiAoZnJvbURhdGUgJiYgdG9EYXRlKSB7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbE1pbGlTZWNvbmRzID0gdG9EYXRlLnZhbHVlT2YoKSAtIGZyb21EYXRlLnZhbHVlT2YoKTtcclxuICAgICAgICAgICAgaG91cnMgPSB0b3RhbE1pbGlTZWNvbmRzIC8gKDEwMDAgKiA2MCAqIDYwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhvdXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREYXlzMjRIb3VyUHVsc2UoZnJvbURhdGU6IERhdGUsIHRvRGF0ZTogRGF0ZSk6IG51bWJlciB7XHJcblxyXG4gICAgICAgIGxldCBkYXlzID0gcS5nZXRIb3Vycyhmcm9tRGF0ZSwgdG9EYXRlKSAvIDI0O1xyXG5cclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKGRheXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREYXlzKHBGcm9tRGF0ZTogRGF0ZSwgcFRvRGF0ZTogRGF0ZSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGZyb21EYXRlID0gbmV3IERhdGUocEZyb21EYXRlLmdldEZ1bGxZZWFyKCksIHBGcm9tRGF0ZS5nZXRNb250aCgpLCBwRnJvbURhdGUuZ2V0RGF0ZSgpKTtcclxuICAgICAgICBsZXQgdG9EYXRlID0gbmV3IERhdGUocFRvRGF0ZS5nZXRGdWxsWWVhcigpLCBwVG9EYXRlLmdldE1vbnRoKCksIHBUb0RhdGUuZ2V0RGF0ZSgpLCAyMywgNTksIDU5KTtcclxuXHJcbiAgICAgICAgbGV0IGRheXMgPSBxLmdldEhvdXJzKGZyb21EYXRlLCB0b0RhdGUpIC8gMjQ7XHJcblxyXG4gICAgICAgIC8vZGF5cyA9IGRheXMgPD0gMCA/IDEgOiBkYXlzO1xyXG5cclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKGRheXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRNb250aHMoZnJvbURhdGU6IERhdGUsIHRvRGF0ZTogRGF0ZSk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IG1vbnRocyA9IHEuZ2V0RGF5czI0SG91clB1bHNlKGZyb21EYXRlLCB0b0RhdGUpIC8gMzA7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChtb250aHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRDYWxlbmRlck1vbnRocyhmcm9tRGF0ZTogRGF0ZSwgdG9EYXRlOiBEYXRlKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbW9udGhzO1xyXG4gICAgICAgIG1vbnRocyA9ICh0b0RhdGUuZ2V0RnVsbFllYXIoKSAtIGZyb21EYXRlLmdldEZ1bGxZZWFyKCkpICogMTI7XHJcbiAgICAgICAgbW9udGhzIC09IGZyb21EYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgbW9udGhzICs9IHRvRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgIHJldHVybiBtb250aHMgPD0gMCA/IDAgOiBtb250aHM7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENhbGVuZGVyTW9udGhzQ2VpbChmcm9tRGF0ZTogRGF0ZSwgdG9EYXRlOiBEYXRlKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbW9udGhzID0gcS5nZXRDYWxlbmRlck1vbnRocyhmcm9tRGF0ZSwgdG9EYXRlKTtcclxuICAgICAgICByZXR1cm4gbW9udGhzID09IDAgPyAxIDogbW9udGhzO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGREYXlzKGRhdGU6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlIGFzIGFueSk7XHJcbiAgICAgICAgcmVzdWx0LnNldERhdGUocmVzdWx0LmdldERhdGUoKSArIGRheXMpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRNb250aHMoZGF0ZTogRGF0ZSwgbW9udGhzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZSBhcyBhbnkpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRNb250aChyZXN1bHQuZ2V0TW9udGgoKSArIG1vbnRocyk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkWWVhcihkYXRlOiBEYXRlLCB5ZWFyczogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUgYXMgYW55KTtcclxuICAgICAgICByZXN1bHQuc2V0RnVsbFllYXIocmVzdWx0LmdldEZ1bGxZZWFyKCkgKyB5ZWFycyk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0UGVyaW9kcyhmcm9tRGF0ZTogRGF0ZSwgdG9EYXRlOiBEYXRlLCBwZXJpb2RVbml0OiBfRXh0LlRpbWVVb00pOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChwZXJpb2RVbml0ID09IF9FeHQuVGltZVVvTS5EYXkpIHtcclxuICAgICAgICAgICAgbGV0IGRheXMgPSBxLmdldERheXMoZnJvbURhdGUsIHRvRGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwZXJpb2RVbml0ID09IF9FeHQuVGltZVVvTS5Nb250aCkge1xyXG4gICAgICAgICAgICBsZXQgbW9udGhzID0gcS5nZXRNb250aHMoZnJvbURhdGUsIHRvRGF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtb250aHMgPT0gMCA/IDEgOiBtb250aHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBlcmlvZFVuaXQgPT0gX0V4dC5UaW1lVW9NLkNhbGVuZGVyTW9udGgpIHtcclxuICAgICAgICAgICAgbGV0IGNhbGVuZGVyTW9udGhzID0gcS5nZXRDYWxlbmRlck1vbnRocyhmcm9tRGF0ZSwgdG9EYXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbGVuZGVyTW9udGhzICsgMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZFBlcmlvZChkYXRlOiBEYXRlLCBwZXJpb2Q6IG51bWJlciwgcGVyaW9kVW5pdDogX0V4dC5UaW1lVW9NKTogRGF0ZSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUgYXMgYW55KTtcclxuICAgICAgICBpZiAocGVyaW9kVW5pdCA9PSBfRXh0LlRpbWVVb00uRGF5KVxyXG4gICAgICAgICAgICByZXN1bHQuc2V0RGF0ZShyZXN1bHQuZ2V0RGF0ZSgpICsgcGVyaW9kKTtcclxuICAgICAgICBlbHNlIGlmIChwZXJpb2RVbml0ID09IF9FeHQuVGltZVVvTS5Nb250aClcclxuICAgICAgICAgICAgcmVzdWx0LnNldE1vbnRoKHJlc3VsdC5nZXRNb250aCgpICsgcGVyaW9kKTtcclxuICAgICAgICBlbHNlIGlmIChwZXJpb2RVbml0ID09IF9FeHQuVGltZVVvTS5DYWxlbmRlck1vbnRoKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zZXREYXRlKDEpO1xyXG4gICAgICAgICAgICByZXN1bHQuc2V0TW9udGgocmVzdWx0LmdldE1vbnRoKCkgKyBwZXJpb2QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBmb3JtYXRJU09EYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSAtIG9mZnNldCAqIDYwICogMTAwMCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy9lZGl0b3IgdXRpbHNcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gYmluZERhdGVUaW1lRWRpdG9yQ2hhbmdlKGVkaXRvciwgaGFuZGxlcik6IHZvaWQge1xyXG4gICAgICAgIGVkaXRvci5jaGFuZ2UoaGFuZGxlcik7XHJcbiAgICAgICAgZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmZpZWxkJykuZmluZCgnLnRpbWUnKS5jaGFuZ2UoaGFuZGxlcik7XHJcbiAgICAgICAgZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmZpZWxkJykuZmluZCgnLmlucGxhY2Utbm93JykuY2xpY2soaGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldE1pbkRhdGUoZWRpdG9yOiBTZXJlbml0eS5EYXRlRWRpdG9yLCB2YWx1ZTogRGF0ZSk6IHZvaWQge1xyXG4gICAgICAgIGVkaXRvci5lbGVtZW50LmRhdGVwaWNrZXIoXCJvcHRpb25cIiwgXCJtaW5EYXRlXCIsIHZhbHVlKTtcclxuICAgICAgICBlZGl0b3Iuc2V0X21pbkRhdGUodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRNYXhEYXRlKGVkaXRvcjogU2VyZW5pdHkuRGF0ZUVkaXRvciwgdmFsdWU6IERhdGUpOiB2b2lkIHtcclxuICAgICAgICBlZGl0b3IuZWxlbWVudC5kYXRlcGlja2VyKFwib3B0aW9uXCIsIFwibWF4RGF0ZVwiLCB2YWx1ZSk7XHJcbiAgICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBsZXQgdG9tb3Jyb3cgPSB0b2RheS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDEpOyAvL3RvIGFsbG93IHNlbGVjdGlvbiBvZiB0b2RheSwgd2l0aG91dCB0aGlzIGxpbmUgdmFsaWRhdGlvbiBlcnJvciBpcyBvY2N1cmVkLiB3aHk/IG1heSBiZSBhIGJ1Z1xyXG4gICAgICAgIGVkaXRvci5zZXRfbWF4RGF0ZShuZXcgRGF0ZSh0b21vcnJvdykpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbml0RGF0ZVJhbmdlRWRpdG9yKGZyb21EYXRlRWRpdG9yOiBTZXJlbml0eS5EYXRlRWRpdG9yLCB0b0RhdGVFZGl0b3I6IFNlcmVuaXR5LkRhdGVFZGl0b3IsIG9uQ2hhbmdlSGFuZGxlcj86IChlOiBKUXVlcnlFdmVudE9iamVjdCkgPT4gdm9pZCk6IHZvaWQge1xyXG5cclxuICAgICAgICB2YXIgc3RhcnREYXRlVGV4dEJveCA9ICg8YW55PmZyb21EYXRlRWRpdG9yLmVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBlbmREYXRlVGV4dEJveCA9ICg8YW55PnRvRGF0ZUVkaXRvci5lbGVtZW50KTtcclxuXHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdvcHRpb24nLCAnb25DbG9zZScsIGZ1bmN0aW9uIChkYXRlVGV4dCwgaW5zdCkge1xyXG4gICAgICAgICAgICBpZiAoZW5kRGF0ZVRleHRCb3gudmFsKCkgIT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0U3RhcnREYXRlID0gc3RhcnREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdnZXREYXRlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdEVuZERhdGUgPSBlbmREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdnZXREYXRlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdFN0YXJ0RGF0ZSA+IHRlc3RFbmREYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ3NldERhdGUnLCB0ZXN0U3RhcnREYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVuZERhdGVUZXh0Qm94LnZhbChkYXRlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZW5kRGF0ZVRleHRCb3guZGF0ZXBpY2tlcignb3B0aW9uJywgJ21pbkRhdGUnLCBzdGFydERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ2dldERhdGUnKSk7XHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdvcHRpb24nLCAnb25TZWxlY3QnLCBmdW5jdGlvbiAoc2VsZWN0ZWREYXRlVGltZSkge1xyXG4gICAgICAgICAgICBlbmREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdvcHRpb24nLCAnbWluRGF0ZScsIHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXBpY2tlcignZ2V0RGF0ZScpKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGVuZERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ29wdGlvbicsICdvbkNsb3NlJywgZnVuY3Rpb24gKGRhdGVUZXh0LCBpbnN0KSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydERhdGVUZXh0Qm94LnZhbCgpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdFN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXBpY2tlcignZ2V0RGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RFbmREYXRlID0gZW5kRGF0ZVRleHRCb3guZGF0ZXBpY2tlcignZ2V0RGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlc3RTdGFydERhdGUgPiB0ZXN0RW5kRGF0ZSlcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ3NldERhdGUnLCB0ZXN0RW5kRGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGVUZXh0Qm94LnZhbChkYXRlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdvcHRpb24nLCAnbWF4RGF0ZScsIGVuZERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ2dldERhdGUnKSk7XHJcbiAgICAgICAgZW5kRGF0ZVRleHRCb3guZGF0ZXBpY2tlcignb3B0aW9uJywgJ29uU2VsZWN0JywgZnVuY3Rpb24gKHNlbGVjdGVkRGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRlcGlja2VyKCdvcHRpb24nLCAnbWF4RGF0ZScsIGVuZERhdGVUZXh0Qm94LmRhdGVwaWNrZXIoJ2dldERhdGUnKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvbkNoYW5nZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmcm9tRGF0ZUVkaXRvci5jaGFuZ2Uob25DaGFuZ2VIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b0RhdGVFZGl0b3IuY2hhbmdlKG9uQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdERhdGVUaW1lUmFuZ2VFZGl0b3IoZnJvbURhdGVUaW1lRWRpdG9yOiBfRXh0LkRhdGVUaW1lUGlja2VyRWRpdG9yLCB0b0RhdGVUaW1lRWRpdG9yOiBfRXh0LkRhdGVUaW1lUGlja2VyRWRpdG9yLCBvbkNoYW5nZUhhbmRsZXI/OiAoZTogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAvL2Zyb21EYXRlVGltZUVkaXRvci5kZXN0cm95KCk7XHJcbiAgICAgICAgLy90b0RhdGVUaW1lRWRpdG9yLmRlc3Ryb3koKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBzdGFydERhdGVUZXh0Qm94ID0gKDxhbnk+ZnJvbURhdGVUaW1lRWRpdG9yLmVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBlbmREYXRlVGV4dEJveCA9ICg8YW55PnRvRGF0ZVRpbWVFZGl0b3IuZWxlbWVudCk7XHJcblxyXG4gICAgICAgIC8vc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ3RpbWVGb3JtYXQnLCAnSEg6bW0geicpXHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ29uQ2xvc2UnLCBmdW5jdGlvbiAoZGF0ZVRleHQsIGluc3QpIHtcclxuICAgICAgICAgICAgaWYgKGVuZERhdGVUZXh0Qm94LnZhbCgpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdFN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ2dldERhdGUnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0RW5kRGF0ZSA9IGVuZERhdGVUZXh0Qm94LmRhdGV0aW1lcGlja2VyKCdnZXREYXRlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdFN0YXJ0RGF0ZSA+IHRlc3RFbmREYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGVUZXh0Qm94LmRhdGV0aW1lcGlja2VyKCdzZXREYXRlJywgdGVzdFN0YXJ0RGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbmREYXRlVGV4dEJveC52YWwoZGF0ZVRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVuZERhdGVUZXh0Qm94LmRhdGV0aW1lcGlja2VyKCdvcHRpb24nLCAnbWluRGF0ZScsIHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ2dldERhdGUnKSk7XHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ29uU2VsZWN0JywgZnVuY3Rpb24gKHNlbGVjdGVkRGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgZW5kRGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ29wdGlvbicsICdtaW5EYXRlJywgc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignZ2V0RGF0ZScpKTtcclxuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlSGFuZGxlcikgb25DaGFuZ2VIYW5kbGVyKHNlbGVjdGVkRGF0ZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy9lbmREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ3RpbWVGb3JtYXQnLCAnSEg6bW0geicpXHJcbiAgICAgICAgZW5kRGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ29wdGlvbicsICdvbkNsb3NlJywgZnVuY3Rpb24gKGRhdGVUZXh0LCBpbnN0KSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydERhdGVUZXh0Qm94LnZhbCgpICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdFN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ2dldERhdGUnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0RW5kRGF0ZSA9IGVuZERhdGVUZXh0Qm94LmRhdGV0aW1lcGlja2VyKCdnZXREYXRlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdFN0YXJ0RGF0ZSA+IHRlc3RFbmREYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRleHRCb3guZGF0ZXRpbWVwaWNrZXIoJ3NldERhdGUnLCB0ZXN0RW5kRGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGVUZXh0Qm94LnZhbChkYXRlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ21heERhdGUnLCBlbmREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignZ2V0RGF0ZScpKTtcclxuICAgICAgICBlbmREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ29uU2VsZWN0JywgZnVuY3Rpb24gKHNlbGVjdGVkRGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgc3RhcnREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignb3B0aW9uJywgJ21heERhdGUnLCBlbmREYXRlVGV4dEJveC5kYXRldGltZXBpY2tlcignZ2V0RGF0ZScpKTtcclxuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlSGFuZGxlcikgb25DaGFuZ2VIYW5kbGVyKHNlbGVjdGVkRGF0ZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZShkOiBEYXRlIHwgc3RyaW5nLCBmb3JtYXQ/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRhdGU6IERhdGU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIHJlcyA9IFEucGFyc2VEYXRlKGQpO1xyXG4gICAgICAgICAgICBpZiAoIXJlcylcclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICBkYXRlID0gcmVzIGFzIERhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZGF0ZSA9IGQ7XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXQgPT0gbnVsbCB8fCBmb3JtYXQgPT0gXCJkXCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0ID0gUS5DdWx0dXJlLmRhdGVGb3JtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImdcIjogZm9ybWF0ID0gUS5DdWx0dXJlLmRhdGVUaW1lRm9ybWF0LnJlcGxhY2UoXCI6c3NcIiwgXCJcIik7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkdcIjogZm9ybWF0ID0gUS5DdWx0dXJlLmRhdGVUaW1lRm9ybWF0OyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6IGZvcm1hdCA9IFwieXl5eS1NTS1kZFRISDptbTpzc1wiOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1XCI6IHJldHVybiBRLmZvcm1hdElTT0RhdGVUaW1lVVRDKGRhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGFkID0gZnVuY3Rpb24gKGk6IG51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gUS56ZXJvUGFkKGksIDIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZShuZXcgUmVnRXhwKCdkZD9kP2Q/fE1NP00/TT98eXk/eT95P3xoaD98SEg/fG1tP3xzcz98dHQ/fGZmZnx6ej96P3xcXFxcLycsICdnJyksXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChmbXQpOiBhbnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheXMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhzID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChmbXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICcvJzogcmV0dXJuIFEuQ3VsdHVyZS5kYXRlU2VwYXJhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hoJzogcmV0dXJuIHBhZCgoKGRhdGUuZ2V0SG91cnMoKSA8IDEzKSA/IGRhdGUuZ2V0SG91cnMoKSA6IChkYXRlLmdldEhvdXJzKCkgLSAxMikpKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdoJzogcmV0dXJuICgoZGF0ZS5nZXRIb3VycygpIDwgMTMpID8gZGF0ZS5nZXRIb3VycygpIDogKGRhdGUuZ2V0SG91cnMoKSAtIDEyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSEgnOiByZXR1cm4gcGFkKGRhdGUuZ2V0SG91cnMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW0nOiByZXR1cm4gcGFkKGRhdGUuZ2V0TWludXRlcygpKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtJzogcmV0dXJuIGRhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NzJzogcmV0dXJuIHBhZChkYXRlLmdldFNlY29uZHMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncyc6IHJldHVybiBkYXRlLmdldFNlY29uZHMoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5JzogcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd5eSc6IHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGRkZCc6IHJldHVybiBkYXlzW2RhdGUuZ2V0RGF5KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RkZCc6IHJldHVybiBkYXlzW2RhdGUuZ2V0RGF5KCldLnN1YnN0cigwLCAzKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZCc6IHJldHVybiBwYWQoZGF0ZS5nZXREYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2QnOiByZXR1cm4gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdNTU1NJzogcmV0dXJuIG1vbnRoc1tkYXRlLmdldE1vbnRoKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01NTSc6IHJldHVybiBtb250aHNbZGF0ZS5nZXRNb250aCgpXS5zdWJzdHIoMCwgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTU0nOiByZXR1cm4gcGFkKGRhdGUuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ00nOiByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0JzogcmV0dXJuICgoZGF0ZS5nZXRIb3VycygpIDwgMTIpID8gJ0EnIDogJ1AnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0dCc6IHJldHVybiAoKGRhdGUuZ2V0SG91cnMoKSA8IDEyKSA/ICdBTScgOiAnUE0nKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmZmYnOiByZXR1cm4gUS56ZXJvUGFkKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCksIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3p6eic6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnenonOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3onOiByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZtdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIlxyXG5uYW1lc3BhY2UgcSB7XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGluaXREZXRhaWxFZGl0b3IoZGlhbG9nOiBfRXh0LkRpYWxvZ0Jhc2U8YW55LCBhbnk+LCBlZGl0b3I6IF9FeHQuR3JpZEVkaXRvckJhc2U8YW55Piwgb3B0aW9uczogRXh0R3JpZEVkaXRvck9wdGlvbnMgPSB7fSk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5zaG93Q2FwdGlvbiAhPSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbGVtZW50LnNpYmxpbmdzKCcuY2FwdGlvbicpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGlkZVRvb2xiYXIgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3IuZWxlbWVudC5maW5kKCcuZ3JpZC10b29sYmFyJykuaGlkZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLmlzUmVhZE9ubHkgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3Iuc2V0X3JlYWRPbmx5KG9wdGlvbnMuaXNSZWFkT25seSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVkaXRvci5wYXJlbnREaWFsb2cgPSBkaWFsb2c7XHJcblxyXG4gICAgICAgIGRpYWxvZy5vbkFmdGVyU2V0RGlhbG9nU2l6ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0ICRncmlkQ29udGFpbmVyID0gZWRpdG9yLmVsZW1lbnQuZmluZCgnLmdyaWQtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvci5zbGlja0dyaWQuc2V0T3B0aW9ucyh7IGF1dG9IZWlnaHQ6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgJGdyaWRDb250YWluZXIuaGVpZ2h0KG9wdGlvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9wID0gJGdyaWRDb250YWluZXIucG9zaXRpb24oKS50b3A7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGlhbG9nLmVsZW1lbnQuaW5uZXJIZWlnaHQoKSAtIHRvcCAtIDQwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgPiAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgJGdyaWRDb250YWluZXIuaGVpZ2h0KGhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgJGdyaWRDb250YWluZXIud2lkdGgob3B0aW9ucy53aWR0aCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlZGl0b3Iuc2xpY2tHcmlkLnJlc2l6ZUNhbnZhcygpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRHcmlkRWRpdG9ySGVpZ2h0KGVkaXRvcjogSlF1ZXJ5LCBoZWlnaHRJblB4OiBudW1iZXIpIHtcclxuICAgICAgICBlZGl0b3IuY3NzKCdoZWlnaHQnLCBoZWlnaHRJblB4ICsgJ3B4Jyk7XHJcbiAgICAgICAgZWRpdG9yLmZpbmQoJy5ncmlkLWNvbnRhaW5lcicpXHJcbiAgICAgICAgICAgIC5jc3MoJ2hlaWdodCcsIChoZWlnaHRJblB4IC0gMjUpICsgJ3B4JylcclxuICAgICAgICAgICAgLmhlaWdodChoZWlnaHRJblB4KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gYWRkTm90aWZpY2F0aW9uSWNvbihlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCBpc1N1Y2Nlc3M6IGJvb2xlYW4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IGlzQWRkT25Jbml0aWFsaXplZCA9IGVkaXRvci5lbGVtZW50LmRhdGEoJ2lzQWRkT25Jbml0aWFsaXplZCcpO1xyXG5cclxuICAgICAgICBpZiAoaXNBZGRPbkluaXRpYWxpemVkICE9IHRydWUpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmVsZW1lbnQuYWZ0ZXIoJzxzcGFuIGNsYXNzPVwidGV4dCB0ZXh0LWRhbmdlclwiIHN0eWxlPVwicGFkZGluZzozcHhcIj48aSBjbGFzcz1cImZhIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj4nKTtcclxuICAgICAgICAgICAgZWRpdG9yLmVsZW1lbnQuZGF0YSgnaXNBZGRPbkluaXRpYWxpemVkJywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNTdWNjZXNzID09IHRydWUpIHtcclxuICAgICAgICAgICAgZWRpdG9yLmVsZW1lbnQuc3dpdGNoQ2xhc3MoJ2JnLWRhbmdlcicsICdiZy1zdWNjZXNzJylcclxuICAgICAgICAgICAgICAgIC5zaWJsaW5ncygnLnRleHQnKS5zd2l0Y2hDbGFzcygndGV4dC1kYW5nZXInLCAndGV4dC1zdWNjZXNzJylcclxuICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpLnN3aXRjaENsYXNzKCdmYS10aW1lcycsICdmYS1jaGVjaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5lbGVtZW50LnN3aXRjaENsYXNzKCdiZy1zdWNjZXNzJywgJ2JnLWRhbmdlcicpXHJcbiAgICAgICAgICAgICAgICAuc2libGluZ3MoJy50ZXh0Jykuc3dpdGNoQ2xhc3MoJ3RleHQtc3VjY2VzcycsICd0ZXh0LWRhbmdlcicpXHJcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKS5zd2l0Y2hDbGFzcygnZmEtY2hlY2snLCAnZmEtdGltZXMnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRQb3BvdmVySWNvbihlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCBpc1N1Y2Nlc3M6IGJvb2xlYW4sIHBvcG92ZXJPcHRpb25zOiBhbnkpOiB2b2lkIHsgLy8gcG9wb3Zlck9wdGlvbnM6IEJvb3RzdHJhcC5Qb3BvdmVyT3B0aW9uc1xyXG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbkljb24oZWRpdG9yLCBpc1N1Y2Nlc3MpO1xyXG5cclxuICAgICAgICAvLyhlZGl0b3IuZWxlbWVudCBhcyBhbnkpLnBvcG92ZXIoJ2Rlc3Ryb3knKTtcclxuICAgICAgICAoZWRpdG9yLmVsZW1lbnQuc2libGluZ3MoJy50ZXh0JykgYXMgYW55KS5wb3BvdmVyKCdkZXN0cm95Jyk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoaCA9PiB7XHJcbiAgICAgICAgICAgIC8vKGVkaXRvci5lbGVtZW50IGFzIGFueSkucG9wb3Zlcihwb3BvdmVyT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIChlZGl0b3IuZWxlbWVudC5zaWJsaW5ncygnLnRleHQnKSBhcyBhbnkpXHJcbiAgICAgICAgICAgICAgICAucG9wb3Zlcihwb3BvdmVyT3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC5vbihcInNob3cuYnMucG9wb3ZlclwiLCBmdW5jdGlvbiAoKSB7ICQodGhpcykuZGF0YShcImJzLnBvcG92ZXJcIikudGlwKCkuY3NzKFwid2lkdGhcIiwgXCI2MDBweFwiKTsgfSk7O1xyXG4gICAgICAgIH0sIDEwMClcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldEVkaXRvckxhYmVsKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgZWRpdG9yLmVsZW1lbnQuc2libGluZ3MoJ2xhYmVsJykudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhpZGVFZGl0b3JMYWJlbChlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+KSB7XHJcblxyXG4gICAgICAgIGVkaXRvci5lbGVtZW50LnNpYmxpbmdzKCdsYWJlbCcpLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0RWRpdG9yQ2F0ZWdvcnlMYWJlbChlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCB2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5QW5jaG9yID0gZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmNhdGVnb3J5JykuZmluZCgnLmNhdGVnb3J5LWFuY2hvcicpO1xyXG4gICAgICAgIGNhdGVnb3J5QW5jaG9yLnRleHQodmFsdWUpO1xyXG5cclxuICAgICAgICBsZXQgY2F0ZWdvcnlBbmNob3JOYW1lID0gY2F0ZWdvcnlBbmNob3IuYXR0cignbmFtZScpO1xyXG4gICAgICAgIGNhdGVnb3J5QW5jaG9yLmNsb3Nlc3QoJy5zLVByb3BlcnR5R3JpZCcpLmZpbmQoYGFbaHJlZj0nIyR7Y2F0ZWdvcnlBbmNob3JOYW1lfSddYCkudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhpZGVFZGl0b3JDYXRlZ29yeShlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCB2YWx1ZTogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmNhdGVnb3J5JykuaGlkZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmNhdGVnb3J5Jykuc2hvdygpO1xyXG5cclxuICAgICAgICBsZXQgY2F0ZWdvcnlBbmNob3IgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcuY2F0ZWdvcnknKS5maW5kKCcuY2F0ZWdvcnktYW5jaG9yJyk7XHJcblxyXG4gICAgICAgIGxldCBjYXRlZ29yeUFuY2hvck5hbWUgPSBjYXRlZ29yeUFuY2hvci5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IHRydWUpXHJcbiAgICAgICAgICAgIGNhdGVnb3J5QW5jaG9yLmNsb3Nlc3QoJy5zLVByb3BlcnR5R3JpZCcpLmZpbmQoYGFbaHJlZj0nIyR7Y2F0ZWdvcnlBbmNob3JOYW1lfSddYCkuaGlkZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY2F0ZWdvcnlBbmNob3IuY2xvc2VzdCgnLnMtUHJvcGVydHlHcmlkJykuZmluZChgYVtocmVmPScjJHtjYXRlZ29yeUFuY2hvck5hbWV9J11gKS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhpZGVDYXRlZ29yaWVzKGNvbnRhaW5lckVsZW1lbnQ6IEpRdWVyeSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IHRydWUpXHJcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuZmluZCgnLmNhdGVnb3J5JykuaGlkZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5maW5kKCcuY2F0ZWdvcnknKS5zaG93KCk7XHJcblxyXG4gICAgICAgIGxldCBjYXRlZ29yeUFuY2hvciA9IGNvbnRhaW5lckVsZW1lbnQuZmluZCgnLmNhdGVnb3J5JykuZmluZCgnLmNhdGVnb3J5LWFuY2hvcicpO1xyXG5cclxuICAgICAgICBsZXQgY2F0ZWdvcnlBbmNob3JOYW1lID0gY2F0ZWdvcnlBbmNob3IuYXR0cignbmFtZScpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKVxyXG4gICAgICAgICAgICBjYXRlZ29yeUFuY2hvci5jbG9zZXN0KCcucy1Qcm9wZXJ0eUdyaWQnKS5maW5kKGBhW2hyZWY9JyMke2NhdGVnb3J5QW5jaG9yTmFtZX0nXWApLmhpZGUoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGNhdGVnb3J5QW5jaG9yLmNsb3Nlc3QoJy5zLVByb3BlcnR5R3JpZCcpLmZpbmQoYGFbaHJlZj0nIyR7Y2F0ZWdvcnlBbmNob3JOYW1lfSddYCkuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoaWRlRmllbGRzKGNvbnRhaW5lckVsZW1lbnQ6IEpRdWVyeSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IHRydWUpXHJcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuZmluZCgnLmZpZWxkJykuaGlkZSgpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5maW5kKCcuZmllbGQnKS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGhpZGVGaWVsZHNBbmRDYXRlZ29yaWVzKGNvbnRhaW5lckVsZW1lbnQ6IEpRdWVyeSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgaGlkZUZpZWxkcyhjb250YWluZXJFbGVtZW50KTtcclxuICAgICAgICBoaWRlQ2F0ZWdvcmllcyhjb250YWluZXJFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaGlkZUZpZWxkKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmIChlZGl0b3IpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcuZmllbGQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy5maWVsZCcpLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2hvd0ZpZWxkKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmIChlZGl0b3IpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcuZmllbGQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy5maWVsZCcpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNob3dBbmRFbmFibGVGaWVsZChlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+KSB7XHJcbiAgICAgICAgcS5zaG93RmllbGQoZWRpdG9yKTtcclxuICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRSZWFkT25seShlZGl0b3IsIGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNob3dGaWVsZEFuZENhdGVnb3J5KGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIHNob3dGaWVsZChlZGl0b3IsIHZhbHVlKTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgaGlkZUVkaXRvckNhdGVnb3J5KGVkaXRvciwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBoaWRlRWRpdG9yVGFiKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXQgdGFiSWQgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcudGFiLXBhbmUnKS5oaWRlKCkuYXR0cignaWQnKTtcclxuICAgICAgICAgICAgbGV0IHRhYkFuY2hvciA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy5zLVByb3BlcnR5R3JpZCcpLmZpbmQoYGFbaHJlZj0nIyR7dGFiSWR9J11gKTtcclxuICAgICAgICAgICAgdGFiQW5jaG9yLmNsb3Nlc3QoJ2xpJykuaGlkZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0YWJJZCA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy50YWItcGFuZScpLnNob3coKS5hdHRyKCdpZCcpO1xyXG4gICAgICAgICAgICBsZXQgdGFiQW5jaG9yID0gZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLnMtUHJvcGVydHlHcmlkJykuZmluZChgYVtocmVmPScjJHt0YWJJZH0nXWApO1xyXG4gICAgICAgICAgICB0YWJBbmNob3IuY2xvc2VzdCgnbGknKS5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlRWRpdG9yVGFiKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCB0YWJJZCA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy50YWItcGFuZScpLmF0dHIoJ2lkJyk7XHJcblxyXG4gICAgICAgIGxldCB0YWJBbmNob3IgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcucy1Qcm9wZXJ0eUdyaWQnKS5maW5kKGBhW2hyZWY9JyMke3RhYklkfSddYCk7XHJcbiAgICAgICAgbGV0IHRhYkxpID0gdGFiQW5jaG9yLmNsb3Nlc3QoJ2xpJyk7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRhYkFuY2hvci5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRhYkxpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJykucHJlcGVuZChgPGEgY2xhc3M9XCJkaXNhYmxlZFwiPiR7dGFiQW5jaG9yLnRleHQoKX08L2xhYmVsPmApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRhYkFuY2hvci5zaG93KCk7XHJcbiAgICAgICAgICAgIHRhYkxpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJykuZmluZCgnLmRpc2FibGVkJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRPbmx5RWRpdG9yVGFiKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCAkZWRpdG9ycyA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy50YWItcGFuZScpLmZpbmQoJy5lZGl0b3InKTtcclxuXHJcbiAgICAgICAgU2VyZW5pdHkuRWRpdG9yVXRpbHMuc2V0UmVhZG9ubHkoJGVkaXRvcnMsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVhZE9ubHlFZGl0b3JDYXRlZ29yeShlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCB2YWx1ZTogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgICAgICBsZXQgJGVkaXRvcnMgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcuY2F0ZWdvcnknKS5maW5kKCcuZWRpdG9yJyk7XHJcblxyXG4gICAgICAgIFNlcmVuaXR5LkVkaXRvclV0aWxzLnNldFJlYWRvbmx5KCRlZGl0b3JzLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVhZG9ubHlFZGl0b3JDYXRlZ29yeSgkZWRpdG9yOiBKUXVlcnksIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCAkZWRpdG9ycyA9ICRlZGl0b3IuY2xvc2VzdCgnLmNhdGVnb3J5JykuZmluZCgnLmVkaXRvcicpO1xyXG4gICAgICAgIFNlcmVuaXR5LkVkaXRvclV0aWxzLnNldFJlYWRvbmx5KCRlZGl0b3JzLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRPbmx5RWRpdG9yUHJvcGVydHlHcmlkKGVkaXRvcjogU2VyZW5pdHkuV2lkZ2V0PGFueT4sIHZhbHVlOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCAkZWRpdG9ycyA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy5zLVByb3BlcnR5R3JpZCcpLmZpbmQoJy5lZGl0b3InKTtcclxuICAgICAgICBTZXJlbml0eS5FZGl0b3JVdGlscy5zZXRSZWFkb25seSgkZWRpdG9ycywgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5RWRpdG9yUHJvcGVydHlHcmlkKCRlZGl0b3I6IEpRdWVyeSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgbGV0ICRlZGl0b3JzID0gJGVkaXRvci5jbG9zZXN0KCcucy1Qcm9wZXJ0eUdyaWQnKS5maW5kKCcuZWRpdG9yJyk7XHJcbiAgICAgICAgU2VyZW5pdHkuRWRpdG9yVXRpbHMuc2V0UmVhZG9ubHkoJGVkaXRvcnMsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmVhZE9ubHlFZGl0b3IoZWRpdG9yOiBTZXJlbml0eS5XaWRnZXQ8YW55PiwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgU2VyZW5pdHkuRWRpdG9yVXRpbHMuc2V0UmVhZE9ubHkoZWRpdG9yLCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5RWRpdG9yKCRlZGl0b3I6IEpRdWVyeSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgU2VyZW5pdHkuRWRpdG9yVXRpbHMuc2V0UmVhZG9ubHkoJGVkaXRvciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtb3ZlRWRpdG9yRnJvbVRhYihlZGl0b3I6IFNlcmVuaXR5LldpZGdldDxhbnk+LCB0b0VsZW1lbnQ6IEpRdWVyeSwgaXNQcmVwZW5kID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgZmllbGREaXYgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcuZmllbGQnKTtcclxuXHJcbiAgICAgICAgaWYgKGlzUHJlcGVuZCA9PSB0cnVlKVxyXG4gICAgICAgICAgICBmaWVsZERpdi5wcmVwZW5kVG8odG9FbGVtZW50KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGZpZWxkRGl2LmFwcGVuZFRvKHRvRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG1vdmVFZGl0b3JDYXRlZ29yeUZyb21UYWIoZWRpdG9yOiBTZXJlbml0eS5XaWRnZXQ8YW55PiwgdG9FbGVtZW50OiBKUXVlcnksIGlzUHJlcGVuZCA9IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGZpZWxkRGl2ID0gZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmZpZWxkJyk7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5RGl2ID0gZWRpdG9yLmVsZW1lbnQuY2xvc2VzdCgnLmNhdGVnb3J5Jyk7XHJcblxyXG4gICAgICAgIGlmIChpc1ByZXBlbmQgPT0gdHJ1ZSlcclxuICAgICAgICAgICAgY2F0ZWdvcnlEaXYucHJlcGVuZFRvKHRvRWxlbWVudCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBjYXRlZ29yeURpdi5hcHBlbmRUbyh0b0VsZW1lbnQpO1xyXG5cclxuICAgICAgICAvL2hpZGUgY2F0ZWdvcnkgbmF2aWdhdGlvbiBsaW5rXHJcbiAgICAgICAgbGV0IGNhdGVnb3J5QW5jaG9yID0gY2F0ZWdvcnlEaXYuZmluZCgnLmNhdGVnb3J5LWFuY2hvcicpO1xyXG4gICAgICAgIGxldCBjYXRlZ29yeUFuY2hvck5hbWUgPSBjYXRlZ29yeUFuY2hvci5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgY2F0ZWdvcnlBbmNob3IuY2xvc2VzdCgnLnMtUHJvcGVydHlHcmlkJykuZmluZChgYVtocmVmPScjJHtjYXRlZ29yeUFuY2hvck5hbWV9J11gKS5oaWRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZWxlY3RFZGl0b3JUYWIoZWRpdG9yOiBTZXJlbml0eS5XaWRnZXQ8YW55Pikge1xyXG4gICAgICAgIGxldCB0YWJJZCA9IGVkaXRvci5lbGVtZW50LmNsb3Nlc3QoJy50YWItcGFuZScpLmF0dHIoJ2lkJyk7XHJcblxyXG4gICAgICAgIGxldCB0YWJBbmNob3IgPSBlZGl0b3IuZWxlbWVudC5jbG9zZXN0KCcucy1Qcm9wZXJ0eUdyaWQnKS5maW5kKGBhW2hyZWY9JyMke3RhYklkfSddYCk7XHJcblxyXG4gICAgICAgICh0YWJBbmNob3IgYXMgYW55KS50YWIoJ3Nob3cnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmb3Igc2VsZWN0MiBsb29rdXAgZWRpdG9yXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRSb3c8VFJvdz4oZTogSlF1ZXJ5RXZlbnRPYmplY3QpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRJdGVtOiBTZXJlbml0eS5TZWxlY3QySXRlbSA9IChlIGFzIGFueSkuYWRkZWQ7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkUm93OiBUUm93ID0gc2VsZWN0ZWRJdGVtLnNvdXJjZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkUm93O1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJcclxubmFtZXNwYWNlIHEge1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRFbnVtVGV4dChlbnVtVHlwZU9yS2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBlbnVtS2V5ID0gZW51bVR5cGVPcktleS5fX3R5cGVOYW1lID8gZW51bVR5cGVPcktleS5fX3R5cGVOYW1lIDogZW51bVR5cGVPcktleTtcclxuICAgICAgICBsZXQgdGl0bGUgPSBTZXJlbml0eS5FbnVtRm9ybWF0dGVyLmZvcm1hdChTZXJlbml0eS5FbnVtVHlwZVJlZ2lzdHJ5LmdldChlbnVtS2V5KSwgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aXRsZTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gIWlzTmFOKE51bWJlcih2YWx1ZSkpXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldEVudW1WYWx1ZXMoZW51bVR5cGUpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gaW4gZW51bVR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHEuaXNOdW1iZXIoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goTnVtYmVyKGl0ZW0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRFbnVtS2V5cyhlbnVtVHlwZSk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gcS5nZXRFbnVtVmFsdWVzKGVudW1UeXBlKS5tYXAobSA9PiBlbnVtVHlwZVttXSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm5hbWVzcGFjZSBxIHtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiB0ZXh0KGtleTogc3RyaW5nLCBmYWxsYmFjazogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gUS50ZXh0KGtleSk7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQgPT0ga2V5KSByZXR1cm4gZmFsbGJhY2s7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpc0Nvc21pY1RoZW1lQXBwbGllZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUuaW5kZXhPZignY29zbWljJykgPj0gMDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRMYW5ndWFnZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHZhciBsYW5nID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdMYW5ndWFnZVNlbGVjdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50KS52YWx1ZSB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmdldEF0dHJpYnV0ZSgnbGFuZycpO1xyXG4gICAgICAgIHJldHVybiBsYW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBmb3JtYXREZWNpbWFsKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IHRpdGxlID0gU2VyZW5pdHkuTnVtYmVyRm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSwgJyMsIyMwLjAwJyk7XHJcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBmb3JtYXRJbnQodmFsdWUpIHtcclxuICAgICAgICBsZXQgdGl0bGUgPSBTZXJlbml0eS5OdW1iZXJGb3JtYXR0ZXIuZm9ybWF0KHZhbHVlLCAnIywjIzAnKTtcclxuICAgICAgICByZXR1cm4gdGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgbnVtZXJpYyBvciBub3QgdGhlbiByZXR1cm4gdmFsdWUsIGlmIE5BTiB0aGVuIHJldHVybiB6ZXJvKDApXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gVG9OdW1iZXIodmFsdWUpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBpc05hTih2YWx1ZSkgPyAwIDogdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIFRvRml4ZWQodmFsdWUsIGZyYWN0aW9uRGlnaXRzID0gMik6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFRvTnVtYmVyKHZhbHVlKS50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gVG9Cb29sKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL2NvbG9yRGVwdGggc2hvdWxkIGJlIHdpdGhpbiAnMDEyMzQ1Njc4OUFCQ0RFRidcclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Db2xvcihoZXhMZXR0ZXJzKSB7XHJcbiAgICAgICAgdmFyIGxldHRlcnMgPSBoZXhMZXR0ZXJzLy8gJzAxMjM0NTY3ODlBQkNERUYnO1xyXG5cclxuICAgICAgICB2YXIgY29sb3IgPSAnIyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGxldHRlckluZGV4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSkgKiBsZXR0ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmIChsZXR0ZXJJbmRleCA+IDE1KSBsZXR0ZXJJbmRleCA9IDE1O1xyXG4gICAgICAgICAgICBpZiAobGV0dGVySW5kZXggPCAwKSBsZXR0ZXJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGNvbG9yICs9IGxldHRlcnNbbGV0dGVySW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iXX0=